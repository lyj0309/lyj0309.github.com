<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>ASP NET CORE jwt认证 - FAKEV</title><meta name=author content="lyj: https://github.com/lyj0309">
<meta name=description content="区分鉴权（Authentication）和授权（Authorization） 鉴权（Authentication） 简单来说，鉴权就是判断是不是">
<meta name=keywords content="FAKEV,go,lyj"><meta itemprop=name content="ASP NET CORE jwt认证">
<meta itemprop=description content="区分鉴权（Authentication）和授权（Authorization） 鉴权（Authentication） 简单来说，鉴权就是判断是不是"><meta itemprop=datePublished content="2022-07-22T11:48:10+08:00">
<meta itemprop=dateModified content="2022-07-22T11:48:10+08:00">
<meta itemprop=wordCount content="578">
<meta itemprop=keywords content><meta property="og:title" content="ASP NET CORE jwt认证">
<meta property="og:description" content="区分鉴权（Authentication）和授权（Authorization） 鉴权（Authentication） 简单来说，鉴权就是判断是不是">
<meta property="og:type" content="article">
<meta property="og:url" content="https://fakev.cn/posts/dotnet/aspnetcore_jwt/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-07-22T11:48:10+08:00">
<meta property="article:modified_time" content="2022-07-22T11:48:10+08:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="ASP NET CORE jwt认证">
<meta name=twitter:description content="区分鉴权（Authentication）和授权（Authorization） 鉴权（Authentication） 简单来说，鉴权就是判断是不是">
<meta name=application-name content="FAKEV">
<meta name=apple-mobile-web-app-title content="FAKEV"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=canonical href=https://fakev.cn/posts/dotnet/aspnetcore_jwt/><link rel=prev href=https://fakev.cn/posts/dotnet/charp%E4%B9%8B%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5di/><link rel=next href=https://fakev.cn/posts/dotnet/csharp%E5%A7%94%E6%89%98/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"ASP NET CORE jwt认证","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/fakev.cn\/posts\/dotnet\/aspnetcore_jwt\/"},"genre":"posts","wordcount":578,"url":"https:\/\/fakev.cn\/posts\/dotnet\/aspnetcore_jwt\/","datePublished":"2022-07-22T11:48:10+08:00","dateModified":"2022-07-22T11:48:10+08:00","publisher":{"@type":"Organization","name":"lyj"},"author":{"@type":"Person","name":"lyj"},"description":""}</script></head>
<body header-desktop header-mobile><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=FAKEV><span class=header-title-text>FAKEV</span></a></div>
<nav>
<ul class=menu><li class=menu-item>
<a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item>
<a class=menu-link href=/tags/>标签</a></li><li class=menu-item>
<a class=menu-link href=/categories/>分类</a></li><li class=menu-item>
<a class=menu-link href=/about/>关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop>
<input type=text placeholder="搜索文章标题或内容 ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</li><li class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</li>
</ul>
</nav><a href=https://github.com/lyj0309 title="Follow me on GitHub" target=_blank rel="external nofollow noopener noreffer" class=github-corner><svg width="56" height="56" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a></div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title=FAKEV><span class=header-title-text>FAKEV</span></a></div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<nav>
<ul class=menu id=menu-mobile><li class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder="搜索文章标题或内容 ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
取消
</a>
</li><li class=menu-item><a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item><a class=menu-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/about/>关于</a></li><li class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i>
</li></ul>
</nav>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=container page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>目录</h2>
<div class=toc-content id=toc-content-auto></div></aside>
<aside class=aside-custom>
</aside>
<article class="page single"><h1 class="single-title animate__animated animate__flipInX">ASP NET CORE jwt认证</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://github.com/lyj0309 title=Author target=_blank rel="external nofollow noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>
lyj</a></span></div>
<div class=post-meta-line><span title="2022-07-22 11:48:10">
<i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-07-22>2022-07-22</time>
</span>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 578 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 2 分钟&nbsp;<span id=/posts/dotnet/aspnetcore_jwt/ class=leancloud_visitors data-flag-title="ASP NET CORE jwt认证">
<i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count>-</span>&nbsp;次阅读
</span>&nbsp;</div>
</div><div class="details toc" id=toc-static kept=false>
<div class="details-summary toc-title">
<span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#区分鉴权authentication和授权authorization>区分鉴权（Authentication）和授权（Authorization）</a>
<ul>
<li><a href=#鉴权authentication>鉴权（Authentication）</a></li>
<li><a href=#授权authorization>授权（Authorization）</a></li>
</ul>
</li>
<li><a href=#jwt结构>jwt结构</a></li>
<li><a href=#认证流程>认证流程</a></li>
<li><a href=#配置中间件和依赖注入>配置中间件和依赖注入</a>
<ul>
<li><a href=#配置文件model>配置文件&model</a></li>
<li><a href=#programcs>Program.cs</a></li>
</ul>
</li>
<li><a href=#授权>授权</a>
<ul>
<li><a href=#基于角色role的授权>基于角色（Role）的授权</a></li>
</ul>
</li>
</ul>
</nav></div>
</div><div class=content id=content><h2 id=区分鉴权authentication和授权authorization>区分鉴权（Authentication）和授权（Authorization）</h2>
<h3 id=鉴权authentication>鉴权（Authentication）</h3>
<p>简单来说，鉴权就是判断是不是你这个人，比如就现实而言，就像你可以用人脸，指纹或者身份证来证明你就是你，在一般系统中，有很多种鉴权方式，比如cookie,jwt,openid还有一些第三方认证比如qq登录，微信登录</p>
<h3 id=授权authorization>授权（Authorization）</h3>
<p>现在已经知道你就是你了，然后要看你能不能用这个接口，比如你是员工，但是你能调用管理员的接口，这是会乱套的</p>
<h2 id=jwt结构>jwt结构</h2>
<p><img class=lazyload src=/svg/loading.min.svg data-src=http://tva1.sinaimg.cn/large/008rgIcAly1h4foz4dp87j30qi0fhdgs.jpg data-srcset="http://tva1.sinaimg.cn/large/008rgIcAly1h4foz4dp87j30qi0fhdgs.jpg, http://tva1.sinaimg.cn/large/008rgIcAly1h4foz4dp87j30qi0fhdgs.jpg 1.5x, http://tva1.sinaimg.cn/large/008rgIcAly1h4foz4dp87j30qi0fhdgs.jpg 2x" data-sizes=auto alt=http://tva1.sinaimg.cn/large/008rgIcAly1h4foz4dp87j30qi0fhdgs.jpg title=image.png></p>
<h2 id=认证流程>认证流程</h2>
<p><img class=lazyload src=/svg/loading.min.svg data-src=http://tva1.sinaimg.cn/large/008rgIcAly1h4fpfysoezj30co09v756.jpg data-srcset="http://tva1.sinaimg.cn/large/008rgIcAly1h4fpfysoezj30co09v756.jpg, http://tva1.sinaimg.cn/large/008rgIcAly1h4fpfysoezj30co09v756.jpg 1.5x, http://tva1.sinaimg.cn/large/008rgIcAly1h4fpfysoezj30co09v756.jpg 2x" data-sizes=auto alt=http://tva1.sinaimg.cn/large/008rgIcAly1h4fpfysoezj30co09v756.jpg title=image.png></p>
<h2 id=配置中间件和依赖注入>配置中间件和依赖注入</h2>
<h3 id=配置文件model>配置文件&model</h3>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=k>namespace</span> <span class=nn>JwtAuthSample</span>
<span class=p>{</span>
    <span class=k>public</span> <span class=k>class</span> <span class=nc>JwtSettings</span>
    <span class=p>{</span>
        <span class=c1>// token颁发者
</span><span class=c1></span>        <span class=k>public</span> <span class=kt>string</span> <span class=n>Issure</span><span class=p>{</span><span class=k>get</span><span class=p>;</span><span class=k>set</span><span class=p>;}</span>
        <span class=c1>// token使用的客户端
</span><span class=c1></span>        <span class=k>public</span> <span class=kt>string</span> <span class=n>Audience</span><span class=p>{</span><span class=k>get</span><span class=p>;</span><span class=k>set</span><span class=p>;}</span>
        <span class=c1>// 加密Key
</span><span class=c1></span>        <span class=k>public</span> <span class=kt>string</span> <span class=n>SecretKey</span><span class=p>=</span><span class=s>&#34;hellokey&#34;</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>{</span>
  <span class=nt>&#34;Logging&#34;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&#34;LogLevel&#34;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&#34;Default&#34;</span><span class=p>:</span> <span class=s2>&#34;Warning&#34;</span>
    <span class=p>}</span>
  <span class=p>},</span>
  <span class=nt>&#34;AllowedHosts&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span><span class=p>,</span>
  <span class=nt>&#34;JwtSettings&#34;</span><span class=p>:{</span>
    <span class=nt>&#34;Audience&#34;</span><span class=p>:</span><span class=s2>&#34;http://localhost:5000&#34;</span><span class=p>,</span>
    <span class=nt>&#34;Issuer&#34;</span><span class=p>:</span><span class=s2>&#34;http://localhost:5000&#34;</span><span class=p>,</span>
    <span class=nt>&#34;SecretKey&#34;</span><span class=p>:</span><span class=s2>&#34;Hello-key&#34;</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h3 id=programcs>Program.cs</h3>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs> <span class=c1>// 添加在services.AddMvc()之前
</span><span class=c1></span>            <span class=n>services</span><span class=p>.</span><span class=n>Configure</span><span class=p>&lt;</span><span class=n>JwtSettings</span><span class=p>&gt;(</span><span class=n>Configuration</span><span class=p>);</span>
            <span class=kt>var</span> <span class=n>JwtSettings</span> <span class=p>=</span> <span class=k>new</span> <span class=n>JwtSettings</span><span class=p>();</span>
            <span class=n>Configuration</span><span class=p>.</span><span class=n>Bind</span><span class=p>(</span><span class=s>&#34;JwtSettings&#34;</span><span class=p>,</span><span class=n>JwtSettings</span><span class=p>);</span>
            <span class=c1>// 认证MiddleWare配置
</span><span class=c1></span>            <span class=n>services</span><span class=p>.</span><span class=n>AddAuthentication</span><span class=p>(</span><span class=n>options</span><span class=p>=&gt;{</span>
                <span class=n>options</span><span class=p>.</span><span class=n>DefaultAuthenticateScheme</span> <span class=p>=</span> <span class=n>JwtBearerDefaults</span><span class=p>.</span><span class=n>AuthenticationScheme</span><span class=p>;</span>
                <span class=n>options</span><span class=p>.</span><span class=n>DefaultChallengeScheme</span> <span class=p>=</span> <span class=n>JwtBearerDefaults</span><span class=p>.</span><span class=n>AuthenticationScheme</span><span class=p>;</span>
            <span class=p>})</span>
            <span class=c1>// Jwt配置
</span><span class=c1></span>            <span class=p>.</span><span class=n>AddJwtBearer</span><span class=p>(</span><span class=n>o</span><span class=p>=&gt;{</span>
                <span class=n>o</span><span class=p>.</span><span class=n>TokenValidationParameters</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Microsoft</span><span class=p>.</span><span class=n>IdentityModel</span><span class=p>.</span><span class=n>Tokens</span><span class=p>.</span><span class=n>TokenValidationParameters</span><span class=p>{</span>
                    <span class=n>ValidIssuer</span> <span class=p>=</span> <span class=n>JwtSettings</span><span class=p>.</span><span class=n>Issure</span><span class=p>,</span>
                    <span class=n>ValidAudience</span> <span class=p>=</span> <span class=n>JwtSettings</span><span class=p>.</span><span class=n>Audience</span><span class=p>,</span>
                    <span class=n>IssuerSigningKey</span> <span class=p>=</span> <span class=k>new</span> <span class=n>SymmetricSecurityKey</span><span class=p>(</span><span class=n>Encoding</span><span class=p>.</span><span class=n>UTF8</span><span class=p>.</span><span class=n>GetBytes</span><span class=p>(</span><span class=n>JwtSettings</span><span class=p>.</span><span class=n>SecretKey</span><span class=p>))</span><span class=c1>// 对称加密
</span><span class=c1></span>                <span class=p>};</span>
            <span class=p>});</span>

            <span class=n>app</span><span class=p>.</span><span class=n>UseAuthentication</span><span class=p>();</span>            
</code></pre></div><h2 id=授权>授权</h2>
<p>xxxController.cs</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=c1>// 添加引用
</span><span class=c1></span><span class=k>using</span> <span class=nn>Microsoft.AspNetCore.Authorization</span><span class=p>;</span>

    <span class=c1>// 添加特性
</span><span class=c1></span><span class=na>    [Authorize]</span>
<span class=na>    [Route(&#34;api/[controller]</span><span class=s>&#34;)]
</span><span class=s></span><span class=na>    [ApiController]</span>
    <span class=k>public</span> <span class=k>class</span> <span class=nc>ValuesController</span> <span class=p>:</span> <span class=n>ControllerBase</span>
</code></pre></div><p>只要是系统内就能调用这个接口</p>
<h3 id=基于角色role的授权>基于角色（Role）的授权</h3>
<p>给用户返回jwt的时候，把角色授予用户
login逻辑</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=err>····</span>
            <span class=kt>var</span> <span class=n>claims</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Claim</span><span class=p>[]{</span>
                    <span class=k>new</span> <span class=n>Claim</span><span class=p>(</span><span class=n>ClaimTypes</span><span class=p>.</span><span class=n>Name</span><span class=p>,</span> <span class=s>&#34;mingson&#34;</span><span class=p>),</span>
                    <span class=c1>//new Claim(ClaimTypes.Role, &#34;admin&#34;),
</span><span class=c1></span>                    <span class=k>new</span> <span class=n>Claim</span><span class=p>(</span><span class=n>ClaimTypes</span><span class=p>.</span><span class=n>Role</span><span class=p>,</span> <span class=s>&#34;user&#34;</span><span class=p>)</span>
                    <span class=p>};</span>
                <span class=kt>var</span> <span class=n>key</span> <span class=p>=</span> <span class=k>new</span> <span class=n>SymmetricSecurityKey</span><span class=p>(</span><span class=n>Encoding</span><span class=p>.</span><span class=n>UTF8</span><span class=p>.</span><span class=n>GetBytes</span><span class=p>(</span><span class=m>_</span><span class=n>jwtSettings</span><span class=p>.</span><span class=n>SecretKey</span><span class=p>));</span><span class=c1>// 对称加密算法
</span><span class=c1></span>                <span class=kt>var</span> <span class=n>creds</span> <span class=p>=</span> <span class=k>new</span> <span class=n>SigningCredentials</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>SecurityAlgorithms</span><span class=p>.</span><span class=n>HmacSha256</span><span class=p>);</span>

                <span class=kt>var</span> <span class=n>token</span> <span class=p>=</span> <span class=k>new</span> <span class=n>JwtSecurityToken</span><span class=p>(</span>
                    <span class=m>_</span><span class=n>jwtSettings</span><span class=p>.</span><span class=n>Issure</span><span class=p>,</span>
                    <span class=m>_</span><span class=n>jwtSettings</span><span class=p>.</span><span class=n>Audience</span><span class=p>,</span>
                    <span class=n>claims</span><span class=p>,</span>
                    <span class=n>DateTime</span><span class=p>.</span><span class=n>Now</span><span class=p>,</span>
                    <span class=n>DateTime</span><span class=p>.</span><span class=n>Now</span><span class=p>.</span><span class=n>AddMinutes</span><span class=p>(</span><span class=m>30</span><span class=p>),</span>
                    <span class=n>creds</span><span class=p>);</span>

                <span class=k>return</span> <span class=n>Ok</span><span class=p>(</span><span class=k>new</span> <span class=p>{</span><span class=n>token</span> <span class=p>=</span> <span class=k>new</span> <span class=n>JwtSecurityTokenHandler</span><span class=p>().</span><span class=n>WriteToken</span><span class=p>(</span><span class=n>token</span><span class=p>)});</span>
<span class=err>····</span>
</code></pre></div><p>注入配置</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs>  <span class=k>public</span> <span class=n>AuthorizeController</span><span class=p>(</span><span class=n>IOptions</span><span class=p>&lt;</span><span class=n>JwtSettings</span><span class=p>&gt;</span> <span class=m>_</span><span class=n>jwtSettingsAccesser</span><span class=p>)</span>
        <span class=p>{</span>
            <span class=m>_</span><span class=n>jwtSettings</span> <span class=p>=</span> <span class=m>_</span><span class=n>jwtSettingsAccesser</span><span class=p>.</span><span class=n>Value</span><span class=p>;</span>
        <span class=p>}</span>
</code></pre></div><p>接口授权配置</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=na>    [Authorize(Role=&#34;Admin,User&#34;)]</span> <span class=c1>//或
</span><span class=c1></span><span class=na>
</span><span class=na>    [Authorize(Role=&#34;Admin&#34;)]</span> <span class=c1>//与
</span><span class=c1></span><span class=na>    [Authorize(Role=&#34;User&#34;)]</span>
</code></pre></div><p>在逻辑中获取Role</p>
</div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span title="2022-07-22 11:48:10">更新于 2022-07-22</span>
</div>
<div class=post-info-license></div>
</div>
<div class=post-info-line>
<div class=post-info-md><span><a href=/posts/dotnet/aspnetcore_jwt/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span></div>
<div class=post-info-share>
<span></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span>
</section>
</div>
<div class=post-nav><a href=/posts/dotnet/charp%E4%B9%8B%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5di/ class=prev rel=prev title=charp之依赖注入（DI）><i class="fas fa-angle-left fa-fw"></i>charp之依赖注入（DI）</a>
<a href=/posts/dotnet/csharp%E5%A7%94%E6%89%98/ class=next rel=next title=C#委托>C#委托<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id=comments><div id=valine class=comment></div><noscript>
Please enable JavaScript to view the comments powered by <a href=https://valine.js.org/ rel="external nofollow noopener noreffer">Valine</a>.
</noscript></div></article></main><footer class=footer>
<div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer" title="Hugo 0.91.2">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/Lruihao/FixIt target=_blank rel="external nofollow noopener noreffer" title="FixIt 0.2.14"><img class=fixit-icon src=/images/fixit.svg alt="FixIt logo">&nbsp;FixIt</a>
</div><div class="footer-line copyright"><i class="far fa-copyright fa-fw"></i>
<span itemprop=copyrightYear>2020 - 2022</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/lyj0309 target=_blank rel="external nofollow noopener noreffer">lyj</a></span><span class=footer-divider></span><span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class=footer-line><span class=icp><a class=theme-link href=https://beian.miit.gov.cn>桂ICP备20003848号</a></span></div></div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部>
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论>
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=/lib/valine/valine.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/valine/Valine.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js defer></script><script type=text/javascript src=/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js async defer></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js defer></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},comment:{valine:{appId:"xp0QpOaiSAHWtssGMmuQsDK2-gzGzoHsz",appKey:"0jJ0r2V5ATEHonjSfXoY4Swn",avatar:"mp",el:"#valine",emojiCDN:"https://cdn.jsdelivr.net/npm/emoji-datasource-google@5.0.1/img/google/64/",emojiMaps:{100:"1f4af.png",alien:"1f47d.png",anger:"1f4a2.png",angry:"1f620.png",anguished:"1f627.png",astonished:"1f632.png",black_heart:"1f5a4.png",blue_heart:"1f499.png",blush:"1f60a.png",bomb:"1f4a3.png",boom:"1f4a5.png",broken_heart:"1f494.png",brown_heart:"1f90e.png",clown_face:"1f921.png",cold_face:"1f976.png",cold_sweat:"1f630.png",confounded:"1f616.png",confused:"1f615.png",cry:"1f622.png",crying_cat_face:"1f63f.png",cupid:"1f498.png",dash:"1f4a8.png",disappointed:"1f61e.png",disappointed_relieved:"1f625.png",dizzy:"1f4ab.png",dizzy_face:"1f635.png",drooling_face:"1f924.png",exploding_head:"1f92f.png",expressionless:"1f611.png",face_vomiting:"1f92e.png",face_with_cowboy_hat:"1f920.png",face_with_hand_over_mouth:"1f92d.png",face_with_head_bandage:"1f915.png",face_with_monocle:"1f9d0.png",face_with_raised_eyebrow:"1f928.png",face_with_rolling_eyes:"1f644.png",face_with_symbols_on_mouth:"1f92c.png",face_with_thermometer:"1f912.png",fearful:"1f628.png",flushed:"1f633.png",frowning:"1f626.png",ghost:"1f47b.png",gift_heart:"1f49d.png",green_heart:"1f49a.png",grimacing:"1f62c.png",grin:"1f601.png",grinning:"1f600.png",hankey:"1f4a9.png",hear_no_evil:"1f649.png",heart:"2764-fe0f.png",heart_decoration:"1f49f.png",heart_eyes:"1f60d.png",heart_eyes_cat:"1f63b.png",heartbeat:"1f493.png",heartpulse:"1f497.png",heavy_heart_exclamation_mark_ornament:"2763-fe0f.png",hole:"1f573-fe0f.png",hot_face:"1f975.png",hugging_face:"1f917.png",hushed:"1f62f.png",imp:"1f47f.png",innocent:"1f607.png",japanese_goblin:"1f47a.png",japanese_ogre:"1f479.png",joy:"1f602.png",joy_cat:"1f639.png",kiss:"1f48b.png",kissing:"1f617.png",kissing_cat:"1f63d.png",kissing_closed_eyes:"1f61a.png",kissing_heart:"1f618.png",kissing_smiling_eyes:"1f619.png",laughing:"1f606.png",left_speech_bubble:"1f5e8-fe0f.png",love_letter:"1f48c.png",lying_face:"1f925.png",mask:"1f637.png",money_mouth_face:"1f911.png",nauseated_face:"1f922.png",nerd_face:"1f913.png",neutral_face:"1f610.png",no_mouth:"1f636.png",open_mouth:"1f62e.png",orange_heart:"1f9e1.png",partying_face:"1f973.png",pensive:"1f614.png",persevere:"1f623.png",pleading_face:"1f97a.png",pouting_cat:"1f63e.png",purple_heart:"1f49c.png",rage:"1f621.png",relaxed:"263a-fe0f.png",relieved:"1f60c.png",revolving_hearts:"1f49e.png",right_anger_bubble:"1f5ef-fe0f.png",robot_face:"1f916.png",rolling_on_the_floor_laughing:"1f923.png",scream:"1f631.png",scream_cat:"1f640.png",see_no_evil:"1f648.png",shushing_face:"1f92b.png",skull:"1f480.png",skull_and_crossbones:"2620-fe0f.png",sleeping:"1f634.png",sleepy:"1f62a.png",slightly_frowning_face:"1f641.png",slightly_smiling_face:"1f642.png",smile:"1f604.png",smile_cat:"1f638.png",smiley:"1f603.png",smiley_cat:"1f63a.png",smiling_face_with_3_hearts:"1f970.png",smiling_imp:"1f608.png",smirk:"1f60f.png",smirk_cat:"1f63c.png",sneezing_face:"1f927.png",sob:"1f62d.png",space_invader:"1f47e.png",sparkling_heart:"1f496.png",speak_no_evil:"1f64a.png",speech_balloon:"1f4ac.png","star-struck":"1f929.png",stuck_out_tongue:"1f61b.png",stuck_out_tongue_closed_eyes:"1f61d.png",stuck_out_tongue_winking_eye:"1f61c.png",sunglasses:"1f60e.png",sweat:"1f613.png",sweat_drops:"1f4a6.png",sweat_smile:"1f605.png",thinking_face:"1f914.png",thought_balloon:"1f4ad.png",tired_face:"1f62b.png",triumph:"1f624.png",two_hearts:"1f495.png",unamused:"1f612.png",upside_down_face:"1f643.png",weary:"1f629.png",white_frowning_face:"2639-fe0f.png",white_heart:"1f90d.png",wink:"1f609.png",woozy_face:"1f974.png",worried:"1f61f.png",yawning_face:"1f971.png",yellow_heart:"1f49b.png",yum:"1f60b.png",zany_face:"1f92a.png",zipper_mouth_face:"1f910.png",zzz:"1f4a4.png"},enableQQ:!1,highlight:!0,lang:"zh-cn",pageSize:10,placeholder:"说点什么吧...",recordIP:!0,visitor:!0}},cookieconsent:{content:{dismiss:"同意",endlevel:6,link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:null,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"2JCAO8XQY2",algoliaIndex:"blog",algoliaSearchKey:"fd39521e89aef7cc0d57626786cf0644",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"}}</script><script type=text/javascript src=/js/theme.min.js defer></script></body>
</html>