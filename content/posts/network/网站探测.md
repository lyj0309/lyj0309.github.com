

网络空间测绘引擎
有个东西叫做网络空间测绘引擎，最典型的是fofa和shodan:


网络空间测绘引擎的原理简单点说就是用很多台服务器，24个小时探测一切暴露在互联网上的信息。包括所有的ip地址对应的机器，开放了哪些端口，提供了哪些服务，发起请求后的返回包是怎样的……大部分网站都有icon，网络空间测绘引擎正好也会搜集网站icon的hash，所以可以算一下你网站icon的hash，然后拿去fofa一艘，说不定就能搜到某个IP地址也是用的这个hash的icon，不用怀疑，那就是你的真实ip。


暴力的全网扫描绕过法还有一个很暴力的方法，我们知道一共有2^32个ipv4地址，再减去内网网段会更少。那么，只需要写一个80，443端口探测脚本，先把你网站的关键字提取出来，然后请求一遍全网的80，443端口，返回包的内容匹配一下关键字，如果匹配到了。说明那个返回包对应的ip就是网站的真实ip。事实上，Github上已经有人写了这个代码：https://github.com/boy-hack/w8fuckcdn​github.com/boy-hack/w8fuckcdn


最后，至于提问中问的CloudFlare，Github上也有专门针对绕过CloudFlare查找真实ip的项目：