[{"categories":null,"content":"linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40 é€šç”¨ä¸€ä¸‹æ¯ä¸€æ­¥éƒ½è¦åšï¼Œä»”ç»†é˜…è¯»ï¼Œå°‘ä¸€æ­¥éƒ½ä¸è¡Œï¼ ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:0:0","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#linuxå®‰è£…nvidiaé©±åŠ¨-ubuntu-p100-k80-p40-é€šç”¨"},{"categories":null,"content":"biosè®¾ç½®æ‚¨çš„ä¸»æœºBIOSå¿…é¡»é…ç½®ä¸ºæ”¯æŒè¿™äº›é«˜ç«¯PCIè®¾å¤‡æ‰€éœ€çš„å¤§å†…å­˜åŒºåŸŸã€‚è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·æ‰¾åˆ°â€œ4Gä»¥ä¸Šè§£ç â€æˆ–â€œ4GBä»¥ä¸Šå†…å­˜æ˜ å°„I/Oâ€æˆ–â€œPCI 64ä½èµ„æºå¤„ç†4Gä»¥ä¸Šâ€çš„ä¸»æœºBIOSè®¾ç½®å¹¶å¯ç”¨ã€‚è¯¥é€‰é¡¹çš„ç¡®åˆ‡æªè¾å› ç³»ç»Ÿå‚å•†è€Œå¼‚ï¼Œä½†è¯¥é€‰é¡¹é€šå¸¸å¯ä»¥åœ¨BIOSèœå•çš„PCIéƒ¨åˆ†æ‰¾åˆ°ã€‚å¦‚æœéœ€è¦å¯ç”¨æ­¤é€‰é¡¹ï¼Œè¯·å’¨è¯¢æ‚¨çš„ç³»ç»Ÿæä¾›å•†ã€‚ å…·ä½“æ¯ä¸ªbioséƒ½ä¸ä¸€æ ·ï¼Œæˆ‘æ˜¯R720ï¼Œå¯ä»¥F12è®¾ç½® ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:1:0","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#biosè®¾ç½®"},{"categories":null,"content":"è®¾ç½®esxiæ“ä½œç³»ç»Ÿ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:2:0","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#è®¾ç½®esxiæ“ä½œç³»ç»Ÿ"},{"categories":null,"content":"è®¾ç½®ä½¿ç”¨EFIå¯åŠ¨ç¼–è¾‘è™šæ‹Ÿæœº ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:2:1","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#è®¾ç½®ä½¿ç”¨efiå¯åŠ¨"},{"categories":null,"content":"è®¾ç½®é¢å¤–å‚æ•°è™šæ‹Ÿæœºé€‰é¡¹-\u003eé«˜çº§-\u003eé…ç½®å‚æ•° pciPassthru.use64bitMMIO TRUE pciPassthru.64bitMMIOSizeGB 128 128å–å†³äºä½ çš„æ˜¾å¡æ˜¾å­˜å’Œæ•°é‡,ä¾‹å¦‚ï¼Œè¦å¯¹ä¸¤ä¸ª32 GB V100è®¾å¤‡ä½¿ç”¨é€ä¼ ï¼Œå…¶å€¼å°†æ˜¯:32 + 32 = 64ï¼Œå‘ä¸Šå–2çš„ä¸‹ä¸€ä¸ªå¹‚ï¼Œå¾—åˆ°128ã€‚ ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:3:0","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#è®¾ç½®é¢å¤–å‚æ•°"},{"categories":null,"content":"linuxé…ç½®ç¦ç”¨nouveau æ–°å»º/usr/lib/modprobe.d/dist-blacklist.conf å†™å…¥ #nvidia driver blacklist nouveau options nouveau modeset=0 é‡å¯ ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:4:0","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#linuxé…ç½®"},{"categories":null,"content":"å®‰è£…é©±åŠ¨https://www.nvidia.com/Download/index.aspx?lang=en-us å»è¿™ä¸‹è½½,è®°å¾—é€‰å®šcudaç‰ˆæœ¬ sh NVIDIA-xxxx.sh å¤§åŠŸå‘Šæˆ! ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:5:0","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#å®‰è£…é©±åŠ¨"},{"categories":null,"content":"refhttps://blogs.vmware.com/apps/2018/10/how-to-enable-nvidia-v100-gpu-in-passthrough-mode-on-vsphere-for-machine-learning-and-other-hpc-workloads.html https://blog.csdn.net/koukouwuwu/article/details/116142271 https://blog.csdn.net/jephirus/article/details/80957144 ","date":"2023-04-10","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/:6:0","series":null,"tags":["linux"],"title":"esxi linuxå®‰è£…NVIDIAé©±åŠ¨ ubuntu p100 k80 p40  é€šç”¨","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85nvidia%E9%A9%B1%E5%8A%A8/#ref"},{"categories":null,"content":"wslä½¿ç”¨linuxæ¡Œé¢,guilinuxè¯¾è¯´éœ€è¦ç”¨guiï¼Œæœ¬æ¥è¯´ç”¨vmwareï¼Œä½†windowsæœ‰è‡ªå¸¦çš„ä¸ºä½•ä¸ç”¨å‘¢ ä½¿ç”¨linuxæ¡Œé¢æœ‰å¾ˆå¤šç§ï¼Œå¯ä»¥ç”¨rdp, vnc, ä½†æˆ‘çœ‹æœ€è¿‘å‡ºæ¥wslg ,ç›¸å½“äºåŸç”Ÿæ”¯æŒlinux gui, ä¸éœ€è¦è¿œç¨‹è¿æ¥ ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:0:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#wslä½¿ç”¨linuxæ¡Œé¢gui"},{"categories":null,"content":"ç¡®è®¤wslå·²ç»æ˜¯æœ€æ–°ç‰ˆwsl --upgrade ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:1:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#ç¡®è®¤wslå·²ç»æ˜¯æœ€æ–°ç‰ˆ"},{"categories":null,"content":"å®‰è£…linuxå‘è¡Œç‰ˆ(Ubuntu)æ‰“å¼€https://www.microsoft.com/p/ubuntu/9pdxgncfsczvï¼Œå®‰è£…å³å¯ ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:2:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#å®‰è£…linuxå‘è¡Œç‰ˆubuntu"},{"categories":null,"content":"ç¡®è®¤wslç‰ˆæœ¬wsl -l -v ç¡®ä¿versionæ˜¯2 ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:3:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#ç¡®è®¤wslç‰ˆæœ¬"},{"categories":null,"content":"æ¢æºä½¿ç”¨åŒ—å¤–é•œåƒ ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:4:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#æ¢æº"},{"categories":null,"content":"å¯ç”¨systemdref ä¿®æ”¹/etc/wsl.conf [boot] systemd=true powershellè¿è¡Œwsl --shutdowné‡å¯wslï¼Œå†è¿›å…¥ systemctlæŸ¥çœ‹æ˜¯å¦å¼€å¯ ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:5:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#å¯ç”¨systemd"},{"categories":null,"content":"å®‰è£…æ¡Œé¢åº”ç”¨sudo apt update \u0026\u0026 sudo apt install tasksel -y tasksel å®‰è£… debian desktop envå’Œxfceå°±å¥½ ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:6:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#å®‰è£…æ¡Œé¢åº”ç”¨"},{"categories":null,"content":"è¿è¡Œ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:7:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#è¿è¡Œ"},{"categories":null,"content":"ä¸¤ç§æ–¹å¼ï¼Œä¸€æ˜¯å’Œwindowsèåˆï¼Œå¾ˆè£…xï¼Œä¸çŸ¥é“ä¸ºå•¥ä¸€å®šè¦sudoæ‰èƒ½è¿è¡Œsudo startxfce4 ä¼šå‘ç°æœ‰ä¸€ä¸ªlinuxçš„ä»»åŠ¡æ å’Œlinuxçš„å¯¼èˆªæ ï¼Œç›´æ¥èåˆåœ¨windowsé‡Œé¢äº† ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:7:1","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#ä¸¤ç§æ–¹å¼ä¸€æ˜¯å’Œwindowsèåˆå¾ˆè£…xä¸çŸ¥é“ä¸ºå•¥ä¸€å®šè¦sudoæ‰èƒ½è¿è¡Œ"},{"categories":null,"content":"äºŒæ˜¯æ–°å»ºä¸€ä¸ªæ¡Œé¢æ–°å»ºstart.sh #!/usr/bin/sh Xwayland :1 \u0026 xw_pid=$! WAYLAND_DISPLAY= DISPLAY=:1 dbus-launch startxfce4 kill $xw_pid chmod +x start.sh ./start.sh ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:7:2","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#äºŒæ˜¯æ–°å»ºä¸€ä¸ªæ¡Œé¢"},{"categories":null,"content":"ä¸­æ–‡ä¹±ç https://blog.csdn.net/weixin_41714373/article/details/119519589 ","date":"2023-03-18","objectID":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/:8:0","series":null,"tags":["linux","wsl"],"title":"wslä½¿ç”¨linuxæ¡Œé¢,gui","uri":"/posts/linux/wsl%E4%BD%BF%E7%94%A8linux%E6%A1%8C%E9%9D%A2/#ä¸­æ–‡ä¹±ç "},{"categories":null,"content":" æå– arr å‰3ä¸ªå…ƒç´  å¦‚æœç”¨ linq çš„è¯ï¼Œå¯ä»¥ç”¨ Take(3)ï¼Œç”¨åˆ‡ç‰‡æ“ä½œçš„è¯å°±æ˜¯ [0..3]ï¼Œ ä»£ç å¦‚ä¸‹ï¼š static void Main(string[] args) { var myarr = new string[] { \"10\", \"20\", \"30\", \"40\", \"50\", \"60\", \"70\", \"80\", \"90\", \"100\" }; //1. è·å–æ•°ç»„ å‰3ä¸ªå…ƒç´  var query1 = myarr[0..3]; var query2 = myarr.Take(3).ToList(); Console.WriteLine($\"query1={string.Join(\",\", query1)}\"); Console.WriteLine($\"query2={string.Join(\",\", query2)}\"); } æå– arr æœ€åä¸‰ä¸ªå…ƒç´  è¿™ä¸ªæ€ä¹ˆæå–å‘¢ï¼Ÿåœ¨ python ä¸­ç›´æ¥ç”¨ -3 è¡¨ç¤ºå°±å¯ä»¥äº†ï¼Œåœ¨C# ä¸­éœ€è¦ç”¨ ^ æ¥è¡¨ç¤ºä»æœ«å°¾å¼€å§‹ï¼Œä»£ç å¦‚ä¸‹ï¼š static void Main(string[] args) { var myarr = new string[] { \"10\", \"20\", \"30\", \"40\", \"50\", \"60\", \"70\", \"80\", \"90\", \"100\" }; //1. è·å–æ•°ç»„ æœ€å3ä¸ªå…ƒç´  var query1 = myarr[^3..]; var query2 = myarr.Skip(myarr.Length - 3).ToList(); Console.WriteLine($\"query1={string.Join(\",\", query1)}\"); Console.WriteLine($\"query2={string.Join(\",\", query2)}\"); } æå– array ä¸­index = 4ï¼Œ5ï¼Œ6 çš„ä¸‰ä¸ªä½ç½®å…ƒç´  ç”¨ linq çš„è¯ï¼Œå°±éœ€è¦ä½¿ç”¨ Skip + Take åŒç»„åˆï¼Œå¦‚æœç”¨åˆ‡ç‰‡æ“ä½œçš„è¯å°±å¤ªç®€å•äº†ã€‚ã€‚ã€‚ static void Main(string[] args) { var myarr = new string[] { \"10\", \"20\", \"30\", \"40\", \"50\", \"60\", \"70\", \"80\", \"90\", \"100\" }; //1. è·å–æ•°ç»„ ä¸­ index=4,5,6 ä¸‰ä¸ªä½ç½®çš„å…ƒç´  var query1 = myarr[4..7]; var query2 = myarr.Skip(4).Take(3).ToList(); Console.WriteLine($\"query1={string.Join(\",\", query1)}\"); Console.WriteLine($\"query2={string.Join(\",\", query2)}\"); } ä»ä¸Šé¢çš„åˆ‡å‰²åŒºé—´ [4..7] çš„è¾“å‡ºç»“æœæ¥çœ‹ï¼Œè¿™æ˜¯ä¸€ä¸ª å·¦é—­å³å¼€ çš„åŒºé—´ï¼Œæ‰€ä»¥è¦ç‰¹åˆ«æ³¨æ„ä¸€ä¸‹ã€‚ è·å– array ä¸­å€’æ•°ç¬¬ä¸‰å’Œç¬¬äºŒä¸ªå…ƒç´  ä»è¦æ±‚ä¸Šæ¥çœ‹å°±æ˜¯è·å–å…ƒç´  80 å’Œ 90ï¼Œå¦‚æœä½ ç†è§£äº†å‰é¢çš„ä¸¤ä¸ªç”¨æ³•ï¼Œæˆ‘ç›¸ä¿¡è¿™ä¸ªä½ ä¼šå¾ˆå¿«çš„å†™å‡ºæ¥ï¼Œä»£ç å¦‚ä¸‹ï¼š static void Main(string[] args) { var myarr = new string[] { \"10\", \"20\", \"30\", \"40\", \"50\", \"60\", \"70\", \"80\", \"90\", \"100\" }; //1. è·å– array ä¸­å€’æ•°ç¬¬ä¸‰å’Œç¬¬äºŒä¸ªå…ƒç´  var query1 = myarr[^3..^1]; var query2 = myarr.Skip(myarr.Length - 3).Take(2).ToList(); Console.WriteLine($\"query1={string.Join(\",\", query1)}\"); Console.WriteLine($\"query2={string.Join(\",\", query2)}\"); } ","date":"2023-02-23","objectID":"/posts/dotnet/csharp%E5%88%87%E7%89%87/:0:0","series":null,"tags":null,"title":"c# åˆ‡ç‰‡","uri":"/posts/dotnet/csharp%E5%88%87%E7%89%87/#"},{"categories":null,"content":"windowsä¸‹vpnåªç”¨å†…ç½‘è·¯ç”±æœ€è¿‘ğŸäº†å±…å®¶åŠå…¬ï¼Œéœ€è¦è¿æ¥å…¬å¸çš„ç½‘ç»œï¼Œæ‰€ä»¥ä½¿ç”¨å…¬å¸çš„vpn ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œé»˜è®¤æ‰€æœ‰çš„æµé‡éƒ½ä¼šèµ°å…¬å¸çš„vpn, å¯èƒ½ä¼šå¸¦æ¥å†™ç½‘ç»œå®‰å…¨éšæ‚£ï¼Œäºæ˜¯æƒ³æä¸ªåªæœ‰å…¬å¸å†…ç½‘èµ°vpnçš„æ•™ç¨‹ ","date":"2022-12-26","objectID":"/posts/network/windows%E4%B8%8Bvpn%E5%8F%AA%E7%94%A8%E5%86%85%E7%BD%91%E8%B7%AF%E7%94%B1/:0:0","series":null,"tags":null,"title":"windowsä¸‹vpnåªç”¨å†…ç½‘è·¯ç”±","uri":"/posts/network/windows%E4%B8%8Bvpn%E5%8F%AA%E7%94%A8%E5%86%85%E7%BD%91%E8%B7%AF%E7%94%B1/#windowsä¸‹vpnåªç”¨å†…ç½‘è·¯ç”±"},{"categories":null,"content":"åŸç†æ­£å¸¸æ¥è¯´ï¼Œè¿ä¸Švpnåï¼Œvpnä¼šæ¥ç®¡æ‰€æœ‰çš„è·¯ç”±ï¼Œéœ€è¦ä½ æ‰‹åŠ¨æ›´æ”¹ åœ¨å–æ¶ˆé€‰ä¸­ä½¿ç”¨é»˜è®¤ç½‘å…³åï¼Œä¼šåªæœ‰å½“å‰ç½‘å…³çš„ç½‘ç»œèµ°è·¯ç”± ä½†ï¼Œå¦‚æœè¿˜æœ‰åˆ«çš„ç½‘ç»œä¹Ÿå±äºå…¬å¸ï¼Œå°±éœ€è¦æ‰‹åŠ¨æ·»åŠ è·¯ç”±äº†ï¼Œå¦‚172.30.64.107 é¦–å…ˆæ‰¾åˆ°vpnçš„interfaceï¼Œè®°ä½id ç„¶å route add -p 172.30.0.0 mask 255.255.0.0 0.0.0.0 if 65 è‹¥æ˜¯æƒ³åˆ é™¤ route delete 172.30.0.0 mask 255.255.0.0 0.0.0.0 ","date":"2022-12-26","objectID":"/posts/network/windows%E4%B8%8Bvpn%E5%8F%AA%E7%94%A8%E5%86%85%E7%BD%91%E8%B7%AF%E7%94%B1/:1:0","series":null,"tags":null,"title":"windowsä¸‹vpnåªç”¨å†…ç½‘è·¯ç”±","uri":"/posts/network/windows%E4%B8%8Bvpn%E5%8F%AA%E7%94%A8%E5%86%85%E7%BD%91%E8%B7%AF%E7%94%B1/#åŸç†"},{"categories":null,"content":"å®‰è£…anaconda wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2022.10-Linux-x86_64.sh chmod +x Anaconda3-2022.10-Linux-x86_64.sh ./Anaconda3-2022.10-Linux-x86_64.sh é…ç½®æº python -m pip install --upgrade pip pip config set global.index-url https://mirrors.bfsu.edu.cn/pypi/web/simple vim ~/.condarc channels: - defaults show_channel_urls: true default_channels: - https://mirrors.bfsu.edu.cn/anaconda/pkgs/main - https://mirrors.bfsu.edu.cn/anaconda/pkgs/r - https://mirrors.bfsu.edu.cn/anaconda/pkgs/msys2 custom_channels: conda-forge: https://mirrors.bfsu.edu.cn/anaconda/cloud msys2: https://mirrors.bfsu.edu.cn/anaconda/cloud bioconda: https://mirrors.bfsu.edu.cn/anaconda/cloud menpo: https://mirrors.bfsu.edu.cn/anaconda/cloud pytorch: https://mirrors.bfsu.edu.cn/anaconda/cloud pytorch-lts: https://mirrors.bfsu.edu.cn/anaconda/cloud simpleitk: https://mirrors.bfsu.edu.cn/anaconda/cloud ","date":"2022-11-21","objectID":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/:0:0","series":null,"tags":null,"title":"linuxä¸‹ä½¿ç”¨anacondaéƒ¨ç½²stable-diffusion","uri":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/#"},{"categories":null,"content":"accelerate pip install accelerate","date":"2022-11-21","objectID":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/:1:0","series":null,"tags":null,"title":"linuxä¸‹ä½¿ç”¨anacondaéƒ¨ç½²stable-diffusion","uri":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/#accelerate-pip-install-accelerate"},{"categories":null,"content":"æµ‹è¯•ä¸‹pip install --upgrade diffusers transformers scipy ","date":"2022-11-21","objectID":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/:2:0","series":null,"tags":null,"title":"linuxä¸‹ä½¿ç”¨anacondaéƒ¨ç½²stable-diffusion","uri":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/#æµ‹è¯•ä¸‹"},{"categories":null,"content":"ä½¿ç”¨å®˜æ–¹åº“stable-diffusiongit clone https://gitcode.net/lyjjjjjjj/stable-diffusion.git ä¿®æ”¹environment.yaml - -e git+https://github.com/CompVis/taming-transformers.git@master#egg=taming-transformers - -e git+https://github.com/openai/CLIP.git@main#egg=clip æ”¹æˆ - -e git+https://gitcode.net/lyjjjjjjj/CLIP.git@master#egg=taming-transformers - -e git+https://gitcode.net/lyjjjjjjj/taming-transformers.git@main#egg=clip ","date":"2022-11-21","objectID":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/:3:0","series":null,"tags":null,"title":"linuxä¸‹ä½¿ç”¨anacondaéƒ¨ç½²stable-diffusion","uri":"/posts/ai/linux%E4%B8%8B%E4%BD%BF%E7%94%A8anaconda%E9%83%A8%E7%BD%B2stable-diffusion/#ä½¿ç”¨å®˜æ–¹åº“stable-diffusion"},{"categories":null,"content":"å‰è¨€è‡ªå·±æƒ³ç»„ä¸€ä¸ªnasï¼Œä¸€ç•ªæƒè¡¡ä¹°äº†n5095çš„æ¿å­ï¼Œæƒ³ç€è¿™æ€ä¹ˆè¯´ä¹Ÿèƒ½æµç•…ç¡¬è§£äº†å§ï¼ˆä¹‹å‰æ˜¯j1900ï¼‰ï¼Œç„¶åå®‰è£…jellyfinçš„è‰°éš¾ä¹‹è·¯ï¼ˆå„ç§å‘ï¼‰ ","date":"2022-11-10","objectID":"/posts/nas/intel-11%E4%BB%A3n5095%E5%AE%89%E8%A3%85jellyfin%E5%B9%B6%E4%BD%BF%E7%94%A8%E7%A1%AC%E8%A7%A3/:1:0","series":null,"tags":null,"title":"intel 11ä»£n5095å®‰è£…jellyfinå¹¶ä½¿ç”¨ç¡¬è§£","uri":"/posts/nas/intel-11%E4%BB%A3n5095%E5%AE%89%E8%A3%85jellyfin%E5%B9%B6%E4%BD%BF%E7%94%A8%E7%A1%AC%E8%A7%A3/#å‰è¨€"},{"categories":null,"content":"docker composeversion: \"3.5\" services: jellyfin: # image: jellyfin/jellyfin:10.8.7 image: nyanmisaka/jellyfin:221029-amd64 container_name: jellyfin network_mode: \"host\" volumes: - /etc/timezone:/etc/timezone:ro - ./jellyfin/config:/config - ./jellyfin/cache:/cache - /mnt/3t:/mnt/3t devices: - /dev/dri/renderD128:/dev/dri/renderD128 - /dev/dri/card0:/dev/dri/card0 restart: \"unless-stopped\" ä¸»è¦æ³¨æ„ä¸€ç‚¹ï¼Œå°±æ˜¯é•œåƒå¯ä»¥ä½¿ç”¨nyanmisakaè¿™ä¸ªå¤§ä½¬çš„é•œåƒï¼ŒåŸºæœ¬ä¸œè¥¿éƒ½è£…å…¨äº†ï¼Œç„¶åæ˜¯deviceséœ€è¦æ˜ å°„æ˜¾å¡ ","date":"2022-11-10","objectID":"/posts/nas/intel-11%E4%BB%A3n5095%E5%AE%89%E8%A3%85jellyfin%E5%B9%B6%E4%BD%BF%E7%94%A8%E7%A1%AC%E8%A7%A3/:2:0","series":null,"tags":null,"title":"intel 11ä»£n5095å®‰è£…jellyfinå¹¶ä½¿ç”¨ç¡¬è§£","uri":"/posts/nas/intel-11%E4%BB%A3n5095%E5%AE%89%E8%A3%85jellyfin%E5%B9%B6%E4%BD%BF%E7%94%A8%E7%A1%AC%E8%A7%A3/#docker-compose"},{"categories":null,"content":"æ‰“å¼€ç¡¬è§£åŠ é€Ÿæ­£å¸¸æ¥è¯´ï¼Œç›´æ¥åˆ°jellyfinè®¾ç½®æ‰“å¼€ç¡¬è§£åŠ é€Ÿå³å¯ ä½†æ˜¯ï¼Œå› ä¸ºæ˜¯11ä»£ä»¥ä¸Šçš„é…·ç¿ï¼Œä¸èƒ½è¿™æ ·ï¼Œè¿™æ ·ç›´æ¥æ˜¯æ‰“ä¸å¼€çš„ æ ¹æ®jellyfinå®˜æ–¹æ–‡æ¡£ï¼Œhttps://jellyfin.org/docs/general/administration/hardware-acceleration/#intel-gen9-and-gen11-igpus ä¸“é—¨å¯¹è¿™ä¸ªé—®é¢˜åšäº†æ¢è®¨ ç»“è®ºå°±æ˜¯11ä»£ä»¥ä¸Šå¿…é¡»è¦æ‰“å¼€ä½åŠŸè€—æ¨¡å¼å¹¶ä¸”æ‰“å¼€ Guc/Hucè¿™ä¸ªï¼ˆå†…æ ¸æ¨¡å—ï¼Ÿï¼‰ è¿™ä¸ªæ¨¡å—é»˜è®¤æ˜¯ä¸æ‰“å¼€çš„ï¼Œéœ€è¦ä½ æ‰‹åŠ¨å¼€å¯ï¼Œå¼€å¯æ–¹æ³•æ˜¯åœ¨ /etc/modprobe.d/i915.confæ–‡ä»¶ä¸­å†™å…¥ options i915 enable_guc=2 linuxå†…æ ¸å¤§äº4.10 å°äºåˆ™æ˜¯options i915 enable_guc_loading=1 ç„¶åé‡å¯ç”µè„‘ å†æ£€æŸ¥ä½åŠŸè€—æ¨¡å¼æ˜¯å¦æ‰“å¼€ æ„‰å¿«è§‚å½±å§ï¼ ","date":"2022-11-10","objectID":"/posts/nas/intel-11%E4%BB%A3n5095%E5%AE%89%E8%A3%85jellyfin%E5%B9%B6%E4%BD%BF%E7%94%A8%E7%A1%AC%E8%A7%A3/:3:0","series":null,"tags":null,"title":"intel 11ä»£n5095å®‰è£…jellyfinå¹¶ä½¿ç”¨ç¡¬è§£","uri":"/posts/nas/intel-11%E4%BB%A3n5095%E5%AE%89%E8%A3%85jellyfin%E5%B9%B6%E4%BD%BF%E7%94%A8%E7%A1%AC%E8%A7%A3/#æ‰“å¼€ç¡¬è§£åŠ é€Ÿ"},{"categories":null,"content":"å‰è¨€ç”±äºè¦ç»„è£…æœºå­ï¼Œäºæ˜¯åœ¨å’¸é±¼ä¸Šä¹°äº†ä¸ªé•å…‰çš„å†…å­˜æ¡ï¼Œæœ¬æ¥æƒ³ç€åº”è¯¥æ˜¯æ­£ç‰ˆï¼Œç»“æœæ’ä¸Šå»ä¸€çœ‹ä¸å¯¹åŠ²äº† å†…å­˜åºåˆ—å·éƒ½ä¸€æ · äºŒä½æ‰«ç å‡ºæ¥çš„ç»“æœä¸æ­£ç¡® ç¼–å·å¯¹ä¸ä¸Š ä¸‹é¢æˆ‘å°±ä¸€ä¸€è¯´æ˜ æˆ‘çš„æ¡å­ ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:1:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#å‰è¨€"},{"categories":null,"content":"å†…å­˜æ¡ç§‘æ™®https://zhuanlan.zhihu.com/p/26255460 https://www.eet-china.com/mp/a22553.html https://technick.net/guides/hardware/umg/04_003/(å†…å­˜æ¡å®¹é‡ä»‹ç»-è‹±) ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:2:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#å†…å­˜æ¡ç§‘æ™®"},{"categories":null,"content":"å†…å­˜æ¡ç¼–å·ï¼ˆModule Part Numberingï¼‰æ ¹æ®é•å…‰å®˜ç½‘ç»™å‡ºæ¥çš„è¯´æ˜ï¼Œæˆ‘è¿™ä¸ªæ¡å­ï¼Œå†™çš„æ˜¯3200ï¼Œç¼–å·åº”è¯¥æ˜¯3G2ï¼Œä½†æ˜¯å´æ˜¯2G3 ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:3:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#å†…å­˜æ¡ç¼–å·module-part-numbering"},{"categories":null,"content":"äºŒä½æ‰«ç å‡ºæ¥çš„ç»“æœä¸æ­£ç¡®æ‰«å‡ºæ¥çš„å’Œæ­£ç‰ˆçš„ä¸ä¸€æ · ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:4:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#äºŒä½æ‰«ç å‡ºæ¥çš„ç»“æœä¸æ­£ç¡®"},{"categories":null,"content":"å†…å­˜åºåˆ—å·éƒ½ä¸€æ ·æ‹¿CPU-ZæŸ¥çœ‹ï¼Œå‘ç°éƒ½ä¸€æ ·ï¼ŒæŒ‰é“ç†è¯´è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:5:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#å†…å­˜åºåˆ—å·éƒ½ä¸€æ ·"},{"categories":null,"content":"æŸ¥çœ‹å†…å­˜é¢—ç²’é€šè¿‡å†…å­˜æ¡é¢—ç²’å°åˆ·å¾—çŸ¥FBGA codeæ˜¯D9TGL åæŸ¥åˆ°å‹å·æ˜¯MT40A1G4RH-083E https://www.micron.com/support/tools-and-utilities/fbga?fbga=d9tgl#pnlFBGA å†æŸ¥è¯¢å‹å· https://www.micron.com/products/dram/ddr4-sdram/part-catalog å·²ç»åœäº§äº†ï¼Œä¸è¿‡å®¹é‡æ˜¯4Gbï¼Œä¸€æ¡é¢—ç²’16ä¸ªï¼Œ4*16/8=8G å®¹é‡åº”è¯¥æ˜¯å¤Ÿçš„ï¼Œä½†é¢‘ç‡ä¹Ÿä¸å¯¹ï¼Œæ‰2400ï¼Œç›²çŒœæ˜¯è¶…é¢‘ä¸Šå»çš„ ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:6:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#æŸ¥çœ‹å†…å­˜é¢—ç²’"},{"categories":null,"content":"æµ‹è¯•è½¯ä»¶Taiphoon ç”¨äºæŸ¥çœ‹å†…å­˜æ¡ä¿¡æ¯ http://www.softnology.biz/files.html memtest86 ç”¨äºæµ‹è¯•å†…å­˜æ¡ https://memtest.org/ AIDA64 æ‡‚å¾—éƒ½æ‡‚ https://www.aida64.cc/127.html ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:7:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#æµ‹è¯•è½¯ä»¶"},{"categories":null,"content":"refhttps://zhuanlan.zhihu.com/p/40935015 https://zhuanlan.zhihu.com/p/163799308 https://zhuanlan.zhihu.com/p/333783874 ","date":"2022-11-03","objectID":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/:8:0","series":null,"tags":null,"title":"å†…å­˜æ¡ç§‘æ™®ä»¥åŠé•å…‰å†…å­˜æ¡é‰´åˆ«","uri":"/posts/hardware/%E9%95%81%E5%85%89%E5%86%85%E5%AD%98%E6%9D%A1%E9%89%B4%E7%9C%9F%E9%98%B2%E4%BC%AA/#ref"},{"categories":null,"content":"ä½¿ç”¨n5095æ­å»ºALL IN ONE nas","date":"2022-11-01","objectID":"/posts/hardware/%E8%87%AA%E5%BB%BAnas%E4%B9%8Bn5095%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D/:0:0","series":null,"tags":["nas"],"title":"è‡ªå»ºnasä¹‹n5095ä¸€æ­¥åˆ°ä½","uri":"/posts/hardware/%E8%87%AA%E5%BB%BAnas%E4%B9%8Bn5095%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D/#ä½¿ç”¨n5095æ­å»ºall-in-one-nas"},{"categories":null,"content":"å‰è¨€ä¹‹å‰åœ¨å¤§å­¦æ ¡å›­ï¼Œç”±äºæ ¡å›­ç½‘å’Œç½‘é€Ÿå’Œå£°éŸ³ç­‰ä¸€ç³»åˆ—åŸå› ï¼Œä¸€ç›´æ²¡æœ‰æƒ³æ­å»ºä¸€ä¸ªnasã€‚æœ€è¿‘å¼€å§‹å®ä¹ ï¼Œæœ‰è‡ªå·±çš„æˆ¿å­ï¼Œä¾¿æƒ³æ­å»ºä¸ªäº†å“ˆå“ˆå“ˆ æˆ‘çš„è¦æ±‚ï¼š èƒ½å¤Ÿç¡¬è§£4kï¼ˆæœ‰å°4kæ˜¾ç¤ºå™¨ï¼‰ èƒ½å¤Ÿæäº‹æƒ…ï¼ŒæŠ˜è…¾ï¼ˆjellyfinï¼Œptï¼Œdockerï¼Œè½¯è·¯ç”±ï¼Œesxiï¼ŒpveÂ·Â·Â·ï¼‰ ç¡¬ç›˜ä¸éœ€è¦å¤ªå¥½ï¼Œèƒ½ç”¨å°±è¡Œï¼ˆé‡è¦èµ„æ–™æ¯å¤©åŒæ­¥ï¼Œä¸é‡è¦çš„åŸºæœ¬éƒ½æ˜¯ptï¼Œbtç§å­ï¼Œå„è·¯ç½‘ç›˜åŸºæœ¬å¤Ÿæˆ‘çš„å‚¨å­˜ï¼Œè¿™ä¸ªä¸»è¦å½“ç¼“å­˜ï¼‰ ","date":"2022-11-01","objectID":"/posts/hardware/%E8%87%AA%E5%BB%BAnas%E4%B9%8Bn5095%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D/:1:0","series":null,"tags":["nas"],"title":"è‡ªå»ºnasä¹‹n5095ä¸€æ­¥åˆ°ä½","uri":"/posts/hardware/%E8%87%AA%E5%BB%BAnas%E4%B9%8Bn5095%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D/#å‰è¨€"},{"categories":null,"content":"é€‰æ‹©ç¡¬ä»¶å¼€å§‹çš„æ—¶å€™å¹¶æ²¡æœ‰æƒ³ä¹°å¾ˆè´µçš„æœºå­ï¼Œä¹‹å‰çš„æœºå­æ˜¯å­¦æ ¡æ·˜æ±°ä¸‹æ¥çš„j1800å·¨è¾£é¸¡çš„æœºå­ï¼Œæˆ‘æƒ³èƒ½æä¸ªç¡¬è§£1080på°±è¡Œï¼Œä½†éšç€åœ¨æµ·é²œå¸‚åœºçš„é¨æ¸¸ï¼ŒæŠŠè‹±ç‰¹å°”èµ›æ‰¬äº§å“çº¿ç ”ç©¶äº†ä¸ªéï¼Œå‘ç°è¿™ä¸œè¥¿è¿˜çœŸæ˜¯ä¸€åˆ†é’±ä¸€åˆ†è´§ï¼Œä¹°æ–°ä¸ä¹°æ—§ã€‚ ä» 3865u åˆ° n3700 åˆ°j3160åˆ°j3355 åˆ°j5005åˆ°n5095 æƒ³åˆ°ä¹°è¾£é¸¡çš„æ¿å­ä»¥åå¯èƒ½è¿˜å¾—æ¢ï¼Œè§‰å¾—æä¸ªç›´æ¥é€€çƒ§çš„ï¼Œä¾¿é€‰æ‹©äº†n5095ï¼Œ11ä»£intel(å…¶å®æ˜¯10ä»£)ï¼Œæ­è½½çš„æ˜¯Intel UHD Graphics (Jasper Lake 16 EU)https://www.notebookcheck.net/Intel-UHD-Graphics-Jasper-Lake-16-EU-GPU-Benchmarks-and-Specs.514806.0.htmlã€ç¡¬è§£4k10bitè‚¯å®šæ˜¯æ²¡é—®é¢˜ï¼ˆHDRå¦ç®—ï¼‰ ","date":"2022-11-01","objectID":"/posts/hardware/%E8%87%AA%E5%BB%BAnas%E4%B9%8Bn5095%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D/:2:0","series":null,"tags":["nas"],"title":"è‡ªå»ºnasä¹‹n5095ä¸€æ­¥åˆ°ä½","uri":"/posts/hardware/%E8%87%AA%E5%BB%BAnas%E4%B9%8Bn5095%E4%B8%80%E6%AD%A5%E5%88%B0%E4%BD%8D/#é€‰æ‹©ç¡¬ä»¶"},{"categories":null,"content":"Debianæä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼ˆtaskselï¼‰æ¥ç®€åŒ–æ¡Œé¢ç¯å¢ƒçš„å®‰è£…ï¼Œåªéœ€è¿è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼š $ sudo tasksel ç„¶åï¼Œä½ å¯ä»¥ä»åˆ—è¡¨ä¸­é€‰æ‹©æ‰€éœ€çš„æ¡Œé¢ç¯å¢ƒï¼Œå¦‚ä¸‹å›¾æ‰€é€‰çš„æ˜¯Cinnamonï¼š ","date":"2022-11-01","objectID":"/posts/linux/%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%89%E8%A3%85gui%E6%A1%8C%E9%9D%A2/:0:0","series":null,"tags":null,"title":"linux (debian) åœ¨å‘½ä»¤è¡Œå®‰è£…GUIæ¡Œé¢","uri":"/posts/linux/%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%89%E8%A3%85gui%E6%A1%8C%E9%9D%A2/#"},{"categories":null,"content":"è¿œç¨‹è¿æ¥å®‰è£… xrdpï¼Œä½¿ç”¨3389è¿æ¥å³å¯ ","date":"2022-11-01","objectID":"/posts/linux/%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%89%E8%A3%85gui%E6%A1%8C%E9%9D%A2/:1:0","series":null,"tags":null,"title":"linux (debian) åœ¨å‘½ä»¤è¡Œå®‰è£…GUIæ¡Œé¢","uri":"/posts/linux/%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%89%E8%A3%85gui%E6%A1%8C%E9%9D%A2/#è¿œç¨‹è¿æ¥"},{"categories":null,"content":"åŸºç¡€å®‰è£…2.1 ä¿®æ”¹ apt è½¯ä»¶æº ç¼–è¾‘source.listæ–‡ä»¶ nano /etc/apt/sources.list 1 ç²˜è´´ä»¥ä¸‹å†…å®¹ deb http://mirrors.ustc.edu.cn/debian/ bullseye main non-free contrib deb http://mirrors.ustc.edu.cn/debian/ bullseye-updates main non-free contrib deb http://mirrors.ustc.edu.cn/debian/ bullseye-backports main non-free contrib deb http://mirrors.ustc.edu.cn/debian-security/ stable-security main non-free contrib deb-src http://mirrors.ustc.edu.cn/debian/ bullseye main non-free contrib deb-src http://mirrors.ustc.edu.cn/debian/ bullseye-updates main non-free contrib deb-src http://mirrors.ustc.edu.cn/debian/ bullseye-backports main non-free contrib deb-src http://mirrors.ustc.edu.cn/debian-security/ stable-security main non-free contrib 2.2 ä¿®æ”¹ PVE è½¯ä»¶æº ç¼–è¾‘PVEè½¯ä»¶æºé…ç½®æ–‡ä»¶ cp /etc/apt/sources.list.d/pve-enterprise.list /etc/apt/sources.list.d/pve-enterprise.list_bak nano /etc/apt/sources.list.d/pve-enterprise.list ç²˜è´´å¦‚ä¸‹å†…å®¹ deb https://mirrors.ustc.edu.cn/proxmox/debian bullseye pve-no-subscription 1 2.3 ä¿®æ”¹ LXC å®¹å™¨æº å°† /usr/share/perl5/PVE/APLInfo.pm æ–‡ä»¶ä¸­é»˜è®¤çš„æºåœ°å€ http://download.proxmox.com æ›¿æ¢ä¸º https://mirrors.ustc.edu.cn/proxmox å³å¯ã€‚ cp /usr/share/perl5/PVE/APLInfo.pm /usr/share/perl5/PVE/APLInfo.pm_back sed -i â€™s|http://download.proxmox.com|https://mirrors.ustc.edu.cn/proxmox|g' /usr/share/perl5/PVE/APLInfo.pm é’ˆå¯¹ /usr/share/perl5/PVE/APLInfo.pm æ–‡ä»¶çš„ä¿®æ”¹ï¼Œé‡å¯æœåŠ¡åç”Ÿæ•ˆã€‚ systemctl restart pvedaemon.service 1 ç°åœ¨ï¼ŒPVE ç½‘é¡µç«¯ä¸‹è½½ CT Templates é€Ÿåº¦å°±å¾ˆå¿«äº†ã€‚ ","date":"2022-10-21","objectID":"/posts/pve%E5%AE%89%E8%A3%85/:1:0","series":null,"tags":null,"title":"pveå®‰è£…å’Œä½¿ç”¨","uri":"/posts/pve%E5%AE%89%E8%A3%85/#åŸºç¡€å®‰è£…"},{"categories":null,"content":"windowsè™šæ‹Ÿæœºå®‰è£…ç®€å•çš„å°±ä¸è¯´äº†ï¼Œè¿™é‡Œè¯´VirtIO,è¿™ä¸ªä¸œè¥¿éœ€è¦å®‰è£…ï¼Œå®‰è£…åä¼šå˜æˆåŠ¨æ€å†…å­˜ https://pve.proxmox.com/wiki/Windows_VirtIO_Drivers ","date":"2022-10-21","objectID":"/posts/pve%E5%AE%89%E8%A3%85/:2:0","series":null,"tags":null,"title":"pveå®‰è£…å’Œä½¿ç”¨","uri":"/posts/pve%E5%AE%89%E8%A3%85/#windowsè™šæ‹Ÿæœºå®‰è£…"},{"categories":null,"content":"lxc ç£ç›˜æŒ‚è½½æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯å…¨ç›˜æŒ‚è½½ï¼Œç±»ä¼¼ä¸ç¡¬è§£ç›´é€šï¼Œä¸€ç§æ˜¯ç±»ä¼¼ä¸dockerçš„mountç±»å‹æŒ‚è½½ï¼ŒæŒ‚è½½çš„æ˜¯ç›®å½• ","date":"2022-10-21","objectID":"/posts/pve%E5%AE%89%E8%A3%85/:3:0","series":null,"tags":null,"title":"pveå®‰è£…å’Œä½¿ç”¨","uri":"/posts/pve%E5%AE%89%E8%A3%85/#lxc-ç£ç›˜æŒ‚è½½"},{"categories":null,"content":"docker mount ç±»å‹æŒ‚è½½æ ‡å‡†æ ¼å¼ï¼špct set -mp1 /video,mp=/video å®é™…æ¡ˆä¾‹ï¼špct set 105 -mp1 /mnt/st2,mp=/home/jellyfin/media/st2 é‡å¯å®¹å™¨ã€‚ é€ä¸ªä»‹ç»ï¼š pct setï¼š åœ¨pveä¸­è¿è¡Œ 105ï¼š è‡ªå·±çš„å®¹å™¨ID -mp1ï¼š ç¬¬ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚æœæŒ‚è½½åˆ°ç¬¬äºŒã€ä¸‰ä¸ªï¼Œç”¨mp2ï¼Œmp3ä¾æ¬¡é€’å¢ã€‚ä¸è®°å¾—è®¾ç½®äº†å¤šå°‘ä¸ªï¼Œåœ¨pveå¯¹åº”çš„IDä¸­ï¼Œé‡Œé¢æœ‰èµ„æºé€‰é¡¹å¡ä¼šæ˜¾ç¤ºæŒ‚è½½çš„æƒ…å†µã€‚ /mnt/st2ï¼š è¿™æ˜¯pveä¸Šçš„ç›®å½•ä½ç½® mp=/home/jellyfin/media/st2ï¼š è¿™æ˜¯è¦æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ç›®å½•ä½ç½® æˆ–è€…ï¼š nano /etc/pve/lxc/105.conf #100æ˜¯å¯¹åº”çš„å®¹å™¨ID mp1: /mnt/st2,mp=/home/jellyfin/media/st2 ","date":"2022-10-21","objectID":"/posts/pve%E5%AE%89%E8%A3%85/:3:1","series":null,"tags":null,"title":"pveå®‰è£…å’Œä½¿ç”¨","uri":"/posts/pve%E5%AE%89%E8%A3%85/#docker-mount-ç±»å‹æŒ‚è½½"},{"categories":null,"content":"ç›´æ¥ç£ç›˜æŒ‚è½½","date":"2022-10-21","objectID":"/posts/pve%E5%AE%89%E8%A3%85/:3:2","series":null,"tags":null,"title":"pveå®‰è£…å’Œä½¿ç”¨","uri":"/posts/pve%E5%AE%89%E8%A3%85/#ç›´æ¥ç£ç›˜æŒ‚è½½"},{"categories":null,"content":"æ”¯æŒipv6https://www.haiyun.me/archives/1416.html#comment-688 ","date":"2022-10-21","objectID":"/posts/pve%E5%AE%89%E8%A3%85/:4:0","series":null,"tags":null,"title":"pveå®‰è£…å’Œä½¿ç”¨","uri":"/posts/pve%E5%AE%89%E8%A3%85/#æ”¯æŒipv6"},{"categories":null,"content":"æ£€æµ‹æ˜¯å¦æ”¯æŒusb3ç”±äºUSB3.0ä¼ è¾“æ–‡ä»¶çš„é€Ÿåº¦å¿«äºUSB2.0ï¼Œæ‰€ä»¥ç°åœ¨å¾ˆå¤šç”µè„‘éƒ½é…ç½®äº†USB3.0æ¥å£ï¼Œé‚£ä¹ˆè¦æ€ä¹ˆåˆ†è¾¨è‡ªå·±çš„ç”µè„‘æ˜¯å¦æœ‰USB3.0æ¥å£å‘¢ï¼ŸLinuxç³»ç»Ÿåªéœ€ä¸€æ¡å‘½ä»¤å°±èƒ½æ£€æµ‹å‡ºæ¥ã€‚ åœ¨Linuxç»ˆç«¯ä¸­æ£€æµ‹æ˜¯å¦æœ‰USB 3.0 ç«¯å£ æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š lsusb ","date":"2022-10-16","objectID":"/posts/linux/usb3/:1:0","series":null,"tags":null,"title":"linuxç£ç›˜ç¡¬ç›˜","uri":"/posts/linux/usb3/#æ£€æµ‹æ˜¯å¦æ”¯æŒusb3"},{"categories":null,"content":"æŸ¥çœ‹æ˜¯å¦ä»¥usb3è¿è¡ŒLinuxä¸‹æŸ¥çœ‹USBè®¾å¤‡å‘½ä»¤ï¼š cat /sys/kernel/debug/usb/devices ","date":"2022-10-16","objectID":"/posts/linux/usb3/:2:0","series":null,"tags":null,"title":"linuxç£ç›˜ç¡¬ç›˜","uri":"/posts/linux/usb3/#æŸ¥çœ‹æ˜¯å¦ä»¥usb3è¿è¡Œ"},{"categories":null,"content":"æŸ¥çœ‹æ‰€æœ‰ç£ç›˜fdisk -l ","date":"2022-10-16","objectID":"/posts/linux/usb3/:3:0","series":null,"tags":null,"title":"linuxç£ç›˜ç¡¬ç›˜","uri":"/posts/linux/usb3/#æŸ¥çœ‹æ‰€æœ‰ç£ç›˜"},{"categories":null,"content":"æŒ‚è½½ç£ç›˜umount ","date":"2022-10-16","objectID":"/posts/linux/usb3/:4:0","series":null,"tags":null,"title":"linuxç£ç›˜ç¡¬ç›˜","uri":"/posts/linux/usb3/#æŒ‚è½½ç£ç›˜"},{"categories":null,"content":"å¸è½½ç£ç›˜ï¼ˆå¼¹å‡ºç£ç›˜ï¼‰mount ","date":"2022-10-16","objectID":"/posts/linux/usb3/:5:0","series":null,"tags":null,"title":"linuxç£ç›˜ç¡¬ç›˜","uri":"/posts/linux/usb3/#å¸è½½ç£ç›˜å¼¹å‡ºç£ç›˜"},{"categories":null,"content":"æµ‹è¯•ç¡¬ç›˜é€Ÿåº¦hdparm -t sdb1 ","date":"2022-10-16","objectID":"/posts/linux/usb3/:6:0","series":null,"tags":null,"title":"linuxç£ç›˜ç¡¬ç›˜","uri":"/posts/linux/usb3/#æµ‹è¯•ç¡¬ç›˜é€Ÿåº¦"},{"categories":null,"content":"C#å§”æ‰˜","date":"2022-08-18","objectID":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/:0:0","series":null,"tags":null,"title":"C#å§”æ‰˜","uri":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/#cå§”æ‰˜"},{"categories":null,"content":"ç®€ä»‹å§”æ‰˜åœ¨å¾ˆå¤šè¯­è¨€éƒ½æœ‰å®ç°ï¼Œæ¯”å¦‚c,c++å«å‡½æ•°æŒ‡é’ˆ ","date":"2022-08-18","objectID":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/:1:0","series":null,"tags":null,"title":"C#å§”æ‰˜","uri":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/#ç®€ä»‹"},{"categories":null,"content":"å£°æ˜å§”æ‰˜//æ— è¿”å›å€¼ delegate void MyDele(int a,int b); //æœ‰è¿”å›å€¼ delegate int MyDele(int a,int b); //æ³›å‹å§”æ‰˜ delegate T MyDele\u003cT\u003e(T a,T b); delegate T MyDele\u003cT\u003e(T a,T b); ","date":"2022-08-18","objectID":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/:2:0","series":null,"tags":null,"title":"C#å§”æ‰˜","uri":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/#å£°æ˜å§”æ‰˜"},{"categories":null,"content":"ä½¿ç”¨å§”æ‰˜static void Main(){ MyDele dele = new(add); int res = dele(1,2); System.Console.WriteLine(res) ; } static int add(int a,int b){ System.Console.WriteLine(\"exec a+b\"); return a+b; } ","date":"2022-08-18","objectID":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/:3:0","series":null,"tags":null,"title":"C#å§”æ‰˜","uri":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/#ä½¿ç”¨å§”æ‰˜"},{"categories":null,"content":"åº“è‡ªå¸¦çš„å§”æ‰˜åœ¨c#åº“ä¸­ï¼Œå·²ç»å¸®æˆ‘ä»¬å®šä¹‰å¥½äº†å§”æ‰˜ï¼Œå…¶ä¸­ä¸å¸¦è¿”å›å€¼çš„å§”æ‰˜å«Action,ä¸å¸¦è¿”å›å€¼çš„å«Func ","date":"2022-08-18","objectID":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/:4:0","series":null,"tags":null,"title":"C#å§”æ‰˜","uri":"/posts/dotnet/csharp%E5%A7%94%E6%89%98/#åº“è‡ªå¸¦çš„å§”æ‰˜"},{"categories":null,"content":"åŒºåˆ†é‰´æƒï¼ˆAuthenticationï¼‰å’Œæˆæƒï¼ˆAuthorizationï¼‰","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:1:0","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#åŒºåˆ†é‰´æƒauthenticationå’Œæˆæƒauthorization"},{"categories":null,"content":"é‰´æƒï¼ˆAuthenticationï¼‰ç®€å•æ¥è¯´ï¼Œé‰´æƒå°±æ˜¯åˆ¤æ–­æ˜¯ä¸æ˜¯ä½ è¿™ä¸ªäººï¼Œæ¯”å¦‚å°±ç°å®è€Œè¨€ï¼Œå°±åƒä½ å¯ä»¥ç”¨äººè„¸ï¼ŒæŒ‡çº¹æˆ–è€…èº«ä»½è¯æ¥è¯æ˜ä½ å°±æ˜¯ä½ ï¼Œåœ¨ä¸€èˆ¬ç³»ç»Ÿä¸­ï¼Œæœ‰å¾ˆå¤šç§é‰´æƒæ–¹å¼ï¼Œæ¯”å¦‚cookie,jwt,openidè¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹è®¤è¯æ¯”å¦‚qqç™»å½•ï¼Œå¾®ä¿¡ç™»å½• ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:1:1","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#é‰´æƒauthentication"},{"categories":null,"content":"æˆæƒï¼ˆAuthorizationï¼‰ç°åœ¨å·²ç»çŸ¥é“ä½ å°±æ˜¯ä½ äº†ï¼Œç„¶åè¦çœ‹ä½ èƒ½ä¸èƒ½ç”¨è¿™ä¸ªæ¥å£ï¼Œæ¯”å¦‚ä½ æ˜¯å‘˜å·¥ï¼Œä½†æ˜¯ä½ èƒ½è°ƒç”¨ç®¡ç†å‘˜çš„æ¥å£ï¼Œè¿™æ˜¯ä¼šä¹±å¥—çš„ ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:1:2","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#æˆæƒauthorization"},{"categories":null,"content":"jwtç»“æ„ ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:2:0","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#jwtç»“æ„"},{"categories":null,"content":"è®¤è¯æµç¨‹ ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:3:0","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#è®¤è¯æµç¨‹"},{"categories":null,"content":"é…ç½®ä¸­é—´ä»¶å’Œä¾èµ–æ³¨å…¥","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:4:0","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#é…ç½®ä¸­é—´ä»¶å’Œä¾èµ–æ³¨å…¥"},{"categories":null,"content":"é…ç½®æ–‡ä»¶\u0026modelnamespace JwtAuthSample { public class JwtSettings { // tokené¢å‘è€… public string Issure{get;set;} // tokenä½¿ç”¨çš„å®¢æˆ·ç«¯ public string Audience{get;set;} // åŠ å¯†Key public string SecretKey=\"hellokey\"; } } { \"Logging\": { \"LogLevel\": { \"Default\": \"Warning\" } }, \"AllowedHosts\": \"*\", \"JwtSettings\":{ \"Audience\":\"http://localhost:5000\", \"Issuer\":\"http://localhost:5000\", \"SecretKey\":\"Hello-key\" } } ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:4:1","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#é…ç½®æ–‡ä»¶model"},{"categories":null,"content":"Program.cs// æ·»åŠ åœ¨services.AddMvc()ä¹‹å‰ services.Configure\u003cJwtSettings\u003e(Configuration); var JwtSettings = new JwtSettings(); Configuration.Bind(\"JwtSettings\",JwtSettings); // è®¤è¯MiddleWareé…ç½® services.AddAuthentication(options=\u003e{ options.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme; options.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme; }) // Jwté…ç½® .AddJwtBearer(o=\u003e{ o.TokenValidationParameters = new Microsoft.IdentityModel.Tokens.TokenValidationParameters{ ValidIssuer = JwtSettings.Issure, ValidAudience = JwtSettings.Audience, IssuerSigningKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(JwtSettings.SecretKey))// å¯¹ç§°åŠ å¯† }; }); app.UseAuthentication(); ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:4:2","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#programcs"},{"categories":null,"content":"æˆæƒxxxController.cs // æ·»åŠ å¼•ç”¨ using Microsoft.AspNetCore.Authorization; // æ·»åŠ ç‰¹æ€§ [Authorize] [Route(\"api/[controller]\")] [ApiController] public class ValuesController : ControllerBase åªè¦æ˜¯ç³»ç»Ÿå†…å°±èƒ½è°ƒç”¨è¿™ä¸ªæ¥å£ ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:5:0","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#æˆæƒ"},{"categories":null,"content":"åŸºäºè§’è‰²ï¼ˆRoleï¼‰çš„æˆæƒç»™ç”¨æˆ·è¿”å›jwtçš„æ—¶å€™ï¼ŒæŠŠè§’è‰²æˆäºˆç”¨æˆ· loginé€»è¾‘ Â·Â·Â·Â· var claims = new Claim[]{ new Claim(ClaimTypes.Name, \"mingson\"), //new Claim(ClaimTypes.Role, \"admin\"), new Claim(ClaimTypes.Role, \"user\") }; var key = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(_jwtSettings.SecretKey));// å¯¹ç§°åŠ å¯†ç®—æ³• var creds = new SigningCredentials(key, SecurityAlgorithms.HmacSha256); var token = new JwtSecurityToken( _jwtSettings.Issure, _jwtSettings.Audience, claims, DateTime.Now, DateTime.Now.AddMinutes(30), creds); return Ok(new {token = new JwtSecurityTokenHandler().WriteToken(token)}); Â·Â·Â·Â· æ³¨å…¥é…ç½® public AuthorizeController(IOptions\u003cJwtSettings\u003e _jwtSettingsAccesser) { _jwtSettings = _jwtSettingsAccesser.Value; } æ¥å£æˆæƒé…ç½® [Authorize(Role=\"Admin,User\")] //æˆ– [Authorize(Role=\"Admin\")] //ä¸ [Authorize(Role=\"User\")] åœ¨é€»è¾‘ä¸­è·å–Role ","date":"2022-07-22","objectID":"/posts/dotnet/aspnetcore_jwt/:5:1","series":null,"tags":null,"title":"ASP NET CORE jwtè®¤è¯","uri":"/posts/dotnet/aspnetcore_jwt/#åŸºäºè§’è‰²roleçš„æˆæƒ"},{"categories":null,"content":"åºè¨€ä¸Šå­¦çš„æ—¶å€™ï¼Œæ²¡å•¥æ—¶é—´æ3dæ‰“å°ï¼Œè€Œä¸”æ²¡å•¥åœ°æ–¹ï¼Œä¸Šç­åæ—¶é—´å˜å¤šï¼Œå¹¶ä¸”æœ‰è‡ªå·±çš„æˆ¿å­ï¼Œé‚å‡†å¤‡å…¥æ‰‹ä¸€ä¸ª ","date":"2022-07-13","objectID":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/:1:0","series":null,"tags":null,"title":"3dæ‰“å°ä¹‹å¯åºklp1æµ‹è¯„","uri":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/#åºè¨€"},{"categories":null,"content":"é€‰è´­çœ‹äº†ç½‘ä¸Šè®¸å¤šæµ‹è¯„ï¼Œå‘ç°å¾ˆå¤šæ¨èæ‹“ç«¹çš„ï¼Œä¸è¿‡ä»·æ ¼å¯¹æˆ‘æ¥è¯´è¿˜æ˜¯åé«˜ï¼Œæˆ‘è‡ªå·±æ˜¯æ€§ä»·æ¯”è‡³ä¸Šå…šï¼Œè‡ªè®¤ä¸ºèƒ½æœ‰ä¸€å®šçš„å­¦ä¹ èƒ½åŠ›ï¼Œé€‰æ‹©äº†è¿™ä¸ª ","date":"2022-07-13","objectID":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/:2:0","series":null,"tags":null,"title":"3dæ‰“å°ä¹‹å¯åºklp1æµ‹è¯„","uri":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/#é€‰è´­"},{"categories":null,"content":"ç¡¬ä»¶xyçº¿è½¨ å•zè½´ å°ºå¯¸225225225 cpu rk3328 å†…å­˜ 1g å­˜å‚¨ 8g emmc æ˜¾ç¤ºå±5å¯¸spi wifi2.4g æœ‰çº¿100m æ— æ‘„åƒå¤´ ","date":"2022-07-13","objectID":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/:3:0","series":null,"tags":null,"title":"3dæ‰“å°ä¹‹å¯åºklp1æµ‹è¯„","uri":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/#ç¡¬ä»¶"},{"categories":null,"content":"åŸºæœ¬ä½¿ç”¨å…ˆè¯´ç»“è®ºã€‚åæ¶ˆæ¯æ˜¯è¿™ä¸ªä¸œè¥¿ç±»ä¼¼äºä¸€ä¸ªåŠæˆå“ï¼Œæ„Ÿè§‰å°±æ˜¯åˆšèƒ½ç”¨å°±æ‹¿å‡ºæ¥å–äº†ï¼Œç›¸å½“äºä½ å°±ä¹°äº†ä¸ªç¡¬ä»¶ï¼Œè½¯ä»¶å•¥çš„ä½ éƒ½å¾—è‡ªå·±è°ƒæ•´ï¼Œå¾ˆå¤šä¸œè¥¿ä»–éƒ½æ²¡å¸®ä½ æå¥½æ¯”å¦‚ è¯´æ˜ä¹¦ä¸å¤Ÿè¯¦ç»† å›ºä»¶å‡çº§éƒ½æ²¡æœ‰ï¼Ÿå‡†å¤‡ä¸€ä¸ªç‰ˆæœ¬å¹²åˆ°åº•å—ï¼Ÿè¿˜æ˜¯è¯´æˆ˜æœªæ¥ï¼Ÿï¼Ÿï¼Ÿ ä¸œè¥¿éƒ½ç”¨å¼€æºçš„ï¼Œæ²¡é—®é¢˜ï¼Œé—®é¢˜æ˜¯å¾ˆå¤šä¸œè¥¿éƒ½æ²¡è°ƒæ•™å¥½å°±æä¸Šæ¥äº†ï¼Œæ¯”å¦‚æ‘„åƒå¤´ï¼Œæ¯”å¦‚wifiï¼Œlogä¸€ç›´æŠ¥é”™ï¼ˆèƒ½ç”¨ï¼‰ ç³»ç»Ÿæ—¶é—´ä¸å¯¹ï¼Œç”šè‡³ä¸æ„¿æ„åŠ ä¸ªrtcï¼Œç”¨ç½‘çº¿æ²¡é—®é¢˜ï¼Œç”¨wifiä¸è¡Œï¼Œä»–ä¼šåœ¨å¯åŠ¨æ—¶ä»ç½‘ç»œè·å–æ—¶é—´ï¼Œè¿™æ—¶å€™wifiè¿˜æ²¡è¿ä¸Šï¼Œå°±è·å–ä¸åˆ°äº† æ‰“å®ŒæŠ¥é”™ æœ‰æ—¶å€™æ‰“å°ä¸€åŠæŠ¥é”™ï¼ˆä¸€èˆ¬æ˜¯å¤§æ–‡ä»¶ï¼Œæˆ–è€…å¤§ä»¶ï¼‰ æŠ€æœ¯æ”¯æŒæŠ€æœ¯ä¸€èˆ¬ï¼Œå‡ºé”™äº†è¯´æˆ‘cpuæ¸©åº¦å¤ªé«˜ï¼ˆæŒ‡40åº¦ï¼Œè¯´ä»–ä»¬æ‰“å°éƒ½æ˜¯30åº¦çš„ï¼Œä½ è§è¿‡å“ªä¸ªcpuå¼€æœºåèƒ½ä½äº30åº¦ï¼Ÿï¼‰ çƒ­åºŠè°ƒçš„ä¸æ˜¯å¾ˆå¹³ï¼Œè™½ç„¶æœ‰è‡ªåŠ¨è°ƒå¹³ï¼Œä½†æˆ‘è¿™å·®äº†2.1mmä¹Ÿæœ‰ç‚¹å¤šäº†å§å–‚ ç»“æ„è®¾è®¡å¯èƒ½ä¸å¤Ÿå‘¨å…¨ï¼Œå†…éƒ¨èµ°çº¿ä¸å¤Ÿæ•´é½ï¼Œä¹±ç³Ÿç³Ÿçš„ï¼ˆå–·å˜´ï¼‰ â€¦ å¥½æ¶ˆæ¯æ˜¯ï¼Œåªè¦ä½ æœ‰ä¸€å®šçš„å­¦ä¹ èƒ½åŠ›ï¼Œèƒ½å¤Ÿè‡ªå·±è§£å†³é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸œè¥¿è¿˜æ˜¯å¯ä»¥ç”¨çš„ï¼Œä»¥ä¸‹æ˜¯ä½ å¯èƒ½è¦å­¦ä¹ çš„ä¸œè¥¿ï¼š 3dæ‰“å°çš„åŸºæœ¬çŸ¥è¯†ï¼ˆè¿™ä¸ªä¸ç”¨è¯´äº†ï¼‰ linuxåŸºæœ¬çŸ¥è¯†(è½¯ä»¶å®‰è£…ï¼Œæ–‡ä»¶ç¼–è¾‘ï¼Œæ–‡ä»¶ç³»ç»Ÿ) ç¡¬ä»¶åŸºæœ¬çŸ¥è¯†ï¼Œè‡³å°‘çŸ¥é“è¿™ä¸ªæœºå™¨æ˜¯ç”±å“ªäº›ä¸œè¥¿ç»„æˆçš„ï¼ˆå•ç‰‡æœºï¼Œæ€»çº¿â€¦ klipperåŸºæœ¬çŸ¥è¯†ï¼ˆæœ‰ç‚¹å¤š æŸ¥logï¼Œåˆ†ælogçš„èƒ½åŠ› æœ€é‡è¦çš„æ˜¯ï¼Œä½ å¾—æœ‰è€å¿ƒï¼Œæœ‰å¯¹è¿™ä¸ªä¸œè¥¿çš„çƒ­æƒ…ï¼Œä¸ç„¶å¯èƒ½å‡ºé”™äº†å°±ç›´æ¥abort ","date":"2022-07-13","objectID":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/:4:0","series":null,"tags":null,"title":"3dæ‰“å°ä¹‹å¯åºklp1æµ‹è¯„","uri":"/posts/3d%E6%89%93%E5%8D%B0%E4%B9%8B%E5%90%AF%E5%BA%9Eklp1%E6%B5%8B%E8%AF%84/#åŸºæœ¬ä½¿ç”¨"},{"categories":null,"content":"æ­£åˆ™è¡¨è¾¾å¼æ•è·ç»„ MigrationStatus ?= (MigrationStatus..?); å…¶ä¸­å¤§æ‹¬å·é‡Œé¢çš„å°±æ˜¯ä¸€ä¸ªæ•è·ç»„ï¼Œå¯ä»¥åœ¨æ›¿æ¢çš„æ—¶å€™ä½¿ç”¨ AddReportStatus($1); ","date":"2022-07-13","objectID":"/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/:1:0","series":null,"tags":null,"title":"æ­£åˆ™è¡¨è¾¾å¼","uri":"/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#æ­£åˆ™è¡¨è¾¾å¼"},{"categories":null,"content":"ä»£ç æ³¨é‡Šæ³¨é‡Šé€‰å®šå†…å®¹ å•è¡Œæ³¨é‡Š Ctrl+K ç„¶åCtrl+C æ³¨é‡Š æˆ–è€…Ctrl+K+C ","date":"2022-06-28","objectID":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/:0:1","series":null,"tags":null,"title":"vså¿«æ·é”®ä¿®æ”¹","uri":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/#ä»£ç æ³¨é‡Š"},{"categories":null,"content":"ctrl+wé€‰ä¸­ä»£ç å—ç¼–è¾‘.å±•å¼€é€‰å®šå†…å®¹ é€‰æ‹©å½“å‰å­— å»æ‰ shift+alt+= ","date":"2022-06-28","objectID":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/:0:2","series":null,"tags":null,"title":"vså¿«æ·é”®ä¿®æ”¹","uri":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/#ctrlwé€‰ä¸­ä»£ç å—"},{"categories":null,"content":"ä»£ç æ ¼å¼åŒ–ç¼–è¾‘.è®¾ç½®æ–‡æ¡£ ctrl+k+d ","date":"2022-06-28","objectID":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/:0:3","series":null,"tags":null,"title":"vså¿«æ·é”®ä¿®æ”¹","uri":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/#ä»£ç æ ¼å¼åŒ–"},{"categories":null,"content":"è§£å†³æ–¹æ¡ˆç®¡ç†å™¨ctrl+shift+l ","date":"2022-06-28","objectID":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/:0:4","series":null,"tags":null,"title":"vså¿«æ·é”®ä¿®æ”¹","uri":"/posts/dotnet/vs%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%BF%AE%E6%94%B9/#è§£å†³æ–¹æ¡ˆç®¡ç†å™¨"},{"categories":null,"content":"https://docs.microsoft.com/zh-cn/dotnet/standard/io/ ","date":"2022-06-24","objectID":"/posts/dotnet/dotnet%E6%96%87%E4%BB%B6io/:0:0","series":null,"tags":null,"title":".netæ–‡ä»¶io","uri":"/posts/dotnet/dotnet%E6%96%87%E4%BB%B6io/#"},{"categories":null,"content":"å‰è¨€é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹åœ¨ASP.NETæ—¶ä»£ï¼ŒAuthenticationæ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚ä¸‹é¢ä»‹ç»çš„æ˜¯System.Web.Security.FormsAuthenticationï¼š // ç™»å½• System.Web.Security.FormsAuthentication.SetAuthCookie(\"userName\", false); if(User.Identity.IsAuthenticated) { // å·²è®¤è¯ } // é€€å‡ºç™»å½• System.Web.Security.FormsAuthentication.SignOut(); è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„è®¤è¯ç”¨æ³•ï¼š ç”¨æˆ·å¡«å†™è´¦å·å¯†ç å¹¶æäº¤ç™»å½•ï¼› æœåŠ¡å™¨åº”ç”¨é€šè¿‡System.Web.Security.FormsAuthentication.SetAuthCookie(string userName, bool createPersistentCookie)æ¥ç”ŸæˆAuth Cookieï¼Œå¹¶è¿”å›åˆ°browserï¼› ç”¨æˆ·è¿›è¡Œä¸‹ä¸€ä¸ªæ“ä½œæ—¶ï¼Œä¼šå¸¦ä¸ŠAuth Cookieå‘åˆ°æœåŠ¡å™¨åº”ç”¨ï¼› æœåŠ¡å™¨åº”ç”¨è§£æå¹¶ç»‘å®šåˆ°Controller.Userå±æ€§ä¸Šï¼Œé€šè¿‡User.Identity.IsAuthenticatedåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²è®¤è¯ï¼› æœ€åé€šè¿‡System.Web.Security.FormsAuthentication.SignOut()æ¥åˆ é™¤Auth Cookieï¼› æƒ³è¦è®¾ç½®ç”Ÿæˆçš„Auth Cookieå±æ€§ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹web.cofigçš„\u003cauthentication\u003eé…ç½®é¡¹ï¼š \u003cconfiguration\u003e ... \u003csystem.web\u003e \u003cauthentication mode=\"Forms\" \u003e \u003cforms cookieless=\"UseCookies\" domain=\"\" path=\"\" name=\"\" timeout=\"\" loginUrl=\"\"\u003e\u003c/forms\u003e \u003c/authentication\u003e \u003c/system.web\u003e .... \u003c/configuration\u003e æ›´å¤šé…ç½®é¡¹å¯æŸ¥çœ‹FormsAuthenticationConfigurationã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/aspnetcore_auth/:0:0","series":null,"tags":null,"title":"ASP NET CORE Auth","uri":"/posts/dotnet/aspnetcore_auth/#å‰è¨€"},{"categories":null,"content":"Authentication in ASP.NET Coreè™½ç„¶ASP.NETä¸ASP.NET Coreçš„åº•å±‚è®¾è®¡å¾ˆä¸ä¸€æ ·ï¼Œä½†Authenticationçš„åŸºæœ¬ç”¨æ³•å¹¶æ²¡æœ‰å¤ªå¤§çš„æ”¹å˜ï¼ŒåŒæ ·é€šè¿‡HttpContext.Useræ¥åˆ¤æ–­è®¤è¯ã€‚ ASP.NETçš„Authorisationæ˜¯role-basedçš„ï¼Œè€ŒASP.NET Coreçš„æ˜¯åŸºäºclaims-basedçš„ï¼ˆè™½ç„¶ASP.NET CoreåŒæ ·æ”¯æŒrole-basedï¼Œä½†è¿™æ›´å¤šæ˜¯ä¸ºäº†å‘åå…¼å®¹ï¼Œæ¨èä½¿ç”¨claims-basedï¼‰ã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/aspnetcore_auth/:0:0","series":null,"tags":null,"title":"ASP NET CORE Auth","uri":"/posts/dotnet/aspnetcore_auth/#authentication-in-aspnet-core"},{"categories":null,"content":"Claims-based authenticationè¦ç†è§£Claims-based authenticationï¼Œå°±å¿…é¡»ç†è§£Claim, ClaimsIdentity, ClaimsPrincipalè¿™ä¸‰è€…çš„å…³ç³»ã€‚ Claimæ˜¯å¯¹è¢«è®¤è¯ä¸»ä½“ç‰¹å¾çš„ä¸€ç§è¡¨è¿°ï¼Œæ¯”å¦‚ï¼šç™»å½•ç”¨æˆ·åæ˜¯â€¦ï¼Œemailæ˜¯â€¦ï¼Œç”¨æˆ·Idæ˜¯â€¦ï¼Œå…¶ä¸­çš„â€œç™»å½•ç”¨æˆ·åâ€ï¼Œâ€œemailâ€ï¼Œâ€œç”¨æˆ·Idâ€å°±æ˜¯ClaimTypeã€‚ å¯¹åº”ç°å®ä¸­çš„äº‹ç‰©ï¼Œæ¯”å¦‚é©¾ç…§ï¼Œé©¾ç…§ä¸­çš„â€œèº«ä»½è¯å·ç ï¼šxxxâ€æ˜¯ä¸€ä¸ªclaimï¼Œâ€œå§“åï¼šxxxâ€æ˜¯å¦ä¸€ä¸ªclaimã€‚ ä¸€ç»„claimsæ„æˆäº†ä¸€ä¸ªidentityï¼Œå…·æœ‰è¿™äº›claimsçš„identityå°±æ˜¯ClaimsIdentity ï¼Œé©¾ç…§å°±æ˜¯ä¸€ç§ClaimsIdentityï¼Œå¯ä»¥æŠŠClaimsIdentityç†è§£ä¸ºâ€œè¯ä»¶â€ï¼Œé©¾ç…§æ˜¯ä¸€ç§è¯ä»¶ï¼ŒæŠ¤ç…§ä¹Ÿæ˜¯ä¸€ç§è¯ä»¶ã€‚ ClaimsIdentityçš„æŒæœ‰è€…å°±æ˜¯ClaimsPrincipal ï¼Œä¸€ä¸ªClaimsPrincipalå¯ä»¥æŒæœ‰å¤šä¸ªClaimsIdentityï¼Œå°±æ¯”å¦‚ä¸€ä¸ªäººæ—¢æŒæœ‰é©¾ç…§ï¼ŒåˆæŒæœ‰æŠ¤ç…§ã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/aspnetcore_auth/:0:0","series":null,"tags":null,"title":"ASP NET CORE Auth","uri":"/posts/dotnet/aspnetcore_auth/#claims-based-authentication"},{"categories":null,"content":"ä¸¾ä¾‹è¯´æ˜ä¸Šé¢å¯¹Claim, ClaimsIdentity, ClaimsPrincipalä¸‰è€…çš„æè¿°å¯èƒ½è¿˜æœ‰äº›ä¸å¤ªå¥½ç†è§£ï¼Œä¸‹é¢ä¼šä¸¾ä¾‹è¯´æ˜è¿™ä¸‰è€…çš„å…³ç³»ï¼š ä»¥ç™»æœºä¸ºä¾‹ï¼Œåœ¨ç™»æœºå‰éœ€è¦å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š å–ç™»æœºç‰Œ è¿‡å®‰æ£€ VIPåŒºå€™æœºï¼ˆå‡è®¾ä½ æ˜¯VIPï¼‰ ","date":"2022-06-24","objectID":"/posts/dotnet/aspnetcore_auth/:0:0","series":null,"tags":null,"title":"ASP NET CORE Auth","uri":"/posts/dotnet/aspnetcore_auth/#ä¸¾ä¾‹è¯´æ˜"},{"categories":null,"content":"1. å–ç™»æœºç‰Œä½ åˆ°äº†æœºåœºï¼Œè¦å‘å®¢æœæ‰“å°ç™»æœºç‰Œï¼ˆè™½ç„¶ç°åœ¨å·²ç»æ˜¯é€šè¿‡æœºæ“æ‰“å°çš„äº†ï¼‰ï¼Œå®¢æœé—®ä½ å«ä»€ä¹ˆåå­—ï¼Œå¹¶è¦æ±‚å‡ºç¤ºèƒ½è¯æ˜ä½ åå­—çš„ç›¸å…³è¯ä¹¦ï¼Œä¾‹å¦‚Passportï¼Œå…¶ä¸­åå­—å°±æ˜¯ä¸€ä¸ªClaimï¼ŒPassportå°±æ˜¯ä¸€ä¸ªClaimsIdentityã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/aspnetcore_auth/:0:1","series":null,"tags":null,"title":"ASP NET CORE Auth","uri":"/posts/dotnet/aspnetcore_auth/#1-å–ç™»æœºç‰Œ"},{"categories":null,"content":"2. è¿‡å®‰æ£€å½“ä½ æ‹¿åˆ°äº†ç™»æœºç‰Œï¼ˆBoardingPassï¼‰å¹¶å‡†å¤‡è¿‡å®‰æ£€ï¼Œæ­¤æ—¶å®‰æ£€äººå‘˜è¦æ±‚ä½ å‡ºç¤ºèˆªç­å·ï¼Œæ­¤æ—¶ä½ æ‹¿å‡ºç™»æœºç‰Œç»™å®‰æ£€äººå‘˜æŸ¥çœ‹èˆªç­å·ï¼Œå…¶ä¸­èˆªç­å·å°±æ˜¯ä¸€ä¸ªClaimï¼ŒBoardingPasså°±æ˜¯ä¸€ä¸ªClaimsIdentityã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/aspnetcore_auth/:0:2","series":null,"tags":null,"title":"ASP NET CORE Auth","uri":"/posts/dotnet/aspnetcore_auth/#2-è¿‡å®‰æ£€"},{"categories":null,"content":"3. VIPåŒºå€™æœºå½“ä½ é€šè¿‡å®‰æ£€è¿›å…¥äº†å€™æœºåŒºï¼Œä½ æ˜¯æœºåœºçš„VIPï¼Œå°±æ‰“ç®—åˆ°VIPåŒºä¼‘æ¯ä¸€ä¸‹ï¼Œæ­¤æ—¶å·¥ä½œäººå‘˜è¦æ±‚ä½ å‡ºç¤ºVIPå·ï¼Œä½ æ‹¿å‡ºVIPç‰‡ç»™å·¥ä½œäººå‘˜æŸ¥çœ‹ï¼Œå…¶ä¸­VIPå·å°±æ˜¯ä¸€ä¸ªClaimï¼ŒVIPç‰‡å°±æ˜¯ä¸€ä¸ªClaimsIdentityã€‚ ä¸Šé¢çš„æ¯ä¸ªæ­¥éª¤å¦‚æœéƒ½ä¸èƒ½å‡ºç¤ºç›¸åº”çš„ClaimsIdentityå°±ä¼šè¢«æ‹’ç»æ‰§è¡ŒæŒ‡ç¤ºï¼Œä¸‹é¢çš„å›¾å±•ç¤ºäº†è¿™ä¸ªè¿‡ç¨‹ï¼š æœ€åå…¨éƒ¨çš„ClaimsIdentityä»£è¡¨äº†ä½ æœ¬äººï¼Œè€Œä½ å°±æ˜¯ClaimsPrincipalã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/aspnetcore_auth/:0:3","series":null,"tags":null,"title":"ASP NET CORE Auth","uri":"/posts/dotnet/aspnetcore_auth/#3-vipåŒºå€™æœº"},{"categories":null,"content":"https://docs.microsoft.com/zh-cn/dotnet/standard/serialization/system-text-json-overview?pivots=dotnet-6-0 ","date":"2022-06-24","objectID":"/posts/dotnet/csharpjson/:0:0","series":null,"tags":null,"title":"C#json","uri":"/posts/dotnet/csharpjson/#"},{"categories":null,"content":"Demo äº‹ä»¶å£°æ˜å®Œæ•´æ ¼å¼é¡¾å®¢-customerè¿›å…¥é¤é¦†ç‚¹èœï¼ˆè§¦å‘äº‹ä»¶ï¼‰ï¼ŒæœåŠ¡å‘˜-waiterï¼ˆæ”¶åˆ°äº‹ä»¶å¹¶å¤„ç†ï¼‰ namespace Exception { class Program { static void Main(string[] args) { Customer customer = new(); Waiter waiter = new(); customer.Order += waiter.Action; customer.Action(); customer.PayTheBill(); } } internal class Waiter { internal void Action(Customer customer, OrderEventArgs e) { Console.WriteLine(\"I will service the dish {0}\",e.DishName); double price = 10; switch (e.Size) { case \"smaill\": price *= 0.5; break; case \"big\": price = price * 5; break; } customer.Bill = price; } } //å§”æ‰˜å£°æ˜ï¼Œé»˜è®¤éœ€è¦åŠ EventHandler public delegate void OrderEventHandler(Customer customer, OrderEventArgs e); //ç»§æ‰¿è‡ªå§”æ‰˜å‚æ•°åŸºç±» public class OrderEventArgs:EventArgs { public string DishName { get; set; } public string Size { get; set; } } public class Customer { private OrderEventHandler orderEventHander; //äº‹ä»¶å£°æ˜ public event OrderEventHandler Order { add { orderEventHander += value; } remove { orderEventHander -= value; } } public double Bill { get; set; } public void PayTheBill() { Console.WriteLine(\"i wall pay ${0}\", this.Bill); } public void Think() { for (int i = 0; i \u003c 5; i++) { Console.WriteLine(\"think.....\"); } if (this.orderEventHander != null) { OrderEventArgs e = new() { DishName = \"hongshaorou\", Size = \"big\" }; //æ‰§è¡Œäº‹ä»¶event orderEventHander.Invoke(this, e); } } public void Action() { Think(); } } } ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:1:0","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#demo-äº‹ä»¶å£°æ˜å®Œæ•´æ ¼å¼"},{"categories":null,"content":"äº‹ä»¶å£°æ˜ç®€å•æ¨¡å¼public event OrderEventHandler Order; å®Œæ•´æ¨¡å¼ private OrderEventHandler orderEventHander; public event OrderEventHandler Order { add { orderEventHander += value; } remove { orderEventHander -= value; } } å¯ä»¥çœ‹åˆ°ï¼ŒorderEventHanderè¿™ä¸ªå±æ€§å·²ç»æ²¡æœ‰äº†ï¼Œå˜æˆäº†order,æ˜“æœ‰æ­§ä¹‰ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:2:0","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#äº‹ä»¶å£°æ˜ç®€å•æ¨¡å¼"},{"categories":null,"content":"ä¸ºå•¥æœ‰å§”æ‰˜äº†è¿˜è¦äº‹ä»¶ä¸ºäº†æƒé™ç®¡æ§ï¼Œé˜²æ­¢æ»¥ç”¨æˆ–è€…è¯¯ç”¨ Customer customer = new(); Waiter waiter = new(); customer.Order += waiter.Action; OrderEventArgs e = new() { DishName = \"pijiuyu\", Size = \"small\" }; Customer badGuy = new(); badGuy.Order += waiter.Action; //************** badGuy.Order.Invoke(customer, e); //************** customer.PayTheBill(); å£°æ˜çš„äº‹ä»¶ï¼Œåªèƒ½ä½¿ç”¨+æˆ–-æ“ä½œç¬¦ï¼Œä½†æ˜¯å§”æ‰˜å¯ä»¥ç›´æ¥è°ƒç”¨æ–¹æ³• å¦‚ä¸Šï¼Œè‹¥å£°æ˜æˆå§”æ‰˜ï¼Œåˆ™ç›´æ¥å¯ä»¥è°ƒç”¨åˆ«äººçš„äº‹ä»¶ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:3:0","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#ä¸ºå•¥æœ‰å§”æ‰˜äº†è¿˜è¦äº‹ä»¶"},{"categories":null,"content":"äº‹ä»¶çš„æœ¬è´¨æ˜¯å§”æ‰˜å­—æ®µçš„ä¸€ä¸ªåŒ…è£…å™¨ è¿™ä¸ªåŒ…è£…å™¨å¯¹å§”æ‰˜å­—æ®µçš„è®¿é—®èµ·é™åˆ¶ä½œç”¨ï¼Œç›¸å½“äºä¸€ä¸ªâ€œè’™æ¿ å°è£…ï¼ˆencapsulation)çš„ä¸€ä¸ªé‡è¦åŠŸèƒ½å°±æ˜¯éšè— äº‹ä»¶å¯¹å¤–ç•Œéšè—äº†å§”æ‰˜å®ä¾‹çš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œä»…æš´éœ²æ·»åŠ /ç§»é™¤äº‹ä»¶å¤„ç†å™¨çš„åŠŸèƒ½ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:3:1","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#äº‹ä»¶çš„æœ¬è´¨æ˜¯å§”æ‰˜å­—æ®µçš„ä¸€ä¸ªåŒ…è£…å™¨"},{"categories":null,"content":"ç”¨äºå£°æ˜äº‹ä»¶çš„å§”æ‰˜ç±»å‹çš„å‘½åçº¦å®š ç”¨äºå£°æ˜Fooäº‹ä»¶çš„å§”æ‰˜ï¼Œä¸€èˆ¬å‘½åä¸ºFooEventHandler(é™¤éæ˜¯ä¸€ä¸ªéå¸¸é€šç”¨çš„äº‹ä»¶çº¦æŸï¼‰ FooEventHandlerå§”æ‰˜çš„å‚æ•°ä¸€èˆ¬æœ‰ä¸¤ä¸ªï¼ˆç”±Win32APIæ¼”åŒ–è€Œæ¥ï¼Œå†å²æ‚ ä¹…ï¼‰ ç¬¬ä¸€ä¸ªæ˜¯objectç±»å‹ï¼Œåå­—ä¸ºsender,å®é™…ä¸Šå°±æ˜¯äº‹ä»¶çš„æ‹¥æœ‰è€…ã€äº‹ä»¶çš„sourceã€‚ ç¬¬äºŒä¸ªæ˜¯EventArgsç±»çš„æ´¾ç”Ÿç±»ï¼Œç±»åä¸€èˆ¬ä¸ºFooEventArgs,å‚æ•°åä¸ºeã€‚ä¹Ÿå°±æ˜¯å‰é¢è®²è¿‡çš„äº‹ä»¶å‚æ•° è™½ç„¶æ²¡æœ‰å®˜æ–¹çš„è¯´æ³•ï¼Œä½†æˆ‘ä»¬å¯ä»¥æŠŠå§”æ‰˜çš„å‚æ•°åˆ—è¡¨çœ‹åšæ˜¯äº‹ä»¶å‘ç”Ÿåå‘é€ç»™äº‹ä»¶å“åº”è€…çš„â€œäº‹ä»¶æ¶ˆæ¯â€ è§¦å‘Fooäº‹ä»¶çš„æ–¹æ³•ä¸€èˆ¬å‘½åä¸ºOnFoo,å³â€œå› ä½•å¼•å‘â€ã€â€œäº‹å‡ºæœ‰å› â€ è®¿é—®çº§åˆ«ä¸ºprotected,ä¸èƒ½ä¸ºpublic,ä¸ç„¶åˆæˆäº†å¯ä»¥â€œå€Ÿåˆ€æ€äººâ€äº† ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:3:2","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#ç”¨äºå£°æ˜äº‹ä»¶çš„å§”æ‰˜ç±»å‹çš„å‘½åçº¦å®š"},{"categories":null,"content":"äº‹ä»¶çš„å‘½åçº¦å®š å¸¦æœ‰æ—¶æ€çš„åŠ¨è¯æˆ–è€…åŠ¨è¯çŸ­è¯­ äº‹ä»¶æ‹¥æœ‰è€…â€œæ­£åœ¨åšâ€ä»€ä¹ˆäº‹æƒ…ï¼Œç”¨è¿›è¡Œæ—¶ï¼›äº‹ä»¶æ‹¥æœ‰è€…â€œåšå®Œäº†â€œä»€ä¹ˆäº‹æƒ…ï¼Œç”¨å®Œæˆæ—¶ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:3:3","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#äº‹ä»¶çš„å‘½åçº¦å®š"},{"categories":null,"content":"äº‹ä»¶ä¸å§”æ‰˜çš„å…³ç³»","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:4:0","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#äº‹ä»¶ä¸å§”æ‰˜çš„å…³ç³»"},{"categories":null,"content":"äº‹ä»¶çœŸçš„æ˜¯\"ä»¥ç‰¹æ®Šæ–¹å¼å£°æ˜çš„å§”æ‰˜å­—æ®µ/å®ä¾‹\"å—ï¼Ÿä¸æ˜¯ï¼åªæ˜¯å£°æ˜çš„æ—¶å€™â€œçœ‹èµ·æ¥åƒâ€ï¼ˆå¯¹æ¯”å§”æ‰˜å­—æ®µä¸äº‹ä»¶çš„ç®€åŒ–å£°æ˜ï¼Œfield-like) äº‹ä»¶å£°æ˜çš„æ—¶å€™ä½¿ç”¨äº†å§”æ‰˜ç±»å‹ï¼Œç®€åŒ–å£°æ˜é€ æˆäº‹ä»¶çœ‹ä¸Šå»åƒä¸€ä¸ªå§”æ‰˜çš„å­—æ®µï¼ˆå®ä¾‹ï¼‰,è€Œeventå…³é”®å­—åˆ™æ›´åƒæ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦â€”â€”è¿™å°±æ˜¯é”™è§‰çš„æ¥æºä¹‹ è®¢é˜…äº‹ä»¶çš„æ—¶å€™+=æ“ä½œç¬¦åé¢å¯ä»¥æ˜¯ä¸€ä¸ªå§”æ‰˜å®ä¾‹ï¼Œè¿™ä¸å§”æ‰˜å®ä¾‹çš„èµ‹å€¼æ–¹æ³•è¯­æ³•ç›¸åŒï¼Œè¿™ä¹Ÿè®©äº‹ä»¶çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå§”æ‰˜å­—æ®µâ€”â€”è¿™æ˜¯é”™è§‰çš„åˆä¸€æ¥æº é‡ç”³ï¼šäº‹ä»¶çš„æœ¬è´¨æ˜¯åŠ è£…åœ¨å§”æ‰˜å­—æ®µä¸Šçš„ä¸€ä¸ªâ€œè’™æ¿â€ï¼ˆmask),æ˜¯ä¸ªèµ·æ©è”½ä½œç”¨çš„åŒ…è£…å™¨ã€‚è¿™ä¸ªç”¨äºé˜»æŒ¡éæ³•æ“ä½œçš„â€œè’™æ¿â€ç»ä¸æ˜¯å§”æ‰˜å­—æ®µæœ¬èº« ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:4:1","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#äº‹ä»¶çœŸçš„æ˜¯ä»¥ç‰¹æ®Šæ–¹å¼å£°æ˜çš„å§”æ‰˜å­—æ®µå®ä¾‹å—"},{"categories":null,"content":"ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å§”æ‰˜ç±»å‹æ¥å£°æ˜äº‹ä»¶ï¼Ÿç«™åœ¨sourceçš„è§’åº¦æ¥çœ‹ï¼Œæ˜¯ä¸ºäº†è¡¨æ˜sourceèƒ½å¯¹å¤–ä¼ é€’å“ªäº›æ¶ˆæ¯ ç«™åœ¨subscriberçš„è§’åº¦æ¥çœ‹ï¼Œå®ƒæ˜¯ä¸€ç§çº¦å®šï¼Œæ˜¯ä¸ºäº†çº¦æŸèƒ½å¤Ÿä½¿ç”¨ä»€ä¹ˆæ ·ç­¾åçš„æ–¹æ³•æ¥å¤„ç†ï¼ˆå“åº”ï¼‰äº‹ä»¶ å§”æ‰˜ç±»å‹çš„å®ä¾‹å°†ç”¨äºå­˜å‚¨ï¼ˆå¼•ç”¨ï¼‰äº‹ä»¶å¤„ç†å™¨ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:4:2","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å§”æ‰˜ç±»å‹æ¥å£°æ˜äº‹ä»¶"},{"categories":null,"content":"å¯¹æ¯”äº‹ä»¶ä¸å±æ€§å±æ€§ä¸æ˜¯å­—æ®µâ€”â€”å¾ˆå¤šæ—¶å€™å±æ€§æ˜¯å­—æ®µçš„åŒ…è£…å™¨ï¼Œè¿™ä¸ªåŒ…è£…å™¨ç”¨æ¥ä¿æŠ¤å­—æ®µä¸è¢«æ»¥ç”¨ äº‹ä»¶ä¸æ˜¯å§”æ‰˜å­—æ®µâ€”â€”å®ƒæ˜¯å§”æ‰˜å­—æ®µçš„åŒ…è£…å™¨ï¼Œè¿™ä¸ªåŒ…è£…å™¨ç”¨æ¥ä¿æŠ¤å§”æ‰˜å­—æ®µä¸è¢«æ»¥ç”¨ åŒ…è£…å™¨æ°¸è¿œéƒ½ä¸å¯èƒ½æ˜¯è¢«åŒ…è£…çš„ä¸œè¥¿ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/:5:0","series":null,"tags":null,"title":"c#äº‹ä»¶","uri":"/posts/dotnet/csharp%E4%BA%8B%E4%BB%B6/#å¯¹æ¯”äº‹ä»¶ä¸å±æ€§"},{"categories":null,"content":"c#å…¥é—¨","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:0:0","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#cå…¥é—¨"},{"categories":null,"content":"æ‰“å°int a = 1 Console.WriteLine($\"a is {a}\") ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:1:0","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#æ‰“å°"},{"categories":null,"content":"åˆ†æ”¯å’Œå¾ªç¯","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:2:0","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#åˆ†æ”¯å’Œå¾ªç¯"},{"categories":null,"content":"ifint a = 5; int b = 3; if (a + b \u003e 10) { Console.WriteLine(\"The answer is greater than 10\"); } else { Console.WriteLine(\"The answer is not greater than 10\"); } ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:2:1","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#if"},{"categories":null,"content":"forfor (int index = 0; index \u003c 10; index++) { Console.WriteLine($\"Hello World! The index is {index}\"); } var names = new List\u003cstring\u003e { \"\u003cname\u003e\", \"Ana\", \"Felipe\" }; foreach (var name in names) { Console.WriteLine($\"Hello {name.ToUpper()}!\"); } ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:2:2","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#for"},{"categories":null,"content":"åˆ—è¡¨é›†åˆvar names = new List\u003cstring\u003e { \"Tom\", \"Ana\", \"Felipe\" }; ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:3:0","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#åˆ—è¡¨é›†åˆ"},{"categories":null,"content":"ä¿®æ”¹å†…å®¹var names = new List\u003cstring\u003e { \"Tom\", \"Ana\", \"Felipe\" }; names.Add(\"Bob\") names.Remove(\"Bob\") ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:3:1","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#ä¿®æ”¹å†…å®¹"},{"categories":null,"content":"æœç´¢å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1 var index = names.IndexOf(\"Felipe\"); ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:3:2","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#æœç´¢"},{"categories":null,"content":"æ’åºSort æ–¹æ³•æŒ‰æ­£å¸¸é¡ºåºï¼ˆå¦‚æœæ˜¯å­—ç¬¦ä¸²åˆ™æŒ‰å­—æ¯é¡ºåºï¼‰å¯¹åˆ—è¡¨ä¸­çš„æ‰€æœ‰é¡¹è¿›è¡Œæ’åºã€‚ åœ¨ç¨‹åºåº•éƒ¨æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š names.Sort(); ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/:3:3","series":null,"tags":null,"title":"C#å…¥é—¨","uri":"/posts/dotnet/csharp%E5%85%A5%E9%97%A8/#æ’åº"},{"categories":null,"content":"ä¸€ã€å¼•è¨€æœ€è¿‘åœ¨è®¾è®¡æ¨¡å¼çš„ä¸€äº›å†…å®¹ï¼Œä¸»è¦çš„å‚è€ƒä¹¦ç±æ˜¯ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹ï¼ŒåŒæ—¶åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¹ŸæŸ¥çœ‹äº†å¾ˆå¤šåšå®¢å›­ä¸­å…³äºè®¾è®¡æ¨¡å¼çš„ä¸€äº›æ–‡ç« çš„ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸‹æˆ‘çš„ä¸€äº›å­¦ä¹ ç¬”è®°ï¼Œä¸€æ˜¯ä¸ºäº†å¸®åŠ©æˆ‘æ›´æ·±å…¥åœ°ç†è§£è®¾è®¡æ¨¡å¼ï¼ŒäºŒåŒæ—¶å¯ä»¥ç»™ä¸€äº›åˆå­¦è®¾è®¡æ¨¡å¼çš„æœ‹å‹ä¸€äº›å‚è€ƒã€‚é¦–å…ˆæˆ‘ä»‹ç»çš„æ˜¯è®¾è®¡æ¨¡å¼ä¸­æ¯”è¾ƒç®€å•çš„ä¸€ä¸ªæ¨¡å¼â€”â€”å•ä¾‹æ¨¡å¼ï¼ˆå› ä¸ºè¿™é‡Œåªç‰µæ¶‰åˆ°ä¸€ä¸ªç±»ï¼‰ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:1:0","series":null,"tags":null,"title":"C#å¤šçº¿ç¨‹","uri":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#ä¸€å¼•è¨€"},{"categories":null,"content":"äºŒã€å•ä¾‹æ¨¡å¼çš„ä»‹ç»è¯´åˆ°å•ä¾‹æ¨¡å¼,å¤§å®¶ç¬¬ä¸€ååº”åº”è¯¥å°±æ˜¯â€”â€”ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿï¼Œä»â€œå•ä¾‹â€å­—é¢æ„æ€ä¸Šç†è§£ä¸ºâ€”â€”ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€ä»¥å•ä¾‹æ¨¡å¼ä¹Ÿå°±æ˜¯ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹çš„ä¸€ç§å®ç°æ–¹æ³•ç½¢äº†(è®¾è®¡æ¨¡å¼å…¶å®å°±æ˜¯å¸®åŠ©æˆ‘ä»¬è§£å†³å®é™…å¼€å‘è¿‡ç¨‹ä¸­çš„æ–¹æ³•, è¯¥æ–¹æ³•æ˜¯ä¸ºäº†é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦,ç„¶è€Œè§£å†³æ–¹æ³•æœ‰å¾ˆå¤šç§,æ‰€ä»¥å‰äººå°±æ€»ç»“äº†ä¸€äº›å¸¸ç”¨çš„è§£å†³æ–¹æ³•ä¸ºä¹¦ç±,ä»è€ŒæŠŠè¿™æœ¬ä¹¦å°±ç§°ä¸ºè®¾è®¡æ¨¡å¼)ï¼Œä¸‹é¢ç»™å‡ºå•ä¾‹æ¨¡å¼çš„ä¸€ä¸ªå®˜æ–¹å®šä¹‰ï¼šç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹,å¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚ä¸ºäº†å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£å•ä¾‹æ¨¡å¼,å¤§å®¶å¯ä»¥ç»“åˆä¸‹é¢çš„ç±»å›¾æ¥è¿›è¡Œç†è§£,ä»¥åŠåé¢ä¹Ÿä¼šå‰–æå•ä¾‹æ¨¡å¼çš„å®ç°æ€è·¯: ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:2:0","series":null,"tags":null,"title":"C#å¤šçº¿ç¨‹","uri":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#äºŒå•ä¾‹æ¨¡å¼çš„ä»‹ç»"},{"categories":null,"content":"ä¸‰ã€ä¸ºä»€ä¹ˆä¼šæœ‰å•ä¾‹æ¨¡å¼çœ‹å®Œå•ä¾‹æ¨¡å¼çš„ä»‹ç»,è‡ªç„¶å¤§å®¶éƒ½ä¼šæœ‰è¿™æ ·ä¸€ä¸ªç–‘é—®â€”â€”ä¸ºä»€ä¹ˆè¦æœ‰å•ä¾‹æ¨¡å¼çš„ï¼Ÿå®ƒåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨çš„ï¼Ÿä»å•ä¾‹æ¨¡å¼çš„å®šä¹‰ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºâ€”â€”å•ä¾‹æ¨¡å¼çš„ä½¿ç”¨è‡ªç„¶æ˜¯å½“æˆ‘ä»¬çš„ç³»ç»Ÿä¸­æŸä¸ªå¯¹è±¡åªéœ€è¦ä¸€ä¸ªå®ä¾‹çš„æƒ…å†µï¼Œä¾‹å¦‚:æ“ä½œç³»ç»Ÿä¸­åªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡ç®¡ç†å™¨,æ“ä½œæ–‡ä»¶æ—¶,åŒä¸€æ—¶é—´å†…åªå…è®¸ä¸€ä¸ªå®ä¾‹å¯¹å…¶æ“ä½œç­‰,æ—¢ç„¶ç°å®ç”Ÿæ´»ä¸­æœ‰è¿™æ ·çš„åº”ç”¨åœºæ™¯,è‡ªç„¶åœ¨è½¯ä»¶è®¾è®¡é¢†åŸŸå¿…é¡»æœ‰è¿™æ ·çš„è§£å†³æ–¹æ¡ˆäº†(å› ä¸ºè½¯ä»¶è®¾è®¡ä¹Ÿæ˜¯ç°å®ç”Ÿæ´»ä¸­çš„æŠ½è±¡)ï¼Œæ‰€ä»¥ä¹Ÿå°±æœ‰äº†å•ä¾‹æ¨¡å¼äº†ã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:3:0","series":null,"tags":null,"title":"C#å¤šçº¿ç¨‹","uri":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#ä¸‰ä¸ºä»€ä¹ˆä¼šæœ‰å•ä¾‹æ¨¡å¼"},{"categories":null,"content":"å››ã€å‰–æå•ä¾‹æ¨¡å¼çš„å®ç°æ€è·¯äº†è§£å®Œäº†ä¸€äº›å…³äºå•ä¾‹æ¨¡å¼çš„åŸºæœ¬æ¦‚å¿µä¹‹åï¼Œä¸‹é¢å°±ä¸ºå¤§å®¶å‰–æå•ä¾‹æ¨¡å¼çš„å®ç°æ€è·¯çš„ï¼Œå› ä¸ºåœ¨æˆ‘è‡ªå·±å­¦ä¹ å•ä¾‹æ¨¡å¼çš„æ—¶å€™ï¼Œå’‹ä¸€çœ‹å•ä¾‹æ¨¡å¼çš„å®ç°ä»£ç ç¡®å®å¾ˆç®€å•ï¼Œä¹Ÿå¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯è§‰å¾—å®ƒå¾ˆé™Œç”Ÿï¼ˆè¿™ä¸ªå¯èƒ½æ˜¯çœ‹çš„å°‘çš„ï¼Œæˆ–è€…è‡ªå·±åœ¨å†™ä»£ç ä¸­ä¹Ÿç”¨çš„å°‘çš„ç¼˜æ•…ï¼‰ï¼Œè€Œä¸”å¿ƒé‡Œæ€»ä¼šè¿™æ ·ä¸€ä¸ªç–‘é—®â€”â€”ä¸ºä»€ä¹ˆå‰äººä¼šè¿™æ ·å»å®ç°å•ä¾‹æ¨¡å¼çš„å‘¢ï¼Ÿä»–ä»¬æ˜¯å¦‚ä½•æ€è€ƒçš„å‘¢ï¼Ÿåé¢ç»è¿‡è‡ªå·±çš„ç¢ç£¨ä¹Ÿå°±æ…¢æ…¢ç†æ¸…æ¥šå•ä¾‹æ¨¡å¼çš„å®ç°æ€è·¯äº†ï¼Œå¹¶ä¸”æ­¤æ—¶ä¹Ÿä¸å†è§‰å¾—å•ä¾‹æ¨¡å¼é™Œç”Ÿäº†ï¼Œä¸‹é¢å°±åˆ†äº«æˆ‘çš„ä¸€ä¸ªå‰–æè¿‡ç¨‹çš„ï¼š æˆ‘ä»¬ä»å•ä¾‹æ¨¡å¼çš„æ¦‚å¿µï¼ˆç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹,å¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ï¼‰å…¥æ‰‹ï¼Œå¯ä»¥æŠŠæ¦‚å¿µè¿›è¡Œæ‹†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šï¼ˆ1ï¼‰ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼›ï¼ˆ2ï¼‰æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ï¼›ä¸‹é¢é€šè¿‡é‡‡ç”¨ä¸¤äººå¯¹è¯çš„æ–¹å¼æ¥å¸®åŠ©å¤§å®¶æ›´å¿«æŒæ¡åˆ†ææ€è·¯ï¼š èœé¸Ÿï¼šæ€æ ·ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹äº†ï¼Ÿ è€é¸Ÿï¼šé‚£å°±è®©æˆ‘å¸®ä½ åˆ†æä¸‹ï¼Œä½ åˆ›å»ºç±»çš„å®ä¾‹ä¼šæƒ³åˆ°ç”¨ä»€ä¹ˆæ–¹å¼æ¥åˆ›å»ºçš„å‘¢ï¼Ÿ æ–°æ‰‹ï¼šç”¨newå…³é”®å­—å•Šï¼Œåªè¦newä¸‹å°±åˆ›å»ºäº†è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹äº†ï¼Œä¹‹åå°±å¯ä»¥ä½¿ç”¨è¯¥ç±»çš„ä¸€äº›å±æ€§å’Œå®ä¾‹æ–¹æ³•äº† è€é¸Ÿï¼šé‚£ä½ æƒ³è¿‡ä¸ºä»€ä¹ˆå¯ä»¥ä½¿ç”¨newå…³é”®å­—æ¥åˆ›å»ºç±»çš„å®ä¾‹å—ï¼Ÿ èœé¸Ÿï¼šè¿™ä¸ªè¿˜æœ‰æ¡ä»¶çš„å—ï¼Ÿâ€¦â€¦â€¦, å“¦ï¼Œæˆ‘æƒ³èµ·æ¥äº†ï¼Œå¦‚æœç±»å®šä¹‰ç§æœ‰çš„æ„é€ å‡½æ•°å°±ä¸èƒ½åœ¨å¤–ç•Œé€šè¿‡newåˆ›å»ºå®ä¾‹äº†ï¼ˆæ³¨ï¼šæœ‰äº›åˆå­¦è€…å°±ä¼šé—®ï¼Œæœ‰æ—¶å€™æˆ‘å¹¶æ²¡æœ‰åœ¨ç±»ä¸­å®šä¹‰æ„é€ å‡½æ•°ä¸ºä»€ä¹ˆä¹Ÿå¯ä»¥ä½¿ç”¨newæ¥åˆ›å»ºå¯¹è±¡ï¼Œé‚£æ˜¯å› ä¸ºç¼–è¯‘å™¨åœ¨èƒŒååšäº†æ‰‹è„šäº†ï¼Œå½“ç¼–è¯‘å™¨çœ‹åˆ°æˆ‘ä»¬ç±»ä¸­æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨ä¼šå¸®æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªå…¬æœ‰çš„æ— å‚æ„é€ å‡½æ•°ï¼‰ è€é¸Ÿï¼šä¸é”™ï¼Œå›ç­”çš„å¾ˆå¯¹ï¼Œè¿™æ ·ä½ çš„ç–‘æƒ‘å°±å¾—åˆ°è§£ç­”äº†å•Š èœé¸Ÿï¼šé‚£æˆ‘è¦åœ¨å“ªé‡Œåˆ›å»ºç±»çš„å®ä¾‹äº†ï¼Ÿ è€é¸Ÿï¼šä½ å‚»å•Šï¼Œå½“ç„¶æ˜¯åœ¨ç±»é‡Œé¢åˆ›å»ºäº†ï¼ˆæ³¨ï¼šè¿™æ ·å®šä¹‰ç§æœ‰æ„é€ å‡½æ•°å°±æ˜¯ä¸Šé¢çš„ä¸€ä¸ªæ€è€ƒè¿‡ç¨‹çš„ï¼Œè¦åˆ›å»ºå®ä¾‹ï¼Œè‡ªç„¶å°±è¦æœ‰ä¸€ä¸ªå˜é‡æ¥ä¿å­˜è¯¥å®ä¾‹æŠŠï¼Œæ‰€ä»¥å°±æœ‰äº†ç§æœ‰å˜é‡çš„å£°æ˜,ä½†æ˜¯å®ç°ä¸­æ˜¯å®šä¹‰é™æ€ç§æœ‰å˜é‡,æœ‹å‹ä»¬æœ‰æ²¡æœ‰æƒ³è¿‡â€”â€”è¿™é‡Œä¸ºä»€ä¹ˆå®šä¹‰ä¸ºé™æ€çš„å‘¢?å¯¹äºè¿™ä¸ªç–‘é—®çš„è§£é‡Šä¸ºï¼šæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„çº¿ç¨‹æ ˆï¼Œå®šä¹‰ä¸ºé™æ€ä¸»è¦æ˜¯ä¸ºäº†åœ¨å¤šçº¿ç¨‹ç¡®ä¿ç±»æœ‰ä¸€ä¸ªå®ä¾‹ï¼‰ èœé¸Ÿï¼šå“¦ï¼Œç°åœ¨å®Œå…¨æ˜ç™½äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æœ‰å¦ä¸€ä¸ªç–‘é—®â€”â€”ç°åœ¨ç±»å®ä¾‹åˆ›å»ºåœ¨ç±»å†…éƒ¨ï¼Œé‚£å¤–ç•Œå¦‚ä½•è·å¾—è¯¥çš„ä¸€ä¸ªå®ä¾‹æ¥ä½¿ç”¨å®ƒäº†ï¼Ÿ è€é¸Ÿï¼šè¿™ä¸ªï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå…¬æœ‰æ–¹æ³•æˆ–è€…å±æ€§æ¥æŠŠè¯¥ç±»çš„å®ä¾‹å…¬å¼€å‡ºå»äº†ï¼ˆæ³¨ï¼šè¿™æ ·å°±æœ‰äº†å…¬æœ‰æ–¹æ³•çš„å®šä¹‰äº†ï¼Œè¯¥æ–¹æ³•å°±æ˜¯æä¾›æ–¹æ³•é—®ç±»çš„å…¨å±€è®¿é—®ç‚¹ï¼‰ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:4:0","series":null,"tags":null,"title":"C#å¤šçº¿ç¨‹","uri":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#å››å‰–æå•ä¾‹æ¨¡å¼çš„å®ç°æ€è·¯"},{"categories":null,"content":"ä»£ç å®ç°ï¼ˆåŠ é”ç‰ˆæœ¬ï¼‰/// \u003csummary\u003e /// å•ä¾‹æ¨¡å¼çš„å®ç° /// \u003c/summary\u003e public class Singleton { // å®šä¹‰ä¸€ä¸ªé™æ€å˜é‡æ¥ä¿å­˜ç±»çš„å®ä¾‹ private static Singleton uniqueInstance; // å®šä¹‰ä¸€ä¸ªæ ‡è¯†ç¡®ä¿çº¿ç¨‹åŒæ­¥ private static readonly object locker = new object(); // å®šä¹‰ç§æœ‰æ„é€ å‡½æ•°ï¼Œä½¿å¤–ç•Œä¸èƒ½åˆ›å»ºè¯¥ç±»å®ä¾‹ private Singleton() { } /// \u003csummary\u003e /// å®šä¹‰å…¬æœ‰æ–¹æ³•æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹,åŒæ—¶ä½ ä¹Ÿå¯ä»¥å®šä¹‰å…¬æœ‰å±æ€§æ¥æä¾›å…¨å±€è®¿é—®ç‚¹ /// \u003c/summary\u003e /// \u003creturns\u003e\u003c/returns\u003e public static Singleton GetInstance() { // å½“ç¬¬ä¸€ä¸ªçº¿ç¨‹è¿è¡Œåˆ°è¿™é‡Œæ—¶ï¼Œæ­¤æ—¶ä¼šå¯¹lockerå¯¹è±¡ \"åŠ é”\"ï¼Œ // å½“ç¬¬äºŒä¸ªçº¿ç¨‹è¿è¡Œè¯¥æ–¹æ³•æ—¶ï¼Œé¦–å…ˆæ£€æµ‹åˆ°lockerå¯¹è±¡ä¸º\"åŠ é”\"çŠ¶æ€ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæŒ‚èµ·ç­‰å¾…ç¬¬ä¸€ä¸ªçº¿ç¨‹è§£é” // lockè¯­å¥è¿è¡Œå®Œä¹‹åï¼ˆå³çº¿ç¨‹è¿è¡Œå®Œä¹‹åï¼‰ä¼šå¯¹è¯¥å¯¹è±¡\"è§£é”\" // åŒé‡é”å®šåªéœ€è¦ä¸€å¥åˆ¤æ–­å°±å¯ä»¥äº† if (uniqueInstance == null) { lock (locker) { // å¦‚æœç±»çš„å®ä¾‹ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå¦åˆ™ç›´æ¥è¿”å› if (uniqueInstance == null) { uniqueInstance = new Singleton(); } } } return uniqueInstance; } } ```","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:5:0","series":null,"tags":null,"title":"C#å¤šçº¿ç¨‹","uri":"/posts/dotnet/csharp%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#ä»£ç å®ç°åŠ é”ç‰ˆæœ¬"},{"categories":null,"content":"ä¸€ã€æµ…è°ˆè®¿é—®ä¿®é¥°ç¬¦ä½œç”¨ï¼š è®¾å®šè®¿é—®æƒé™ï¼Œé™åˆ¶ç±»ä¸­çš„æˆå‘˜ï¼ˆå±æ€§ã€æ–¹æ³•ç­‰ï¼‰å¯è®¿é—®çš„èŒƒå›´ï¼Œè®¿é—®èŒƒå›´é€šå¸¸æœ‰ï¼Œç±»çš„å†…éƒ¨ã€ç±»çš„å¤–éƒ¨ã€‚ æœ€å¸¸ç”¨çš„ç±»å‹ï¼š private(ç§æœ‰çš„ï¼Œä»…ç±»çš„å†…éƒ¨ä½¿ç”¨)ï¼›publicï¼ˆå…¬æœ‰çš„ï¼Œæ²¡æœ‰è®¿é—®é™åˆ¶ï¼‰ æ³¨æ„ï¼š ç±»çš„æˆå‘˜åœ¨å®šä¹‰çš„æ—¶å€™æ²¡æœ‰æ˜¾ç¤ºçš„å†™å‡ºè®¿é—®ä¿®é¥°ç¬¦ï¼Œåˆ™é»˜è®¤æ˜¯privateã€‚å¯¹åº”åˆ°å­—æ®µå’Œå±æ€§ä¸­ï¼Œé€šå¸¸å­—æ®µä¿®é¥°ä¸ºprivateï¼Œå±æ€§ä¿®é¥°ä¸ºpublicã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/:1:0","series":null,"tags":null,"title":"c#å­—æ®µå’Œå±æ€§","uri":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/#ä¸€æµ…è°ˆè®¿é—®ä¿®é¥°ç¬¦"},{"categories":null,"content":"äºŒã€å­—æ®µ1.å…³äºå­—æ®µ a.å­—æ®µåˆç§°ä¸ºï¼šâ€œæˆå‘˜å˜é‡â€ï¼Œä¸€èˆ¬åœ¨ç±»çš„å†…éƒ¨åšæ•°æ®äº¤äº’ä½¿ç”¨ã€‚ b.å­—æ®µå‘½åè§„èŒƒï¼šcamelå‘½åæ³•ï¼ˆé¦–å•è¯å­—æ¯å°å†™ï¼‰ã€‚ 2.é€šä¿—çš„ç†è§£ï¼š ç§æœ‰åŒ–ï¼šå­—æ®µå°±å¥½æ¯”æˆ‘ä»¬çš„ä¸ªäººè´¢äº§ï¼Œä»…ä¾›ä¸ªäººä½¿ç”¨ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯privateä¿®é¥°ã€‚ æ·»åŠ æ ‡å‡†ï¼šæ ¹æ®ç¨‹åºçš„åŠŸèƒ½éœ€æ±‚ï¼Œå…·ä½“æ¥æ·»åŠ éœ€è¦çš„ä¸åŒç±»å‹çš„å­—æ®µã€‚ Â ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/:2:0","series":null,"tags":null,"title":"c#å­—æ®µå’Œå±æ€§","uri":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/#äºŒå­—æ®µ"},{"categories":null,"content":"ä¸‰ã€å±æ€§1.å±æ€§çš„ä½¿ç”¨ ä½œç”¨ï¼šåœ¨é¢å‘å¯¹è±¡è®¾è®¡ä¸­ä¸»è¦ä½¿ç”¨å±æ€§æè¿°å¯¹è±¡çš„é™æ€ç‰¹å¾ã€‚ è¦æ±‚ï¼šä¸€èˆ¬é‡‡ç”¨Pascalå‘½åæ³•ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰ï¼Œæ•°æ®ç±»å‹è¦å’Œå¯¹åº”çš„å­—æ®µè¦ä¸€è‡´ã€‚ Â 2.å±æ€§çš„ç†è§£ a.å±æ€§å…¶å®å°±æ˜¯å¤–ç•Œè®¿é—®ç§æœ‰å­—æ®µçš„å…¥å£ï¼Œå±æ€§æœ¬èº«ä¸ä¿å­˜ä»»ä½•æ•°æ®ï¼Œåœ¨å¯¹å±æ€§èµ‹å€¼å’Œè¯»å–çš„æ—¶å€™å…¶å®å°±æ˜¯æ“ä½œçš„å¯¹åº”ç§æœ‰å­—æ®µã€‚ å›¾ä¾‹ï¼š b.å±æ€§æœ¬è´¨å…¶å®å°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œé€šè¿‡getå’Œsetæ–¹æ³•æ¥æ“ä½œå¯¹åº”çš„å­—æ®µï¼Œé€šè¿‡åç¼–è¯‘å·¥å…·æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå¦‚å›¾ï¼š 3.å±æ€§çš„ä½œç”¨ A.é¿å…å‡ºç°éæ³•æ•°æ®ï¼Œä¾‹å¦‚ä¸€ä¸ªå¹´é¾„å±æ€§ï¼Œæ­£å¸¸é€»è¾‘æ˜¯å¹´é¾„æ˜¯ä¸å¯ä»¥å‡ºç°è´Ÿæ•°çš„ï¼Œå¦‚æœç”¨æˆ·å¯¹å¹´é¾„è¿›è¡Œäº†è´Ÿæ•°çš„èµ‹å€¼ï¼Œæˆ‘ä»¬é€šè¿‡å±æ€§çš„setæ–¹æ³•åŠ å…¥åˆ¤æ–­é€»è¾‘ï¼Œä»è€Œæ’é™¤è¿™ç§éæ³•æ•°æ®ã€‚ ç¤ºä¾‹ï¼š B.é™å®šå±æ€§åªè¯»æˆ–è€…åªå†™ï¼Œä¾‹å¦‚æœ‰äº›å±æ€§ä¸ºäº†ä¿æŠ¤æ•°æ®ï¼Œæˆ‘ä»¬åªèƒ½è¯»å–ï¼Œè€Œä¸èƒ½èµ‹å€¼ã€‚å…·ä½“ä½¿ç”¨çš„è¯ï¼Œæˆ‘ä»¬æ ¹æ®éœ€è¦ï¼Œå±è”½setæˆ–getæ–¹æ³•è¾¾åˆ°åªè¯»å’Œåªå†™ã€‚ ç¤ºä¾‹ï¼š Cï¼æ²¡æœ‰å¯¹åº”ç§æœ‰å­—æ®µçš„å±æ€§ï¼Œä¾‹å¦‚æ ¹æ®ç”Ÿæ—¥å±æ€§è·å–åˆ°å¹´é¾„ã€‚ ç¤ºä¾‹ï¼š Â  Â Â  Â Â ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/:3:0","series":null,"tags":null,"title":"c#å­—æ®µå’Œå±æ€§","uri":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/#ä¸‰å±æ€§"},{"categories":null,"content":"äº”ã€å­—æ®µä¸å±æ€§æ¯”è¾ƒå­—æ®µï¼ˆæˆå‘˜å˜é‡ï¼‰ a.å­—æ®µä¸»è¦æ˜¯ä¸ºç±»çš„å†…éƒ¨åšæ•°æ®äº¤äº’ä½¿ç”¨ï¼Œå­—æ®µä¸€èˆ¬æ˜¯privateã€‚ b.å­—æ®µå¯è¯»å¯å†™ã€‚ c.å½“å­—æ®µéœ€è¦ä¸ºå¤–éƒ¨æä¾›æ•°æ®çš„æ—¶å€™ï¼Œè¯·å°†å­—æ®µå°è£…ä¸ºå±æ€§ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å…¬æœ‰å­—æ®µ(publicä¿®é¥°ç¬¦)ï¼Œè¿™æ˜¯é¢å‘å¯¹è±¡æ€æƒ³æ‰€æå€¡çš„ã€‚ Â å±æ€§ï¼ˆæ–¹æ³•ï¼‰ a.å±æ€§ä¸€èˆ¬æ˜¯å‘å¤–æä¾›æ•°æ®ï¼Œä¸»è¦ç”¨æ¥æè¿°å¯¹è±¡çš„é™æ€ç‰¹å¾ï¼Œæ‰€ä»¥ï¼Œå±æ€§ä¸€èˆ¬æ˜¯publicã€‚ b.å±æ€§å…·å¤‡getå’Œsetæ–¹æ³•ï¼Œå¯ä»¥åœ¨æ–¹æ³•é‡ŒåŠ å…¥é€»è¾‘å¤„ç†æ•°æ®ï¼Œçµæ´»æ‹“å±•ä½¿ç”¨ã€‚ Â å…­ã€è‡ªåŠ¨å±æ€§ 1.å±æ€§ç¼–å†™æ–°è¯­æ³•ï¼ˆè‡ªåŠ¨å±æ€§ï¼š.NET3.0åŠå…¶åç»­ç‰ˆæœ¬ï¼‰ ç¤ºä¾‹ï¼š Â  Â å¿«æ·æ–¹å¼ï¼šprop+tab+tab æ³¨æ„ï¼š æ²¡æœ‰ç‰¹å®šä¸šåŠ¡é€»è¾‘çš„å±æ€§éƒ½å¯ä»¥ç®€å†™æˆè‡ªåŠ¨å±æ€§ï¼Œè‡ªåŠ¨å±æ€§çš„æ ¼å¼ä¸èƒ½ä¿®æ”¹ã€‚è‡ªåŠ¨å±æ€§å¯¹åº”çš„å­—æ®µç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/:4:0","series":null,"tags":null,"title":"c#å­—æ®µå’Œå±æ€§","uri":"/posts/dotnet/csharp%E5%AD%97%E6%AE%B5%E5%92%8C%E5%B1%9E%E6%80%A7/#äº”å­—æ®µä¸å±æ€§æ¯”è¾ƒ"},{"categories":null,"content":"https://docs.microsoft.com/zh-cn/dotnet/csharp/how-to/parse-strings-using-split https://docs.microsoft.com/zh-cn/dotnet/standard/base-types/basic-string-operations ","date":"2022-06-24","objectID":"/posts/dotnet/csharp%E5%AD%97%E7%AC%A6%E4%B8%B2/:0:0","series":null,"tags":null,"title":"C#å­—ç¬¦ä¸²","uri":"/posts/dotnet/csharp%E5%AD%97%E7%AC%A6%E4%B8%B2/#"},{"categories":null,"content":"winåŸŸç®¡ç†","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:0:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#winåŸŸç®¡ç†"},{"categories":null,"content":"DomainåŸŸï¼ˆDomainï¼‰ï¼šå°±æ˜¯ç”±ç”¨æˆ·å’Œè®¡ç®—æœºç»„æˆçš„ä¸€ä¸ªé€»è¾‘ç»„ã€‚åœ¨ä¸€ä¸ªåŸŸä¸­ï¼Œç”±åŸŸæ§åˆ¶å™¨ç»Ÿä¸€çš„ç®¡ç†å¸æˆ·æ•°æ®åº“,ç®¡ç†æ‰€æœ‰çš„ç”¨æˆ·ç™»å½•,èµ„æºè®¿é—®è®¤è¯åŠå…¶å®ƒç®¡ç†ä»»åŠ¡ã€‚åœ¨ Windows ç½‘ç»œæ“ä½œç³»ç»Ÿä¸­ï¼ŒåŸŸæ˜¯å®‰å…¨è¾¹ç•Œã€‚åŸŸç®¡ç†å‘˜åªèƒ½ç®¡ç†åŸŸçš„å†…éƒ¨ï¼Œé™¤éå…¶ä»–çš„åŸŸæ˜¾å¼åœ°èµ‹äºˆä»–ç®¡ç†æƒé™ï¼Œä»–æ‰èƒ½å¤Ÿè®¿é—®æˆ–è€…ç®¡ç†å…¶ä»–çš„åŸŸã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:1:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#domain"},{"categories":null,"content":"Work Groupå·¥ä½œ (Workgroup)ï¼šå°±æ˜¯å°†ä¸åŒçš„ç”µè„‘æŒ‰åŠŸèƒ½åˆ†åˆ«åˆ—å…¥ä¸åŒçš„ç»„ä¸­ï¼Œä»¥æ–¹ä¾¿ç®¡ç†ã€‚remotesigned ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:2:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#work-group"},{"categories":null,"content":"Active DirectoryAD(Active Directory)ä¸­æ–‡ç¿»è¯‘ä¸ºæ´»åŠ¨ç›®å½•ã€‚ ä¸ºç½‘ç»œæä¾›ç›®å½•æœåŠ¡ï¼Œå¯ç”¨AD Serviceåï¼Œä¹Ÿå°±æ˜¯åœ¨ç¯å¢ƒä¸­å»ºåŸŸï¼Œè¿™ä¸ªåŸŸæ˜¯ä¸€ä¸ªç®¡ç†çš„å®‰å…¨è¾¹ç•Œï¼Œä¸€ä¸ªèµ„æºçš„é›†åˆã€‚ ADæ˜¯å¾®è½¯åŸºäºLDAPåè®®æä¾›ç»™Serverå¹³å°çš„ç›®å½•æœåŠ¡ã€‚ å¯ä»¥ç†è§£ä¸ºADæ˜¯ä¸€ä¸ªæ•°æ®åº“ä¸€ä¸ªç›®å½•æœåŠ¡ã€‚ ADç‰¹ç‚¹ï¼š é›†ä¸­ç®¡ç†ã€ä¾¿æ·çš„ç½‘ç»œè®¿é—®èµ„æºã€å¯æ‰©å±•æ€§ ADçš„é€»è¾‘ç»“æ„ï¼š åŸŸã€åŸŸæ ‘ã€åŸŸæ— RootDC.comä¸ºåŸŸï¼ŒChild1.RootDC.comä¸ºå­åŸŸï¼Œæ•´ä¸ªä¸€æ¡ä¸ºåŸŸæ ‘ï¼Œä¸¤ä¸ªç»„åˆï¼ˆRootDC.comå’ŒSencondDC.comï¼‰ä¸ºåŸŸæ—ï¼Œéœ€è¦åŒå‘ä¿¡ä»»æ‰èƒ½è¿çº¿ ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:3:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#active-directory"},{"categories":null,"content":"Domain Trustå¦‚æœAåŸŸä¿¡ä»»äº†BåŸŸï¼Œé‚£ä¹ˆAåŸŸçš„åŸŸæ§åˆ¶å™¨å°†æŠŠBåŸŸçš„ç”¨æˆ·è´¦å·å¤åˆ¶åˆ°è‡ªå·±çš„Active Directoryä¸­ï¼Œè¿™æ ·AåŸŸå†…çš„èµ„æºå°±å¯ä»¥åˆ†é…ç»™BåŸŸçš„ç”¨æˆ·äº†ã€‚ä»è¿™ä¸ªè¿‡ç¨‹æ¥çœ‹ï¼ŒAåŸŸä¿¡ä»»BåŸŸé¦–å…ˆéœ€è¦å¾å¾—BåŸŸçš„åŒæ„ï¼Œå› ä¸ºAåŸŸä¿¡ä»»BåŸŸéœ€è¦å…ˆä»BåŸŸç´¢å–èµ„æºã€‚è¿™ç‚¹å’Œæˆ‘ä»¬ä¹ æƒ¯æ€§çš„ç†è§£ä¸åŒï¼Œä¿¡ä»»å…³ç³»çš„ä¸»åŠ¨æƒæŒæ¡åœ¨è¢«ä¿¡ä»»åŸŸæ‰‹ä¸­è€Œä¸æ˜¯ä¿¡ä»»åŸŸã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:4:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#domain-trust"},{"categories":null,"content":"çˆ¶å­åŸŸåœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„åŸŸa.comä¸‹æ–°å»ºç«‹ä¸€ä¸ªå­åŸŸb.a.comï¼Œè¿™2ä¸ªåŸŸçš„å…³ç³»å°±æ˜¯çˆ¶å­åŸŸçš„å…³ç³»ã€‚ä»åŸŸçš„åå­—æ¥çœ‹ï¼Œçˆ¶å­åŸŸå…·æœ‰è¿ç»­çš„å‘½åç©ºé—´ã€‚åŒæ ·æˆ‘ä»¬å¯ä»¥åœ¨å­åŸŸb.a.comä¸‹åœ¨æ·»åŠ ä¸€ä¸ªå­åŸŸä¸ºc.b.a.com ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:5:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#çˆ¶å­åŸŸ"},{"categories":null,"content":"OUOrganizational Unit ç»„ç»‡å•ä½ï¼Œæ˜¯ADçš„å¯¹è±¡ã€ä¹Ÿæ˜¯ADä¸­çš„å®¹å™¨ï¼Œåœ¨OUä¸­å¯ä»¥åŒ…å«ç”¨æˆ·ã€ç»„ã€è®¡ç®—æœºã€æ‰“å°æœºã€OUè‡ªèº«ç­‰ã€‚ æŒ‰éƒ¨é—¨åˆ’åˆ† æŒ‰åœ°ç†åˆ’åˆ† æŒ‰ITèŒèƒ½åˆ’åˆ† æ··åˆæ–¹å¼åˆ’åˆ† ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:6:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#ou"},{"categories":null,"content":"User and Group","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:7:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#user-and-group"},{"categories":null,"content":"ç»„çš„æ¦‚å¿µï¼šç»„Groupæ˜¯ç”¨äºç®¡ç†è´¦æˆ·çš„é›†åˆã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:7:1","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#ç»„çš„æ¦‚å¿µ"},{"categories":null,"content":"ç»„çš„ç±»å‹ï¼šå®‰å…¨ç»„ï¼ˆSecurityï¼‰ï¼šå¯ä»¥è®¾ç½®æƒé™ä½¿å¾—ç»„å†…çš„ç”¨æˆ·æœ‰ç›¸åº”çš„æƒé™ï¼Œç®€åŒ–ç½‘ç»œç»´æŠ¤å’Œç®¡ç†ã€‚ é€šè®¯ç»„ï¼ˆDistributionï¼‰ï¼šä¸èƒ½æˆæƒå…¶è®¿é—®èµ„æºï¼Œåªèƒ½ç”¨ä½œç”µå­é‚®ä»¶å’Œé€šè®¯ã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:7:2","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#ç»„çš„ç±»å‹"},{"categories":null,"content":"AGDLPAï¼ˆAccountsï¼‰æŒ‡çš„æ˜¯åœ¨Windows Server çš„åŸŸç”¨æˆ·è´¦æˆ·ã€‚ Gï¼ˆGlobal Groupï¼‰æŒ‡çš„æ˜¯å°†ä¸Šè¿°çš„ç”¨æˆ·è´¦æˆ·æ·»åŠ åˆ°æŸä¸ªå…¨å±€ç»„ä¸­ã€‚ DLï¼ˆDomain Local Groupï¼‰æŒ‡çš„æ˜¯å°†å…¨å±€ç»„æ·»åŠ åˆ°æŸä¸ªåŸŸæœ¬åœ°ç»„ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®çš„åŸŸæœ¬åœ°ç»„ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„åŸŸæœ¬åœ°ç»„æ¥æ¥çº³å…¨å±€ç»„çš„æˆå‘˜ã€‚ Pï¼ˆPermissionï¼‰æŒ‡çš„æ˜¯æœ€åå°†è®¿é—®èµ„æºçš„æƒé™èµ‹äºˆç›¸åº”çš„åŸŸæœ¬åœ°ç»„ï¼Œåˆ™åŸŸæœ¬åœ°ç»„ä¸­çš„æˆå‘˜å°±å¯ä»¥åœ¨æƒé™çš„æ§åˆ¶ä¸‹è®¿é—®èµ„æºäº†ã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:8:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#agdlp"},{"categories":null,"content":"DC, DNSDC(Domain controller) åŸŸæ§ï¼Œæ´»åŠ¨ç›®å½•çš„ç›®å½•æ•°æ®å­˜å‚¨åœ¨åŸŸæ§åˆ¶å™¨å†…ã€‚ DNSæ˜¯ç½‘åŸŸåç§°ç³»ç»Ÿï¼ˆDomain Name Systemï¼‰çš„ç¼©å†™ï¼Œè¯¥æœåŠ¡ç”¨äºå‘½åç»„ç»‡åˆ°åŸŸå±‚æ¬¡ç»“æ„ä¸­çš„è®¡ç®—æœºå’Œç½‘ç»œæœåŠ¡ã€‚åœ¨Internetä¸ŠåŸŸåå’ŒIPåœ°å€æ˜¯ä¸€å¯¹ä¸€ï¼ˆæˆ–è€…æ˜¯å¤šå¯¹ä¸€ï¼‰ã€‚ DNSçš„ä¸»è¦å·¥ä½œæ˜¯åŸŸåè§£æï¼Œä¹Ÿå°±æ˜¯æŠŠè®¡ç®—æœºåç¿»è¯‘æˆIPåœ°å€ï¼Œè¿™æ ·å¯ä»¥ç›´æ¥ç”¨æ˜“äºè”æƒ³è®°å¿†çš„è®¡ç®—æœºåæ¥è¿›è¡Œç½‘ç»œé€šè®¯è€Œä¸ç”¨å»è®°å¿†é‚£äº›æ¯ç‡¥æ™¦æ¶©çš„IPåœ°å€äº†ã€‚ ","date":"2022-06-24","objectID":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/:9:0","series":null,"tags":null,"title":"winåŸŸç®¡ç†","uri":"/posts/dotnet/win%E5%9F%9F%E7%AE%A1%E7%90%86/#dc-dns"},{"categories":null,"content":"Linux ç£ç›˜å ç”¨ç‡ä¸ä½¿ç”¨ç‡ä¸ç¬¦è®°ä¸€æ¬¡ç£ç›˜å ç”¨ç‡è¿‡é«˜é—®é¢˜æ’æŸ¥è¿‡ç¨‹ä¸æ€»ç»“ ","date":"2022-06-03","objectID":"/posts/linux/linux%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%8E%87%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B8%8D%E7%AC%A6/:0:0","series":null,"tags":null,"title":"Linux ç£ç›˜å ç”¨ç‡ä¸ä½¿ç”¨ç‡ä¸ç¬¦","uri":"/posts/linux/linux%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%8E%87%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B8%8D%E7%AC%A6/#linux-ç£ç›˜å ç”¨ç‡ä¸ä½¿ç”¨ç‡ä¸ç¬¦"},{"categories":null,"content":"é—®é¢˜æè¿°ä¸€å°ç”Ÿäº§çš„æœºå­ç£ç›˜å ç”¨ç‡è¿‡é«˜å¯¼è‡´ mysql æŒ‚æ‰ï¼Œæ‰€ä»¥éœ€è¦æ¸…ç†ç£ç›˜ï¼Œä½¿ç”¨ du å‘ç°ç£ç›˜å’Œ df çš„ä¸ç¬¦ ","date":"2022-06-03","objectID":"/posts/linux/linux%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%8E%87%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B8%8D%E7%AC%A6/:0:0","series":null,"tags":null,"title":"Linux ç£ç›˜å ç”¨ç‡ä¸ä½¿ç”¨ç‡ä¸ç¬¦","uri":"/posts/linux/linux%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%8E%87%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B8%8D%E7%AC%A6/#é—®é¢˜æè¿°"},{"categories":null,"content":"æ’æŸ¥è¿‡ç¨‹ç¬¬ä¸€æ­¥ï¼Œå½“ç„¶æ˜¯ç¡®è®¤ç£ç›˜çš„å½“å‰å ç”¨ç‡ï¼Œç™»é™†ä¸Šæœºå™¨æ‰§è¡Œ â€œdf -hâ€ å‘½ä»¤æŸ¥çœ‹æŒ‚è½½ç›˜å ç”¨ç‡ï¼Œæœç„¶éå¸¸é«˜ï¼Œå·²ç»è¾¾åˆ°äº† 96% ç£ç›˜å ç”¨ç‡ ç¬¬äºŒæ­¥ï¼Œç¡®è®¤å ç”¨ç‡é«˜çš„æ–‡ä»¶å¤¹ï¼Œæ’æŸ¥æ˜¯å“ªäº›æ–‡ä»¶å ç”¨ç£ç›˜ï¼Œæ‰§è¡Œå‘½ä»¤ â€œdu -h --max-depth=1â€ å‘ç°å ç”¨é‡æœ€å¤§çš„è¿˜æ˜¯ log ç›®å½• å„æ–‡ä»¶å¤¹å ç”¨é‡ ä½†æ˜¯å´å‘ç°äº†é—®é¢˜ï¼Œä»ç£ç›˜å ç”¨é‡æˆ‘ä»¬èƒ½çœ‹å‡ºæ¥ï¼Œç£ç›˜ä½¿ç”¨ç‡ 96%ï¼ŒUsed=179Gï¼Œå¯æ˜¯/data ä¸‹å„æ–‡ä»¶å¤¹æ€»çš„ä½¿ç”¨é‡æ‰ 86Gï¼Œé‚£å…¶ä»–è¢«å ç”¨çš„çº¦ 100G çš„ç£ç›˜å»å“ªé‡Œäº†å‘¢ï¼Ÿ ç¬¬ä¸‰æ­¥ï¼Œæœå¯»èµ„æ–™ï¼Œå®šä½é—®é¢˜ã€‚æ ¹æ®è‡ªå·±è–„å¼±çš„è¿ç»´çŸ¥è¯†ï¼Œè¿™è¶…å‡ºäº†æˆ‘çš„çŸ¥è¯†é¢ã€‚è°·æ­Œä¹‹åå‘ç°ï¼Œè¿™ç§é—®é¢˜å¹¶ä¸ç¦»å¥‡æ˜¯æ“ä½œç³»ç»Ÿå¸¸è§çš„é—®é¢˜ã€‚æ ¹æ®åšå®¢ https://www.jianshu.com/p/e775b6880133æ‰¾åˆ°æ€è·¯ã€‚å¯èƒ½æ˜¯æœ‰æ–‡ä»¶ï¼Œåˆ é™¤æ—¶è¢«ç³»ç»Ÿåœ¨ä½¿ç”¨æœªçœŸæ­£åˆ é™¤æ‰ï¼Œä¾ç„¶å ç”¨ç€ç£ç›˜ä½†æ˜¯åˆçœ‹ä¸åˆ°ã€‚æ‰§è¡Œå‘½ä»¤ lsof|grep deleteæ¥æŸ¥çœ‹åˆ é™¤æ–‡ä»¶ æœªè¢«çœŸæ­£åˆ é™¤çš„æ–‡ä»¶ æœç„¶å‘ç°ï¼Œæœ‰ä¸€ä¸ªæœåŠ¡çš„ log æ–‡ä»¶éå¸¸å¤§ï¼Œè™½ç„¶è¢«åˆ é™¤ä½†æ˜¯ç”±äºæœåŠ¡è¿˜åœ¨å†™å…¥æ‰€ä»¥å¹¶æœªçœŸçš„åˆ é™¤æ‰ï¼Œå¯¼è‡´ç£ç›˜å ç”¨ã€‚ä¸­é—´é‚£ä¸€è¡Œæ˜¯æ–‡ä»¶å¤§å°ï¼Œå¯ä»¥çœ‹å‡ºæ¥å·®ä¸å¤š 100Gã€‚ä¹‹æ‰€ä»¥æœ‰å¤šæ¡è®°å½•ï¼Œæ˜¯å› ä¸ºå¤šçº¿ç¨‹åœ¨å†™å…¥ã€‚ ç¬¬äº”æ­¥ï¼Œé—®é¢˜å¤„ç†ï¼Œé¢å¯¹è¿™æ ·çš„é—®é¢˜ï¼Œåªæœ‰ä¸€ç§å¤„ç†æ–¹å¼å°±æ˜¯é‡å¯æœåŠ¡ï¼ŒæœåŠ¡åœæ­¢åï¼Œæ–‡ä»¶ä¹Ÿä¼šè¢«é‡Šæ”¾ï¼Œç£ç›˜å ç”¨ç‡ç¬é—´ä¸‹é™ã€‚ æ€»ç»“ï¼šåœ¨ window ç³»ç»Ÿä¸Šï¼Œå¦‚æœæƒ³åˆ é™¤ä¸€ä¸ªæ­£åœ¨è¢«è¿›ç¨‹ä½¿ç”¨çš„æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šé˜»æ­¢åˆ é™¤æ“ä½œã€‚Linux ä¹ŸåŒç†ï¼Œä¸è¿‡ Linux åœ¨åˆ é™¤æ—¶ä¸ä¼šæŠ¥é”™ï¼Œä¼šå‡è£…çš„è®©ä½ çœ‹åˆ°ä»¥ä¸ºåˆ é™¤äº†ï¼Œä½†æ–‡ä»¶è¢«è¿›ç¨‹ä¾ç„¶å…³è”ç€å¹¶åœ¨å†™å…¥ï¼Œç£ç›˜å ç”¨ä¹Ÿè¿˜åœ¨ã€‚ä½†é€šè¿‡ du -h æ‰«ä¸å‡ºæ¥ã€‚æ‰€ä»¥æ— è®ºåœ¨ä»€ä¹ˆç³»ç»Ÿï¼Œä¸è¦å°è¯•åˆ é™¤ä¸€ä¸ªæ­£åœ¨è¢«è¿›ç¨‹ä½¿ç”¨çš„æ–‡ä»¶ã€‚ çŸ¥è¯†ç‚¹æ€»ç»“ï¼š æŸ¥çœ‹ç£ç›˜å ç”¨ç‡ï¼šdf -h æŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶å¤¹å¤§å°ï¼šdu -h --max-depth=1 å¦‚æœä½¿ç”¨ du -h å¯ä»¥é€’å½’çœ‹åˆ°æ‰€æœ‰æ–‡ä»¶å¤§å° æŸ¥çœ‹è¢«è¿›ç¨‹ä½¿ç”¨çš„åˆ é™¤æ–‡ä»¶ï¼šlsof|grep delete ref ","date":"2022-06-03","objectID":"/posts/linux/linux%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%8E%87%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B8%8D%E7%AC%A6/:0:0","series":null,"tags":null,"title":"Linux ç£ç›˜å ç”¨ç‡ä¸ä½¿ç”¨ç‡ä¸ç¬¦","uri":"/posts/linux/linux%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%8E%87%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B8%8D%E7%AC%A6/#æ’æŸ¥è¿‡ç¨‹"},{"categories":null,"content":"iptablesç®€ä»‹iptables æ˜¯é›†æˆåœ¨ Linux å†…æ ¸ä¸­çš„åŒ…è¿‡æ»¤é˜²ç«å¢™ç³»ç»Ÿã€‚ä½¿ç”¨ iptables å¯ä»¥æ·»åŠ ã€åˆ é™¤å…·ä½“çš„è¿‡æ»¤è§„åˆ™ï¼Œiptables é»˜è®¤ç»´æŠ¤ç€ 4 ä¸ªè¡¨å’Œ 5 ä¸ªé“¾ï¼Œæ‰€æœ‰çš„é˜²ç«å¢™ç­–ç•¥è§„åˆ™éƒ½è¢«åˆ†åˆ«å†™å…¥è¿™äº›è¡¨ä¸é“¾ä¸­ã€‚ â€œå››è¡¨â€æ˜¯æŒ‡ iptables çš„åŠŸèƒ½ï¼Œé»˜è®¤çš„ iptable sè§„åˆ™è¡¨æœ‰ filter è¡¨ï¼ˆè¿‡æ»¤è§„åˆ™è¡¨ï¼‰ã€nat è¡¨ï¼ˆåœ°å€è½¬æ¢è§„åˆ™è¡¨ï¼‰ã€mangleï¼ˆä¿®æ”¹æ•°æ®æ ‡è®°ä½è§„åˆ™è¡¨ï¼‰ã€rawï¼ˆè·Ÿè¸ªæ•°æ®è¡¨è§„åˆ™è¡¨ï¼‰ï¼š filter è¡¨ï¼šæ§åˆ¶æ•°æ®åŒ…æ˜¯å¦å…è®¸è¿›å‡ºåŠè½¬å‘ï¼Œå¯ä»¥æ§åˆ¶çš„é“¾è·¯æœ‰ INPUTã€FORWARD å’Œ OUTPUTã€‚ nat è¡¨ï¼šæ§åˆ¶æ•°æ®åŒ…ä¸­åœ°å€è½¬æ¢ï¼Œå¯ä»¥æ§åˆ¶çš„é“¾è·¯æœ‰ PREROUTINGã€INPUTã€OUTPUT å’Œ POSTROUTINGã€‚ mangleï¼šä¿®æ”¹æ•°æ®åŒ…ä¸­çš„åŸæ•°æ®ï¼Œå¯ä»¥æ§åˆ¶çš„é“¾è·¯æœ‰ PREROUTINGã€INPUTã€OUTPUTã€FORWARD å’Œ POSTROUTINGã€‚ rawï¼šæ§åˆ¶ nat è¡¨ä¸­è¿æ¥è¿½è¸ªæœºåˆ¶çš„å¯ç”¨çŠ¶å†µï¼Œå¯ä»¥æ§åˆ¶çš„é“¾è·¯æœ‰ PREROUTINGã€OUTPUTã€‚ â€œäº”é“¾â€æ˜¯æŒ‡å†…æ ¸ä¸­æ§åˆ¶ç½‘ç»œçš„ NetFilter å®šä¹‰çš„ 5 ä¸ªè§„åˆ™é“¾ã€‚æ¯ä¸ªè§„åˆ™è¡¨ä¸­åŒ…å«å¤šä¸ªæ•°æ®é“¾ï¼šINPUTï¼ˆå…¥ç«™æ•°æ®è¿‡æ»¤ï¼‰ã€OUTPUTï¼ˆå‡ºç«™æ•°æ®è¿‡æ»¤ï¼‰ã€FORWARDï¼ˆè½¬å‘æ•°æ®è¿‡æ»¤ï¼‰ã€PREROUTINGï¼ˆè·¯ç”±å‰è¿‡æ»¤ï¼‰å’ŒPOSTROUTINGï¼ˆè·¯ç”±åè¿‡æ»¤ï¼‰ï¼Œé˜²ç«å¢™è§„åˆ™éœ€è¦å†™å…¥åˆ°è¿™äº›å…·ä½“çš„æ•°æ®é“¾ä¸­ã€‚ Linux é˜²ç«å¢™çš„è¿‡æ»¤æ¡†æ¶ï¼Œå¦‚å›¾ 1 æ‰€ç¤ºã€‚ å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœæ˜¯å¤–éƒ¨ä¸»æœºå‘é€æ•°æ®åŒ…ç»™é˜²ç«å¢™æœ¬æœºï¼Œæ•°æ®å°†ä¼šç»è¿‡ PREROUTING é“¾ä¸ INPUT é“¾ï¼›å¦‚æœæ˜¯é˜²ç«å¢™æœ¬æœºå‘é€æ•°æ®åŒ…åˆ°å¤–éƒ¨ä¸»æœºï¼Œæ•°æ®å°†ä¼šç»è¿‡ OUTPUT é“¾ä¸ POSTROUTING é“¾ï¼›å¦‚æœé˜²ç«å¢™ä½œä¸ºè·¯ç”±è´Ÿè´£è½¬å‘æ•°æ®ï¼Œåˆ™æ•°æ®å°†ç»è¿‡ PREROUTING é“¾ã€FORWARD é“¾ä»¥åŠ POSTROUTING é“¾ã€‚ ","date":"2022-05-13","objectID":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/:1:0","series":null,"tags":["linux"],"title":"iptableså¿«é€Ÿå…¥é—¨","uri":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/#iptablesç®€ä»‹"},{"categories":null,"content":"iptablesè¯­æ³•æ ¼å¼iptables å‘½ä»¤çš„åŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š [root@liangxu ~]# iptables [-t table] COMMAND [chain] CRETIRIA -j ACTION å„å‚æ•°çš„å«ä¹‰ä¸ºï¼š -tï¼šæŒ‡å®šéœ€è¦ç»´æŠ¤çš„é˜²ç«å¢™è§„åˆ™è¡¨ filterã€natã€mangleæˆ–rawã€‚åœ¨ä¸ä½¿ç”¨ -t æ—¶åˆ™é»˜è®¤ä½¿ç”¨ filter è¡¨ã€‚ COMMANDï¼šå­å‘½ä»¤ï¼Œå®šä¹‰å¯¹è§„åˆ™çš„ç®¡ç†ã€‚ chainï¼šæŒ‡æ˜é“¾è¡¨ã€‚ CRETIRIAï¼šåŒ¹é…å‚æ•°ã€‚ ACTIONï¼šè§¦å‘åŠ¨ä½œã€‚ iptables å‘½ä»¤å¸¸ç”¨çš„é€‰é¡¹åŠå„è‡ªçš„åŠŸèƒ½å¦‚è¡¨ 2 æ‰€ç¤º é€‰ é¡¹ åŠŸ èƒ½ -A æ·»åŠ é˜²ç«å¢™è§„åˆ™ -D åˆ é™¤é˜²ç«å¢™è§„åˆ™ -I æ’å…¥é˜²ç«å¢™è§„åˆ™ -F æ¸…ç©ºé˜²ç«å¢™è§„åˆ™ -L åˆ—å‡ºæ·»åŠ é˜²ç«å¢™è§„åˆ™ -R æ›¿æ¢é˜²ç«å¢™è§„åˆ™ -Z æ¸…ç©ºé˜²ç«å¢™æ•°æ®è¡¨ç»Ÿè®¡ä¿¡æ¯ -P è®¾ç½®é“¾é»˜è®¤è§„åˆ™ iptables å‘½ä»¤å¸¸ç”¨åŒ¹é…å‚æ•°åŠå„è‡ªçš„åŠŸèƒ½å¦‚è¡¨ 3 æ‰€ç¤ºã€‚ å‚ æ•° åŠŸ èƒ½ [!]-p åŒ¹é…åè®®ï¼Œ! è¡¨ç¤ºå–å [!]-s åŒ¹é…æºåœ°å€ [!]-d åŒ¹é…ç›®æ ‡åœ°å€ [!]-i åŒ¹é…å…¥ç«™ç½‘å¡æ¥å£ [!]-o åŒ¹é…å‡ºç«™ç½‘å¡æ¥å£ [!]â€“sport åŒ¹é…æºç«¯å£ [!]â€“dport åŒ¹é…ç›®æ ‡ç«¯å£ [!]â€“src-range åŒ¹é…æºåœ°å€èŒƒå›´ [!]â€“dst-range åŒ¹é…ç›®æ ‡åœ°å€èŒƒå›´ [!]â€“limit å››é…æ•°æ®è¡¨é€Ÿç‡ [!]â€“mac-source åŒ¹é…æºMACåœ°å€ [!]â€“sports åŒ¹é…æºç«¯å£ [!]â€“dports åŒ¹é…ç›®æ ‡ç«¯å£ [!]â€“stste åŒ¹é…çŠ¶æ€ï¼ˆINVALIDã€ESTABLISHEDã€NEWã€RELATED) [!]â€“string åŒ¹é…åº”ç”¨å±‚å­—ä¸² iptables å‘½ä»¤è§¦å‘åŠ¨ä½œåŠå„è‡ªçš„åŠŸèƒ½å¦‚è¡¨ 4 æ‰€ç¤ºã€‚ è§¦å‘åŠ¨ä½œ åŠŸ èƒ½ ACCEPT å…è®¸æ•°æ®åŒ…é€šè¿‡ DROP ä¸¢å¼ƒæ•°æ®åŒ… REJECT æ‹’ç»æ•°æ®åŒ…é€šè¿‡ LOG å°†æ•°æ®åŒ…ä¿¡æ¯è®°å½• syslog æ›°å¿— DNAT ç›®æ ‡åœ°å€è½¬æ¢ SNAT æºåœ°å€è½¬æ¢ MASQUERADE åœ°å€æ¬ºéª— REDIRECT é‡å®šå‘ å†…æ ¸ä¼šæŒ‰ç…§é¡ºåºä¾æ¬¡æ£€æŸ¥ iptables é˜²ç«å¢™è§„åˆ™ï¼Œå¦‚æœå‘ç°æœ‰åŒ¹é…çš„è§„åˆ™ç›®å½•ï¼Œåˆ™ç«‹åˆ»æ‰§è¡Œç›¸å…³åŠ¨ä½œï¼Œåœæ­¢ç»§ç»­å‘ä¸‹æŸ¥æ‰¾è§„åˆ™ç›®å½•ï¼›å¦‚æœæ‰€æœ‰çš„é˜²ç«å¢™è§„åˆ™éƒ½æœªèƒ½åŒ¹é…æˆåŠŸï¼Œåˆ™æŒ‰ç…§é»˜è®¤ç­–ç•¥å¤„ç†ã€‚ä½¿ç”¨ -A é€‰é¡¹æ·»åŠ é˜²ç«å¢™è§„åˆ™ä¼šå°†è¯¥è§„åˆ™è¿½åŠ åˆ°æ•´ä¸ªé“¾çš„æœ€åï¼Œè€Œä½¿ç”¨ -I é€‰é¡¹æ·»åŠ çš„é˜²ç«å¢™è§„åˆ™åˆ™ä¼šé»˜è®¤æ’å…¥åˆ°é“¾ä¸­ä½œä¸ºç¬¬ä¸€æ¡è§„åˆ™ã€‚ æ³¨æ„ï¼Œåœ¨ Linux CentOS ç³»ç»Ÿä¸­ï¼Œiptables æ˜¯é»˜è®¤å®‰è£…çš„ï¼Œå¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰ iptables å·¥å…·ï¼Œå¯ä»¥å…ˆè¿›è¡Œå®‰è£…ã€‚ ","date":"2022-05-13","objectID":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/:2:0","series":null,"tags":["linux"],"title":"iptableså¿«é€Ÿå…¥é—¨","uri":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/#iptablesè¯­æ³•æ ¼å¼"},{"categories":null,"content":"è§„åˆ™çš„æŸ¥çœ‹ä¸æ¸…é™¤ä½¿ç”¨ iptables å‘½ä»¤å¯ä»¥å¯¹å…·ä½“çš„è§„åˆ™è¿›è¡ŒæŸ¥çœ‹ã€æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ æŸ¥çœ‹è§„åˆ™ å¯¹è§„åˆ™çš„æŸ¥çœ‹éœ€è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š [root@liangxu ~]# iptables -nvL å„å‚æ•°çš„å«ä¹‰ä¸ºï¼š -L è¡¨ç¤ºæŸ¥çœ‹å½“å‰è¡¨çš„æ‰€æœ‰è§„åˆ™ï¼Œé»˜è®¤æŸ¥çœ‹çš„æ˜¯ filter è¡¨ï¼Œå¦‚æœè¦æŸ¥çœ‹ nat è¡¨ï¼Œå¯ä»¥åŠ ä¸Š -t nat å‚æ•°ã€‚ -n è¡¨ç¤ºä¸å¯¹ IP åœ°å€è¿›è¡ŒåæŸ¥ï¼ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°æ˜¾ç¤ºé€Ÿåº¦å°†ä¼šåŠ å¿«ã€‚ -v è¡¨ç¤ºè¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…å«é€šè¿‡è¯¥è§„åˆ™çš„æ•°æ®åŒ…æ•°é‡ã€æ€»å­—èŠ‚æ•°ä»¥åŠç›¸åº”çš„ç½‘ç»œæ¥å£ã€‚ ã€ä¾‹ 1ã€‘æŸ¥çœ‹è§„åˆ™ã€‚ é¦–å…ˆéœ€è¦ä½¿ç”¨ su å‘½ä»¤ï¼Œåˆ‡æ¢å½“å‰ç”¨æˆ·åˆ° root ç”¨æˆ·ã€‚ç„¶ååœ¨ç»ˆç«¯é¡µé¢è¾“å…¥å‘½ä»¤å¦‚ä¸‹ï¼š [root@liangxu ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination ACCEPT all -- anywhere anywhere state RELATED,ESTABLISHED ACCEPT icmp -- anywhere anywhere ACCEPT all -- anywhere anywhere ACCEPT tcp -- anywhere anywhere state NEW tcp dpt:ssh REJECT all -- anywhere anywhere reject-with icmp-host-prohibited æ·»åŠ è§„åˆ™ æ·»åŠ è§„åˆ™æœ‰ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ -A å’Œ -Iã€‚å…¶ä¸­ -A æ˜¯æ·»åŠ åˆ°è§„åˆ™çš„æœ«å°¾ï¼›-I å¯ä»¥æ’å…¥åˆ°æŒ‡å®šä½ç½®ï¼Œæ²¡æœ‰æŒ‡å®šä½ç½®çš„è¯é»˜è®¤æ’å…¥åˆ°è§„åˆ™çš„é¦–éƒ¨ã€‚ ã€ä¾‹ 2ã€‘æŸ¥çœ‹å½“å‰è§„åˆ™ã€‚é¦–å…ˆéœ€è¦ä½¿ç”¨ su å‘½ä»¤ï¼Œåˆ‡æ¢å½“å‰ç”¨æˆ·åˆ° root ç”¨æˆ·ï¼Œç„¶ååœ¨ç»ˆç«¯é¡µé¢è¾“å…¥å‘½ä»¤å¦‚ä¸‹ï¼š [root@liangxu ~]# iptables -nL --line-number Chain INPUT (policy ACCEPT) num target prot opt source destination 1 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 state RELATED,ESTABLISHED 2 ACCEPT icmp -- 0.0.0.0/0 0.0.0.0/0 3 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 4 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:22 5 REJECT all -- 0.0.0.0/0 0.0.0.0/0 reject-with icmp-host-prohibited ã€ä¾‹ 3ã€‘æ·»åŠ ä¸€æ¡è§„åˆ™åˆ°å°¾éƒ¨ã€‚ é¦–å…ˆéœ€è¦ä½¿ç”¨ su å‘½ä»¤ï¼Œåˆ‡æ¢å½“å‰ç”¨æˆ·åˆ° root ç”¨æˆ·ï¼Œç„¶ååœ¨ç»ˆç«¯é¡µé¢è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š [root@liangxu ~]# iptables -A INPUT -s 192.168.1.5 -j DROP [root@liangxu ~]# iptables -nL --line-number Chain INPUT (policy ACCEPT) num target prot opt source destination 1 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 state RELATED,ESTABLISHED 2 ACCEPT icmp -- 0.0.0.0/0 0.0.0.0/0 3 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 4 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:22 5 REJECT all -- 0.0.0.0/0 0.0.0.0/0 reject-with icmp-host-prohibited 6 DROP all -- 192.168.1.5 0.0.0.0/0 ä¿®æ”¹è§„åˆ™ åœ¨ä¿®æ”¹è§„åˆ™æ—¶éœ€è¦ä½¿ç”¨-Rå‚æ•°ã€‚ ã€ä¾‹ 4ã€‘æŠŠæ·»åŠ åœ¨ç¬¬ 6 è¡Œè§„åˆ™çš„ DROP ä¿®æ”¹ä¸º ACCEPTã€‚é¦–å…ˆéœ€è¦ä½¿ç”¨ su å‘½ä»¤ï¼Œåˆ‡æ¢å½“å‰ç”¨æˆ·åˆ° root ç”¨æˆ·ï¼Œç„¶ååœ¨ç»ˆç«¯é¡µé¢è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š [root@liangxu ~]# iptables -R INPUT 6 -s 194.168.1.5 -j ACCEPT [root@liangxu ~]# iptables -nL --line-number Chain INPUT (policy ACCEPT) num target prot opt source destination 1 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 state RELATED,ESTABLISHED 2 ACCEPT icmp -- 0.0.0.0/0 0.0.0.0/0 3 ACCEPT all -- 0.0.0.0/0 0.0.0.0/0 4 ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 state NEW tcp dpt:22 5 REJECT all -- 0.0.0.0/0 0.0.0.0/0 reject-with icmp-host-prohibited 6 ACCEPT all -- 194.168.1.5 0.0.0.0/0 å¯¹æ¯”å‘ç°ï¼Œç¬¬ 6 è¡Œè§„åˆ™çš„ target å·²ä¿®æ”¹ä¸º ACCEPTã€‚ åˆ é™¤è§„åˆ™ åˆ é™¤è§„åˆ™æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä½†éƒ½å¿…é¡»ä½¿ç”¨ -D å‚æ•°ã€‚ ã€ä¾‹ 5ã€‘åˆ é™¤æ·»åŠ çš„ç¬¬ 6 è¡Œçš„è§„åˆ™ã€‚é¦–å…ˆéœ€è¦ä½¿ç”¨suå‘½ä»¤ï¼Œåˆ‡æ¢å½“å‰ç”¨æˆ·åˆ° root ç”¨æˆ·ï¼Œç„¶ååœ¨ç»ˆç«¯é¡µé¢è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š [root@liangxu ~]# iptables -D INPUT 6 -s 194.168.1.5 -j ACCEPT æˆ– [root@liangxu ~]# iptables -D INPUT 6 æ³¨æ„ï¼Œæœ‰æ—¶éœ€è¦åˆ é™¤çš„è§„åˆ™è¾ƒé•¿ï¼Œåˆ é™¤æ—¶éœ€è¦å†™ä¸€å¤§ä¸²çš„ä»£ç ï¼Œè¿™æ ·æ¯”è¾ƒå®¹æ˜“å†™é”™ï¼Œè¿™æ—¶å¯ä»¥å…ˆä½¿ç”¨ -line-number æ‰¾å‡ºè¯¥æ¡è§„åˆ™çš„è¡Œå·ï¼Œå†é€šè¿‡è¡Œå·åˆ é™¤è§„åˆ™ã€‚ ","date":"2022-05-13","objectID":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/:3:0","series":null,"tags":["linux"],"title":"iptableså¿«é€Ÿå…¥é—¨","uri":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/#è§„åˆ™çš„æŸ¥çœ‹ä¸æ¸…é™¤"},{"categories":null,"content":"é˜²ç«å¢™çš„å¤‡ä»½ä¸è¿˜åŸé»˜è®¤çš„ iptables é˜²ç«å¢™è§„åˆ™ä¼šç«‹åˆ»ç”Ÿæ•ˆï¼Œä½†å¦‚æœä¸ä¿å­˜ï¼Œå½“è®¡ç®—æœºé‡å¯åæ‰€æœ‰çš„è§„åˆ™éƒ½ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å¯¹é˜²ç«å¢™è§„åˆ™è¿›è¡ŒåŠæ—¶ä¿å­˜çš„æ“ä½œæ˜¯éå¸¸å¿…è¦çš„ã€‚ iptables è½¯ä»¶åŒ…æä¾›äº†ä¸¤ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªå·¥å…·å¤„ç†å¤§é‡çš„é˜²ç«å¢™è§„åˆ™ã€‚è¿™ä¸¤ä¸ªå·¥å…·åˆ†åˆ«æ˜¯ iptables-save å’Œ iptables-restoreï¼Œä½¿ç”¨è¯¥å·¥å…·å¯ä»¥å®ç°é˜²ç«å¢™è§„åˆ™çš„ä¿å­˜ä¸è¿˜åŸã€‚è¿™ä¸¤ä¸ªå·¥å…·çš„æœ€å¤§ä¼˜åŠ¿æ˜¯å¤„ç†åºå¤§çš„è§„åˆ™é›†æ—¶é€Ÿåº¦éå¸¸å¿«ã€‚ CentOS 7 ç³»ç»Ÿä¸­é˜²ç«å¢™è§„åˆ™é»˜è®¤ä¿å­˜åœ¨ /etc/sysconfig/iptables æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ iptables-save å°†è§„åˆ™ä¿å­˜è‡³è¯¥æ–‡ä»¶ä¸­å¯ä»¥å®ç°ä¿å­˜é˜²ç«å¢™è§„åˆ™çš„ä½œç”¨ï¼Œè®¡ç®—æœºé‡å¯åä¼šè‡ªåŠ¨åŠ è½½è¯¥æ–‡ä»¶ä¸­çš„è§„åˆ™ã€‚å¦‚æœä½¿ç”¨ iptables-save å°†è§„åˆ™ä¿å­˜è‡³å…¶ä»–ä½ç½®ï¼Œå¯ä»¥å®ç°å¤‡ä»½é˜²ç«å¢™è§„åˆ™çš„ä½œç”¨ã€‚å½“é˜²ç«å¢™è§„åˆ™éœ€è¦åšè¿˜åŸæ“ä½œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ iptables-restore å°†å¤‡ä»½æ–‡ä»¶ç›´æ¥å¯¼å…¥å½“å‰é˜²ç«å¢™è§„åˆ™ã€‚ 1ã€iptables-saveå‘½ä»¤ iptables-save å‘½ä»¤ç”¨æ¥æ‰¹é‡å¯¼å‡º Linux é˜²ç«å¢™è§„åˆ™ï¼Œè¯­æ³•ä»‹ç»å¦‚ä¸‹ï¼š ä¿å­˜åœ¨é»˜è®¤æ–‡ä»¶å¤¹ä¸­ï¼ˆä¿å­˜é˜²ç«å¢™è§„åˆ™ï¼‰ï¼š [root@liangxu ~]# iptables-save \u003e /etc/sysconfig/iptables ä¿å­˜åœ¨å…¶ä»–ä½ç½®ï¼ˆå¤‡ä»½é˜²ç«å¢™è§„åˆ™ï¼‰ï¼š [root@liangxu ~]# iptables-save \u003e æ–‡ä»¶åç§° ç›´æ¥æ‰§è¡Œ iptables-save å‘½ä»¤ï¼šæ˜¾ç¤ºå‡ºå½“å‰å¯ç”¨çš„æ‰€æœ‰è§„åˆ™ï¼ŒæŒ‰ç…§ rawã€mangleã€natã€filter è¡¨çš„é¡ºåºä¾æ¬¡åˆ—å‡ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š [root@liangxu ~]# iptables-save # Generated by iptables-save v1.4.7 on Thu Aug 27 07:06:36 2020 *filter :INPUT ACCEPT [0:0] :FORWARD ACCEPT [0:0] :OUTPUT ACCEPT [602:39026] â€¦â€¦. COMMIT # Completed on Thu Aug 27 07:06:36 2020 å…¶ä¸­ï¼š â€œ#â€å·å¼€å¤´çš„è¡¨ç¤ºæ³¨é‡Šï¼› â€œ*filterâ€è¡¨ç¤ºæ‰€åœ¨çš„è¡¨ï¼› â€œï¼šé“¾åé»˜è®¤ç­–ç•¥â€è¡¨ç¤ºç›¸åº”çš„é“¾åŠé»˜è®¤ç­–ç•¥ï¼Œå…·ä½“çš„è§„åˆ™éƒ¨åˆ†çœç•¥äº†å‘½ä»¤åâ€œiptablesâ€ï¼› åœ¨æœ«å°¾å¤„â€œCOMMITâ€è¡¨ç¤ºæäº¤å‰é¢çš„è§„åˆ™è®¾ç½®ã€‚ å¤‡ä»½åˆ°å…¶ä»–æ–‡ä»¶ä¸­ã€‚ä¾‹å¦‚æ–‡ä»¶ï¼štextï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š [root@liangxu ~]# iptables-save \u003e test [root@liangxu ~]# ls test [root@bogon ~]# cat test # Generated by iptables-save v1.4.7 on Thu Aug 27 07:09:47 2020 *filter â€¦â€¦ åˆ—å‡ºnatè¡¨çš„è§„åˆ™å†…å®¹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š [root@liangxu ~]# iptables-save -t nat â€œ-tè¡¨åâ€ï¼šè¡¨ç¤ºåˆ—å‡ºæŸä¸€ä¸ªè¡¨ã€‚ 2ã€iptables-restoreå‘½ä»¤ iptables-restore å‘½ä»¤å¯ä»¥æ‰¹é‡å¯¼å…¥Linuxé˜²ç«å¢™è§„åˆ™ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦ç»“åˆé‡å®šå‘è¾“å…¥æ¥æŒ‡å®šå¤‡ä»½æ–‡ä»¶çš„ä½ç½®ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š [root@liangxu ~]# iptables-restore \u003c æ–‡ä»¶åç§° æ³¨æ„ï¼Œå¯¼å…¥çš„æ–‡ä»¶å¿…é¡»æ˜¯ä½¿ç”¨ iptables-saveå·¥å…·å¯¼å‡ºæ¥çš„æ‰å¯ä»¥ã€‚ å…ˆä½¿ç”¨ iptables-restore å‘½ä»¤è¿˜åŸ text æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ iptables -t nat -nvL å‘½ä»¤æŸ¥çœ‹æ¸…ç©ºçš„è§„åˆ™æ˜¯å¦å·²ç»è¿˜åŸï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š [root@liangxu ~]# iptables-restore \u003c test [root@liangxu ~]# iptables -t nat -nvL Chain PREROUTING (policy ACCEPT 0 packets, 0 bytes) pkts bytes target prot opt in out source destination Chain POSTROUTING (policy ACCEPT 0 packets, 0 bytes) pkts bytes target prot opt in out source destination Chain OUTPUT (policy ACCEPT 0 packets, 0 bytes) pkts bytes target prot opt in out source destination ","date":"2022-05-13","objectID":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/:4:0","series":null,"tags":["linux"],"title":"iptableså¿«é€Ÿå…¥é—¨","uri":"/posts/linux/iptables%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/#é˜²ç«å¢™çš„å¤‡ä»½ä¸è¿˜åŸ"},{"categories":null,"content":"å‰è¨€gcpæä¾›ä¸€ä¸ªå…è´¹è¾£é¸¡å®ä¾‹ï¼Œä½œä¸ºç™½å«–èµ„æ·±ç”¨æˆ·ï¼Œå½“ç„¶æ˜¯å¿…é¡»æèµ· Ps: æµé‡ä¸èƒ½æ¥ä¸­å›½ï¼Œä¸ç„¶å°±è¦ä»·é’±ï¼Œæ‰€ä»¥äº®æœºå°±å¥½ éœ€è¦æœ‰gcpè´¦å· ","date":"2022-05-11","objectID":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/:1:0","series":null,"tags":["ç™½å«–","cloud"],"title":"gcpå®ä¾‹åˆ›å»ºå’Œå¼€å¯ipv6","uri":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/#å‰è¨€"},{"categories":null,"content":"åˆ›å»ºipv6ç½‘ç»œè‡ªåŠ¨å­ç½‘æ¨¡å¼ä¸æ”¯æŒipv6ï¼Œè¦å…ˆä¿®æ”¹ï¼Œè¿™é‡Œå·²ç»ä¿®æ”¹å®Œäº† åœ¨cloud shellä¸­è¿è¡Œå‘½ä»¤ä»¥å¯ç”¨ipv6ï¼ˆå¿…é¡»å…³é—­è‡ªåŠ¨å­ç½‘æ¨¡å¼ï¼‰ https://cloud.google.com/vpc/docs/create-modify-vpc-networks?hl=zh-cn#console_5 ","date":"2022-05-11","objectID":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/:2:0","series":null,"tags":["ç™½å«–","cloud"],"title":"gcpå®ä¾‹åˆ›å»ºå’Œå¼€å¯ipv6","uri":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/#åˆ›å»ºipv6ç½‘ç»œ"},{"categories":null,"content":"é…ç½®é˜²ç«å¢™ä¿®æ”¹ä¸€ä¸‹å…¥ç«™è§„åˆ™ æ·»åŠ ipv6è§„åˆ™ ","date":"2022-05-11","objectID":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/:3:0","series":null,"tags":["ç™½å«–","cloud"],"title":"gcpå®ä¾‹åˆ›å»ºå’Œå¼€å¯ipv6","uri":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/#é…ç½®é˜²ç«å¢™"},{"categories":null,"content":"åˆ›å»ºè™šæ‹Ÿæœº åœ°åŒºé€‰æ‹©å…è´¹åˆ—è¡¨é‡Œé¢çš„å°±å¥½ï¼Œæ€§èƒ½é€‰æ‹©e2-micro é»˜è®¤æ˜¯10gç¡¬ç›˜ï¼Œä½†å…è´¹æ˜¯30gï¼Œæ‰€ä»¥å¯ä»¥å†åŠ å¤§ç‚¹ ","date":"2022-05-11","objectID":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/:4:0","series":null,"tags":["ç™½å«–","cloud"],"title":"gcpå®ä¾‹åˆ›å»ºå’Œå¼€å¯ipv6","uri":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/#åˆ›å»ºè™šæ‹Ÿæœº"},{"categories":null,"content":"ç‰¹åˆ«æ³¨æ„ï¼Œå…è´¹ç£ç›˜æ˜¯æ ‡å‡†æ°¸ä¹…æ€§ç£ç›˜ æ‰“å¼€é«˜çº§é€‰é¡¹ä»¥é…ç½®sshå’Œipv6 åœ¨ç½‘ç»œæ¥å£è¿™é‡Œé€‰æ‹©åŒæ ˆ åœ¨å®‰å…¨ï¼Œç®¡ç†è®¿é—®æƒé™è¿™é‡Œæ·»åŠ sshå…¬é’¥ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰ ","date":"2022-05-11","objectID":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/:4:1","series":null,"tags":["ç™½å«–","cloud"],"title":"gcpå®ä¾‹åˆ›å»ºå’Œå¼€å¯ipv6","uri":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/#ç‰¹åˆ«æ³¨æ„å…è´¹ç£ç›˜æ˜¯æ ‡å‡†æ°¸ä¹…æ€§ç£ç›˜"},{"categories":null,"content":"è¿æ¥å®ä¾‹ é€šè¿‡æ§åˆ¶å°è¿æ¥ é€šè¿‡sshè¿æ¥ æ³¨æ„ï¼šè™½ç„¶ç”¨çš„æ˜¯sshè¿æ¥ï¼Œå¹¶ä¸”ä½ ä¹Ÿæ·»åŠ äº†å…¬é’¥ï¼Œdebianç³»ç»Ÿï¼Œä»–çš„ç”¨æˆ·åå¹¶ä¸æ˜¯rootï¼Œéœ€è¦ä½ åœ¨æ§åˆ¶å°ä¸­æ‰¾åˆ° æœåŠ¡å™¨æ€§èƒ½ ","date":"2022-05-11","objectID":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/:5:0","series":null,"tags":["ç™½å«–","cloud"],"title":"gcpå®ä¾‹åˆ›å»ºå’Œå¼€å¯ipv6","uri":"/posts/cloud/gcp%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA%E5%92%8C%E5%BC%80%E5%90%AFipv6/#è¿æ¥å®ä¾‹"},{"categories":null,"content":"å‰è¨€ä½¿ç”¨å­¦ä¹ é€šç½‘é¡µåšé¢˜çš„æ—¶å€™ï¼Œæƒ³å¤åˆ¶é¢˜ç›®ï¼Œç»“æœå¾—åˆ°çš„æ˜¯ä¹±ç ï¼Œæ‰“å¼€æºç ä¸€çœ‹ï¼ŒåŸæ¥æ˜¯å¯¹å­—ä½“è¿›è¡Œäº†åŠ å¯† ","date":"2022-04-29","objectID":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/:1:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"ç½‘é¡µå­—ä½“åŠ å¯†åŸç†ï¼ˆå­¦ä¹ é€šä¸ºä¾‹ï¼‰","uri":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/#å‰è¨€"},{"categories":null,"content":"åŸç†åˆ†æ","date":"2022-04-29","objectID":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/:2:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"ç½‘é¡µå­—ä½“åŠ å¯†åŸç†ï¼ˆå­¦ä¹ é€šä¸ºä¾‹ï¼‰","uri":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/#åŸç†åˆ†æ"},{"categories":null,"content":"unicodeunicodeè§„å®šäº†æ±‰å­—çš„ç¼–ç ï¼Œå¦‚å¹²è¿™ä¸ªå­—å¯¹åº”çš„unicodeç¼–ç æ˜¯uni5E72 æ¯”å¦‚æˆ‘ä¸‹è½½äº†ä¸€ä¸ªå­—ä½“ï¼Œç”¨è½¯ä»¶æ‰“å¼€å¦‚fontCreator,å°±å¯ä»¥æ‰¾åˆ° ","date":"2022-04-29","objectID":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/:2:1","series":null,"tags":["å­¦ä¹ é€š"],"title":"ç½‘é¡µå­—ä½“åŠ å¯†åŸç†ï¼ˆå­¦ä¹ é€šä¸ºä¾‹ï¼‰","uri":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/#unicode"},{"categories":null,"content":"å­¦ä¹ é€šæ€ä¹ˆåšçš„è¿™é“é¢˜ä¸­ï¼Œè¿™å‡ ä¸ªå­—æ˜¯font-cxsecretå­—ä½“ï¼Œè¿™ä¸ªå­—ä½“ï¼Œå°±æ˜¯å­¦ä¹ é€šçš„åŠ å¯†å­—ä½“ï¼Œè¿™ä¸ªå­—ä½“çš„ä½ç½®å¯ä»¥åœ¨headä¸­æ‰¾åˆ° æŠŠè¿™ä¸ªåŠ å¯†å­—ä½“ä¿å­˜ä¸‹æ¥æ‰“å¼€ å¥½åƒå¹¶æ²¡æœ‰å•¥é—®é¢˜ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯ï¼Œæˆ‘æ‹¿ç”µ ä¸¾ä¾‹ï¼Œåœ¨å­¦ä¹ é€šçš„å­—ä½“ä¸­ï¼Œç¼–å·ä¸ºuni5B24ï¼Œä½†åœ¨å¸¸è§„å­—ä½“ä¸­ï¼Œç”µçš„ç¼–å·æ˜¯uni7535 å­¦ä¹ é€šå­—ä½“è§„å®šçš„uni5B24çš„å½¢çŠ¶ å¸¸è§„å­—ä½“ï¼Œæˆ–è€…è¯´unicodeè§„å®šuni5B24çš„å½¢çŠ¶ å›åˆ°ç½‘é¡µï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç”µå¯¹åº”çš„å°±æ˜¯å¬¤ ","date":"2022-04-29","objectID":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/:2:2","series":null,"tags":["å­¦ä¹ é€š"],"title":"ç½‘é¡µå­—ä½“åŠ å¯†åŸç†ï¼ˆå­¦ä¹ é€šä¸ºä¾‹ï¼‰","uri":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/#å­¦ä¹ é€šæ€ä¹ˆåšçš„"},{"categories":null,"content":"ç»“è®ºå­¦ä¹ é€šè¿™æ‹›ä¸å¯è°“å¾ˆå·§(yin)å¦™(xian)ï¼Œæ€»çš„æ¥è¯´ï¼Œå­¦ä¹ é€šçš„å­—ä½“åŠ å¯†æœ‰ä»¥ä¸‹å‡ æ­¥ åœ¨è¿™é“é¢˜ç›®ä¸­éšæœºé€‰æ‹©å‡ ä¸ªå­—ï¼Œè¿›è¡ŒåŠ å¯†ï¼Œå¦‚è¦åŠ å¯†ç”µè¿™ä¸ªå­—ï¼Œå…ˆæŠŠç”µçš„å­—ä½“å½¢çŠ¶æ‰¾åˆ°ï¼Œè®©è¿™ä¸ªå­—ä½“å½¢çŠ¶å¯¹ä¸Šå¦ä¸€ä¸ªç¼–å·å¦‚uni5B24ï¼Œç”Ÿæˆå­—ä½“ï¼Œå­—ä½“ä¸­åŒ…å«åŠ å¯†çš„å­— æŠŠåŸæ¥ç½‘é¡µä¸­æ­£å¸¸çš„å­—æ”¹æˆåŠ å¯†åçš„ç¼–ç  è®©åŠ å¯†å­—çš„å­—ä½“å±äºåŠ å¯†å­—ä½“ ","date":"2022-04-29","objectID":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/:2:3","series":null,"tags":["å­¦ä¹ é€š"],"title":"ç½‘é¡µå­—ä½“åŠ å¯†åŸç†ï¼ˆå­¦ä¹ é€šä¸ºä¾‹ï¼‰","uri":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/#ç»“è®º"},{"categories":null,"content":"refhttps://blog.csdn.net/litang199612/article/details/83413002 https://blog.csdn.net/qq_35741999/article/details/82018049 ","date":"2022-04-29","objectID":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/:3:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"ç½‘é¡µå­—ä½“åŠ å¯†åŸç†ï¼ˆå­¦ä¹ é€šä¸ºä¾‹ï¼‰","uri":"/posts/%E7%BD%91%E9%A1%B5%E5%AD%97%E4%BD%93%E5%8A%A0%E5%AF%86%E5%8E%9F%E7%90%86%E5%AD%A6%E4%B9%A0%E9%80%9A%E4%B8%BA%E4%BE%8B/#ref"},{"categories":null,"content":"what is NAT?æ€»æ‰€å‘¨çŸ¥ï¼Œå…¬ç½‘ipv4åœ¨ä¸­å›½å¾ˆç´§ç¼ºï¼Œè€Œæˆ‘å®¶çš„å®½å¸¦åˆæ˜¯ç´§ç¼ºä¹‹é¦–ï¼ˆä¸­å›½ç§»åŠ¨ï¼Œä¸»è¦æ˜¯ä¾¿å®œï¼‰ï¼Œä¾¿å¼€å§‹äº†æˆ‘æ¼«é•¿çš„ç ”ç©¶ä¹‹æ—… ","date":"2022-04-29","objectID":"/posts/fucknat/:1:0","series":null,"tags":["ç½‘ç»œ"],"title":"è¯´è¯´NATçš„é‚£äº›äº‹åŠå¦‚ä½•ä¼˜é›…çš„P2P","uri":"/posts/fucknat/#what-is-nat"},{"categories":null,"content":"NATç±»å‹è¯¦æƒ…çœ‹ https://zhuanlan.zhihu.com/p/446503405 å…ˆè¯´ç»“è®ºï¼šæ²¡æœ‰å…¬ç½‘ipçš„å®¶åº­90%çš„NATä¸€èˆ¬ä¸ºNAT2æˆ–è€…NAT3ç±»å‹ï¼Œæ‰€ä»¥å¯¹äºä¸¤ä¸ªè®¾å¤‡éƒ½åœ¨NATåé¢çš„æƒ…å†µï¼Œæ˜¯å¯ä»¥å®ç°P2Pçš„ï¼Œåªæ˜¯éœ€è¦ä¸€ç‚¹ç‚¹å¸®åŠ©ï¼ˆSTUNï¼‰ ","date":"2022-04-29","objectID":"/posts/fucknat/:2:0","series":null,"tags":["ç½‘ç»œ"],"title":"è¯´è¯´NATçš„é‚£äº›äº‹åŠå¦‚ä½•ä¼˜é›…çš„P2P","uri":"/posts/fucknat/#natç±»å‹"},{"categories":null,"content":"STUNSTUNæ˜¯ä¸€ä¸ªåè®®ï¼Œå®ç°è¿˜å¾—æ˜¯è½¯ä»¶ https://blog.csdn.net/wyl1987527/article/details/80188001 æ¯”å¦‚ä½ æœ‰ä¸€å°å…¬ç½‘æœåŠ¡å™¨ï¼Œä½ å¯ä»¥åšä¸ªå®éªŒï¼Œå§è¿™å°å…¬ç½‘æœåŠ¡å™¨ä½œä¸ºSTUNçš„æœåŠ¡å™¨ï¼Œä½¿ç”¨CoreDNSå®ç° https://icloudnative.io/posts/wireguard-endpoint-discovery-nat-traversal å¯ä»¥çœ‹çœ‹å…¶å®åå¼¹shellä¹Ÿæ˜¯åŸºäºè¿™ä¸ªåŸç† https://zhuanlan.zhihu.com/p/166165803 ","date":"2022-04-29","objectID":"/posts/fucknat/:3:0","series":null,"tags":["ç½‘ç»œ"],"title":"è¯´è¯´NATçš„é‚£äº›äº‹åŠå¦‚ä½•ä¼˜é›…çš„P2P","uri":"/posts/fucknat/#stun"},{"categories":null,"content":"æœ€ç®€å•çš„æ–¹å¼ï¼ˆç°æˆè½¯ä»¶ï¼‰","date":"2022-04-29","objectID":"/posts/fucknat/:4:0","series":null,"tags":["ç½‘ç»œ"],"title":"è¯´è¯´NATçš„é‚£äº›äº‹åŠå¦‚ä½•ä¼˜é›…çš„P2P","uri":"/posts/fucknat/#æœ€ç®€å•çš„æ–¹å¼ç°æˆè½¯ä»¶"},{"categories":null,"content":"ZeroTier (ä¸æ¨è)","date":"2022-04-29","objectID":"/posts/fucknat/:4:1","series":null,"tags":["ç½‘ç»œ"],"title":"è¯´è¯´NATçš„é‚£äº›äº‹åŠå¦‚ä½•ä¼˜é›…çš„P2P","uri":"/posts/fucknat/#zerotier-ä¸æ¨è"},{"categories":null,"content":"Frp (çœ‹éœ€æ±‚)","date":"2022-04-29","objectID":"/posts/fucknat/:4:2","series":null,"tags":["ç½‘ç»œ"],"title":"è¯´è¯´NATçš„é‚£äº›äº‹åŠå¦‚ä½•ä¼˜é›…çš„P2P","uri":"/posts/fucknat/#frp-çœ‹éœ€æ±‚"},{"categories":null,"content":"Tailscale (å¼ºçƒˆæ¨è)","date":"2022-04-29","objectID":"/posts/fucknat/:4:3","series":null,"tags":["ç½‘ç»œ"],"title":"è¯´è¯´NATçš„é‚£äº›äº‹åŠå¦‚ä½•ä¼˜é›…çš„P2P","uri":"/posts/fucknat/#tailscale-å¼ºçƒˆæ¨è"},{"categories":null,"content":"è¯·æ±‚ https ç½‘ç«™è·³è¿‡è¯ä¹¦éªŒè¯ åœ¨ç”¨ Golang å‘èµ·httpsè¯·æ±‚æ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼Œå› ä¸ºè¯ä¹¦æ˜¯æœªç»è¿‡è®¤è¯çš„ï¼Œè€Œæ˜¯è‡ªå·±åˆ›å»ºçš„ã€‚ é”™è¯¯ä¿¡æ¯ï¼šGet https://192.169.0.199:8080/Versty/app: x509: certificate signed by unknown authority import ( \"crypto/tls\" \"net/http\" \"net/http/cookiejar\" ) ... //è·³è¿‡è¯ä¹¦éªŒè¯ tr := \u0026http.Transport{ TLSClientConfig: \u0026tls.Config{InsecureSkipVerify: true}, } //http cookieæ¥å£ cookieJar, _ := cookiejar.New(nil) c := \u0026http.Client{ Jar: cookieJar, Transport: tr, } c.Get(\"https://192.169.0.199:8080/Versty/app: \") ","date":"2022-04-24","objectID":"/posts/go/https%E8%B7%B3%E8%BF%87%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81/:0:0","series":null,"tags":["Go"],"title":"Go httpsè·³è¿‡è¯ä¹¦éªŒè¯","uri":"/posts/go/https%E8%B7%B3%E8%BF%87%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81/#"},{"categories":null,"content":"1.Linuxé“¾æ¥æ¦‚å¿µLinuxé“¾æ¥åˆ†ä¸¤ç§ï¼Œä¸€ç§è¢«ç§°ä¸ºç¡¬é“¾æ¥ï¼ˆHard Linkï¼‰ï¼Œå¦ä¸€ç§è¢«ç§°ä¸ºç¬¦å·é“¾æ¥ï¼ˆSymbolic Linkï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œlnå‘½ä»¤äº§ç”Ÿç¡¬é“¾æ¥ã€‚ ","date":"2022-04-20","objectID":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/:1:0","series":null,"tags":null,"title":"Linuxç¡¬é“¾æ¥å’Œè½¯è¿æ¥","uri":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/#1linuxé“¾æ¥æ¦‚å¿µ"},{"categories":null,"content":"ã€ç¡¬è¿æ¥ã€‘ç¡¬è¿æ¥æŒ‡é€šè¿‡ç´¢å¼•èŠ‚ç‚¹æ¥è¿›è¡Œè¿æ¥ã€‚åœ¨Linuxçš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¿å­˜åœ¨ç£ç›˜åˆ†åŒºä¸­çš„æ–‡ä»¶ä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹éƒ½ç»™å®ƒåˆ†é…ä¸€ä¸ªç¼–å·ï¼Œç§°ä¸ºç´¢å¼•èŠ‚ç‚¹å·(Inode Index)ã€‚åœ¨Linuxä¸­ï¼Œå¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ç´¢å¼•èŠ‚ç‚¹æ˜¯å­˜åœ¨çš„ã€‚ä¸€èˆ¬è¿™ç§è¿æ¥å°±æ˜¯ç¡¬è¿æ¥ã€‚ç¡¬è¿æ¥çš„ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªæœ‰æ•ˆè·¯å¾„åï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥å»ºç«‹ç¡¬è¿æ¥åˆ°é‡è¦æ–‡ä»¶ï¼Œä»¥é˜²æ­¢â€œè¯¯åˆ â€çš„åŠŸèƒ½ã€‚å…¶åŸå› å¦‚ä¸Šæ‰€è¿°ï¼Œå› ä¸ºå¯¹åº”è¯¥ç›®å½•çš„ç´¢å¼•èŠ‚ç‚¹æœ‰ä¸€ä¸ªä»¥ä¸Šçš„è¿æ¥ã€‚åªåˆ é™¤ä¸€ä¸ªè¿æ¥å¹¶ä¸å½±å“ç´¢å¼•èŠ‚ç‚¹æœ¬èº«å’Œå…¶å®ƒçš„è¿æ¥ï¼Œåªæœ‰å½“æœ€åä¸€ä¸ªè¿æ¥è¢«åˆ é™¤åï¼Œæ–‡ä»¶çš„æ•°æ®å—åŠç›®å½•çš„è¿æ¥æ‰ä¼šè¢«é‡Šæ”¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–‡ä»¶çœŸæ­£åˆ é™¤çš„æ¡ä»¶æ˜¯ä¸ä¹‹ç›¸å…³çš„æ‰€æœ‰ç¡¬è¿æ¥æ–‡ä»¶å‡è¢«åˆ é™¤ã€‚ ","date":"2022-04-20","objectID":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/:1:1","series":null,"tags":null,"title":"Linuxç¡¬é“¾æ¥å’Œè½¯è¿æ¥","uri":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/#ç¡¬è¿æ¥"},{"categories":null,"content":"ã€è½¯è¿æ¥ã€‘å¦å¤–ä¸€ç§è¿æ¥ç§°ä¹‹ä¸ºç¬¦å·è¿æ¥ï¼ˆSymbolic Linkï¼‰ï¼Œä¹Ÿå«è½¯è¿æ¥ã€‚è½¯é“¾æ¥æ–‡ä»¶æœ‰ç±»ä¼¼äºWindowsçš„å¿«æ·æ–¹å¼ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ã€‚åœ¨ç¬¦å·è¿æ¥ä¸­ï¼Œæ–‡ä»¶å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«çš„æœ‰å¦ä¸€æ–‡ä»¶çš„ä½ç½®ä¿¡æ¯ã€‚ ","date":"2022-04-20","objectID":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/:1:2","series":null,"tags":null,"title":"Linuxç¡¬é“¾æ¥å’Œè½¯è¿æ¥","uri":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/#è½¯è¿æ¥"},{"categories":null,"content":"2.é€šè¿‡å®éªŒåŠ æ·±ç†è§£[root@Linux]$ touch f1 #åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶f1 [root@Linux]$ ln f1 f2 #åˆ›å»ºf1çš„ä¸€ä¸ªç¡¬è¿æ¥æ–‡ä»¶f2 [root@Linux]$ ln -s f1 f3 #åˆ›å»ºf1çš„ä¸€ä¸ªç¬¦å·è¿æ¥æ–‡ä»¶f3 [root@Linux]$ ls -li # -iå‚æ•°æ˜¾ç¤ºæ–‡ä»¶çš„inodeèŠ‚ç‚¹ä¿¡æ¯ total 0 9797648 -rw-r--r-- 2 root root 0 Apr 21 08:11 f1 9797648 -rw-r--r-- 2 root root 0 Apr 21 08:11 f2 9797649 lrwxrwxrwx 1 root root 2 Apr 21 08:11 f3 -\u003e f1 ä»ä¸Šé¢çš„ç»“æœä¸­å¯ä»¥çœ‹å‡ºï¼Œç¡¬è¿æ¥æ–‡ä»¶f2ä¸åŸæ–‡ä»¶f1çš„inodeèŠ‚ç‚¹ç›¸åŒï¼Œå‡ä¸º9797648ï¼Œç„¶è€Œç¬¦å·è¿æ¥æ–‡ä»¶çš„inodeèŠ‚ç‚¹ä¸åŒã€‚ [root@Linux]$ echo \"I am f1 file\" \u003e\u003ef1 [root@Linux]$ cat f1 I am f1 file [root@Linux]$ cat f2 I am f1 file [root@Linux]$ cat f3 I am f1 file [root@Linux]$ rm -f f1 [root@Linux]$ cat f2 I am f1 file [root@Linux]$ cat f3 cat: f3: No such file or directory é€šè¿‡ä¸Šé¢çš„æµ‹è¯•å¯ä»¥çœ‹å‡ºï¼šå½“åˆ é™¤åŸå§‹æ–‡ä»¶f1åï¼Œç¡¬è¿æ¥f2ä¸å—å½±å“ï¼Œä½†æ˜¯ç¬¦å·è¿æ¥f1æ–‡ä»¶æ— æ•ˆã€‚ 3.æ€»ç»“ ä¾æ­¤æ‚¨å¯ä»¥åšä¸€äº›ç›¸å…³çš„æµ‹è¯•ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹å…¨éƒ¨ç»“è®ºï¼š 1).åˆ é™¤ç¬¦å·è¿æ¥f3,å¯¹f1,f2æ— å½±å“ï¼› 2).åˆ é™¤ç¡¬è¿æ¥f2ï¼Œå¯¹f1,f3ä¹Ÿæ— å½±å“ï¼› 3).åˆ é™¤åŸæ–‡ä»¶f1ï¼Œå¯¹ç¡¬è¿æ¥f2æ²¡æœ‰å½±å“ï¼Œå¯¼è‡´ç¬¦å·è¿æ¥f3å¤±æ•ˆï¼› 4).åŒæ—¶åˆ é™¤åŸæ–‡ä»¶f1,ç¡¬è¿æ¥f2ï¼Œæ•´ä¸ªæ–‡ä»¶ä¼šçœŸæ­£çš„è¢«åˆ é™¤ã€‚ ref https://zhuanlan.zhihu.com/p/67366919 ","date":"2022-04-20","objectID":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/:2:0","series":null,"tags":null,"title":"Linuxç¡¬é“¾æ¥å’Œè½¯è¿æ¥","uri":"/posts/linux/linux%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E8%BF%9E%E6%8E%A5/#2é€šè¿‡å®éªŒåŠ æ·±ç†è§£"},{"categories":null,"content":"åœ¨linuxä¸­æŸ¥çœ‹æ–‡ä»¶çš„æ—¶å€™ï¼Œåœ¨æ¯ä¸€è¡Œçš„æœ€å‰é¢ä¼šæœ‰è¿™æ ·çš„ä¸€ä¸²å­—ç¬¦\"drwxr-xâ€”\"ï¼Œå¦‚ä¸‹é¢çš„æ ·ä¾‹ï¼š drwxr-x--- 2 root root 37 Apr 18 10:50 data -rw-r--r-- 1 root root 68549 Sep 26 2018 fields.yml -rwxr-xr-x 1 root root 33903123 Sep 26 2018 filebeat -rwxr-xr-x 1 root root 1011 Mar 27 10:13 filebeat-docker.yml -rw-r--r-- 1 root root 66260 Sep 26 2018 filebeat.reference.yml -rw------- 1 root root 7231 Sep 26 2018 filebeat.yml drwxr-xr-x 4 root root 22 Sep 26 2018 kibana -rw-r--r-- 1 root root 13675 Sep 26 2018 LICENSE.txt drwxr-xr-x 18 root root 4096 Sep 26 2018 module drwxr-xr-x 2 root root 4096 Sep 26 2018 modules.d -rw-r--r-- 1 root root 148778 Sep 26 2018 NOTICE.txt -rw-r--r-- 1 root root 802 Sep 26 2018 README.md è¿™ç§ä»£è¡¨å½“å‰æ–‡ä»¶çš„æƒé™æ˜¯æ€ä¹ˆæ ·çš„ï¼Œæ–‡ä»¶çš„æƒé™åŒ…æ‹¬è¯»ã€å†™ã€æ‰§è¡Œã€‚ drwxr-x-â€“ è¯¥æƒé™åˆ†ä¸º4ä¸ªéƒ¨åˆ†dã€rwxã€r-xã€â€”ã€‚ d:è¡¨ç¤ºæ–‡ä»¶ç±»å‹ï¼› rwxï¼šè¡¨ç¤ºæ–‡ä»¶æ‰€æœ‰è€…çš„å¯¹è¯¥æ–‡ä»¶æ‰€æ‹¥æœ‰çš„æƒé™ï¼› r-xï¼šè¡¨ç¤ºæ–‡ä»¶æ‰€å±ç»„å¯¹è¯¥æ–‡ä»¶æ‰€æ‹¥æœ‰çš„æƒé™ï¼› -â€“ï¼šè¡¨ç¤ºå…¶ä»–ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶æ‰€æ‹¥æœ‰çš„æƒé™ã€‚ ä¸‹é¢è¡¨æ ¼è¯¦ç»†çš„è¡¨è¿°äº†å„ä¸ªéƒ¨åˆ†æ„ä¹‰ è¯»(read)ï¼Œå†™(write)ï¼Œæ‰§è¡Œr(recute)ç®€å†™å³ä¸º(r,w,x),äº¦å¯ç”¨æ•°å­—æ¥(4,2,1)è¡¨ç¤º ä¸¾ä¾‹ï¼š å¦‚æœæŸæ–‡ä»¶æƒé™ä¸º7åˆ™ä»£è¡¨å¯è¯»(4)ã€å¯å†™(2)ã€å¯æ‰§è¡Œ(1)ï¼Œå³(4+2+1=7). è‹¥æƒé™ä¸º6(4+2)åˆ™ä»£è¡¨å¯è¯»(4)ã€å¯å†™(2)ã€‚ æƒé™ä¸º5(4+1)ä»£è¡¨å¯è¯»(4)å’Œå¯æ‰§è¡Œ(1). æƒé™ä¸º3(2+1)ä»£è¡¨å¯å†™(2)å’Œå¯æ‰§è¡Œ(1)ã€‚ ä¸‹å›¾ä¸­æ–‡ä»¶æ‰€æœ‰è€…(å±ä¸»)ä¸ºrootï¼Œæ‰€æœ‰ç»„(å±ç»„)ä¸ºrootï¼Œæ–‡ä»¶åä¸ºinstall.logã€‚ ç¬¬ä¸€ä¸ªå‡å·â€œ-â€ä»£è¡¨çš„æ˜¯æ–‡ä»¶ç±»å‹ï¼š -ï¼šæ™®é€šæ–‡ä»¶ï¼Œd:ç›®å½•æ–‡ä»¶ï¼Œl:é“¾æ¥æ–‡ä»¶ï¼Œb:è®¾å¤‡æ–‡ä»¶ï¼Œc:å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œp:ç®¡é“æ–‡ä»¶ æ–‡ä»¶çš„æƒé™ä¸ºrw-r-r-ä¹Ÿå°±æ˜¯åˆ†åˆ«è¡¨ç¤ºæ‰€æœ‰è€…(å±ä¸»)æœ‰è¯»å†™æƒé™ï¼Œæ‰€æœ‰ç»„(å±ç»„)æœ‰è¯»æƒé™ï¼Œå…¶ä½™äººä¹Ÿä»…æœ‰è¯»æƒé™ã€‚ å¦‚ä½•å¯¹æ–‡ä»¶è¿›è¡Œæˆæƒï¼Ÿ å¯ä»¥é€šè¿‡å‘½ä»¤chmod , è¯¥å‘½ä»¤ç”¨äºæ”¹å˜linuxç³»ç»Ÿæ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ æ­¤å¤„é€šè¿‡æ•°å­—æ–¹å¼ä¸¾ä¾‹ï¼š chmod -R 755 è¯¥å‘½ä»¤è¡¨ç¤ºæ–‡ä»¶æ‰€æœ‰è€…æœ‰è¯»å†™æ‰§è¡Œæƒé™ï¼ˆ4+2+1ï¼‰ã€æ–‡ä»¶æ‰€å±ç»„æœ‰è¯»æ‰§è¡Œæƒé™ï¼ˆ4+1ï¼‰ã€å…¶ä»–äººæœ‰è¯»æ‰§è¡Œæƒé™ï¼ˆ4+1ï¼‰ã€‚ -R è¡¨ç¤ºå‘½ä»¤çš„å¯é€‰é¡¹ï¼Œè¯·å‚è€ƒä¸‹é¢è¯´æ˜ -c : è‹¥è¯¥æ–‡ä»¶æƒé™ç¡®å®å·²ç»æ›´æ”¹ï¼Œæ‰æ˜¾ç¤ºå…¶æ›´æ”¹åŠ¨ä½œ -f : è‹¥è¯¥æ–‡ä»¶æƒé™æ— æ³•è¢«æ›´æ”¹ä¹Ÿä¸è¦æ˜¾ç¤ºé”™è¯¯è®¯æ¯ -v : æ˜¾ç¤ºæƒé™å˜æ›´çš„è¯¦ç»†èµ„æ–™ -R : å¯¹ç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•è¿›è¡Œç›¸åŒçš„æƒé™å˜æ›´(å³ä»¥é€’å›çš„æ–¹å¼é€ä¸ªå˜æ›´) --help : æ˜¾ç¤ºè¾…åŠ©è¯´æ˜ --version : æ˜¾ç¤ºç‰ˆæœ¬ chmodå…¶ä»–æ–¹å¼å¯å‚è€ƒæ­¤åœ°å€ï¼šhttps://blog.csdn.net/yexiangCSDN/article/details/80941249 ref https://blog.csdn.net/coolcoffee168/article/details/89373902 ","date":"2022-04-15","objectID":"/posts/linux/linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/:0:0","series":null,"tags":null,"title":"Linuxæ–‡ä»¶æƒé™","uri":"/posts/linux/linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/#"},{"categories":null,"content":"Linuxå®‰è£…æŒ‡å®šç‰ˆæœ¬python(ä»æºç ç¼–è¯‘)æœ‰æ—¶å€™aptæˆ–è€…yumæºåªæ”¯æŒæœ€æ–°ç‰ˆpyï¼Œæœ‰äº›åœ°æ–¹ä¸å¾—ä¸ç”¨è€ç‰ˆæœ¬ ","date":"2022-04-11","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/:0:0","series":null,"tags":null,"title":"Linuxå®‰è£…æŒ‡å®šç‰ˆæœ¬python(ä»æºç ç¼–è¯‘)","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/#linuxå®‰è£…æŒ‡å®šç‰ˆæœ¬pythonä»æºç ç¼–è¯‘"},{"categories":null,"content":"ä¸‹è½½æºç æ‰“å¼€ https://www.python.org/downloads/æ‰¾åˆ°ä½ æƒ³è¦çš„pyç‰ˆæœ¬ é€‰æ‹©xzå°±å¥½ æ‰§è¡Œ wget https://www.python.org/ftp/python/3.8.13/Python-3.8.13.tar.xz (å¦‚3.8) ","date":"2022-04-11","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/:1:0","series":null,"tags":null,"title":"Linuxå®‰è£…æŒ‡å®šç‰ˆæœ¬python(ä»æºç ç¼–è¯‘)","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/#ä¸‹è½½æºç "},{"categories":null,"content":"è§£å‹æºç tar -xzvf Python-3.8.13.tar.xz ","date":"2022-04-11","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/:2:0","series":null,"tags":null,"title":"Linuxå®‰è£…æŒ‡å®šç‰ˆæœ¬python(ä»æºç ç¼–è¯‘)","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/#è§£å‹æºç "},{"categories":null,"content":"ä¿®æ”¹æ–‡ä»¶æ”¯æŒsslé¦–å…ˆæ£€æµ‹ç”µè„‘æ˜¯å¦å®‰è£…openssl ,ç›´æ¥è¾“å…¥çœ‹çœ‹æ‰¾çš„åˆ°ä¸ åœ¨Modules/Setup é‡Œé¢ï¼Œæ‰¾åˆ°sslçš„é‚£å‡ è¡Œï¼ŒæŠŠæ³¨é‡Šåˆ äº† ","date":"2022-04-11","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/:3:0","series":null,"tags":null,"title":"Linuxå®‰è£…æŒ‡å®šç‰ˆæœ¬python(ä»æºç ç¼–è¯‘)","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/#ä¿®æ”¹æ–‡ä»¶æ”¯æŒssl"},{"categories":null,"content":"ç¼–è¯‘å¹¶å®‰è£…./configure \u0026\u0026 make \u0026\u0026 make install å®‰è£…å®Œæˆ ","date":"2022-04-11","objectID":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/:4:0","series":null,"tags":null,"title":"Linuxå®‰è£…æŒ‡å®šç‰ˆæœ¬python(ä»æºç ç¼–è¯‘)","uri":"/posts/linux/linux%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%ACpython%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/#ç¼–è¯‘å¹¶å®‰è£…"},{"categories":null,"content":"vue","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:1:0","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#vue"},{"categories":null,"content":"åŸºç¡€è¯­æ³•æ¨¡æ¿è¯­æ³• {{}},åœ¨ç½‘é¡µä¹‹ä¸­ :src=\"name\" åœ¨æ ‡ç­¾ä¹‹ä¸­,nameä¸ºå˜é‡ ","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:1:1","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#åŸºç¡€è¯­æ³•"},{"categories":null,"content":"è¾“å…¥@input ç»‘å®šè¾“å…¥å‡½æ•° v-model åŒå‘ç»‘å®šå˜é‡ \u003cinput type=\"text\" v-model=\"input\" @input=\"handleInput\" placeholder=\"è¯·è¾“å…¥è¦æœç´¢çš„èœå•å†…å®¹\" /\u003e ","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:1:2","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#è¾“å…¥"},{"categories":null,"content":"å¾ªç¯v-for=\"(obj,idx) in showList\" ","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:1:3","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#å¾ªç¯"},{"categories":null,"content":"ç‚¹å‡»äº‹ä»¶@click=\"add\" ","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:1:4","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#ç‚¹å‡»äº‹ä»¶"},{"categories":null,"content":"ç”Ÿå‘½å‘¨æœŸcreated(){} ","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:1:5","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#ç”Ÿå‘½å‘¨æœŸ"},{"categories":null,"content":"axiosconst res = await axios.get(\"/09/carList.json\"); console.log(\"res\", res.data); ","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:2:0","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#axios"},{"categories":null,"content":"jsæ·±æ‹·è´ JSON.parse(JSON.stringify(this.list)) ","date":"2022-04-08","objectID":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/:3:0","series":null,"tags":null,"title":"å‰ç«¯åŸºç¡€","uri":"/posts/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/#js"},{"categories":null,"content":"ï¼‘ã€ä»€ä¹ˆæ˜¯Socketåœ¨è®¡ç®—æœºé€šä¿¡é¢†åŸŸï¼Œsocket è¢«ç¿»è¯‘ä¸ºâ€œå¥—æ¥å­—â€ï¼Œå®ƒæ˜¯è®¡ç®—æœºä¹‹é—´è¿›è¡Œé€šä¿¡çš„ä¸€ç§çº¦å®šæˆ–ä¸€ç§æ–¹å¼ã€‚é€šè¿‡ socket è¿™ç§çº¦å®šï¼Œä¸€å°è®¡ç®—æœºå¯ä»¥æ¥æ”¶å…¶ä»–è®¡ç®—æœºçš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥å‘å…¶ä»–è®¡ç®—æœºå‘é€æ•°æ® socketèµ·æºäºUnixï¼Œè€ŒUnix/LinuxåŸºæœ¬å“²å­¦ä¹‹ä¸€å°±æ˜¯â€œä¸€åˆ‡çš†æ–‡ä»¶â€ï¼Œéƒ½å¯ä»¥ç”¨â€œæ‰“å¼€open â€“\u003e è¯»å†™write/read â€“\u003e å…³é—­closeâ€æ¨¡å¼æ¥æ“ä½œã€‚ æˆ‘çš„ç†è§£å°±æ˜¯Socketå°±æ˜¯è¯¥æ¨¡å¼çš„ä¸€ä¸ªå®ç°ï¼šå³socketæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œä¸€äº›socketå‡½æ•°å°±æ˜¯å¯¹å…¶è¿›è¡Œçš„æ“ä½œï¼ˆè¯»/å†™IOã€æ‰“å¼€ã€å…³é—­ï¼‰ã€‚ Socket()å‡½æ•°è¿”å›ä¸€ä¸ªæ•´å‹çš„Socketæè¿°ç¬¦ï¼Œéšåçš„è¿æ¥å»ºç«‹ã€æ•°æ®ä¼ è¾“ç­‰æ“ä½œéƒ½æ˜¯é€šè¿‡è¯¥Socketå®ç°çš„ã€‚ ","date":"2022-04-05","objectID":"/posts/linux/socket/:1:0","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#ï¼‘ä»€ä¹ˆæ˜¯socket"},{"categories":null,"content":"ï¼’ã€ç½‘ç»œä¸­è¿›ç¨‹å¦‚ä½•é€šä¿¡æ—¢ç„¶Socketä¸»è¦æ˜¯ç”¨æ¥è§£å†³ç½‘ç»œé€šä¿¡çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥ç†è§£ç½‘ç»œä¸­è¿›ç¨‹æ˜¯å¦‚ä½•é€šä¿¡çš„ã€‚ ","date":"2022-04-05","objectID":"/posts/linux/socket/:2:0","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#ï¼’ç½‘ç»œä¸­è¿›ç¨‹å¦‚ä½•é€šä¿¡"},{"categories":null,"content":"2.1ã€æœ¬åœ°è¿›ç¨‹é—´é€šä¿¡aã€æ¶ˆæ¯ä¼ é€’ï¼ˆç®¡é“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€FIFOï¼‰ bã€åŒæ­¥ï¼ˆäº’æ–¥é‡ã€æ¡ä»¶å˜é‡ã€è¯»å†™é”ã€æ–‡ä»¶å’Œå†™è®°å½•é”ã€ä¿¡å·é‡ï¼‰ cã€å…±äº«å†…å­˜ï¼ˆåŒ¿åçš„å’Œå…·åçš„ï¼Œeg:channelï¼‰ dã€è¿œç¨‹è¿‡ç¨‹è°ƒç”¨(RPC) ","date":"2022-04-05","objectID":"/posts/linux/socket/:2:1","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#21æœ¬åœ°è¿›ç¨‹é—´é€šä¿¡"},{"categories":null,"content":"2.2ã€ç½‘ç»œä¸­è¿›ç¨‹å¦‚ä½•é€šä¿¡æˆ‘ä»¬è¦ç†è§£ç½‘ç»œä¸­è¿›ç¨‹å¦‚ä½•é€šä¿¡ï¼Œå¾—è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š ï½ã€æˆ‘ä»¬è¦å¦‚ä½•æ ‡è¯†ä¸€å°ä¸»æœºï¼Œå³æ€æ ·ç¡®å®šæˆ‘ä»¬å°†è¦é€šä¿¡çš„è¿›ç¨‹æ˜¯åœ¨é‚£ä¸€å°ä¸»æœºä¸Šè¿è¡Œã€‚ ï½‚ã€æˆ‘ä»¬è¦å¦‚ä½•æ ‡è¯†å”¯ä¸€è¿›ç¨‹ï¼Œæœ¬åœ°é€šè¿‡pidæ ‡è¯†ï¼Œç½‘ç»œä¸­åº”è¯¥æ€æ ·æ ‡è¯†ï¼Ÿ è§£å†³åŠæ³•ï¼š ï½ã€TCP/IPåè®®æ—å·²ç»å¸®æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œç½‘ç»œå±‚çš„â€œipåœ°å€â€å¯ä»¥å”¯ä¸€æ ‡è¯†ç½‘ç»œä¸­çš„ä¸»æœº ï½‚ã€ä¼ è¾“å±‚çš„â€œåè®®+ç«¯å£â€å¯ä»¥å”¯ä¸€æ ‡è¯†ä¸»æœºä¸­çš„åº”ç”¨ç¨‹åºï¼ˆè¿›ç¨‹ï¼‰ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸‰å…ƒç»„ï¼ˆipåœ°å€ï¼Œåè®®ï¼Œç«¯å£ï¼‰å°±å¯ä»¥æ ‡è¯†ç½‘ç»œçš„è¿›ç¨‹äº†ï¼Œç½‘ç»œä¸­çš„è¿›ç¨‹é€šä¿¡å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ ‡å¿—ä¸å…¶å®ƒè¿›ç¨‹è¿›è¡Œäº¤äº’ ","date":"2022-04-05","objectID":"/posts/linux/socket/:2:2","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#22ç½‘ç»œä¸­è¿›ç¨‹å¦‚ä½•é€šä¿¡"},{"categories":null,"content":"ï¼“ã€Socketæ€ä¹ˆé€šä¿¡ç°åœ¨ï¼Œæˆ‘ä»¬çŸ¥é“äº†ç½‘ç»œä¸­è¿›ç¨‹é—´å¦‚ä½•é€šä¿¡ï¼Œå³åˆ©ç”¨ä¸‰å…ƒç»„ã€ipåœ°å€ï¼Œåè®®ï¼Œç«¯å£ã€‘å¯ä»¥è¿›è¡Œç½‘ç»œé—´é€šä¿¡äº†ï¼Œé‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆå®ç°äº†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬socketåº”è¿è€Œç”Ÿï¼Œå®ƒå°±æ˜¯åˆ©ç”¨ä¸‰å…ƒç»„è§£å†³ç½‘ç»œé€šä¿¡çš„ä¸€ä¸ªä¸­é—´ä»¶å·¥å…·ï¼Œå°±ç›®å‰è€Œè¨€ï¼Œå‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½æ˜¯é‡‡ç”¨socketï¼Œå¦‚UNIX BSDçš„å¥—æ¥å­—ï¼ˆsocketï¼‰å’ŒUNIX System Vçš„TLIï¼ˆå·²ç»è¢«æ·˜æ±°ï¼‰ã€‚ Socketé€šä¿¡çš„æ•°æ®ä¼ è¾“æ–¹å¼ï¼Œå¸¸ç”¨çš„æœ‰ä¸¤ç§ï¼š ï½ã€SOCK_STREAMï¼šè¡¨ç¤ºé¢å‘è¿æ¥çš„æ•°æ®ä¼ è¾“æ–¹å¼ã€‚æ•°æ®å¯ä»¥å‡†ç¡®æ— è¯¯åœ°åˆ°è¾¾å¦ä¸€å°è®¡ç®—æœºï¼Œå¦‚æœæŸåæˆ–ä¸¢å¤±ï¼Œå¯ä»¥é‡æ–°å‘é€ï¼Œä½†æ•ˆç‡ç›¸å¯¹è¾ƒæ…¢ã€‚å¸¸è§çš„ http åè®®å°±ä½¿ç”¨ SOCK_STREAM ä¼ è¾“æ•°æ®ï¼Œå› ä¸ºè¦ç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§ï¼Œå¦åˆ™ç½‘é¡µä¸èƒ½æ­£å¸¸è§£æã€‚ ï½‚ã€SOCK_DGRAMï¼šè¡¨ç¤ºæ— è¿æ¥çš„æ•°æ®ä¼ è¾“æ–¹å¼ã€‚è®¡ç®—æœºåªç®¡ä¼ è¾“æ•°æ®ï¼Œä¸ä½œæ•°æ®æ ¡éªŒï¼Œå¦‚æœæ•°æ®åœ¨ä¼ è¾“ä¸­æŸåï¼Œæˆ–è€…æ²¡æœ‰åˆ°è¾¾å¦ä¸€å°è®¡ç®—æœºï¼Œæ˜¯æ²¡æœ‰åŠæ³•è¡¥æ•‘çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®é”™äº†å°±é”™äº†ï¼Œæ— æ³•é‡ä¼ ã€‚å› ä¸º SOCK_DGRAM æ‰€åšçš„æ ¡éªŒå·¥ä½œå°‘ï¼Œæ‰€ä»¥æ•ˆç‡æ¯” SOCK_STREAM é«˜ã€‚ ä¾‹å¦‚ï¼šQQ è§†é¢‘èŠå¤©å’Œè¯­éŸ³èŠå¤©å°±ä½¿ç”¨ SOCK_DGRAM ä¼ è¾“æ•°æ®ï¼Œå› ä¸ºé¦–å…ˆè¦ä¿è¯é€šä¿¡çš„æ•ˆç‡ï¼Œå°½é‡å‡å°å»¶è¿Ÿï¼Œè€Œæ•°æ®çš„æ­£ç¡®æ€§æ˜¯æ¬¡è¦çš„ï¼Œå³ä½¿ä¸¢å¤±å¾ˆå°çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè§†é¢‘å’ŒéŸ³é¢‘ä¹Ÿå¯ä»¥æ­£å¸¸è§£æï¼Œæœ€å¤šå‡ºç°å™ªç‚¹æˆ–æ‚éŸ³ï¼Œä¸ä¼šå¯¹é€šä¿¡è´¨é‡æœ‰å®è´¨çš„å½±å“ ","date":"2022-04-05","objectID":"/posts/linux/socket/:3:0","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#ï¼“socketæ€ä¹ˆé€šä¿¡"},{"categories":null,"content":"ï¼”ã€TCP/IPåè®®","date":"2022-04-05","objectID":"/posts/linux/socket/:4:0","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#ï¼”tcpipåè®®"},{"categories":null,"content":"4.1ã€æ¦‚å¿µTCP/IPã€TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰å’ŒIPï¼ˆç½‘é™…åè®®ï¼‰ã€‘æä¾›ç‚¹å¯¹ç‚¹çš„é“¾æ¥æœºåˆ¶ï¼Œå°†æ•°æ®åº”è¯¥å¦‚ä½•å°è£…ã€å®šå€ã€ä¼ è¾“ã€è·¯ç”±ä»¥åŠåœ¨ç›®çš„åœ°å¦‚ä½•æ¥æ”¶ï¼Œéƒ½åŠ ä»¥æ ‡å‡†åŒ–ã€‚å®ƒå°†è½¯ä»¶é€šä¿¡è¿‡ç¨‹æŠ½è±¡åŒ–ä¸ºå››ä¸ªæŠ½è±¡å±‚ï¼Œé‡‡å–åè®®å †æ ˆçš„æ–¹å¼ï¼Œåˆ†åˆ«å®ç°å‡ºä¸åŒé€šä¿¡åè®®ã€‚åè®®æ—ä¸‹çš„å„ç§åè®®ï¼Œä¾å…¶åŠŸèƒ½ä¸åŒï¼Œè¢«åˆ†åˆ«å½’å±åˆ°è¿™å››ä¸ªå±‚æ¬¡ç»“æ„ä¹‹ä¸­ï¼Œå¸¸è¢«è§†ä¸ºæ˜¯ç®€åŒ–çš„ä¸ƒå±‚OSIæ¨¡å‹ã€‚ å®ƒä»¬ä¹‹é—´å¥½æ¯”é€ä¿¡çš„çº¿è·¯å’Œé©¿ç«™çš„ä½œç”¨ï¼Œæ¯”å¦‚è¦å»ºè®®é€ä¿¡é©¿ç«™ï¼Œå¿…é¡»å¾—äº†è§£é€ä¿¡çš„å„ä¸ªç»†èŠ‚ã€‚ TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„é€šä¿¡åè®®ï¼Œæ•°æ®åœ¨ä¼ è¾“å‰è¦å»ºç«‹è¿æ¥ï¼Œä¼ è¾“å®Œæ¯•åè¿˜è¦æ–­å¼€è¿æ¥ï¼Œå®¢æˆ·ç«¯åœ¨æ”¶å‘æ•°æ®å‰è¦ä½¿ç”¨ connect() å‡½æ•°å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥ã€‚å»ºç«‹è¿æ¥çš„ç›®çš„æ˜¯ä¿è¯IPåœ°å€ã€ç«¯å£ã€ç‰©ç†é“¾è·¯ç­‰æ­£ç¡®æ— è¯¯ï¼Œä¸ºæ•°æ®çš„ä¼ è¾“å¼€è¾Ÿé€šé“ã€‚ TCPå»ºç«‹è¿æ¥æ—¶è¦ä¼ è¾“ä¸‰ä¸ªæ•°æ®åŒ…ï¼Œä¿—ç§°ä¸‰æ¬¡æ¡æ‰‹ï¼ˆThree-way Handshakingï¼‰ã€‚å¯ä»¥å½¢è±¡çš„æ¯”å–»ä¸ºä¸‹é¢çš„å¯¹è¯ï¼š [Shake 1] å¥—æ¥å­—Aï¼šâ€œä½ å¥½ï¼Œå¥—æ¥å­—Bï¼Œæˆ‘è¿™é‡Œæœ‰æ•°æ®è¦ä¼ é€ç»™ä½ ï¼Œå»ºç«‹è¿æ¥å§ã€‚â€ [Shake 2] å¥—æ¥å­—Bï¼šâ€œå¥½çš„ï¼Œæˆ‘è¿™è¾¹å·²å‡†å¤‡å°±ç»ªã€‚â€ [Shake 3] å¥—æ¥å­—Aï¼šâ€œè°¢è°¢ä½ å—ç†æˆ‘çš„è¯·æ±‚ã€‚ 4.2ã€TCPçš„ç²˜åŒ…é—®é¢˜ä»¥åŠæ•°æ®çš„æ— è¾¹ç•Œæ€§ï¼šã€€","date":"2022-04-05","objectID":"/posts/linux/socket/:4:1","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#41æ¦‚å¿µ"},{"categories":null,"content":"https://blog.csdn.net/m0_37947204/article/details/80490512","date":"2022-04-05","objectID":"/posts/linux/socket/:4:2","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#42tcpçš„ç²˜åŒ…é—®é¢˜ä»¥åŠæ•°æ®çš„æ— è¾¹ç•Œæ€§httpsblogcsdnnetm0_37947204articledetails80490512httpslinksjianshucomgotohttps3a2f2fblogcsdnnet2fm0_379472042farticle2fdetails2f80490512"},{"categories":null,"content":"4.4ã€TCPæ•°æ®æŠ¥ç»“æ„ï¼š å¸¦é˜´å½±çš„å‡ ä¸ªå­—æ®µéœ€è¦é‡ç‚¹è¯´æ˜ä¸€ä¸‹ï¼š (1) åºå·ï¼šSeqï¼ˆSequence Numberï¼‰åºå·å 32ä½ï¼Œç”¨æ¥æ ‡è¯†ä»è®¡ç®—æœºAå‘é€åˆ°è®¡ç®—æœºBçš„æ•°æ®åŒ…çš„åºå·ï¼Œè®¡ç®—æœºå‘é€æ•°æ®æ—¶å¯¹æ­¤è¿›è¡Œæ ‡è®°ã€‚ (2) ç¡®è®¤å·ï¼šAckï¼ˆAcknowledge Numberï¼‰ç¡®è®¤å·å 32ä½ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½å¯ä»¥å‘é€ï¼ŒAck = Seq + 1ã€‚ (3) æ ‡å¿—ä½ï¼šæ¯ä¸ªæ ‡å¿—ä½å ç”¨1Bitï¼Œå…±æœ‰6ä¸ªï¼Œåˆ†åˆ«ä¸º URGã€ACKã€PSHã€RSTã€SYNã€FINï¼Œå…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰URGï¼šç´§æ€¥æŒ‡é’ˆï¼ˆurgent pointerï¼‰æœ‰æ•ˆã€‚ ï¼ˆ2ï¼‰ACKï¼šç¡®è®¤åºå·æœ‰æ•ˆã€‚ ï¼ˆ3ï¼‰PSHï¼šæ¥æ”¶æ–¹åº”è¯¥å°½å¿«å°†è¿™ä¸ªæŠ¥æ–‡äº¤ç»™åº”ç”¨å±‚ã€‚ ï¼ˆ4ï¼‰RSTï¼šé‡ç½®è¿æ¥ã€‚ ï¼ˆ5ï¼‰SYNï¼šå»ºç«‹ä¸€ä¸ªæ–°è¿æ¥ã€‚ ï¼ˆ6ï¼‰FINï¼šæ–­å¼€ä¸€ä¸ªè¿æ¥ã€‚ ","date":"2022-04-05","objectID":"/posts/linux/socket/:4:3","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#44tcpæ•°æ®æŠ¥ç»“æ„"},{"categories":null,"content":"4.5ã€è¿æ¥çš„å»ºç«‹ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼šä½¿ç”¨ connect() å»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¼šç›¸äº’å‘é€ä¸‰ä¸ªæ•°æ®åŒ…ï¼Œè¯·çœ‹ä¸‹å›¾ï¼š ã€€20180529001324885.jpeg å®¢æˆ·ç«¯è°ƒç”¨ socket() å‡½æ•°åˆ›å»ºå¥—æ¥å­—åï¼Œå› ä¸ºæ²¡æœ‰å»ºç«‹è¿æ¥ï¼Œæ‰€ä»¥å¥—æ¥å­—å¤„äºCLOSEDçŠ¶æ€ï¼›æœåŠ¡å™¨ç«¯è°ƒç”¨ listen() å‡½æ•°åï¼Œå¥—æ¥å­—è¿›å…¥LISTENçŠ¶æ€ï¼Œå¼€å§‹ç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ è¿™æ—¶å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼š 1) å½“å®¢æˆ·ç«¯è°ƒç”¨ connect() å‡½æ•°åï¼ŒTCPåè®®ä¼šç»„å»ºä¸€ä¸ªæ•°æ®åŒ…ï¼Œå¹¶è®¾ç½® SYN æ ‡å¿—ä½ï¼Œè¡¨ç¤ºè¯¥æ•°æ®åŒ…æ˜¯ç”¨æ¥å»ºç«‹åŒæ­¥è¿æ¥çš„ã€‚åŒæ—¶ç”Ÿæˆä¸€ä¸ªéšæœºæ•°å­— 1000ï¼Œå¡«å……â€œåºå·ï¼ˆSeqï¼‰â€å­—æ®µï¼Œè¡¨ç¤ºè¯¥æ•°æ®åŒ…çš„åºå·ã€‚å®Œæˆè¿™äº›å·¥ä½œï¼Œå¼€å§‹å‘æœåŠ¡å™¨ç«¯å‘é€æ•°æ®åŒ…ï¼Œå®¢æˆ·ç«¯å°±è¿›å…¥äº†SYN-SENDçŠ¶æ€ã€‚ 2) æœåŠ¡å™¨ç«¯æ”¶åˆ°æ•°æ®åŒ…ï¼Œæ£€æµ‹åˆ°å·²ç»è®¾ç½®äº† SYN æ ‡å¿—ä½ï¼Œå°±çŸ¥é“è¿™æ˜¯å®¢æˆ·ç«¯å‘æ¥çš„å»ºç«‹è¿æ¥çš„â€œè¯·æ±‚åŒ…â€ã€‚æœåŠ¡å™¨ç«¯ä¹Ÿä¼šç»„å»ºä¸€ä¸ªæ•°æ®åŒ…ï¼Œå¹¶è®¾ç½® SYN å’Œ ACK æ ‡å¿—ä½ï¼ŒSYN è¡¨ç¤ºè¯¥æ•°æ®åŒ…ç”¨æ¥å»ºç«‹è¿æ¥ï¼ŒACK ç”¨æ¥ç¡®è®¤æ”¶åˆ°äº†åˆšæ‰å®¢æˆ·ç«¯å‘é€çš„æ•°æ®åŒ… æœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªéšæœºæ•° 2000ï¼Œå¡«å……â€œåºå·ï¼ˆSeqï¼‰â€å­—æ®µã€‚2000 å’Œå®¢æˆ·ç«¯æ•°æ®åŒ…æ²¡æœ‰å…³ç³»ã€‚ æœåŠ¡å™¨å°†å®¢æˆ·ç«¯æ•°æ®åŒ…åºå·ï¼ˆ1000ï¼‰åŠ 1ï¼Œå¾—åˆ°1001ï¼Œå¹¶ç”¨è¿™ä¸ªæ•°å­—å¡«å……â€œç¡®è®¤å·ï¼ˆAckï¼‰â€å­—æ®µã€‚ æœåŠ¡å™¨å°†æ•°æ®åŒ…å‘å‡ºï¼Œè¿›å…¥SYN-RECVçŠ¶æ€ 3) å®¢æˆ·ç«¯æ”¶åˆ°æ•°æ®åŒ…ï¼Œæ£€æµ‹åˆ°å·²ç»è®¾ç½®äº† SYN å’Œ ACK æ ‡å¿—ä½ï¼Œå°±çŸ¥é“è¿™æ˜¯æœåŠ¡å™¨å‘æ¥çš„â€œç¡®è®¤åŒ…â€ã€‚å®¢æˆ·ç«¯ä¼šæ£€æµ‹â€œç¡®è®¤å·ï¼ˆAckï¼‰â€å­—æ®µï¼Œçœ‹å®ƒçš„å€¼æ˜¯å¦ä¸º 1000+1ï¼Œå¦‚æœæ˜¯å°±è¯´æ˜è¿æ¥å»ºç«‹æˆåŠŸã€‚ æ¥ä¸‹æ¥ï¼Œå®¢æˆ·ç«¯ä¼šç»§ç»­ç»„å»ºæ•°æ®åŒ…ï¼Œå¹¶è®¾ç½® ACK æ ‡å¿—ä½ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯æ­£ç¡®æ¥æ”¶äº†æœåŠ¡å™¨å‘æ¥çš„â€œç¡®è®¤åŒ…â€ã€‚åŒæ—¶ï¼Œå°†åˆšæ‰æœåŠ¡å™¨å‘æ¥çš„æ•°æ®åŒ…åºå·ï¼ˆ2000ï¼‰åŠ 1ï¼Œå¾—åˆ° 2001ï¼Œå¹¶ç”¨è¿™ä¸ªæ•°å­—æ¥å¡«å……â€œç¡®è®¤å·ï¼ˆAckï¼‰â€å­—æ®µã€‚ å®¢æˆ·ç«¯å°†æ•°æ®åŒ…å‘å‡ºï¼Œè¿›å…¥ESTABLISEDçŠ¶æ€ï¼Œè¡¨ç¤ºè¿æ¥å·²ç»æˆåŠŸå»ºç«‹ã€‚ 4) æœåŠ¡å™¨ç«¯æ”¶åˆ°æ•°æ®åŒ…ï¼Œæ£€æµ‹åˆ°å·²ç»è®¾ç½®äº† ACK æ ‡å¿—ä½ï¼Œå°±çŸ¥é“è¿™æ˜¯å®¢æˆ·ç«¯å‘æ¥çš„â€œç¡®è®¤åŒ…â€ã€‚æœåŠ¡å™¨ä¼šæ£€æµ‹â€œç¡®è®¤å·ï¼ˆAckï¼‰â€å­—æ®µï¼Œçœ‹å®ƒçš„å€¼æ˜¯å¦ä¸º 2000+1ï¼Œå¦‚æœæ˜¯å°±è¯´æ˜è¿æ¥å»ºç«‹æˆåŠŸï¼ŒæœåŠ¡å™¨è¿›å…¥ESTABLISEDçŠ¶æ€ã€‚ è‡³æ­¤ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½è¿›å…¥äº†ESTABLISEDçŠ¶æ€ï¼Œè¿æ¥å»ºç«‹æˆåŠŸï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ”¶å‘æ•°æ®äº†ã€‚ ","date":"2022-04-05","objectID":"/posts/linux/socket/:4:4","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#45è¿æ¥çš„å»ºç«‹ä¸‰æ¬¡æ¡æ‰‹"},{"categories":null,"content":"4.6ã€TCPå››æ¬¡æ¡æ‰‹æ–­å¼€è¿æ¥å»ºç«‹è¿æ¥éå¸¸é‡è¦ï¼Œå®ƒæ˜¯æ•°æ®æ­£ç¡®ä¼ è¾“çš„å‰æï¼›æ–­å¼€è¿æ¥åŒæ ·é‡è¦ï¼Œå®ƒè®©è®¡ç®—æœºé‡Šæ”¾ä¸å†ä½¿ç”¨çš„èµ„æºã€‚å¦‚æœè¿æ¥ä¸èƒ½æ­£å¸¸æ–­å¼€ï¼Œä¸ä»…ä¼šé€ æˆæ•°æ®ä¼ è¾“é”™è¯¯ï¼Œè¿˜ä¼šå¯¼è‡´å¥—æ¥å­—ä¸èƒ½å…³é—­ï¼ŒæŒç»­å ç”¨èµ„æºï¼Œå¦‚æœå¹¶å‘é‡é«˜ï¼ŒæœåŠ¡å™¨å‹åŠ›å ªå¿§ã€‚ æ–­å¼€è¿æ¥éœ€è¦å››æ¬¡æ¡æ‰‹ï¼Œå¯ä»¥å½¢è±¡çš„æ¯”å–»ä¸ºä¸‹é¢çš„å¯¹è¯ï¼š [Shake 1] å¥—æ¥å­—Aï¼šâ€œä»»åŠ¡å¤„ç†å®Œæ¯•ï¼Œæˆ‘å¸Œæœ›æ–­å¼€è¿æ¥ã€‚â€ [Shake 2] å¥—æ¥å­—Bï¼šâ€œå“¦ï¼Œæ˜¯å—ï¼Ÿè¯·ç¨ç­‰ï¼Œæˆ‘å‡†å¤‡ä¸€ä¸‹ã€‚â€ ç­‰å¾…ç‰‡åˆ»åâ€¦â€¦ [Shake 3] å¥—æ¥å­—Bï¼šâ€œæˆ‘å‡†å¤‡å¥½äº†ï¼Œå¯ä»¥æ–­å¼€è¿æ¥äº†ã€‚â€ [Shake 4] å¥—æ¥å­—Aï¼šâ€œå¥½çš„ï¼Œè°¢è°¢åˆä½œã€‚â€ ä¸‹å›¾æ¼”ç¤ºäº†å®¢æˆ·ç«¯ä¸»åŠ¨æ–­å¼€è¿æ¥çš„åœºæ™¯ï¼š å»ºç«‹è¿æ¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¤„äºESTABLISEDçŠ¶æ€ã€‚è¿™æ—¶ï¼Œå®¢æˆ·ç«¯å‘èµ·æ–­å¼€è¿æ¥çš„è¯·æ±‚ï¼š å®¢æˆ·ç«¯è°ƒç”¨ close() å‡½æ•°åï¼Œå‘æœåŠ¡å™¨å‘é€ FIN æ•°æ®åŒ…ï¼Œè¿›å…¥FIN_WAIT_1çŠ¶æ€ã€‚FIN æ˜¯ Finish çš„ç¼©å†™ï¼Œè¡¨ç¤ºå®Œæˆä»»åŠ¡éœ€è¦æ–­å¼€è¿æ¥ã€‚ æœåŠ¡å™¨æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ£€æµ‹åˆ°è®¾ç½®äº† FIN æ ‡å¿—ä½ï¼ŒçŸ¥é“è¦æ–­å¼€è¿æ¥ï¼Œäºæ˜¯å‘å®¢æˆ·ç«¯å‘é€â€œç¡®è®¤åŒ…â€ï¼Œè¿›å…¥CLOSE_WAITçŠ¶æ€ã€‚ æ³¨æ„ï¼šæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åå¹¶ä¸æ˜¯ç«‹å³æ–­å¼€è¿æ¥ï¼Œè€Œæ˜¯å…ˆå‘å®¢æˆ·ç«¯å‘é€â€œç¡®è®¤åŒ…â€ï¼Œå‘Šè¯‰å®ƒæˆ‘çŸ¥é“äº†ï¼Œæˆ‘éœ€è¦å‡†å¤‡ä¸€ä¸‹æ‰èƒ½æ–­å¼€è¿æ¥ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°â€œç¡®è®¤åŒ…â€åè¿›å…¥FIN_WAIT_2çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨å‡†å¤‡å®Œæ¯•åå†æ¬¡å‘é€æ•°æ®åŒ…ã€‚ ç­‰å¾…ç‰‡åˆ»åï¼ŒæœåŠ¡å™¨å‡†å¤‡å®Œæ¯•ï¼Œå¯ä»¥æ–­å¼€è¿æ¥ï¼Œäºæ˜¯å†ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€ FIN åŒ…ï¼Œå‘Šè¯‰å®ƒæˆ‘å‡†å¤‡å¥½äº†ï¼Œæ–­å¼€è¿æ¥å§ã€‚ç„¶åè¿›å…¥LAST_ACKçŠ¶æ€ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ FIN åŒ…åï¼Œå†å‘æœåŠ¡å™¨å‘é€ ACK åŒ…ï¼Œå‘Šè¯‰å®ƒä½ æ–­å¼€è¿æ¥å§ã€‚ç„¶åè¿›å…¥TIME_WAITçŠ¶æ€ã€‚ æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ ACK åŒ…åï¼Œå°±æ–­å¼€è¿æ¥ï¼Œå…³é—­å¥—æ¥å­—ï¼Œè¿›å…¥CLOSEDçŠ¶æ€ã€‚ ","date":"2022-04-05","objectID":"/posts/linux/socket/:4:5","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#46tcpå››æ¬¡æ¡æ‰‹æ–­å¼€è¿æ¥"},{"categories":null,"content":"4.7ã€å…³äº TIME_WAIT çŠ¶æ€çš„è¯´æ˜å®¢æˆ·ç«¯æœ€åä¸€æ¬¡å‘é€ ACKåŒ…åè¿›å…¥ TIME_WAIT çŠ¶æ€ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿›å…¥ CLOSED çŠ¶æ€å…³é—­è¿æ¥ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ TCP æ˜¯é¢å‘è¿æ¥çš„ä¼ è¾“æ–¹å¼ï¼Œå¿…é¡»ä¿è¯æ•°æ®èƒ½å¤Ÿæ­£ç¡®åˆ°è¾¾ç›®æ ‡æœºå™¨ï¼Œä¸èƒ½ä¸¢å¤±æˆ–å‡ºé”™ï¼Œè€Œç½‘ç»œæ˜¯ä¸ç¨³å®šçš„ï¼Œéšæ—¶å¯èƒ½ä¼šæ¯åæ•°æ®ï¼Œæ‰€ä»¥æœºå™¨Aæ¯æ¬¡å‘æœºå™¨Bå‘é€æ•°æ®åŒ…åï¼Œéƒ½è¦æ±‚æœºå™¨Bâ€ç¡®è®¤â€œï¼Œå›ä¼ ACKåŒ…ï¼Œå‘Šè¯‰æœºå™¨Aæˆ‘æ”¶åˆ°äº†ï¼Œè¿™æ ·æœºå™¨Aæ‰èƒ½çŸ¥é“æ•°æ®ä¼ é€æˆåŠŸäº†ã€‚å¦‚æœæœºå™¨Bæ²¡æœ‰å›ä¼ ACKåŒ…ï¼Œæœºå™¨Aä¼šé‡æ–°å‘é€ï¼Œç›´åˆ°æœºå™¨Bå›ä¼ ACKåŒ…ã€‚ å®¢æˆ·ç«¯æœ€åä¸€æ¬¡å‘æœåŠ¡å™¨å›ä¼ ACKåŒ…æ—¶ï¼Œæœ‰å¯èƒ½ä¼šå› ä¸ºç½‘ç»œé—®é¢˜å¯¼è‡´æœåŠ¡å™¨æ”¶ä¸åˆ°ï¼ŒæœåŠ¡å™¨ä¼šå†æ¬¡å‘é€ FIN åŒ…ï¼Œå¦‚æœè¿™æ—¶å®¢æˆ·ç«¯å®Œå…¨å…³é—­äº†è¿æ¥ï¼Œé‚£ä¹ˆæœåŠ¡å™¨æ— è®ºå¦‚ä½•ä¹Ÿæ”¶ä¸åˆ°ACKåŒ…äº†ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯éœ€è¦ç­‰å¾…ç‰‡åˆ»ã€ç¡®è®¤å¯¹æ–¹æ”¶åˆ°ACKåŒ…åæ‰èƒ½è¿›å…¥CLOSEDçŠ¶æ€ã€‚é‚£ä¹ˆï¼Œè¦ç­‰å¾…å¤šä¹…å‘¢ï¼Ÿ æ•°æ®åŒ…åœ¨ç½‘ç»œä¸­æ˜¯æœ‰ç”Ÿå­˜æ—¶é—´çš„ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´è¿˜æœªåˆ°è¾¾ç›®æ ‡ä¸»æœºå°±ä¼šè¢«ä¸¢å¼ƒï¼Œå¹¶é€šçŸ¥æºä¸»æœºã€‚è¿™ç§°ä¸ºæŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼ˆMSLï¼ŒMaximum Segment Lifetimeï¼‰ã€‚TIME_WAIT è¦ç­‰å¾… 2MSL æ‰ä¼šè¿›å…¥ CLOSED çŠ¶æ€ã€‚ACK åŒ…åˆ°è¾¾æœåŠ¡å™¨éœ€è¦ MSL æ—¶é—´ï¼ŒæœåŠ¡å™¨é‡ä¼  FIN åŒ…ä¹Ÿéœ€è¦ MSL æ—¶é—´ï¼Œ2MSL æ˜¯æ•°æ®åŒ…å¾€è¿”çš„æœ€å¤§æ—¶é—´ï¼Œå¦‚æœ 2MSL åè¿˜æœªæ”¶åˆ°æœåŠ¡å™¨é‡ä¼ çš„ FIN åŒ…ï¼Œå°±è¯´æ˜æœåŠ¡å™¨å·²ç»æ”¶åˆ°äº† ACK åŒ… ","date":"2022-04-05","objectID":"/posts/linux/socket/:4:6","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#47å…³äº-time_wait-çŠ¶æ€çš„è¯´æ˜"},{"categories":null,"content":"4.ï¼˜.ä¼˜é›…çš„æ–­å¼€è¿æ¥â€“shutdown()close()/closesocket()å’Œshutdown()çš„åŒºåˆ« ç¡®åˆ‡åœ°è¯´ï¼Œclose() / closesocket() ç”¨æ¥å…³é—­å¥—æ¥å­—ï¼Œå°†å¥—æ¥å­—æè¿°ç¬¦ï¼ˆæˆ–å¥æŸ„ï¼‰ä»å†…å­˜æ¸…é™¤ï¼Œä¹‹åå†ä¹Ÿä¸èƒ½ä½¿ç”¨è¯¥å¥—æ¥å­—ï¼Œä¸Cè¯­è¨€ä¸­çš„ fclose() ç±»ä¼¼ã€‚åº”ç”¨ç¨‹åºå…³é—­å¥—æ¥å­—åï¼Œä¸è¯¥å¥—æ¥å­—ç›¸å…³çš„è¿æ¥å’Œç¼“å­˜ä¹Ÿå¤±å»äº†æ„ä¹‰ï¼ŒTCPåè®®ä¼šè‡ªåŠ¨è§¦å‘å…³é—­è¿æ¥çš„æ“ä½œã€‚ shutdown() ç”¨æ¥å…³é—­è¿æ¥ï¼Œè€Œä¸æ˜¯å¥—æ¥å­—ï¼Œä¸ç®¡è°ƒç”¨å¤šå°‘æ¬¡ shutdown()ï¼Œå¥—æ¥å­—ä¾ç„¶å­˜åœ¨ï¼Œç›´åˆ°è°ƒç”¨ close() / closesocket() å°†å¥—æ¥å­—ä»å†…å­˜æ¸…é™¤ã€‚ è°ƒç”¨ close()/closesocket() å…³é—­å¥—æ¥å­—æ—¶ï¼Œæˆ–è°ƒç”¨ shutdown() å…³é—­è¾“å‡ºæµæ—¶ï¼Œéƒ½ä¼šå‘å¯¹æ–¹å‘é€ FIN åŒ…ã€‚FIN åŒ…è¡¨ç¤ºæ•°æ®ä¼ è¾“å®Œæ¯•ï¼Œè®¡ç®—æœºæ”¶åˆ° FIN åŒ…å°±çŸ¥é“ä¸ä¼šå†æœ‰æ•°æ®ä¼ é€è¿‡æ¥äº†ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œclose()/closesocket() ä¼šç«‹å³å‘ç½‘ç»œä¸­å‘é€FINåŒ…ï¼Œä¸ç®¡è¾“å‡ºç¼“å†²åŒºä¸­æ˜¯å¦è¿˜æœ‰æ•°æ®ï¼Œè€Œshutdown() ä¼šç­‰è¾“å‡ºç¼“å†²åŒºä¸­çš„æ•°æ®ä¼ è¾“å®Œæ¯•å†å‘é€FINåŒ…ã€‚ä¹Ÿå°±æ„å‘³ç€ï¼Œè°ƒç”¨ close()/closesocket() å°†ä¸¢å¤±è¾“å‡ºç¼“å†²åŒºä¸­çš„æ•°æ®ï¼Œè€Œè°ƒç”¨ shutdown() ä¸ä¼š ","date":"2022-04-05","objectID":"/posts/linux/socket/:4:7","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#4ï¼˜ä¼˜é›…çš„æ–­å¼€è¿æ¥shutdown"},{"categories":null,"content":"ï¼•ã€OSIæ¨¡å‹TCP/IPå¯¹OSIçš„ç½‘ç»œæ¨¡å‹å±‚è¿›è¡Œäº†åˆ’åˆ†å¦‚ä¸‹ï¼š TCP/IPåè®®å‚è€ƒæ¨¡å‹æŠŠæ‰€æœ‰çš„TCP/IPç³»åˆ—åè®®å½’ç±»åˆ°å››ä¸ªæŠ½è±¡å±‚ä¸­ åº”ç”¨å±‚ï¼šTFTPï¼ŒHTTPï¼ŒSNMPï¼ŒFTPï¼ŒSMTPï¼ŒDNSï¼ŒTelnet ç­‰ç­‰ ä¼ è¾“å±‚ï¼šTCPï¼ŒUDP ç½‘ç»œå±‚ï¼šIPï¼ŒICMPï¼ŒOSPFï¼ŒEIGRPï¼ŒIGMP æ•°æ®é“¾è·¯å±‚ï¼šSLIPï¼ŒCSLIPï¼ŒPPPï¼ŒMTU æ¯ä¸€æŠ½è±¡å±‚å»ºç«‹åœ¨ä½ä¸€å±‚æä¾›çš„æœåŠ¡ä¸Šï¼Œå¹¶ä¸”ä¸ºé«˜ä¸€å±‚æä¾›æœåŠ¡ï¼Œçœ‹èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·å­çš„ ã€€ ","date":"2022-04-05","objectID":"/posts/linux/socket/:5:0","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#ï¼•osiæ¨¡å‹"},{"categories":null,"content":"ï¼–ã€Socketå¸¸ç”¨å‡½æ•°æ¥å£åŠå…¶åŸç†å›¾è§£socketå‡½æ•°ï¼š ","date":"2022-04-05","objectID":"/posts/linux/socket/:6:0","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#ï¼–socketå¸¸ç”¨å‡½æ•°æ¥å£åŠå…¶åŸç†"},{"categories":null,"content":"6.1ã€ä½¿ç”¨socket()å‡½æ•°åˆ›å»ºå¥—æ¥å­—int socket(int af, int type, int protocol); af ä¸ºåœ°å€æ—ï¼ˆAddress Familyï¼‰ï¼Œä¹Ÿå°±æ˜¯ IP åœ°å€ç±»å‹ï¼Œå¸¸ç”¨çš„æœ‰ AF_INET å’Œ AF_INET6ã€‚AF æ˜¯â€œAddress Familyâ€çš„ç®€å†™ï¼ŒINETæ˜¯â€œInetnetâ€çš„ç®€å†™ã€‚AF_INET è¡¨ç¤º IPv4 åœ°å€ï¼Œä¾‹å¦‚ 127.0.0.1ï¼›AF_INET6 è¡¨ç¤º IPv6 åœ°å€ï¼Œä¾‹å¦‚ 1030::C9B4:FF12:48AA:1A2Bã€‚ å¤§å®¶éœ€è¦è®°ä½127.0.0.1ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®ŠIPåœ°å€ï¼Œè¡¨ç¤ºæœ¬æœºåœ°å€ï¼Œåé¢çš„æ•™ç¨‹ä¼šç»å¸¸ç”¨åˆ°ã€‚ type ä¸ºæ•°æ®ä¼ è¾“æ–¹å¼ï¼Œå¸¸ç”¨çš„æœ‰ SOCK_STREAM å’Œ SOCK_DGRAM protocol è¡¨ç¤ºä¼ è¾“åè®®ï¼Œå¸¸ç”¨çš„æœ‰ IPPROTO_TCP å’Œ IPPTOTO_UDPï¼Œåˆ†åˆ«è¡¨ç¤º TCP ä¼ è¾“åè®®å’Œ UDP ä¼ è¾“åè®® ","date":"2022-04-05","objectID":"/posts/linux/socket/:6:1","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#61ä½¿ç”¨socketå‡½æ•°åˆ›å»ºå¥—æ¥å­—"},{"categories":null,"content":"6.2ã€ä½¿ç”¨bind()å’Œconnect()å‡½æ•°socket() å‡½æ•°ç”¨æ¥åˆ›å»ºå¥—æ¥å­—ï¼Œç¡®å®šå¥—æ¥å­—çš„å„ç§å±æ€§ï¼Œç„¶åæœåŠ¡å™¨ç«¯è¦ç”¨ bind() å‡½æ•°å°†å¥—æ¥å­—ä¸ç‰¹å®šçš„IPåœ°å€å’Œç«¯å£ç»‘å®šèµ·æ¥ï¼Œåªæœ‰è¿™æ ·ï¼Œæµç»è¯¥IPåœ°å€å’Œç«¯å£çš„æ•°æ®æ‰èƒ½äº¤ç»™å¥—æ¥å­—å¤„ç†ï¼›è€Œå®¢æˆ·ç«¯è¦ç”¨ connect() å‡½æ•°å»ºç«‹è¿æ¥ int bind(int sock, struct sockaddr *addr, socklen_t addrlen); sock ä¸º socket æ–‡ä»¶æè¿°ç¬¦ï¼Œaddr ä¸º sockaddr ç»“æ„ä½“å˜é‡çš„æŒ‡é’ˆï¼Œaddrlen ä¸º addr å˜é‡çš„å¤§å°ï¼Œå¯ç”± sizeof() è®¡ç®—å¾—å‡º ä¸‹é¢çš„ä»£ç ï¼Œå°†åˆ›å»ºçš„å¥—æ¥å­—ä¸IPåœ°å€ 127.0.0.1ã€ç«¯å£ 1234 ç»‘å®šï¼š //åˆ›å»ºå¥—æ¥å­— int serv_sock = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP); //åˆ›å»ºsockaddr_inç»“æ„ä½“å˜é‡ struct sockaddr_in serv_addr; memset(\u0026serv_addr, 0, sizeof(serv_addr)); //æ¯ä¸ªå­—èŠ‚éƒ½ç”¨0å¡«å…… serv_addr.sin_family = AF_INET; //ä½¿ç”¨IPv4åœ°å€ serv_addr.sin_addr.s_addr = inet_addr(\"127.0.0.1\"); //å…·ä½“çš„IPåœ°å€ serv_addr.sin_port = htons(1234); //ç«¯å£ //å°†å¥—æ¥å­—å’ŒIPã€ç«¯å£ç»‘å®š bind(serv_sock, (struct sockaddr*)\u0026serv_addr, sizeof(serv_addr)); connect() å‡½æ•°ç”¨æ¥å»ºç«‹è¿æ¥ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š int connect(int sock, struct sockaddr *serv_addr, socklen_t addrlen); ","date":"2022-04-05","objectID":"/posts/linux/socket/:6:2","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#62ä½¿ç”¨bindå’Œconnectå‡½æ•°"},{"categories":null,"content":"6.3ã€ä½¿ç”¨listen()å’Œaccept()å‡½æ•°äºæœåŠ¡å™¨ç«¯ç¨‹åºï¼Œä½¿ç”¨ bind() ç»‘å®šå¥—æ¥å­—åï¼Œè¿˜éœ€è¦ä½¿ç”¨ listen() å‡½æ•°è®©å¥—æ¥å­—è¿›å…¥è¢«åŠ¨ç›‘å¬çŠ¶æ€ï¼Œå†è°ƒç”¨ accept() å‡½æ•°ï¼Œå°±å¯ä»¥éšæ—¶å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚äº†ã€‚ é€šè¿‡** listen() å‡½æ•°**å¯ä»¥è®©å¥—æ¥å­—è¿›å…¥è¢«åŠ¨ç›‘å¬çŠ¶æ€ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š int listen(int sock, int backlog); sock ä¸ºéœ€è¦è¿›å…¥ç›‘å¬çŠ¶æ€çš„å¥—æ¥å­—ï¼Œbacklog ä¸ºè¯·æ±‚é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚ æ‰€è°“è¢«åŠ¨ç›‘å¬ï¼Œæ˜¯æŒ‡å½“æ²¡æœ‰å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—å¤„äºâ€œç¡çœ â€çŠ¶æ€ï¼Œåªæœ‰å½“æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—æ‰ä¼šè¢«â€œå”¤é†’â€æ¥å“åº”è¯·æ±‚ã€‚ è¯·æ±‚é˜Ÿåˆ— å½“å¥—æ¥å­—æ­£åœ¨å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¦‚æœæœ‰æ–°çš„è¯·æ±‚è¿›æ¥ï¼Œå¥—æ¥å­—æ˜¯æ²¡æ³•å¤„ç†çš„ï¼Œåªèƒ½æŠŠå®ƒæ”¾è¿›ç¼“å†²åŒºï¼Œå¾…å½“å‰è¯·æ±‚å¤„ç†å®Œæ¯•åï¼Œå†ä»ç¼“å†²åŒºä¸­è¯»å–å‡ºæ¥å¤„ç†ã€‚å¦‚æœä¸æ–­æœ‰æ–°çš„è¯·æ±‚è¿›æ¥ï¼Œå®ƒä»¬å°±æŒ‰ç…§å…ˆåé¡ºåºåœ¨ç¼“å†²åŒºä¸­æ’é˜Ÿï¼Œç›´åˆ°ç¼“å†²åŒºæ»¡ã€‚è¿™ä¸ªç¼“å†²åŒºï¼Œå°±ç§°ä¸ºè¯·æ±‚é˜Ÿåˆ—ï¼ˆRequest Queueï¼‰ã€‚ ç¼“å†²åŒºçš„é•¿åº¦ï¼ˆèƒ½å­˜æ”¾å¤šå°‘ä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼‰å¯ä»¥é€šè¿‡ listen() å‡½æ•°çš„ backlog å‚æ•°æŒ‡å®šï¼Œä½†ç©¶ç«Ÿä¸ºå¤šå°‘å¹¶æ²¡æœ‰ä»€ä¹ˆæ ‡å‡†ï¼Œå¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚æ¥å®šï¼Œå¹¶å‘é‡å°çš„è¯å¯ä»¥æ˜¯10æˆ–è€…20ã€‚ å¦‚æœå°† backlog çš„å€¼è®¾ç½®ä¸º SOMAXCONNï¼Œå°±ç”±ç³»ç»Ÿæ¥å†³å®šè¯·æ±‚é˜Ÿåˆ—é•¿åº¦ï¼Œè¿™ä¸ªå€¼ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œå¯èƒ½æ˜¯å‡ ç™¾ï¼Œæˆ–è€…æ›´å¤šã€‚ å½“è¯·æ±‚é˜Ÿåˆ—æ»¡æ—¶ï¼Œå°±ä¸å†æ¥æ”¶æ–°çš„è¯·æ±‚ï¼Œå¯¹äº Linuxï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ° ECONNREFUSED é”™è¯¯ æ³¨æ„ï¼šlisten() åªæ˜¯è®©å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰æ¥æ”¶è¯·æ±‚ã€‚æ¥æ”¶è¯·æ±‚éœ€è¦ä½¿ç”¨ accept() å‡½æ•°ã€‚ å½“å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€æ—¶ï¼Œå¯ä»¥é€šè¿‡ accept() å‡½æ•°æ¥æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ã€‚å®ƒçš„åŸå‹ä¸ºï¼š int accept(int sock, struct sockaddr *addr, socklen_t *addrlen); å®ƒçš„å‚æ•°ä¸ listen() å’Œ connect() æ˜¯ç›¸åŒçš„ï¼šsock ä¸ºæœåŠ¡å™¨ç«¯å¥—æ¥å­—ï¼Œaddr ä¸º sockaddr_in ç»“æ„ä½“å˜é‡ï¼Œaddrlen ä¸ºå‚æ•° addr çš„é•¿åº¦ï¼Œå¯ç”± sizeof() æ±‚å¾—ã€‚ accept() è¿”å›ä¸€ä¸ªæ–°çš„å¥—æ¥å­—æ¥å’Œå®¢æˆ·ç«¯é€šä¿¡ï¼Œaddr ä¿å­˜äº†å®¢æˆ·ç«¯çš„IPåœ°å€å’Œç«¯å£å·ï¼Œè€Œ sock æ˜¯æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ï¼Œå¤§å®¶æ³¨æ„åŒºåˆ†ã€‚åé¢å’Œå®¢æˆ·ç«¯é€šä¿¡æ—¶ï¼Œè¦ä½¿ç”¨è¿™ä¸ªæ–°ç”Ÿæˆçš„å¥—æ¥å­—ï¼Œè€Œä¸æ˜¯åŸæ¥æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ã€‚ æœ€åéœ€è¦è¯´æ˜çš„æ˜¯ï¼šlisten() åªæ˜¯è®©å¥—æ¥å­—è¿›å…¥ç›‘å¬çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰çœŸæ­£æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œlisten() åé¢çš„ä»£ç ä¼šç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ° accept()ã€‚accept() ä¼šé˜»å¡ç¨‹åºæ‰§è¡Œï¼ˆåé¢ä»£ç ä¸èƒ½è¢«æ‰§è¡Œï¼‰ï¼Œç›´åˆ°æœ‰æ–°çš„è¯·æ±‚åˆ°æ¥ã€‚ ","date":"2022-04-05","objectID":"/posts/linux/socket/:6:3","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#63ä½¿ç”¨listenå’Œacceptå‡½æ•°"},{"categories":null,"content":"6.4ã€socketæ•°æ®çš„æ¥æ”¶å’Œå‘é€Linuxä¸‹æ•°æ®çš„æ¥æ”¶å’Œå‘é€ Linux ä¸åŒºåˆ†å¥—æ¥å­—æ–‡ä»¶å’Œæ™®é€šæ–‡ä»¶ï¼Œä½¿ç”¨ write() å¯ä»¥å‘å¥—æ¥å­—ä¸­å†™å…¥æ•°æ®ï¼Œä½¿ç”¨ read() å¯ä»¥ä»å¥—æ¥å­—ä¸­è¯»å–æ•°æ®ã€‚ å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œä¸¤å°è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ç›¸å½“äºä¸¤ä¸ªå¥—æ¥å­—ä¹‹é—´çš„é€šä¿¡ï¼Œåœ¨æœåŠ¡å™¨ç«¯ç”¨ write() å‘å¥—æ¥å­—å†™å…¥æ•°æ®ï¼Œå®¢æˆ·ç«¯å°±èƒ½æ”¶åˆ°ï¼Œç„¶åå†ä½¿ç”¨ read() ä»å¥—æ¥å­—ä¸­è¯»å–å‡ºæ¥ï¼Œå°±å®Œæˆäº†ä¸€æ¬¡é€šä¿¡ã€‚ write() çš„åŸå‹ä¸ºï¼š ssize_t write(int fd, const void *buf, size_t nbytes); fd ä¸ºè¦å†™å…¥çš„æ–‡ä»¶çš„æè¿°ç¬¦ï¼Œbuf ä¸ºè¦å†™å…¥çš„æ•°æ®çš„ç¼“å†²åŒºåœ°å€ï¼Œnbytes ä¸ºè¦å†™å…¥çš„æ•°æ®çš„å­—èŠ‚æ•°ã€‚ write() å‡½æ•°ä¼šå°†ç¼“å†²åŒº buf ä¸­çš„ nbytes ä¸ªå­—èŠ‚å†™å…¥æ–‡ä»¶ fdï¼ŒæˆåŠŸåˆ™è¿”å›å†™å…¥çš„å­—èŠ‚æ•°ï¼Œå¤±è´¥åˆ™è¿”å› -1ã€‚ read() çš„åŸå‹ä¸ºï¼š ssize_t read(int fd, void *buf, size_t nbytes); fd ä¸ºè¦è¯»å–çš„æ–‡ä»¶çš„æè¿°ç¬¦ï¼Œbuf ä¸ºè¦æ¥æ”¶æ•°æ®çš„ç¼“å†²åŒºåœ°å€ï¼Œnbytes ä¸ºè¦è¯»å–çš„æ•°æ®çš„å­—èŠ‚æ•°ã€‚ read() å‡½æ•°ä¼šä» fd æ–‡ä»¶ä¸­è¯»å– nbytes ä¸ªå­—èŠ‚å¹¶ä¿å­˜åˆ°ç¼“å†²åŒº bufï¼ŒæˆåŠŸåˆ™è¿”å›è¯»å–åˆ°çš„å­—èŠ‚æ•°ï¼ˆä½†é‡åˆ°æ–‡ä»¶ç»“å°¾åˆ™è¿”å›0ï¼‰ï¼Œå¤±è´¥åˆ™è¿”å› -1ã€‚ ","date":"2022-04-05","objectID":"/posts/linux/socket/:6:4","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#64socketæ•°æ®çš„æ¥æ”¶å’Œå‘é€"},{"categories":null,"content":"6.5ã€socketç¼“å†²åŒºä»¥åŠé˜»å¡æ¨¡å¼socketç¼“å†²åŒº æ¯ä¸ª socket è¢«åˆ›å»ºåï¼Œéƒ½ä¼šåˆ†é…ä¸¤ä¸ªç¼“å†²åŒºï¼Œè¾“å…¥ç¼“å†²åŒºå’Œè¾“å‡ºç¼“å†²åŒºã€‚ write()/send() å¹¶ä¸ç«‹å³å‘ç½‘ç»œä¸­ä¼ è¾“æ•°æ®ï¼Œè€Œæ˜¯å…ˆå°†æ•°æ®å†™å…¥ç¼“å†²åŒºä¸­ï¼Œå†ç”±TCPåè®®å°†æ•°æ®ä»ç¼“å†²åŒºå‘é€åˆ°ç›®æ ‡æœºå™¨ã€‚ä¸€æ—¦å°†æ•°æ®å†™å…¥åˆ°ç¼“å†²åŒºï¼Œå‡½æ•°å°±å¯ä»¥æˆåŠŸè¿”å›ï¼Œä¸ç®¡å®ƒä»¬æœ‰æ²¡æœ‰åˆ°è¾¾ç›®æ ‡æœºå™¨ï¼Œä¹Ÿä¸ç®¡å®ƒä»¬ä½•æ—¶è¢«å‘é€åˆ°ç½‘ç»œï¼Œè¿™äº›éƒ½æ˜¯TCPåè®®è´Ÿè´£çš„äº‹æƒ…ã€‚ TCPåè®®ç‹¬ç«‹äº write()/send() å‡½æ•°ï¼Œæ•°æ®æœ‰å¯èƒ½åˆšè¢«å†™å…¥ç¼“å†²åŒºå°±å‘é€åˆ°ç½‘ç»œï¼Œä¹Ÿå¯èƒ½åœ¨ç¼“å†²åŒºä¸­ä¸æ–­ç§¯å‹ï¼Œå¤šæ¬¡å†™å…¥çš„æ•°æ®è¢«ä¸€æ¬¡æ€§å‘é€åˆ°ç½‘ç»œï¼Œè¿™å–å†³äºå½“æ—¶çš„ç½‘ç»œæƒ…å†µã€å½“å‰çº¿ç¨‹æ˜¯å¦ç©ºé—²ç­‰è¯¸å¤šå› ç´ ï¼Œä¸ç”±ç¨‹åºå‘˜æ§åˆ¶ã€‚ read()/recv() å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¹Ÿä»è¾“å…¥ç¼“å†²åŒºä¸­è¯»å–æ•°æ®ï¼Œè€Œä¸æ˜¯ç›´æ¥ä»ç½‘ç»œä¸­è¯»å– è¿™äº›I/Oç¼“å†²åŒºç‰¹æ€§å¯æ•´ç†å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰I/Oç¼“å†²åŒºåœ¨æ¯ä¸ªTCPå¥—æ¥å­—ä¸­å•ç‹¬å­˜åœ¨ï¼› ï¼ˆ2ï¼‰I/Oç¼“å†²åŒºåœ¨åˆ›å»ºå¥—æ¥å­—æ—¶è‡ªåŠ¨ç”Ÿæˆï¼› ï¼ˆ3ï¼‰å³ä½¿å…³é—­å¥—æ¥å­—ä¹Ÿä¼šç»§ç»­ä¼ é€è¾“å‡ºç¼“å†²åŒºä¸­é—ç•™çš„æ•°æ®ï¼› ï¼ˆ4ï¼‰å…³é—­å¥—æ¥å­—å°†ä¸¢å¤±è¾“å…¥ç¼“å†²åŒºä¸­çš„æ•°æ®ã€‚ è¾“å…¥è¾“å‡ºç¼“å†²åŒºçš„é»˜è®¤å¤§å°ä¸€èˆ¬éƒ½æ˜¯ 8Kï¼Œå¯ä»¥é€šè¿‡ getsockopt() å‡½æ•°è·å–ï¼š unsigned optVal; int optLen = sizeof(int); getsockopt(servSock, SOL_SOCKET, SO_SNDBUF, (char*)\u0026optVal, \u0026optLen); printf(\"Buffer length: %d\\n\", optVal); é˜»å¡æ¨¡å¼ å¯¹äºTCPå¥—æ¥å­—ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰ï¼Œå½“ä½¿ç”¨ write()/send() å‘é€æ•°æ®æ—¶ï¼š 1) é¦–å…ˆä¼šæ£€æŸ¥ç¼“å†²åŒºï¼Œå¦‚æœç¼“å†²åŒºçš„å¯ç”¨ç©ºé—´é•¿åº¦å°äºè¦å‘é€çš„æ•°æ®ï¼Œé‚£ä¹ˆ write()/send() ä¼šè¢«é˜»å¡ï¼ˆæš‚åœæ‰§è¡Œï¼‰ï¼Œç›´åˆ°ç¼“å†²åŒºä¸­çš„æ•°æ®è¢«å‘é€åˆ°ç›®æ ‡æœºå™¨ï¼Œè…¾å‡ºè¶³å¤Ÿçš„ç©ºé—´ï¼Œæ‰å”¤é†’ write()/send() å‡½æ•°ç»§ç»­å†™å…¥æ•°æ®ã€‚ 2) å¦‚æœTCPåè®®æ­£åœ¨å‘ç½‘ç»œå‘é€æ•°æ®ï¼Œé‚£ä¹ˆè¾“å‡ºç¼“å†²åŒºä¼šè¢«é”å®šï¼Œä¸å…è®¸å†™å…¥ï¼Œwrite()/send() ä¹Ÿä¼šè¢«é˜»å¡ï¼Œç›´åˆ°æ•°æ®å‘é€å®Œæ¯•ç¼“å†²åŒºè§£é”ï¼Œwrite()/send() æ‰ä¼šè¢«å”¤é†’ã€‚ 3) å¦‚æœè¦å†™å…¥çš„æ•°æ®å¤§äºç¼“å†²åŒºçš„æœ€å¤§é•¿åº¦ï¼Œé‚£ä¹ˆå°†åˆ†æ‰¹å†™å…¥ã€‚ 4) ç›´åˆ°æ‰€æœ‰æ•°æ®è¢«å†™å…¥ç¼“å†²åŒº write()/send() æ‰èƒ½è¿”å›ã€‚ å½“ä½¿ç”¨ read()/recv() è¯»å–æ•°æ®æ—¶ï¼š 1) é¦–å…ˆä¼šæ£€æŸ¥ç¼“å†²åŒºï¼Œå¦‚æœç¼“å†²åŒºä¸­æœ‰æ•°æ®ï¼Œé‚£ä¹ˆå°±è¯»å–ï¼Œå¦åˆ™å‡½æ•°ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°ç½‘ç»œä¸Šæœ‰æ•°æ®åˆ°æ¥ã€‚ 2) å¦‚æœè¦è¯»å–çš„æ•°æ®é•¿åº¦å°äºç¼“å†²åŒºä¸­çš„æ•°æ®é•¿åº¦ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä¸€æ¬¡æ€§å°†ç¼“å†²åŒºä¸­çš„æ‰€æœ‰æ•°æ®è¯»å‡ºï¼Œå‰©ä½™æ•°æ®å°†ä¸æ–­ç§¯å‹ï¼Œç›´åˆ°æœ‰ read()/recv() å‡½æ•°å†æ¬¡è¯»å–ã€‚ 3) ç›´åˆ°è¯»å–åˆ°æ•°æ®å read()/recv() å‡½æ•°æ‰ä¼šè¿”å›ï¼Œå¦åˆ™å°±ä¸€ç›´è¢«é˜»å¡ã€‚ è¿™å°±æ˜¯TCPå¥—æ¥å­—çš„é˜»å¡æ¨¡å¼ã€‚æ‰€è°“é˜»å¡ï¼Œå°±æ˜¯ä¸Šä¸€æ­¥åŠ¨ä½œæ²¡æœ‰å®Œæˆï¼Œä¸‹ä¸€æ­¥åŠ¨ä½œå°†æš‚åœï¼Œç›´åˆ°ä¸Šä¸€æ­¥åŠ¨ä½œå®Œæˆåæ‰èƒ½ç»§ç»­ï¼Œä»¥ä¿æŒåŒæ­¥æ€§ã€‚ TCPå¥—æ¥å­—é»˜è®¤æƒ…å†µä¸‹æ˜¯é˜»å¡æ¨¡å¼ ","date":"2022-04-05","objectID":"/posts/linux/socket/:6:5","series":null,"tags":["è®¡ç½‘"],"title":"Socket","uri":"/posts/linux/socket/#65socketç¼“å†²åŒºä»¥åŠé˜»å¡æ¨¡å¼"},{"categories":null,"content":"SQLè¯­å¥ï¼šå…ˆç¼–è¯‘åæ‰§è¡Œå­˜å‚¨è¿‡ç¨‹(Stored Procedure)ï¼š ã€€ä¸€ç»„å¯ç¼–ç¨‹çš„å‡½æ•°ï¼Œæ˜¯ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„SQLè¯­å¥é›†ï¼Œç»ç¼–è¯‘åˆ›å»ºå¹¶ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œç”¨æˆ·å¯é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å®šå‚æ•°(éœ€è¦æ—¶)æ¥è°ƒç”¨æ‰§è¡Œã€‚ ä¼˜ç‚¹(ä¸ºä»€ä¹ˆè¦ç”¨å­˜å‚¨è¿‡ç¨‹ï¼Ÿ)ï¼š ã€€â‘ å°†é‡å¤æ€§å¾ˆé«˜çš„ä¸€äº›æ“ä½œï¼Œå°è£…åˆ°ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ä¸­ï¼Œç®€åŒ–äº†å¯¹è¿™äº›SQLçš„è°ƒç”¨ ã€€â‘¡æ‰¹é‡å¤„ç†ï¼šSQL+å¾ªç¯ï¼Œå‡å°‘æµé‡ï¼Œä¹Ÿå°±æ˜¯â€œè·‘æ‰¹â€ ã€€â‘¢ç»Ÿä¸€æ¥å£ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨ ç›¸å¯¹äºoracleæ•°æ®åº“æ¥è¯´ï¼ŒMySQLçš„å­˜å‚¨è¿‡ç¨‹ç›¸å¯¹åŠŸèƒ½è¾ƒå¼±ï¼Œä½¿ç”¨è¾ƒå°‘ã€‚ ä¸€ã€å­˜å‚¨è¿‡ç¨‹çš„åˆ›å»ºå’Œè°ƒç”¨ ã€€\u003eå­˜å‚¨è¿‡ç¨‹å°±æ˜¯å…·æœ‰åå­—çš„ä¸€æ®µä»£ç ï¼Œç”¨æ¥å®Œæˆä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½ã€‚ ã€€\u003eåˆ›å»ºçš„å­˜å‚¨è¿‡ç¨‹ä¿å­˜åœ¨æ•°æ®åº“çš„æ•°æ®å­—å…¸ä¸­ã€‚ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:0:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#sqlè¯­å¥å…ˆç¼–è¯‘åæ‰§è¡Œ"},{"categories":null,"content":"1ã€åˆ›å»ºå­˜å‚¨è¿‡ç¨‹CREATE[DEFINER={user|CURRENT_USER}]PROCEDUREsp_name([proc_parameter[,...]])[characteristic...]routine_bodyproc_parameter:[IN|OUT|INOUT]param_nametypecharacteristic:COMMENT'string'|LANGUAGESQL|[NOT]DETERMINISTIC|{CONTAINSSQL|NOSQL|READSSQLDATA|MODIFIESSQLDATA}|SQLSECURITY{DEFINER|INVOKER}routine_body:ValidSQLroutinestatement[begin_label:]BEGIN[statement_list]â€¦â€¦END[end_label]Â #åˆ›å»ºæ•°æ®åº“ï¼Œå¤‡ä»½æ•°æ®è¡¨ç”¨äºç¤ºä¾‹æ“ä½œ mysql\u003ecreatedatabasedb1;mysql\u003eusedb1;mysql\u003ecreatetablePLAYERSasselect*fromTENNIS.PLAYERS;mysql\u003ecreatetableMATCHESasselect*fromTENNIS.MATCHES;ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œåˆ é™¤ç»™å®šçƒå‘˜å‚åŠ çš„æ‰€æœ‰æ¯”èµ› mysql\u003edelimiter$$#å°†è¯­å¥çš„ç»“æŸç¬¦å·ä»åˆ†å·;ä¸´æ—¶æ”¹ä¸ºä¸¤ä¸ª$$(å¯ä»¥æ˜¯è‡ªå®šä¹‰)mysql\u003eCREATEPROCEDUREdelete_matches(INp_playernoINTEGER)-\u003eBEGIN-\u003eDELETEFROMMATCHES-\u003eWHEREplayerno=p_playerno;-\u003eEND$$QueryOK,0rowsaffected(0.01sec)mysql\u003edelimiter;#å°†è¯­å¥çš„ç»“æŸç¬¦å·æ¢å¤ä¸ºåˆ†å·è§£æï¼š ã€€é»˜è®¤æƒ…å†µä¸‹ï¼Œå­˜å‚¨è¿‡ç¨‹å’Œé»˜è®¤æ•°æ®åº“ç›¸å…³è”ï¼Œå¦‚æœæƒ³æŒ‡å®šå­˜å‚¨è¿‡ç¨‹åˆ›å»ºåœ¨æŸä¸ªç‰¹å®šçš„æ•°æ®åº“ä¸‹ï¼Œé‚£ä¹ˆåœ¨è¿‡ç¨‹åå‰é¢åŠ æ•°æ®åº“ååšå‰ç¼€ï¼› ã€€åœ¨å®šä¹‰è¿‡ç¨‹æ—¶ï¼Œä½¿ç”¨DELIMITER $$ å‘½ä»¤å°†è¯­å¥çš„ç»“æŸç¬¦å·ä»åˆ†å· ; ä¸´æ—¶æ”¹ä¸ºä¸¤ä¸ª$$ï¼Œä½¿å¾—è¿‡ç¨‹ä½“ä¸­ä½¿ç”¨çš„åˆ†å·è¢«ç›´æ¥ä¼ é€’åˆ°æœåŠ¡å™¨ï¼Œè€Œä¸ä¼šè¢«å®¢æˆ·ç«¯ï¼ˆå¦‚mysqlï¼‰è§£é‡Šã€‚ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:1:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#1åˆ›å»ºå­˜å‚¨è¿‡ç¨‹"},{"categories":null,"content":"2ã€è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼šcall sp_name[(ä¼ å‚)];mysql\u003eselect*fromMATCHES;+---------+--------+----------+-----+------+ |MATCHNO|TEAMNO|PLAYERNO|WON|LOST|+---------+--------+----------+-----+------+ |1|1|6|3|1||7|1|57|3|0||8|1|8|0|3||9|2|27|3|2||11|2|112|2|3|+---------+--------+----------+-----+------+ 5rowsinset(0.00sec)mysql\u003ecalldelete_matches(57);QueryOK,1rowaffected(0.03sec)mysql\u003eselect*fromMATCHES;+---------+--------+----------+-----+------+ |MATCHNO|TEAMNO|PLAYERNO|WON|LOST|+---------+--------+----------+-----+------+ |1|1|6|3|1||8|1|8|0|3||9|2|27|3|2||11|2|112|2|3|+---------+--------+----------+-----+------+ 4rowsinset(0.00sec)è§£æï¼š ã€€åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­è®¾ç½®äº†éœ€è¦ä¼ å‚çš„å˜é‡p_playernoï¼Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹çš„æ—¶å€™ï¼Œé€šè¿‡ä¼ å‚å°†57èµ‹å€¼ç»™p_playernoï¼Œç„¶åè¿›è¡Œå­˜å‚¨è¿‡ç¨‹é‡Œçš„SQLæ“ä½œã€‚ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:2:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#2è°ƒç”¨å­˜å‚¨è¿‡ç¨‹call-sp_nameä¼ å‚"},{"categories":null,"content":"3ã€å­˜å‚¨è¿‡ç¨‹ä½“ã€€\u003eå­˜å‚¨è¿‡ç¨‹ä½“åŒ…å«äº†åœ¨è¿‡ç¨‹è°ƒç”¨æ—¶å¿…é¡»æ‰§è¡Œçš„è¯­å¥ï¼Œä¾‹å¦‚ï¼šdmlã€ddlè¯­å¥ï¼Œif-then-elseå’Œwhile-doè¯­å¥ã€å£°æ˜å˜é‡çš„declareè¯­å¥ç­‰ ã€€\u003eè¿‡ç¨‹ä½“æ ¼å¼ï¼šä»¥beginå¼€å§‹ï¼Œä»¥endç»“æŸ(å¯åµŒå¥—) BEGINBEGINBEGINstatements;ENDENDENDæ³¨æ„ï¼šæ¯ä¸ªåµŒå¥—å—åŠå…¶ä¸­çš„æ¯æ¡è¯­å¥ï¼Œå¿…é¡»ä»¥åˆ†å·ç»“æŸï¼Œè¡¨ç¤ºè¿‡ç¨‹ä½“ç»“æŸçš„begin-endå—(åˆå«åšå¤åˆè¯­å¥compound statement)ï¼Œåˆ™ä¸éœ€è¦åˆ†å·ã€‚ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:3:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#3å­˜å‚¨è¿‡ç¨‹ä½“"},{"categories":null,"content":"4ã€ä¸ºè¯­å¥å—è´´æ ‡ç­¾[begin_label:]BEGIN[statement_list]END[end_label]ä¾‹å¦‚ï¼šlabel1:BEGINlabel2:BEGINlabel3:BEGINstatements;ENDlabel3;ENDlabel2;ENDlabel1æ ‡ç­¾æœ‰ä¸¤ä¸ªä½œç”¨ï¼š ã€€â‘ å¢å¼ºä»£ç çš„å¯è¯»æ€§ ã€€â‘¡åœ¨æŸäº›è¯­å¥(ä¾‹å¦‚:leaveå’Œiterateè¯­å¥)ï¼Œéœ€è¦ç”¨åˆ°æ ‡ç­¾ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:4:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#4ä¸ºè¯­å¥å—è´´æ ‡ç­¾"},{"categories":null,"content":"äºŒã€å­˜å‚¨è¿‡ç¨‹çš„å‚æ•°ã€€å­˜å‚¨è¿‡ç¨‹å¯ä»¥æœ‰0ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œç”¨äºå­˜å‚¨è¿‡ç¨‹çš„å®šä¹‰ã€‚ 3ç§å‚æ•°ç±»å‹ï¼š ã€€INè¾“å…¥å‚æ•°ï¼šè¡¨ç¤ºè°ƒç”¨è€…å‘è¿‡ç¨‹ä¼ å…¥å€¼ï¼ˆä¼ å…¥å€¼å¯ä»¥æ˜¯å­—é¢é‡æˆ–å˜é‡ï¼‰ ã€€OUTè¾“å‡ºå‚æ•°ï¼šè¡¨ç¤ºè¿‡ç¨‹å‘è°ƒç”¨è€…ä¼ å‡ºå€¼(å¯ä»¥è¿”å›å¤šä¸ªå€¼)ï¼ˆä¼ å‡ºå€¼åªèƒ½æ˜¯å˜é‡ï¼‰ ã€€INOUTè¾“å…¥è¾“å‡ºå‚æ•°ï¼šæ—¢è¡¨ç¤ºè°ƒç”¨è€…å‘è¿‡ç¨‹ä¼ å…¥å€¼ï¼Œåˆè¡¨ç¤ºè¿‡ç¨‹å‘è°ƒç”¨è€…ä¼ å‡ºå€¼ï¼ˆå€¼åªèƒ½æ˜¯å˜é‡ï¼‰ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:0:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#äºŒå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°"},{"categories":null,"content":"1ã€inè¾“å…¥å‚æ•°mysql\u003edelimiter$$mysql\u003ecreateprocedurein_param(inp_inint)-\u003ebegin-\u003eselectp_in;-\u003esetp_in=2;-\u003eselectP_in;-\u003eend$$mysql\u003edelimiter;mysql\u003eset@p_in=1;mysql\u003ecallin_param(@p_in);+------+ |p_in|+------+ |1|+------+ +------+ |P_in|+------+ |2|+------+ mysql\u003e select @p_in; +-------+ |@p_in|+-------+ |1|+-------+ ä»¥ä¸Šå¯ä»¥çœ‹å‡ºï¼Œp_inåœ¨å­˜å‚¨è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹ï¼Œä½†å¹¶ä¸å½±å“@p_idçš„å€¼ï¼Œå› ä¸ºå‰è€…ä¸ºå±€éƒ¨å˜é‡ã€åè€…ä¸ºå…¨å±€å˜é‡ã€‚ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:1:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#1inè¾“å…¥å‚æ•°"},{"categories":null,"content":"2ã€outè¾“å‡ºå‚æ•°mysql\u003edelimiter//mysql\u003ecreateprocedureout_param(outp_outint)-\u003ebegin-\u003eselectp_out;-\u003esetp_out=2;-\u003eselectp_out;-\u003eend-\u003e//mysql\u003edelimiter;mysql\u003eset@p_out=1;mysql\u003ecallout_param(@p_out);+-------+ |p_out|+-------+ |NULL|+-------+ #å› ä¸ºoutæ˜¯å‘è°ƒç”¨è€…è¾“å‡ºå‚æ•°ï¼Œä¸æ¥æ”¶è¾“å…¥çš„å‚æ•°ï¼Œæ‰€ä»¥å­˜å‚¨è¿‡ç¨‹é‡Œçš„p_outä¸ºnull +-------+ |p_out|+-------+ |2|+-------+ mysql\u003e select @p_out; +--------+ |@p_out|+--------+ |2|+--------+ #è°ƒç”¨äº†out_paramå­˜å‚¨è¿‡ç¨‹ï¼Œè¾“å‡ºå‚æ•°ï¼Œæ”¹å˜äº†p_outå˜é‡çš„å€¼ ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:2:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#2outè¾“å‡ºå‚æ•°"},{"categories":null,"content":"3ã€inoutè¾“å…¥å‚æ•°mysql\u003edelimiter$$mysql\u003ecreateprocedureinout_param(inoutp_inoutint)-\u003ebegin-\u003eselectp_inout;-\u003esetp_inout=2;-\u003eselectp_inout;-\u003eend-\u003e$$mysql\u003edelimiter;mysql\u003eset@p_inout=1;mysql\u003ecallinout_param(@p_inout);+---------+ |p_inout|+---------+ |1|+---------+ +---------+ |p_inout|+---------+ |2|+---------+ mysql\u003e select @p_inout; +----------+ |@p_inout|+----------+ |2|+----------+ è°ƒç”¨äº†inout_paramå­˜å‚¨è¿‡ç¨‹ï¼Œæ¥å—äº†è¾“å…¥çš„å‚æ•°ï¼Œä¹Ÿè¾“å‡ºå‚æ•°ï¼Œæ”¹å˜äº†å˜é‡ æ³¨æ„ï¼š ã€€â‘ å¦‚æœè¿‡ç¨‹æ²¡æœ‰å‚æ•°ï¼Œä¹Ÿå¿…é¡»åœ¨è¿‡ç¨‹ååé¢å†™ä¸Šå°æ‹¬å· ã€€ä¾‹ï¼šCREATE PROCEDURE sp_name ([proc_parameter[,â€¦]]) â€¦â€¦ ã€€â‘¡ç¡®ä¿å‚æ•°çš„åå­—ä¸ç­‰äºåˆ—çš„åå­—ï¼Œå¦åˆ™åœ¨è¿‡ç¨‹ä½“ä¸­ï¼Œå‚æ•°åè¢«å½“åšåˆ—åæ¥å¤„ç† å¢™è£‚å»ºè®®ï¼š ã€€\u003eè¾“å…¥å€¼ä½¿ç”¨inå‚æ•°ï¼› ã€€\u003eè¿”å›å€¼ä½¿ç”¨outå‚æ•°ï¼› ã€€\u003einoutå‚æ•°å°±å°½é‡çš„å°‘ç”¨ã€‚ ref https://www.cnblogs.com/geaozhang/p/6797357.html ","date":"2022-04-05","objectID":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/:3:0","series":null,"tags":["æ•°æ®åº“"],"title":"å­˜å‚¨è¿‡ç¨‹","uri":"/posts/middleware/mysql/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/#3inoutè¾“å…¥å‚æ•°"},{"categories":null,"content":"è½¯ä»¶æµ‹è¯•ä¸­ï¼Œæœ€å¸¸å¬åˆ°â€œé»‘ç›’æµ‹è¯•â€ä¸â€œç™½ç›’æµ‹è¯•â€ï¼Œå®ƒä»¬æ˜¯è½¯ä»¶æµ‹è¯•ä¸­æœ€åŸºæœ¬çš„æµ‹è¯•æ–¹æ³•ã€‚ ã€€é‚£ä¹ˆç©¶ç«Ÿä½•ä¸ºâ€œé»‘ç›’â€ï¼Œä½•ä¸ºâ€œç™½ç›’â€å‘¢ï¼Ÿä¸‹é¢å°±å¯¹å…¶æ¦‚å¿µä¸å¸¸ç”¨æ–¹æ³•è¿›è¡Œä¸€ä¸‹ä»‹ç»ã€‚ é»‘ç›’æµ‹è¯•ï¼Œç™½ç›’æµ‹è¯•ä¸ç°ç›’æµ‹è¯•çš„æ¯”è¾ƒå’ŒåŒºåˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š é»‘ç›’æµ‹è¯• ç™½ç›’æµ‹è¯• ç°ç›’æµ‹è¯• ä¸éœ€è¦äº†è§£å†…éƒ¨å·¥ä½œç»“æ„(ä»£ç )ã€‚æµ‹è¯•ç”¨ä¾‹åªéœ€è¦GUI(å›¾å½¢ç”¨æˆ·ç•Œé¢)ã€‚ æµ‹è¯•éœ€è¦äº†è§£å†…éƒ¨å·¥ä½œç»“æ„(è½¯ä»¶ç¼–ç )ã€‚ éƒ¨åˆ†äº†è§£å†…éƒ¨å·¥ä½œç»“æ„ã€‚ é»‘ç›’æµ‹è¯•ä¹Ÿç§°ä¸ºåŠŸèƒ½æµ‹è¯•ï¼Œæ•°æ®é©±åŠ¨æµ‹è¯•å’Œå°é—­ç›’æµ‹è¯•ã€‚ ç™½ç›’æµ‹è¯•ä¹Ÿç§°ä¸ºç»“æ„æµ‹è¯•ï¼Œé€æ˜ç›’æµ‹è¯•ï¼ŒåŸºäºä»£ç çš„æµ‹è¯•å’Œé€æ˜æµ‹è¯•ã€‚ ç°ç›’æµ‹è¯•ä¹Ÿç§°ä¸ºåŠé€æ˜æµ‹è¯•ï¼Œå› ä¸ºæµ‹è¯•äººå‘˜å¯¹ç¼–ç çŸ¥è¯†æœ‰é™ã€‚ æµ‹è¯•æ–¹æ³•åŒ…æ‹¬è¯•éªŒæŠ€æœ¯å’Œé”™è¯¯çŒœæµ‹æ–¹æ³•ï¼Œå› ä¸ºæµ‹è¯•äººå‘˜ä¸éœ€è¦çŸ¥é“è½¯ä»¶çš„å†…éƒ¨ç¼–ç ã€‚ é€šè¿‡éªŒè¯è½¯ä»¶ä¸­å›ºæœ‰çš„ç³»ç»Ÿè¾¹ç•Œå’Œæ•°æ®åŸŸæ¥è¿›è¡Œç™½ç›’æµ‹è¯•ï¼Œå› ä¸ºä¸ç¼ºä¹å†…éƒ¨ç¼–ç çŸ¥è¯†ã€‚ å¦‚æœæµ‹è¯•äººå‘˜å…·æœ‰ç¼–ç çŸ¥è¯†ï¼Œåˆ™é€šè¿‡éªŒè¯è½¯ä»¶çš„æ•°æ®åŸŸå’Œå†…éƒ¨ç³»ç»Ÿè¾¹ç•Œæ¥è¿›è¡Œã€‚ è¾“å…¥è¡¨çš„æµ‹è¯•ç©ºé—´(ç”¨äºåˆ›å»ºæµ‹è¯•ç”¨ä¾‹çš„è¾“å…¥)éå¸¸åºå¤§ï¼Œåœ¨æ‰€æœ‰æµ‹è¯•ç©ºé—´ä¸­æœ€å¤§ã€‚ ä¸é»‘ç›’æµ‹è¯•ç›¸æ¯”ï¼Œè¾“å…¥è¡¨çš„æµ‹è¯•ç©ºé—´(ç”¨äºåˆ›å»ºæµ‹è¯•ç”¨ä¾‹çš„è¾“å…¥)è¾ƒå°‘ã€‚ è¾“å…¥è¡¨çš„æµ‹è¯•ç©ºé—´(ç”¨äºåˆ›å»ºæµ‹è¯•ç”¨ä¾‹çš„è¾“å…¥)å°äºé»‘ç›’å’Œç™½ç›’æµ‹è¯•ã€‚ å‘ç°è½¯ä»¶çš„éšè—é”™è¯¯éå¸¸å›°éš¾ï¼Œå› ä¸ºé”™è¯¯å¯èƒ½æ˜¯ç”±äºé»‘ç›’æµ‹è¯•æœªçŸ¥çš„å†…éƒ¨å·¥ä½œé€ æˆçš„ã€‚ å‘ç°éšè—é”™è¯¯å¾ˆç®€å•ï¼Œå› ä¸ºå®ƒå¯èƒ½æ˜¯ç”±äºå†…éƒ¨å·¥ä½œï¼Œè¿™åœ¨ç™½ç›’æµ‹è¯•ä¸­å¾—åˆ°äº†æ·±å…¥æ¢ç´¢ã€‚ å¾ˆéš¾å‘ç°éšè—çš„é”™è¯¯ï¼Œå¯åœ¨ç”¨æˆ·çº§æµ‹è¯•ä¸­æ‰¾åˆ°ã€‚ å®ƒä¸é€‚ç”¨äºç®—æ³•æµ‹è¯•ã€‚ å®ƒéå¸¸é€‚åˆå¹¶æ¨èç”¨äºç®—æ³•æµ‹è¯•ã€‚ å®ƒä¸è¢«è€ƒè™‘ç”¨äºç®—æ³•æµ‹è¯•ã€‚ é»‘ç›’æµ‹è¯•ä¸­çš„æ—¶é—´æ¶ˆè€—å–å†³äºåŠŸèƒ½è§„èŒƒçš„å¯ç”¨æ€§ã€‚ ç”±äºå†—é•¿çš„ä»£ç ï¼Œç™½ç›’æµ‹è¯•éœ€è¦å¾ˆé•¿æ—¶é—´æ¥è®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€‚ æµ‹è¯•ç”¨ä¾‹è®¾è®¡å¯ä»¥åœ¨çŸ­æ—¶é—´å†…å®Œæˆã€‚ æµ‹è¯•äººå‘˜ï¼Œå¼€å‘äººå‘˜å’Œæœ€ç»ˆç”¨æˆ·å¯ä»¥å‚ä¸æµ‹è¯•ã€‚ åªæœ‰æµ‹è¯•äººå‘˜å’Œå¼€å‘äººå‘˜æ‰èƒ½å‚ä¸æµ‹è¯•; æœ€ç»ˆç”¨æˆ·ä¸èƒ½æ¶‰åŠã€‚ æµ‹è¯•äººå‘˜ï¼Œå¼€å‘äººå‘˜å’Œæœ€ç»ˆç”¨æˆ·å¯ä»¥å‚ä¸æµ‹è¯•ã€‚ è¿™æ˜¯æ‰€æœ‰æµ‹è¯•è¿‡ç¨‹ä¸­è€—æ—¶æœ€å°‘çš„è¿‡ç¨‹ã€‚ åœ¨æ‰€æœ‰æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæ•´ä¸ªæµ‹è¯•è¿‡ç¨‹æ˜¯æœ€è€—æ—¶çš„ã€‚ æ¯”ç™½ç›’æµ‹è¯•è€—æ—¶æ›´å°‘ã€‚ é»‘ç›’æµ‹è¯•æ¶µç›–äº†æŠµå¾¡ç—…æ¯’æ”»å‡»çš„å¼¹æ€§å’Œå®‰å…¨æ€§ã€‚ ç™½ç›’æµ‹è¯•ä¸åŒ…æ‹¬é’ˆå¯¹ç—…æ¯’æ”»å‡»çš„å¼¹æ€§å’Œå®‰å…¨æ€§ã€‚ ç°ç›’æµ‹è¯•ä¸åŒ…æ‹¬é’ˆå¯¹ç—…æ¯’æ”»å‡»çš„å¼¹æ€§å’Œå®‰å…¨æ€§ã€‚ é»‘ç›’æµ‹è¯•çš„åŸºç¡€æ˜¯å¤–éƒ¨æœŸæœ›å†…éƒ¨è¡Œä¸ºæœªçŸ¥ã€‚ ç°ç›’æµ‹è¯•çš„åŸºç¡€æ˜¯ç¼–ç ï¼Œè´Ÿè´£å†…éƒ¨å·¥ä½œã€‚ åŸºäºé«˜çº§æ•°æ®åº“å›¾è¡¨å’Œæ•°æ®æµå›¾è¿›è¡Œæµ‹è¯•ã€‚ å®ƒä¸åƒç™½ç›’å’Œç°ç›’æµ‹è¯•æ–¹æ³•é‚£ä¹ˆè¯¦å°½ã€‚ é»‘ç›’å’Œç°ç›’æµ‹è¯•æ–¹æ³•ä¹‹é—´æœ€ä¸ºè¯¦å°½ã€‚ éƒ¨åˆ†è¯¦å°½; å–å†³äºåŸºäºç¼–ç æˆ–åŸºäºGUIçš„æµ‹è¯•ç”¨ä¾‹çš„ç±»å‹ã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:0:0","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#"},{"categories":null,"content":"é»‘ç›’æµ‹è¯•ï¼šã€€ä¹Ÿç§°åŠŸèƒ½æµ‹è¯•ã€æ•°æ®é©±åŠ¨æµ‹è¯•ï¼Œå®ƒå°†è¢«æµ‹è½¯ä»¶çœ‹ä½œä¸€ä¸ªæ‰“ä¸å¼€çš„é»‘ç›’ï¼Œä¸»è¦æ ¹æ®åŠŸèƒ½éœ€æ±‚è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œè¿›è¡Œæµ‹è¯•ã€‚ ã€€æ¦‚å¿µï¼šé»‘ç›’æµ‹è¯•æ˜¯ä»ä¸€ç§ä»è½¯ä»¶å¤–éƒ¨å¯¹è½¯ä»¶å®æ–½çš„æµ‹è¯•ï¼Œä¹Ÿç§°åŠŸèƒ½æµ‹è¯•æˆ–åŸºäºè§„æ ¼è¯´æ˜çš„æµ‹è¯•ã€‚å…¶åŸºæœ¬è§‚ç‚¹æ˜¯ï¼šä»»ä½•ç¨‹åºéƒ½å¯ä»¥çœ‹ä½œæ˜¯ä»è¾“å…¥å®šä¹‰åŸŸåˆ°è¾“å‡ºå€¼åŸŸçš„æ˜ å°„ï¼Œè¿™ç§è§‚ç‚¹å°†è¢«æµ‹ç¨‹åºçœ‹ä½œä¸€ä¸ªæ‰“ä¸å¼€çš„é»‘ç›’ï¼Œé»‘ç›’é‡Œé¢çš„å†…å®¹(å®ç°)æ˜¯å®Œå…¨ä¸çŸ¥é“çš„ï¼ŒåªçŸ¥é“è½¯ä»¶è¦åšä»€ä¹ˆã€‚å› æ— æ³•çœ‹åˆ°ç›’å­ä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥ä¸çŸ¥é“è½¯ä»¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Œä¹Ÿä¸å…³å¿ƒé»‘ç›’é‡Œé¢çš„ç»“æ„ï¼Œåªå…³å¿ƒè½¯ä»¶çš„è¾“å…¥æ•°æ®å’Œè¾“å‡ºç»“æœã€‚ ã€€æ£€æµ‹è½¯ä»¶åŠŸèƒ½èƒ½å¦æŒ‰ç…§éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦çš„è§„å®šæ­£å¸¸å·¥ä½œï¼Œæ˜¯å¦æœ‰åŠŸèƒ½é—æ¼ï¼› ã€€æ£€æµ‹æ˜¯å¦æœ‰äººæœºäº¤äº’é”™è¯¯ï¼Œæ˜¯å¦æœ‰æ•°æ®ç»“æ„å’Œå¤–éƒ¨æ•°æ®åº“è®¿é—®é”™è¯¯ï¼Œæ˜¯å¦èƒ½æ°å½“åœ°æ¥æ”¶æ•°æ®å¹¶ä¿æŒå¤–éƒ¨ä¿¡æ¯ï¼ˆå¦‚æ•°æ®åº“æˆ–æ–‡ä»¶ï¼‰ç­‰çš„å®Œæ•´æ€§ï¼› ã€€æ£€æµ‹è¡Œä¸ºã€æ€§èƒ½ç­‰ç‰¹æ€§æ˜¯å¦æ»¡è¶³è¦æ±‚ç­‰ï¼› æ£€æµ‹ç¨‹åºåˆå§‹åŒ–å’Œç»ˆæ­¢æ–¹é¢çš„é”™è¯¯ç­‰ã€‚ ã€€ä¼˜ç‚¹ï¼š ã€€â‘  ä¸è½¯ä»¶å…·ä½“å®ç°æ— å…³ï¼Œå¦‚æœè½¯ä»¶å®ç°å‘ç”Ÿäº†å˜åŒ–ï¼Œæµ‹è¯•ç”¨ä¾‹ä»å¯ç”¨ï¼› ã€€â‘¡ è®¾è®¡é»‘ç›’æµ‹è¯•ç”¨ä¾‹å¯ä»¥å’Œè½¯ä»¶å®ç°åŒæ—¶è¿›è¡Œï¼Œå› æ­¤å¯å‹ç¼©é¡¹ç›®æ€»å¼€å‘æ—¶é—´ã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:1:0","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#é»‘ç›’æµ‹è¯•"},{"categories":null,"content":"é»‘ç›’æµ‹è¯•å¸¸ç”¨æ–¹æ³•ã€€ç­‰ä»·ç±»åˆ’åˆ† ã€€è¾¹ç•Œå€¼åˆ†æ ã€€å› æœå›¾ ã€€å†³ç­–è¡¨åˆ†æ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:1:1","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#é»‘ç›’æµ‹è¯•å¸¸ç”¨æ–¹æ³•"},{"categories":null,"content":"ç­‰ä»·ç±»åˆ’åˆ†ã€€å®Œå…¨ä¸è€ƒè™‘ç¨‹åºçš„å†…éƒ¨ç»“æ„ï¼Œåªæ ¹æ®ç¨‹åºè§„æ ¼è¯´æ˜ä¹¦å¯¹è¾“å…¥èŒƒå›´è¿›è¡Œåˆ’åˆ†ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½çš„è¾“å…¥æ•°æ®ï¼Œå³ç¨‹åºè¾“å…¥åŸŸåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†ï¼Œç§°ä¸ºç­‰ä»·ç±»ï¼Œç„¶åä»æ¯ä¸ªç­‰ä»·ç±»ä¸­é€‰å–å°‘æ•°å…·æœ‰ä»£è¡¨æ€§çš„æ•°æ®ä½œä¸ºæµ‹è¯•ç”¨ä¾‹ï¼Œè¿›è¡Œæµ‹è¯•ã€‚ ã€€åˆ’åˆ†åŸåˆ™ï¼šåŒºé—´ã€æ•°å€¼ã€æ•°å€¼é›†åˆã€é™åˆ¶æ¡ä»¶æˆ–è§„åˆ™ã€ç»†åˆ†ç­‰ä»·ç±» ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:1:2","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#ç­‰ä»·ç±»åˆ’åˆ†"},{"categories":null,"content":"è¾¹ç•Œå€¼åˆ†æã€€è¾¹ç•Œå€¼å’Œç­‰ä»·ç±»å¯†åˆ‡ç›¸å…³ï¼Œè¾“å…¥ç­‰ä»·ç±»å’Œè¾“å‡ºç­‰ä»·ç±»çš„è¾¹ç•Œæ˜¯è¦ç€é‡æµ‹è¯•çš„è¾¹ç•Œæƒ…å†µã€‚åœ¨ç­‰ä»·ç±»çš„åˆ’åˆ†è¿‡ç¨‹ä¸­äº§ç”Ÿäº†è®¸å¤šç­‰ä»·ç±»è¾¹ç•Œã€‚è¾¹ç•Œæ˜¯æœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œæ‰€ä»¥ï¼Œä»ç­‰ä»·ç±»ä¸­é€‰å–æµ‹è¯•æ•°æ®æ—¶åº”è¯¥å…³æ³¨è¾¹ç•Œå€¼ã€‚ ã€€åœ¨ç­‰ä»·ç±»åˆ’åˆ†åŸºç¡€ä¸Šè¿›è¡Œè¾¹ç•Œå€¼åˆ†ææµ‹è¯•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œé€‰å–æ­£å¥½ç­‰äºã€åˆšåˆšå¤§äºæˆ–åˆšåˆšå°äºç­‰ä»·ç±»è¾¹ç•Œçš„å€¼ä½œä¸ºæµ‹è¯•æ•°æ®ï¼Œè€Œä¸æ˜¯é€‰å–ç­‰ä»·ç±»ä¸­çš„å…¸å‹å€¼æˆ–ä»»æ„å€¼åšä¸ºæµ‹è¯•æ•°æ®ã€‚ ã€€å¯¹äºä¸€ä¸ªnå˜é‡çš„ç¨‹åºï¼Œè¾¹ç•Œå€¼åˆ†ææµ‹è¯•ä¼šäº§ç”Ÿ4n+1ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:1:3","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#è¾¹ç•Œå€¼åˆ†æ"},{"categories":null,"content":"å› æœå›¾ã€€ï¼ˆ1ï¼‰ç¡®å®šè½¯ä»¶è§„æ ¼ä¸­çš„åŸå› å’Œç»“æœã€‚åˆ†æè§„æ ¼è¯´æ˜ä¸­å“ªäº›æ˜¯åŸå› ï¼ˆå³è¾“å…¥æ¡ä»¶æˆ–è¾“å…¥æ¡ä»¶çš„ç­‰ä»·ç±»ï¼‰ï¼Œå“ªäº›æ˜¯ç»“æœï¼ˆå³è¾“å‡ºæ¡ä»¶ï¼‰ï¼Œå¹¶ç»™æ¯ä¸ªåŸå› å’Œç»“æœèµ‹äºˆä¸€ä¸ªæ ‡è¯†ç¬¦ã€‚ ã€€ï¼ˆ2ï¼‰ç¡®å®šåŸå› å’Œç»“æœä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚åˆ†æè½¯ä»¶è§„æ ¼è¯´æ˜ä¸­çš„è¯­ä¹‰ï¼Œæ‰¾å‡ºåŸå› ä¸ç»“æœä¹‹é—´ã€åŸå› ä¸åŸå› ä¹‹é—´å¯¹åº”çš„å…³ç³»ï¼Œæ ¹æ®è¿™äº›å…³ç³»ç”»å‡ºå› æœå›¾ã€‚ ã€€ï¼ˆ3ï¼‰ç¡®å®šå› æœå›¾ä¸­çš„å„ä¸ªçº¦æŸã€‚ç”±äºè¯­æ³•æˆ–ç¯å¢ƒçš„é™åˆ¶ï¼Œæœ‰äº›åŸå› ä¸åŸå› ä¹‹é—´ã€åŸå› ä¸ç»“æœä¹‹é—´çš„ç»„åˆæƒ…å†µä¸å¯èƒ½å‡ºç°ã€‚ä¸ºè¡¨æ˜è¿™äº›ç‰¹æ®Šæƒ…å†µï¼Œåœ¨å› æœå›¾ä¸Šç”¨ä¸€äº›è®°å·è¡¨æ˜çº¦æŸæˆ–é™åˆ¶æ¡ä»¶ã€‚ ã€€ï¼ˆ4ï¼‰æŠŠå› æœå›¾è½¬æ¢ä¸ºå†³ç­–è¡¨ã€‚ ã€€ï¼ˆ5ï¼‰æ ¹æ®å†³ç­–è¡¨è®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:1:4","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#å› æœå›¾"},{"categories":null,"content":"å†³ç­–è¡¨åˆ†æã€€åœ¨æ‰€æœ‰çš„é»‘ç›’æµ‹è¯•æ–¹æ³•ä¸­ï¼ŒåŸºäºå†³ç­–è¡¨çš„æµ‹è¯•æ˜¯æœ€ä¸¥æ ¼ï¼Œæœ€å…·æœ‰é€»è¾‘æ€§çš„æµ‹è¯•æ–¹æ³•ã€‚ ã€€å†³ç­–è¡¨æ˜¯æŠŠä½œä¸ºæ¡ä»¶çš„æ‰€æœ‰è¾“å…¥çš„å„ç§ç»„åˆå€¼ä»¥åŠå¯¹åº”è¾“å‡ºå€¼éƒ½ç½—åˆ—å‡ºæ¥è€Œå½¢æˆçš„è¡¨æ ¼ã€‚ ã€€å®ƒèƒ½å¤Ÿå°†å¤æ‚çš„é—®é¢˜æŒ‰ç…§å„ç§å¯èƒ½çš„æƒ…å†µå…¨éƒ¨åˆ—ä¸¾å‡ºæ¥ï¼Œç®€æ˜å¹¶é¿å…é—æ¼ã€‚å› æ­¤ï¼Œåˆ©ç”¨å†³ç­–è¡¨èƒ½å¤Ÿè®¾è®¡å‡ºå®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹é›†åˆã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:1:5","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#å†³ç­–è¡¨åˆ†æ"},{"categories":null,"content":"æ­¥éª¤ï¼šã€€ï¼ˆ1ï¼‰åˆ—å‡ºæ‰€æœ‰çš„æ¡ä»¶æ¡©å’ŒåŠ¨ä½œæ¡©ã€‚ ã€€ï¼ˆ2ï¼‰ç¡®å®šè§„åˆ™çš„ä¸ªæ•°ã€‚ ã€€ï¼ˆ3ï¼‰å¡«å…¥æ¡ä»¶é¡¹ã€‚ ã€€ï¼ˆ4ï¼‰å¡«å…¥åŠ¨ä½œé¡¹ï¼Œå¾—åˆ°åˆå§‹å†³ç­–è¡¨ã€‚ ã€€ï¼ˆ5ï¼‰ç®€åŒ–å†³ç­–è¡¨ï¼Œåˆå¹¶ç›¸ä¼¼è§„åˆ™ã€‚ ã€€å¯¹äºnä¸ªæ¡ä»¶çš„å†³ç­–è¡¨ï¼Œç›¸åº”æœ‰2nä¸ªè§„åˆ™ ã€€å†³ç­–è¡¨åˆå¹¶åŸåˆ™ï¼šå³è‹¥è¡¨ä¸­æœ‰ä¸¤æ¡ä»¥ä¸Šè§„åˆ™å…·æœ‰ç›¸åŒçš„åŠ¨ä½œï¼Œå¹¶ä¸”åœ¨æ¡ä»¶é¡¹ä¹‹é—´å­˜åœ¨æä¸ºç›¸ä¼¼çš„å…³ç³»ï¼Œä¾¿å¯ä»¥åˆå¹¶ã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:1:6","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#æ­¥éª¤"},{"categories":null,"content":"ç™½ç›’æµ‹è¯•ï¼šã€€ä¹Ÿç§°ç»“æ„æµ‹è¯•æˆ–é€»è¾‘é©±åŠ¨æµ‹è¯•ï¼Œå®ƒæ˜¯çŸ¥é“äº§å“å†…éƒ¨å·¥ä½œè¿‡ç¨‹ï¼Œå¯é€šè¿‡æµ‹è¯•æ¥æ£€æµ‹äº§å“å†…éƒ¨åŠ¨ä½œæ˜¯å¦æŒ‰ç…§è§„æ ¼è¯´æ˜ä¹¦çš„è§„å®šæ­£å¸¸è¿›è¡Œï¼ŒæŒ‰ç…§ç¨‹åºå†…éƒ¨çš„ç»“æ„æµ‹è¯•ç¨‹åºï¼Œæ£€éªŒç¨‹åºä¸­çš„æ¯æ¡é€šè·¯æ˜¯å¦éƒ½æœ‰èƒ½æŒ‰é¢„å®šè¦æ±‚æ­£ç¡®å·¥ä½œï¼Œè€Œä¸é¡¾å®ƒçš„åŠŸèƒ½ã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:2:0","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#ç™½ç›’æµ‹è¯•"},{"categories":null,"content":"ç™½ç›’æµ‹è¯•å¸¸ç”¨æ–¹æ³•ã€€åŸºæœ¬è¦†ç›–æ ‡å‡†ï¼šé€»è¾‘é©±åŠ¨ã€å¾ªç¯ã€åŸºè·¯æµ‹è¯•ç­‰ï¼Œä¸»è¦ç”¨äºè½¯ä»¶éªŒè¯ã€‚ ã€€â€œç™½ç›’â€æ³•å…¨é¢äº†è§£ç¨‹åºå†…éƒ¨é€»è¾‘ç»“æ„ã€å¯¹æ‰€æœ‰é€»è¾‘è·¯å¾„è¿›è¡Œæµ‹è¯•ã€‚ ã€€â€œç™½ç›’â€æ³•æ˜¯ç©·ä¸¾è·¯å¾„æµ‹è¯•ã€‚åœ¨ä½¿ç”¨è¿™ä¸€æ–¹æ¡ˆæ—¶ï¼Œæµ‹è¯•è€…å¿…é¡»æ£€æŸ¥ç¨‹åºçš„å†…éƒ¨ç»“æ„ï¼Œä»æ£€æŸ¥ç¨‹åºçš„é€»è¾‘ç€æ‰‹ï¼Œå¾—å‡ºæµ‹è¯•æ•°æ®ã€‚è´¯ç©¿ç¨‹åºçš„ç‹¬ç«‹è·¯å¾„æ•°æ˜¯å¤©æ–‡æ•°å­—ã€‚ä½†å³ä½¿æ¯æ¡è·¯å¾„éƒ½æµ‹è¯•äº†ä»ç„¶å¯èƒ½æœ‰é”™è¯¯ã€‚ ã€€åŸå› ï¼š ã€€ç¬¬ä¸€ï¼Œç©·ä¸¾è·¯å¾„æµ‹è¯•å†³ä¸èƒ½æŸ¥å‡ºç¨‹åºè¿åäº†è®¾è®¡è§„èŒƒï¼Œå³ç¨‹åºæœ¬èº«æ˜¯ä¸ªé”™è¯¯çš„ç¨‹åºã€‚ ã€€ç¬¬äºŒï¼Œç©·ä¸¾è·¯å¾„æµ‹è¯•ä¸å¯èƒ½æŸ¥å‡ºç¨‹åºä¸­å› é—æ¼è·¯å¾„è€Œå‡ºé”™ã€‚ ã€€ç¬¬ä¸‰ï¼Œç©·ä¸¾è·¯å¾„æµ‹è¯•å¯èƒ½å‘ç°ä¸äº†ä¸€äº›ä¸æ•°æ®ç›¸å…³çš„é”™è¯¯ã€‚ ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:2:1","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#ç™½ç›’æµ‹è¯•å¸¸ç”¨æ–¹æ³•"},{"categories":null,"content":"ç™½ç›’æµ‹è¯•é€»è¾‘é©±åŠ¨æ–¹æ³•ã€€è¯­å¥è¦†ç›– ã€€åˆ¤å®šè¦†ç›– ã€€æ¡ä»¶è¦†ç›– ã€€åˆ¤å®š/æ¡ä»¶è¦†ç›– ã€€æ¡ä»¶ç»„åˆè¦†ç›– ã€€è·¯å¾„è¦†ç›– ","date":"2022-03-30","objectID":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/:2:2","series":null,"tags":null,"title":"é»‘ç›’æµ‹è¯•ç™½ç›’æµ‹è¯•","uri":"/posts/%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95/#ç™½ç›’æµ‹è¯•é€»è¾‘é©±åŠ¨æ–¹æ³•"},{"categories":null,"content":"0ã€ç®—æ³•æ¦‚è¿°","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:1:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#0ç®—æ³•æ¦‚è¿°"},{"categories":null,"content":"0.1 ç®—æ³•åˆ†ç±»åç§å¸¸è§æ’åºç®—æ³•å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼š æ¯”è¾ƒç±»æ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œç”±äºå…¶æ—¶é—´å¤æ‚åº¦ä¸èƒ½çªç ´O(nlogn)ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºéçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æ’åºã€‚ éæ¯”è¾ƒç±»æ’åºï¼šä¸é€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œå®ƒå¯ä»¥çªç ´åŸºäºæ¯”è¾ƒæ’åºçš„æ—¶é—´ä¸‹ç•Œï¼Œä»¥çº¿æ€§æ—¶é—´è¿è¡Œï¼Œå› æ­¤ä¹Ÿç§°ä¸ºçº¿æ€§æ—¶é—´éæ¯”è¾ƒç±»æ’åºã€‚Â  ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:1:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#01-ç®—æ³•åˆ†ç±»"},{"categories":null,"content":"0.2 ç®—æ³•å¤æ‚åº¦ 0.3 ç›¸å…³æ¦‚å¿µ ç¨³å®šï¼šå¦‚æœaåŸæœ¬åœ¨bå‰é¢ï¼Œè€Œa=bï¼Œæ’åºä¹‹åaä»ç„¶åœ¨bçš„å‰é¢ã€‚ ä¸ç¨³å®šï¼šå¦‚æœaåŸæœ¬åœ¨bçš„å‰é¢ï¼Œè€Œa=bï¼Œæ’åºä¹‹å a å¯èƒ½ä¼šå‡ºç°åœ¨ b çš„åé¢ã€‚ æ—¶é—´å¤æ‚åº¦ï¼šå¯¹æ’åºæ•°æ®çš„æ€»çš„æ“ä½œæ¬¡æ•°ã€‚åæ˜ å½“nå˜åŒ–æ—¶ï¼Œæ“ä½œæ¬¡æ•°å‘ˆç°ä»€ä¹ˆè§„å¾‹ã€‚ **ç©ºé—´å¤æ‚åº¦ï¼š**æ˜¯æŒ‡ç®—æ³•åœ¨è®¡ç®—æœº å†…æ‰§è¡Œæ—¶æ‰€éœ€å­˜å‚¨ç©ºé—´çš„åº¦é‡ï¼Œå®ƒä¹Ÿæ˜¯æ•°æ®è§„æ¨¡nçš„å‡½æ•°ã€‚Â ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:1:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#02-ç®—æ³•å¤æ‚åº¦"},{"categories":null,"content":"1ã€å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰å†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚Â ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:2:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#1å†’æ³¡æ’åºbubble-sort"},{"categories":null,"content":"1.1 ç®—æ³•æè¿° æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼› å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼› é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªï¼› é‡å¤æ­¥éª¤1~3ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚ 1.2 åŠ¨å›¾æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:2:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#11-ç®—æ³•æè¿°"},{"categories":null,"content":"1.3 ä»£ç å®ç°function bubbleSort(arr) { var len = arr.length; for (var i = 0; i \u003c len - 1; i++) { for (var j = 0; j \u003c len - 1 - i; j++) { if (arr[j] \u003e arr[j+1]) { // ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯” var temp = arr[j+1]; // å…ƒç´ äº¤æ¢ arr[j+1] = arr[j]; arr[j] = temp; } } } return arr; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:2:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#13-ä»£ç å®ç°"},{"categories":null,"content":"2ã€é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰é€‰æ‹©æ’åº(Selection-sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†ï¼šé¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚Â ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:3:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#2é€‰æ‹©æ’åºselection-sort"},{"categories":null,"content":"2.1 ç®—æ³•æè¿°nä¸ªè®°å½•çš„ç›´æ¥é€‰æ‹©æ’åºå¯ç»è¿‡n-1è¶Ÿç›´æ¥é€‰æ‹©æ’åºå¾—åˆ°æœ‰åºç»“æœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n]ï¼Œæœ‰åºåŒºä¸ºç©ºï¼› ç¬¬iè¶Ÿæ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶ï¼Œå½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶Ÿæ’åºä»å½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k]ï¼Œå°†å®ƒä¸æ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢ï¼Œä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢åŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒºï¼› n-1è¶Ÿç»“æŸï¼Œæ•°ç»„æœ‰åºåŒ–äº†ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:3:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#21-ç®—æ³•æè¿°"},{"categories":null,"content":"2.2 åŠ¨å›¾æ¼”ç¤ºã€€","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:3:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#22-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"2.3 ä»£ç å®ç°function selectionSort(arr) { var len = arr.length; var minIndex, temp; for (var i = 0; i \u003c len - 1; i++) { minIndex = i; for (var j = i + 1; j \u003c len; j++) { if (arr[j] \u003c arr[minIndex]) { // å¯»æ‰¾æœ€å°çš„æ•° minIndex = j; // å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜ } } temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; } return arr; }Â ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:3:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#23-ä»£ç å®ç°"},{"categories":null,"content":"2.4 ç®—æ³•åˆ†æè¡¨ç°æœ€ç¨³å®šçš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå› ä¸ºæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯O(n2)çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½ã€‚å”¯ä¸€çš„å¥½å¤„å¯èƒ½å°±æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´äº†å§ã€‚ç†è®ºä¸Šè®²ï¼Œé€‰æ‹©æ’åºå¯èƒ½ä¹Ÿæ˜¯å¹³æ—¶æ’åºä¸€èˆ¬äººæƒ³åˆ°çš„æœ€å¤šçš„æ’åºæ–¹æ³•äº†å§ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:3:4","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#24-ç®—æ³•åˆ†æ"},{"categories":null,"content":"3ã€æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰çš„ç®—æ³•æè¿°æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:4:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#3æ’å…¥æ’åºinsertion-sort"},{"categories":null,"content":"3.1 ç®—æ³•æè¿°ä¸€èˆ¬æ¥è¯´ï¼Œæ’å…¥æ’åºéƒ½é‡‡ç”¨in-placeåœ¨æ•°ç»„ä¸Šå®ç°ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼› å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼› å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼› é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼› å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åï¼› é‡å¤æ­¥éª¤2~5ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:4:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#31-ç®—æ³•æè¿°"},{"categories":null,"content":"3.2 åŠ¨å›¾æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:4:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#32-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"3.2 ä»£ç å®ç°function insertionSort(arr) { var len = arr.length; var preIndex, current; for (var i = 1; i \u003c len; i++) { preIndex = i - 1; current = arr[i]; while (preIndex \u003e= 0 \u0026\u0026 arr[preIndex] \u003e current) { arr[preIndex + 1] = arr[preIndex]; preIndex--; } arr[preIndex + 1] = current; } return arr; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:4:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#32-ä»£ç å®ç°"},{"categories":null,"content":"3.4 ç®—æ³•åˆ†ææ’å…¥æ’åºåœ¨å®ç°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨in-placeæ’åºï¼ˆå³åªéœ€ç”¨åˆ°O(1)çš„é¢å¤–ç©ºé—´çš„æ’åºï¼‰ï¼Œå› è€Œåœ¨ä»åå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æ’åºå…ƒç´ é€æ­¥å‘åæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:4:4","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#34-ç®—æ³•åˆ†æ"},{"categories":null,"content":"4ã€å¸Œå°”æ’åºï¼ˆShell Sortï¼‰1959å¹´Shellå‘æ˜ï¼Œç¬¬ä¸€ä¸ªçªç ´O(n2)çš„æ’åºç®—æ³•ï¼Œæ˜¯ç®€å•æ’å…¥æ’åºçš„æ”¹è¿›ç‰ˆã€‚å®ƒä¸æ’å…¥æ’åºçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼šä¼˜å…ˆæ¯”è¾ƒè·ç¦»è¾ƒè¿œçš„å…ƒç´ ã€‚å¸Œå°”æ’åºåˆå«ç¼©å°å¢é‡æ’åºã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:5:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#4å¸Œå°”æ’åºshell-sort"},{"categories":null,"content":"4.1 ç®—æ³•æè¿°å…ˆå°†æ•´ä¸ªå¾…æ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå…·ä½“ç®—æ³•æè¿°ï¼š é€‰æ‹©ä¸€ä¸ªå¢é‡åºåˆ—t1ï¼Œt2ï¼Œâ€¦ï¼Œtkï¼Œå…¶ä¸­ti\u003etjï¼Œtk=1ï¼› æŒ‰å¢é‡åºåˆ—ä¸ªæ•°kï¼Œå¯¹åºåˆ—è¿›è¡Œk è¶Ÿæ’åºï¼› æ¯è¶Ÿæ’åºï¼Œæ ¹æ®å¯¹åº”çš„å¢é‡tiï¼Œå°†å¾…æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²é•¿åº¦ä¸ºm çš„å­åºåˆ—ï¼Œåˆ†åˆ«å¯¹å„å­è¡¨è¿›è¡Œç›´æ¥æ’å…¥æ’åºã€‚ä»…å¢é‡å› å­ä¸º1 æ—¶ï¼Œæ•´ä¸ªåºåˆ—ä½œä¸ºä¸€ä¸ªè¡¨æ¥å¤„ç†ï¼Œè¡¨é•¿åº¦å³ä¸ºæ•´ä¸ªåºåˆ—çš„é•¿åº¦ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:5:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#41-ç®—æ³•æè¿°"},{"categories":null,"content":"4.2 åŠ¨å›¾æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:5:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#42-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"4.3 ä»£ç å®ç°// ä¿®æ”¹äº 2019-03-06 function shellSort(arr) { var len = arr.length; for (var gap = Math.floor(len / 2); gap \u003e 0; gap = Math.floor(gap / 2)) { // æ³¨æ„ï¼šè¿™é‡Œå’ŒåŠ¨å›¾æ¼”ç¤ºçš„ä¸ä¸€æ ·ï¼ŒåŠ¨å›¾æ˜¯åˆ†ç»„æ‰§è¡Œï¼Œå®é™…æ“ä½œæ˜¯å¤šä¸ªåˆ†ç»„äº¤æ›¿æ‰§è¡Œ for (var i = gap; i \u003c len; i++) { var j = i; var current = arr[i]; while (j - gap \u003e= 0 \u0026\u0026 current \u003c arr[j - gap]) { arr[j] = arr[j - gap]; j = j - gap; } arr[j] = current; } } return arr; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:5:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#43-ä»£ç å®ç°"},{"categories":null,"content":"4.4 ç®—æ³•åˆ†æå¸Œå°”æ’åºçš„æ ¸å¿ƒåœ¨äºé—´éš”åºåˆ—çš„è®¾å®šã€‚æ—¢å¯ä»¥æå‰è®¾å®šå¥½é—´éš”åºåˆ—ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€çš„å®šä¹‰é—´éš”åºåˆ—ã€‚åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—çš„ç®—æ³•æ˜¯ã€Šç®—æ³•ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹çš„åˆè‘—è€…Robert Sedgewickæå‡ºçš„ã€‚ã€€","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:5:4","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#44-ç®—æ³•åˆ†æ"},{"categories":null,"content":"5ã€å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸º2-è·¯å½’å¹¶ã€‚Â ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:6:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#5å½’å¹¶æ’åºmerge-sort"},{"categories":null,"content":"5.1 ç®—æ³•æè¿° æŠŠé•¿åº¦ä¸ºnçš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸ºn/2çš„å­åºåˆ—ï¼› å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æ’åºï¼› å°†ä¸¤ä¸ªæ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æ’åºåºåˆ—ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:6:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#51-ç®—æ³•æè¿°"},{"categories":null,"content":"5.2 åŠ¨å›¾æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:6:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#52-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"5.3 ä»£ç å®ç°function mergeSort(arr) { var len = arr.length; if (len \u003c 2) { return arr; } var middle = Math.floor(len / 2), left = arr.slice(0, middle), right = arr.slice(middle); return merge(mergeSort(left), mergeSort(right)); } function merge(left, right) { var result = []; while (left.length\u003e0 \u0026\u0026 right.length\u003e0) { if (left[0] \u003c= right[0]) { result.push(left.shift()); } else { result.push(right.shift()); } } while (left.length) result.push(left.shift()); while (right.length) result.push(right.shift()); return result; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:6:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#53-ä»£ç å®ç°"},{"categories":null,"content":"5.4 ç®—æ³•åˆ†æå½’å¹¶æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚å’Œé€‰æ‹©æ’åºä¸€æ ·ï¼Œå½’å¹¶æ’åºçš„æ€§èƒ½ä¸å—è¾“å…¥æ•°æ®çš„å½±å“ï¼Œä½†è¡¨ç°æ¯”é€‰æ‹©æ’åºå¥½çš„å¤šï¼Œå› ä¸ºå§‹ç»ˆéƒ½æ˜¯O(nlognï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ä»£ä»·æ˜¯éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:6:4","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#54-ç®—æ³•åˆ†æ"},{"categories":null,"content":"6ã€å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰å¿«é€Ÿæ’åºçš„åŸºæœ¬æ€æƒ³ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†çš„å…³é”®å­—å°ï¼Œåˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡Œæ’åºï¼Œä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:7:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#6å¿«é€Ÿæ’åºquick-sort"},{"categories":null,"content":"6.1 ç®—æ³•æè¿°å¿«é€Ÿæ’åºä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­ä¸²ï¼ˆsub-listsï¼‰ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸º â€œåŸºå‡†â€ï¼ˆpivotï¼‰ï¼› é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å¤§çš„æ‘†åœ¨åŸºå‡†çš„åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼› é€’å½’åœ°ï¼ˆrecursiveï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:7:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#61-ç®—æ³•æè¿°"},{"categories":null,"content":"6.2 åŠ¨å›¾æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:7:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#62-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"6.3 ä»£ç å®ç°function quickSort(arr, left, right) { var len = arr.length, partitionIndex, left = typeof left != 'number' ? 0 : left, right = typeof right != 'number' ? len - 1 : right; if (left \u003c right) { partitionIndex = partition(arr, left, right); quickSort(arr, left, partitionIndex-1); quickSort(arr, partitionIndex+1, right); } return arr; } function partition(arr, left ,right) { // åˆ†åŒºæ“ä½œ var pivot = left, // è®¾å®šåŸºå‡†å€¼ï¼ˆpivotï¼‰ index = pivot + 1; for (var i = index; i \u003c= right; i++) { if (arr[i] \u003c arr[pivot]) { swap(arr, i, index); index++; } } swap(arr, pivot, index - 1); return index-1; } function swap(arr, i, j) { var temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:7:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#63-ä»£ç å®ç°"},{"categories":null,"content":"7ã€å †æ’åºï¼ˆHeap Sortï¼‰å †æ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ã€‚å †ç§¯æ˜¯ä¸€ä¸ªè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼šå³å­ç»“ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:8:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#7å †æ’åºheap-sort"},{"categories":null,"content":"7.1 ç®—æ³•æè¿° å°†åˆå§‹å¾…æ’åºå…³é”®å­—åºåˆ—(R1,R2â€¦.Rn)æ„å»ºæˆå¤§é¡¶å †ï¼Œæ­¤å †ä¸ºåˆå§‹çš„æ— åºåŒºï¼› å°†å †é¡¶å…ƒç´ R[1]ä¸æœ€åä¸€ä¸ªå…ƒç´ R[n]äº¤æ¢ï¼Œæ­¤æ—¶å¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)å’Œæ–°çš„æœ‰åºåŒº(Rn),ä¸”æ»¡è¶³R[1,2â€¦n-1]\u003c=R[n]ï¼› ç”±äºäº¤æ¢åæ–°çš„å †é¡¶R[1]å¯èƒ½è¿åå †çš„æ€§è´¨ï¼Œå› æ­¤éœ€è¦å¯¹å½“å‰æ— åºåŒº(R1,R2,â€¦â€¦Rn-1)è°ƒæ•´ä¸ºæ–°å †ï¼Œç„¶åå†æ¬¡å°†R[1]ä¸æ— åºåŒºæœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œå¾—åˆ°æ–°çš„æ— åºåŒº(R1,R2â€¦.Rn-2)å’Œæ–°çš„æœ‰åºåŒº(Rn-1,Rn)ã€‚ä¸æ–­é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°æœ‰åºåŒºçš„å…ƒç´ ä¸ªæ•°ä¸ºn-1ï¼Œåˆ™æ•´ä¸ªæ’åºè¿‡ç¨‹å®Œæˆã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:8:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#71-ç®—æ³•æè¿°"},{"categories":null,"content":"7.2 åŠ¨å›¾æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:8:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#72-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"7.3 ä»£ç å®ç°var len; // å› ä¸ºå£°æ˜çš„å¤šä¸ªå‡½æ•°éƒ½éœ€è¦æ•°æ®é•¿åº¦ï¼Œæ‰€ä»¥æŠŠlenè®¾ç½®æˆä¸ºå…¨å±€å˜é‡ function buildMaxHeap(arr) { // å»ºç«‹å¤§é¡¶å † len = arr.length; for (var i = Math.floor(len/2); i \u003e= 0; i--) { heapify(arr, i); } } function heapify(arr, i) { // å †è°ƒæ•´ var left = 2 * i + 1, right = 2 * i + 2, largest = i; if (left \u003c len \u0026\u0026 arr[left] \u003e arr[largest]) { largest = left; } if (right \u003c len \u0026\u0026 arr[right] \u003e arr[largest]) { largest = right; } if (largest != i) { swap(arr, i, largest); heapify(arr, largest); } } function swap(arr, i, j) { var temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } function heapSort(arr) { buildMaxHeap(arr); for (var i = arr.length - 1; i \u003e 0; i--) { swap(arr, 0, i); len--; heapify(arr, 0); } return arr; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:8:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#73-ä»£ç å®ç°"},{"categories":null,"content":"8ã€è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰è®¡æ•°æ’åºä¸æ˜¯åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼Œå…¶æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:9:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#8è®¡æ•°æ’åºcounting-sort"},{"categories":null,"content":"8.1 ç®—æ³•æè¿° æ‰¾å‡ºå¾…æ’åºçš„æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ï¼› ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå€¼ä¸ºiçš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå­˜å…¥æ•°ç»„Cçš„ç¬¬ié¡¹ï¼› å¯¹æ‰€æœ‰çš„è®¡æ•°ç´¯åŠ ï¼ˆä»Cä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯ä¸€é¡¹å’Œå‰ä¸€é¡¹ç›¸åŠ ï¼‰ï¼› åå‘å¡«å……ç›®æ ‡æ•°ç»„ï¼šå°†æ¯ä¸ªå…ƒç´ iæ”¾åœ¨æ–°æ•°ç»„çš„ç¬¬C(i)é¡¹ï¼Œæ¯æ”¾ä¸€ä¸ªå…ƒç´ å°±å°†C(i)å‡å»1ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:9:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#81-ç®—æ³•æè¿°"},{"categories":null,"content":"8.2 åŠ¨å›¾æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:9:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#82-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"8.3 ä»£ç å®ç°function countingSort(arr, maxValue) { var bucket = new Array(maxValue + 1), sortedIndex = 0; arrLen = arr.length, bucketLen = maxValue + 1; for (var i = 0; i \u003c arrLen; i++) { if (!bucket[arr[i]]) { bucket[arr[i]] = 0; } bucket[arr[i]]++; } for (var j = 0; j \u003c bucketLen; j++) { while(bucket[j] \u003e 0) { arr[sortedIndex++] = j; bucket[j]--; } } return arr; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:9:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#83-ä»£ç å®ç°"},{"categories":null,"content":"8.4 ç®—æ³•åˆ†æè®¡æ•°æ’åºæ˜¯ä¸€ä¸ªç¨³å®šçš„æ’åºç®—æ³•ã€‚å½“è¾“å…¥çš„å…ƒç´ æ˜¯ n ä¸ª 0åˆ° k ä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n+k)ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n+k)ï¼Œå…¶æ’åºé€Ÿåº¦å¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚å½“kä¸æ˜¯å¾ˆå¤§å¹¶ä¸”åºåˆ—æ¯”è¾ƒé›†ä¸­æ—¶ï¼Œè®¡æ•°æ’åºæ˜¯ä¸€ä¸ªå¾ˆæœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:9:4","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#84-ç®—æ³•åˆ†æ"},{"categories":null,"content":"9ã€æ¡¶æ’åºï¼ˆBucket Sortï¼‰æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚æ¡¶æ’åº (Bucket sort)çš„å·¥ä½œçš„åŸç†ï¼šå‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒï¼Œå°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶å†åˆ†åˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯ä»¥é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’ï¼‰ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:10:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#9æ¡¶æ’åºbucket-sort"},{"categories":null,"content":"9.1 ç®—æ³•æè¿° è®¾ç½®ä¸€ä¸ªå®šé‡çš„æ•°ç»„å½“ä½œç©ºæ¡¶ï¼› éå†è¾“å…¥æ•°æ®ï¼Œå¹¶ä¸”æŠŠæ•°æ®ä¸€ä¸ªä¸€ä¸ªæ”¾åˆ°å¯¹åº”çš„æ¡¶é‡Œå»ï¼› å¯¹æ¯ä¸ªä¸æ˜¯ç©ºçš„æ¡¶è¿›è¡Œæ’åºï¼› ä»ä¸æ˜¯ç©ºçš„æ¡¶é‡ŒæŠŠæ’å¥½åºçš„æ•°æ®æ‹¼æ¥èµ·æ¥ã€‚Â  ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:10:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#91-ç®—æ³•æè¿°"},{"categories":null,"content":"9.2 å›¾ç‰‡æ¼”ç¤º ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:10:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#92-å›¾ç‰‡æ¼”ç¤º"},{"categories":null,"content":"9.3 ä»£ç å®ç°function bucketSort(arr, bucketSize) { if (arr.length === 0) { return arr; } var i; var minValue = arr[0]; var maxValue = arr[0]; for (i = 1; i \u003c arr.length; i++) { if (arr[i] \u003c minValue) { minValue = arr[i]; // è¾“å…¥æ•°æ®çš„æœ€å°å€¼ } else if (arr[i] \u003e maxValue) { maxValue = arr[i]; // è¾“å…¥æ•°æ®çš„æœ€å¤§å€¼ } } // æ¡¶çš„åˆå§‹åŒ– var DEFAULT_BUCKET_SIZE = 5; // è®¾ç½®æ¡¶çš„é»˜è®¤æ•°é‡ä¸º5 bucketSize = bucketSize || DEFAULT_BUCKET_SIZE; var bucketCount = Math.floor((maxValue - minValue) / bucketSize) + 1; var buckets = new Array(bucketCount); for (i = 0; i \u003c buckets.length; i++) { buckets[i] = []; } // åˆ©ç”¨æ˜ å°„å‡½æ•°å°†æ•°æ®åˆ†é…åˆ°å„ä¸ªæ¡¶ä¸­ for (i = 0; i \u003c arr.length; i++) { buckets[Math.floor((arr[i] - minValue) / bucketSize)].push(arr[i]); } arr.length = 0; for (i = 0; i \u003c buckets.length; i++) { insertionSort(buckets[i]); // å¯¹æ¯ä¸ªæ¡¶è¿›è¡Œæ’åºï¼Œè¿™é‡Œä½¿ç”¨äº†æ’å…¥æ’åº for (var j = 0; j \u003c buckets[i].length; j++) { arr.push(buckets[i][j]); } } return arr; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:10:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#93-ä»£ç å®ç°"},{"categories":null,"content":"9.4 ç®—æ³•åˆ†ææ¡¶æ’åºæœ€å¥½æƒ…å†µä¸‹ä½¿ç”¨çº¿æ€§æ—¶é—´O(n)ï¼Œæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå–å†³ä¸å¯¹å„ä¸ªæ¡¶ä¹‹é—´æ•°æ®è¿›è¡Œæ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºå…¶å®ƒéƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(n)ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ¡¶åˆ’åˆ†çš„è¶Šå°ï¼Œå„ä¸ªæ¡¶ä¹‹é—´çš„æ•°æ®è¶Šå°‘ï¼Œæ’åºæ‰€ç”¨çš„æ—¶é—´ä¹Ÿä¼šè¶Šå°‘ã€‚ä½†ç›¸åº”çš„ç©ºé—´æ¶ˆè€—å°±ä¼šå¢å¤§ã€‚Â ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:10:4","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#94-ç®—æ³•åˆ†æ"},{"categories":null,"content":"10ã€åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰åŸºæ•°æ’åºæ˜¯æŒ‰ç…§ä½ä½å…ˆæ’åºï¼Œç„¶åæ”¶é›†ï¼›å†æŒ‰ç…§é«˜ä½æ’åºï¼Œç„¶åå†æ”¶é›†ï¼›ä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æœ€é«˜ä½ã€‚æœ‰æ—¶å€™æœ‰äº›å±æ€§æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œå…ˆæŒ‰ä½ä¼˜å…ˆçº§æ’åºï¼Œå†æŒ‰é«˜ä¼˜å…ˆçº§æ’åºã€‚æœ€åçš„æ¬¡åºå°±æ˜¯é«˜ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ï¼Œé«˜ä¼˜å…ˆçº§ç›¸åŒçš„ä½ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ã€‚ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:11:0","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#10åŸºæ•°æ’åºradix-sort"},{"categories":null,"content":"10.1 ç®—æ³•æè¿° å–å¾—æ•°ç»„ä¸­çš„æœ€å¤§æ•°ï¼Œå¹¶å–å¾—ä½æ•°ï¼› arrä¸ºåŸå§‹æ•°ç»„ï¼Œä»æœ€ä½ä½å¼€å§‹å–æ¯ä¸ªä½ç»„æˆradixæ•°ç»„ï¼› å¯¹radixè¿›è¡Œè®¡æ•°æ’åºï¼ˆåˆ©ç”¨è®¡æ•°æ’åºé€‚ç”¨äºå°èŒƒå›´æ•°çš„ç‰¹ç‚¹ï¼‰ï¼› ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:11:1","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#101-ç®—æ³•æè¿°"},{"categories":null,"content":"10.2 åŠ¨å›¾æ¼”ç¤ºÂ ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:11:2","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#102-åŠ¨å›¾æ¼”ç¤º"},{"categories":null,"content":"10.3 ä»£ç å®ç°var counter = []; function radixSort(arr, maxDigit) { var mod = 10; var dev = 1; for (var i = 0; i \u003c maxDigit; i++, dev *= 10, mod *= 10) { for(var j = 0; j \u003c arr.length; j++) { var bucket = parseInt((arr[j] % mod) / dev); if(counter[bucket]==null) { counter[bucket] = []; } counter[bucket].push(arr[j]); } var pos = 0; for(var j = 0; j \u003c counter.length; j++) { var value = null; if(counter[j]!=null) { while ((value = counter[j].shift()) != null) { arr[pos++] = value; } } } } return arr; } ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:11:3","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#103-ä»£ç å®ç°"},{"categories":null,"content":"10.4 ç®—æ³•åˆ†æåŸºæ•°æ’åºåŸºäºåˆ†åˆ«æ’åºï¼Œåˆ†åˆ«æ”¶é›†ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šçš„ã€‚ä½†åŸºæ•°æ’åºçš„æ€§èƒ½æ¯”æ¡¶æ’åºè¦ç•¥å·®ï¼Œæ¯ä¸€æ¬¡å…³é”®å­—çš„æ¡¶åˆ†é…éƒ½éœ€è¦O(n)çš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä¸”åˆ†é…ä¹‹åå¾—åˆ°æ–°çš„å…³é”®å­—åºåˆ—åˆéœ€è¦O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚å‡å¦‚å¾…æ’æ•°æ®å¯ä»¥åˆ†ä¸ºdä¸ªå…³é”®å­—ï¼Œåˆ™åŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦å°†æ˜¯O(d*2n) ï¼Œå½“ç„¶dè¦è¿œè¿œå°äºnï¼Œå› æ­¤åŸºæœ¬ä¸Šè¿˜æ˜¯çº¿æ€§çº§åˆ«çš„ã€‚ åŸºæ•°æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸ºO(n+k)ï¼Œå…¶ä¸­kä¸ºæ¡¶çš„æ•°é‡ã€‚ä¸€èˆ¬æ¥è¯´nÂ»kï¼Œå› æ­¤é¢å¤–ç©ºé—´éœ€è¦å¤§æ¦‚nä¸ªå·¦å³ã€‚ ref https://www.cnblogs.com/onepixel/articles/7674659.html ","date":"2022-03-30","objectID":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/:11:4","series":null,"tags":null,"title":"æ’åºç®—æ³•","uri":"/posts/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/#104-ç®—æ³•åˆ†æ"},{"categories":null,"content":"1 é‡ç‚¹æ¦‚å¿µ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:1:0","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#1-é‡ç‚¹æ¦‚å¿µ"},{"categories":null,"content":"1.1 ç»“ç‚¹æ¦‚å¿µç»“ç‚¹æ˜¯æ•°æ®ç»“æ„ä¸­çš„åŸºç¡€ï¼Œæ˜¯æ„æˆå¤æ‚æ•°æ®ç»“æ„çš„åŸºæœ¬ç»„æˆå•ä½ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:1:1","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#11-ç»“ç‚¹æ¦‚å¿µ"},{"categories":null,"content":"1.2 æ ‘ç»“ç‚¹å£°æ˜æœ¬ç³»åˆ—æ–‡ç« ä¸­æåŠçš„ç»“ç‚¹ä¸“æŒ‡æ ‘çš„ç»“ç‚¹ã€‚ä¾‹å¦‚ï¼šç»“ç‚¹Aåœ¨å›¾ä¸­è¡¨ç¤ºä¸ºï¼š ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:1:2","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#12-æ ‘ç»“ç‚¹å£°æ˜"},{"categories":null,"content":"2 æ ‘","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:2:0","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#2-æ ‘"},{"categories":null,"content":"2.1 å®šä¹‰**æ ‘ï¼ˆTreeï¼‰**æ˜¯nï¼ˆn\u003e=0)ä¸ªç»“ç‚¹çš„æœ‰é™é›†ã€‚n=0æ—¶ç§°ä¸ºç©ºæ ‘ã€‚åœ¨ä»»æ„ä¸€é¢—éç©ºæ ‘ä¸­ï¼š 1ï¼‰æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç‰¹å®šçš„ç§°ä¸ºæ ¹ï¼ˆRootï¼‰çš„ç»“ç‚¹ï¼› 2ï¼‰å½“n\u003e1æ—¶ï¼Œå…¶ä½™ç»“ç‚¹å¯åˆ†ä¸ºm(m\u003e0)ä¸ªäº’ä¸ç›¸äº¤çš„æœ‰é™é›†T1ã€T2ã€â€¦â€¦ã€Tnï¼Œå…¶ä¸­æ¯ä¸€ä¸ªé›†åˆæœ¬èº«åˆæ˜¯ä¸€æ£µæ ‘ï¼Œå¹¶ä¸”ç§°ä¸ºæ ¹çš„å­æ ‘ã€‚ æ­¤å¤–ï¼Œæ ‘çš„å®šä¹‰è¿˜éœ€è¦å¼ºè°ƒä»¥ä¸‹ä¸¤ç‚¹ï¼š 1ï¼‰n\u003e0æ—¶æ ¹ç»“ç‚¹æ˜¯å”¯ä¸€çš„ï¼Œä¸å¯èƒ½å­˜åœ¨å¤šä¸ªæ ¹ç»“ç‚¹ï¼Œæ•°æ®ç»“æ„ä¸­çš„æ ‘åªèƒ½æœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹ã€‚ 2ï¼‰m\u003e0æ—¶ï¼Œå­æ ‘çš„ä¸ªæ•°æ²¡æœ‰é™åˆ¶ï¼Œä½†å®ƒä»¬ä¸€å®šæ˜¯äº’ä¸ç›¸äº¤çš„ã€‚ ç¤ºä¾‹æ ‘ï¼š å›¾2.1ä¸ºä¸€æ£µæ™®é€šçš„æ ‘ï¼š å›¾2.1 æ™®é€šæ ‘ ç”±æ ‘çš„å®šä¹‰å¯ä»¥çœ‹å‡ºï¼Œæ ‘çš„å®šä¹‰ä½¿ç”¨äº†é€’å½’çš„æ–¹å¼ã€‚é€’å½’åœ¨æ ‘çš„å­¦ä¹ è¿‡ç¨‹ä¸­èµ·ç€é‡è¦ä½œç”¨ï¼Œå¦‚æœå¯¹äºé€’å½’ä¸æ˜¯ååˆ†äº†è§£ï¼Œå»ºè®®å…ˆçœ‹çœ‹é€’å½’ç®—æ³• ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:2:1","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#21-å®šä¹‰"},{"categories":null,"content":"2.2 ç»“ç‚¹çš„åº¦ç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ç›®ç§°ä¸ºç»“ç‚¹çš„åº¦ã€‚ å›¾2.2ä¸­æ ‡æ³¨äº†å›¾2.1æ‰€ç¤ºæ ‘çš„å„ä¸ªç»“ç‚¹çš„åº¦ã€‚ å›¾2.2 åº¦ç¤ºæ„å›¾ 2.3 ç»“ç‚¹å…³ç³»ç»“ç‚¹å­æ ‘çš„æ ¹ç»“ç‚¹ä¸ºè¯¥ç»“ç‚¹çš„å­©å­ç»“ç‚¹ã€‚ç›¸åº”è¯¥ç»“ç‚¹ç§°ä¸ºå­©å­ç»“ç‚¹çš„åŒäº²ç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼ŒAä¸ºBçš„åŒäº²ç»“ç‚¹ï¼ŒBä¸ºAçš„å­©å­ç»“ç‚¹ã€‚ åŒä¸€ä¸ªåŒäº²ç»“ç‚¹çš„å­©å­ç»“ç‚¹ä¹‹é—´äº’ç§°å…„å¼Ÿç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼Œç»“ç‚¹Bä¸ç»“ç‚¹Cäº’ä¸ºå…„å¼Ÿç»“ç‚¹ã€‚ 2.4 ç»“ç‚¹å±‚æ¬¡ä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ¹çš„å­©å­ä¸ºç¬¬äºŒå±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚ å›¾2.3è¡¨ç¤ºäº†å›¾2.1æ‰€ç¤ºæ ‘çš„å±‚æ¬¡å…³ç³» å›¾2.3 å±‚ç¤ºæ„å›¾ 2.5 æ ‘çš„æ·±åº¦æ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§å±‚æ¬¡æ•°ç§°ä¸ºæ ‘çš„æ·±åº¦æˆ–é«˜åº¦ã€‚å›¾2.1æ‰€ç¤ºæ ‘çš„æ·±åº¦ä¸º4ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:2:2","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#22-ç»“ç‚¹çš„åº¦"},{"categories":null,"content":"2.2 ç»“ç‚¹çš„åº¦ç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ç›®ç§°ä¸ºç»“ç‚¹çš„åº¦ã€‚ å›¾2.2ä¸­æ ‡æ³¨äº†å›¾2.1æ‰€ç¤ºæ ‘çš„å„ä¸ªç»“ç‚¹çš„åº¦ã€‚ å›¾2.2 åº¦ç¤ºæ„å›¾ 2.3 ç»“ç‚¹å…³ç³»ç»“ç‚¹å­æ ‘çš„æ ¹ç»“ç‚¹ä¸ºè¯¥ç»“ç‚¹çš„å­©å­ç»“ç‚¹ã€‚ç›¸åº”è¯¥ç»“ç‚¹ç§°ä¸ºå­©å­ç»“ç‚¹çš„åŒäº²ç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼ŒAä¸ºBçš„åŒäº²ç»“ç‚¹ï¼ŒBä¸ºAçš„å­©å­ç»“ç‚¹ã€‚ åŒä¸€ä¸ªåŒäº²ç»“ç‚¹çš„å­©å­ç»“ç‚¹ä¹‹é—´äº’ç§°å…„å¼Ÿç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼Œç»“ç‚¹Bä¸ç»“ç‚¹Cäº’ä¸ºå…„å¼Ÿç»“ç‚¹ã€‚ 2.4 ç»“ç‚¹å±‚æ¬¡ä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ¹çš„å­©å­ä¸ºç¬¬äºŒå±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚ å›¾2.3è¡¨ç¤ºäº†å›¾2.1æ‰€ç¤ºæ ‘çš„å±‚æ¬¡å…³ç³» å›¾2.3 å±‚ç¤ºæ„å›¾ 2.5 æ ‘çš„æ·±åº¦æ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§å±‚æ¬¡æ•°ç§°ä¸ºæ ‘çš„æ·±åº¦æˆ–é«˜åº¦ã€‚å›¾2.1æ‰€ç¤ºæ ‘çš„æ·±åº¦ä¸º4ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:2:2","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#23-ç»“ç‚¹å…³ç³»"},{"categories":null,"content":"2.2 ç»“ç‚¹çš„åº¦ç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ç›®ç§°ä¸ºç»“ç‚¹çš„åº¦ã€‚ å›¾2.2ä¸­æ ‡æ³¨äº†å›¾2.1æ‰€ç¤ºæ ‘çš„å„ä¸ªç»“ç‚¹çš„åº¦ã€‚ å›¾2.2 åº¦ç¤ºæ„å›¾ 2.3 ç»“ç‚¹å…³ç³»ç»“ç‚¹å­æ ‘çš„æ ¹ç»“ç‚¹ä¸ºè¯¥ç»“ç‚¹çš„å­©å­ç»“ç‚¹ã€‚ç›¸åº”è¯¥ç»“ç‚¹ç§°ä¸ºå­©å­ç»“ç‚¹çš„åŒäº²ç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼ŒAä¸ºBçš„åŒäº²ç»“ç‚¹ï¼ŒBä¸ºAçš„å­©å­ç»“ç‚¹ã€‚ åŒä¸€ä¸ªåŒäº²ç»“ç‚¹çš„å­©å­ç»“ç‚¹ä¹‹é—´äº’ç§°å…„å¼Ÿç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼Œç»“ç‚¹Bä¸ç»“ç‚¹Cäº’ä¸ºå…„å¼Ÿç»“ç‚¹ã€‚ 2.4 ç»“ç‚¹å±‚æ¬¡ä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ¹çš„å­©å­ä¸ºç¬¬äºŒå±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚ å›¾2.3è¡¨ç¤ºäº†å›¾2.1æ‰€ç¤ºæ ‘çš„å±‚æ¬¡å…³ç³» å›¾2.3 å±‚ç¤ºæ„å›¾ 2.5 æ ‘çš„æ·±åº¦æ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§å±‚æ¬¡æ•°ç§°ä¸ºæ ‘çš„æ·±åº¦æˆ–é«˜åº¦ã€‚å›¾2.1æ‰€ç¤ºæ ‘çš„æ·±åº¦ä¸º4ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:2:2","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#24-ç»“ç‚¹å±‚æ¬¡"},{"categories":null,"content":"2.2 ç»“ç‚¹çš„åº¦ç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ç›®ç§°ä¸ºç»“ç‚¹çš„åº¦ã€‚ å›¾2.2ä¸­æ ‡æ³¨äº†å›¾2.1æ‰€ç¤ºæ ‘çš„å„ä¸ªç»“ç‚¹çš„åº¦ã€‚ å›¾2.2 åº¦ç¤ºæ„å›¾ 2.3 ç»“ç‚¹å…³ç³»ç»“ç‚¹å­æ ‘çš„æ ¹ç»“ç‚¹ä¸ºè¯¥ç»“ç‚¹çš„å­©å­ç»“ç‚¹ã€‚ç›¸åº”è¯¥ç»“ç‚¹ç§°ä¸ºå­©å­ç»“ç‚¹çš„åŒäº²ç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼ŒAä¸ºBçš„åŒäº²ç»“ç‚¹ï¼ŒBä¸ºAçš„å­©å­ç»“ç‚¹ã€‚ åŒä¸€ä¸ªåŒäº²ç»“ç‚¹çš„å­©å­ç»“ç‚¹ä¹‹é—´äº’ç§°å…„å¼Ÿç»“ç‚¹ã€‚ å›¾2.2ä¸­ï¼Œç»“ç‚¹Bä¸ç»“ç‚¹Cäº’ä¸ºå…„å¼Ÿç»“ç‚¹ã€‚ 2.4 ç»“ç‚¹å±‚æ¬¡ä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ¹çš„å­©å­ä¸ºç¬¬äºŒå±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚ å›¾2.3è¡¨ç¤ºäº†å›¾2.1æ‰€ç¤ºæ ‘çš„å±‚æ¬¡å…³ç³» å›¾2.3 å±‚ç¤ºæ„å›¾ 2.5 æ ‘çš„æ·±åº¦æ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§å±‚æ¬¡æ•°ç§°ä¸ºæ ‘çš„æ·±åº¦æˆ–é«˜åº¦ã€‚å›¾2.1æ‰€ç¤ºæ ‘çš„æ·±åº¦ä¸º4ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:2:2","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#25-æ ‘çš„æ·±åº¦"},{"categories":null,"content":"3 äºŒå‰æ ‘","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:0","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#3-äºŒå‰æ ‘"},{"categories":null,"content":"3.1 å®šä¹‰äºŒå‰æ ‘æ˜¯n(n\u003e=0)ä¸ªç»“ç‚¹çš„æœ‰é™é›†åˆï¼Œè¯¥é›†åˆæˆ–è€…ä¸ºç©ºé›†ï¼ˆç§°ä¸ºç©ºäºŒå‰æ ‘ï¼‰ï¼Œæˆ–è€…ç”±ä¸€ä¸ªæ ¹ç»“ç‚¹å’Œä¸¤æ£µäº’ä¸ç›¸äº¤çš„ã€åˆ†åˆ«ç§°ä¸ºæ ¹ç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘ç»„æˆã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:1","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#31-å®šä¹‰"},{"categories":null,"content":"3.2 äºŒå‰æ ‘ç‰¹ç‚¹ç”±äºŒå‰æ ‘å®šä¹‰ä»¥åŠå›¾ç¤ºåˆ†æå¾—å‡ºäºŒå‰æ ‘æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š 1ï¼‰æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤é¢—å­æ ‘ï¼Œæ‰€ä»¥äºŒå‰æ ‘ä¸­ä¸å­˜åœ¨åº¦å¤§äº2çš„ç»“ç‚¹ã€‚ 2ï¼‰å·¦å­æ ‘å’Œå³å­æ ‘æ˜¯æœ‰é¡ºåºçš„ï¼Œæ¬¡åºä¸èƒ½ä»»æ„é¢ å€’ã€‚ 3ï¼‰å³ä½¿æ ‘ä¸­æŸç»“ç‚¹åªæœ‰ä¸€æ£µå­æ ‘ï¼Œä¹Ÿè¦åŒºåˆ†å®ƒæ˜¯å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:2","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#32-äºŒå‰æ ‘ç‰¹ç‚¹"},{"categories":null,"content":"3.3 äºŒå‰æ ‘æ€§è´¨1ï¼‰åœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚ä¸Šæœ€å¤šæœ‰2i-1 ä¸ªèŠ‚ç‚¹ ã€‚ï¼ˆi\u003e=1ï¼‰ 2ï¼‰äºŒå‰æ ‘ä¸­å¦‚æœæ·±åº¦ä¸ºk,é‚£ä¹ˆæœ€å¤šæœ‰2k-1ä¸ªèŠ‚ç‚¹ã€‚(k\u003e=1ï¼‰ 3ï¼‰n0=n2+1 n0è¡¨ç¤ºåº¦æ•°ä¸º0çš„èŠ‚ç‚¹æ•°ï¼Œn2è¡¨ç¤ºåº¦æ•°ä¸º2çš„èŠ‚ç‚¹æ•°ã€‚ 4ï¼‰åœ¨å®Œå…¨äºŒå‰æ ‘ä¸­ï¼Œå…·æœ‰nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸º[log2n]+1ï¼Œå…¶ä¸­[log2n]æ˜¯å‘ä¸‹å–æ•´ã€‚ 5ï¼‰è‹¥å¯¹å« n ä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ä»ä¸Šåˆ°ä¸‹ä¸”ä»å·¦è‡³å³è¿›è¡Œ 1 è‡³ n çš„ç¼–å·ï¼Œåˆ™å¯¹å®Œå…¨äºŒå‰æ ‘ä¸­ä»»æ„ä¸€ä¸ªç¼–å·ä¸º i çš„ç»“ç‚¹æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š (1) è‹¥ i=1ï¼Œåˆ™è¯¥ç»“ç‚¹æ˜¯äºŒå‰æ ‘çš„æ ¹ï¼Œæ— åŒäº², å¦åˆ™ï¼Œç¼–å·ä¸º [i/2] çš„ç»“ç‚¹ä¸ºå…¶åŒäº²ç»“ç‚¹; (2) è‹¥ 2i\u003enï¼Œåˆ™è¯¥ç»“ç‚¹æ— å·¦å­©å­ï¼Œ å¦åˆ™ï¼Œç¼–å·ä¸º 2i çš„ç»“ç‚¹ä¸ºå…¶å·¦å­©å­ç»“ç‚¹ï¼› (3) è‹¥ 2i+1\u003enï¼Œåˆ™è¯¥ç»“ç‚¹æ— å³å­©å­ç»“ç‚¹ï¼Œ å¦åˆ™ï¼Œç¼–å·ä¸º2i+1 çš„ç»“ç‚¹ä¸ºå…¶å³å­©å­ç»“ç‚¹ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:3","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#33-äºŒå‰æ ‘æ€§è´¨"},{"categories":null,"content":"3.5 æ»¡äºŒå‰æ ‘æ»¡äºŒå‰æ ‘ï¼šåœ¨ä¸€æ£µäºŒå‰æ ‘ä¸­ã€‚å¦‚æœæ‰€æœ‰åˆ†æ”¯ç»“ç‚¹éƒ½å­˜åœ¨å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå¹¶ä¸”æ‰€æœ‰å¶å­éƒ½åœ¨åŒä¸€å±‚ä¸Šï¼Œè¿™æ ·çš„äºŒå‰æ ‘ç§°ä¸ºæ»¡äºŒå‰æ ‘ã€‚ æ»¡äºŒå‰æ ‘çš„ç‰¹ç‚¹æœ‰ï¼š 1ï¼‰å¶å­åªèƒ½å‡ºç°åœ¨æœ€ä¸‹ä¸€å±‚ã€‚å‡ºç°åœ¨å…¶å®ƒå±‚å°±ä¸å¯èƒ½è¾¾æˆå¹³è¡¡ã€‚ 2ï¼‰éå¶å­ç»“ç‚¹çš„åº¦ä¸€å®šæ˜¯2ã€‚ 3ï¼‰åœ¨åŒæ ·æ·±åº¦çš„äºŒå‰æ ‘ä¸­ï¼Œæ»¡äºŒå‰æ ‘çš„ç»“ç‚¹ä¸ªæ•°æœ€å¤šï¼Œå¶å­æ•°æœ€å¤šã€‚ å›¾3.4 æ»¡äºŒå‰æ ‘ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:4","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#35-æ»¡äºŒå‰æ ‘"},{"categories":null,"content":"3.6 å®Œå…¨äºŒå‰æ ‘å®Œå…¨äºŒå‰æ ‘ï¼šå¯¹ä¸€é¢—å…·æœ‰nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘æŒ‰å±‚ç¼–å·ï¼Œå¦‚æœç¼–å·ä¸ºi(1\u003c=i\u003c=n)çš„ç»“ç‚¹ä¸åŒæ ·æ·±åº¦çš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä¸ºiçš„ç»“ç‚¹åœ¨äºŒå‰æ ‘ä¸­ä½ç½®å®Œå…¨ç›¸åŒï¼Œåˆ™è¿™æ£µäºŒå‰æ ‘ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚ å›¾3.5å±•ç¤ºä¸€æ£µå®Œå…¨äºŒå‰æ ‘ å›¾3.5 å®Œå…¨äºŒå‰æ ‘ ç‰¹ç‚¹ï¼š 1ï¼‰å¶å­ç»“ç‚¹åªèƒ½å‡ºç°åœ¨æœ€ä¸‹å±‚å’Œæ¬¡ä¸‹å±‚ã€‚ 2ï¼‰æœ€ä¸‹å±‚çš„å¶å­ç»“ç‚¹é›†ä¸­åœ¨æ ‘çš„å·¦éƒ¨ã€‚ 3ï¼‰å€’æ•°ç¬¬äºŒå±‚è‹¥å­˜åœ¨å¶å­ç»“ç‚¹ï¼Œä¸€å®šåœ¨å³éƒ¨è¿ç»­ä½ç½®ã€‚ 4ï¼‰å¦‚æœç»“ç‚¹åº¦ä¸º1ï¼Œåˆ™è¯¥ç»“ç‚¹åªæœ‰å·¦å­©å­ï¼Œå³æ²¡æœ‰å³å­æ ‘ã€‚ 5ï¼‰åŒæ ·ç»“ç‚¹æ•°ç›®çš„äºŒå‰æ ‘ï¼Œå®Œå…¨äºŒå‰æ ‘æ·±åº¦æœ€å°ã€‚ æ³¨ï¼šæ»¡äºŒå‰æ ‘ä¸€å®šæ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œä½†åè¿‡æ¥ä¸ä¸€å®šæˆç«‹ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:5","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#36-å®Œå…¨äºŒå‰æ ‘"},{"categories":null,"content":"å¹³è¡¡äºŒå‰æ ‘ï¼ˆAVLï¼‰æ ‘åœ¨AVLæ ‘ä¸­ï¼Œä»»ä¸€èŠ‚ç‚¹å¯¹åº”çš„ä¸¤æ£µå­æ ‘çš„æœ€å¤§é«˜åº¦å·®ä¸º1ï¼Œå› æ­¤å®ƒä¹Ÿè¢«ç§°ä¸ºé«˜åº¦å¹³è¡¡æ ‘ ä¸ºä»€ä¹ˆè¦æœ‰å¹³è¡¡äºŒå‰æ ‘ äºŒå‰æœç´¢æ ‘ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥æé«˜æœç´¢æ•ˆç‡ï¼Œä½†æ˜¯å½“åŸåºåˆ—æœ‰åºæ—¶ï¼Œä¾‹å¦‚åºåˆ— A = {1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6}ï¼Œæ„é€ äºŒå‰æœç´¢æ ‘å¦‚å›¾ 1.1ã€‚ä¾æ®æ­¤åºåˆ—æ„é€ çš„äºŒå‰æœç´¢æ ‘ä¸ºå³æ–œæ ‘ï¼ŒåŒæ—¶äºŒå‰æ ‘é€€åŒ–æˆå•é“¾è¡¨ï¼Œæœç´¢æ•ˆç‡é™ä½ä¸º O(n)ã€‚ åœ¨æ­¤äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾å…ƒç´  6 éœ€è¦æŸ¥æ‰¾ 6 æ¬¡ã€‚ äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾æ•ˆç‡å–å†³äºæ ‘çš„é«˜åº¦ï¼Œå› æ­¤ä¿æŒæ ‘çš„é«˜åº¦æœ€å°ï¼Œå³å¯ä¿è¯æ ‘çš„æŸ¥æ‰¾æ•ˆç‡ã€‚åŒæ ·çš„åºåˆ— Aï¼Œå°†å…¶æ”¹ä¸ºå›¾ 1.2 çš„æ–¹å¼å­˜å‚¨ï¼ŒæŸ¥æ‰¾å…ƒç´  6 æ—¶åªéœ€æ¯”è¾ƒ 3 æ¬¡ï¼ŒæŸ¥æ‰¾æ•ˆç‡æå‡ä¸€å€ã€‚ å¯ä»¥çœ‹å‡ºå½“èŠ‚ç‚¹æ•°ç›®ä¸€å®šï¼Œä¿æŒæ ‘çš„å·¦å³ä¸¤ç«¯ä¿æŒå¹³è¡¡ï¼Œæ ‘çš„æŸ¥æ‰¾æ•ˆç‡æœ€é«˜ã€‚ è¿™ç§å·¦å³å­æ ‘çš„é«˜åº¦ç›¸å·®ä¸è¶…è¿‡ 1 çš„æ ‘ä¸ºå¹³è¡¡äºŒå‰æ ‘ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:6","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#å¹³è¡¡äºŒå‰æ ‘avlæ ‘"},{"categories":null,"content":"å“ˆå¤«æ›¼æ ‘è·¯å¾„ï¼šåœ¨ä¸€æ£µæ ‘ä¸­ï¼Œä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹ä¹‹é—´çš„é€šè·¯ï¼Œç§°ä¸ºè·¯å¾„ã€‚å›¾ 1 ä¸­ï¼Œä»æ ¹ç»“ç‚¹åˆ°ç»“ç‚¹ a ä¹‹é—´çš„é€šè·¯å°±æ˜¯ä¸€æ¡è·¯å¾„ã€‚ è·¯å¾„é•¿åº¦ï¼šåœ¨ä¸€æ¡è·¯å¾„ä¸­ï¼Œæ¯ç»è¿‡ä¸€ä¸ªç»“ç‚¹ï¼Œè·¯å¾„é•¿åº¦éƒ½è¦åŠ  1 ã€‚ä¾‹å¦‚åœ¨ä¸€æ£µæ ‘ä¸­ï¼Œè§„å®šæ ¹ç»“ç‚¹æ‰€åœ¨å±‚æ•°ä¸º1å±‚ï¼Œé‚£ä¹ˆä»æ ¹ç»“ç‚¹åˆ°ç¬¬ i å±‚ç»“ç‚¹çš„è·¯å¾„é•¿åº¦ä¸º i - 1 ã€‚å›¾ 1 ä¸­ä»æ ¹ç»“ç‚¹åˆ°ç»“ç‚¹ c çš„è·¯å¾„é•¿åº¦ä¸º 3ã€‚ ç»“ç‚¹çš„æƒï¼šç»™æ¯ä¸€ä¸ªç»“ç‚¹èµ‹äºˆä¸€ä¸ªæ–°çš„æ•°å€¼ï¼Œè¢«ç§°ä¸ºè¿™ä¸ªç»“ç‚¹çš„æƒã€‚ä¾‹å¦‚ï¼Œå›¾ 1 ä¸­ç»“ç‚¹ a çš„æƒä¸º 7ï¼Œç»“ç‚¹ b çš„æƒä¸º 5ã€‚ ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šæŒ‡çš„æ˜¯ä»æ ¹ç»“ç‚¹åˆ°è¯¥ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ä¸è¯¥ç»“ç‚¹çš„æƒçš„ä¹˜ç§¯ã€‚ä¾‹å¦‚ï¼Œå›¾ 1 ä¸­ç»“ç‚¹ b çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸º 2 * 5 = 10 ã€‚ æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºæ ‘ä¸­æ‰€æœ‰å¶å­ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œã€‚é€šå¸¸è®°ä½œ â€œWPLâ€ ã€‚ä¾‹å¦‚å›¾ 1 ä¸­æ‰€ç¤ºçš„è¿™é¢—æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºï¼š WPL = 7 * 1 + 5 * 2 + 2 * 3 + 4 * 3 è‹¥ä»¥{4,5,6,7,8}ä½œä¸ºå¶å­ç»“ç‚¹çš„æƒå€¼æ„é€ å“ˆå¤«æ›¼æ ‘ï¼Œåˆ™å…¶å¸¦æƒè·¯å¾„é•¿åº¦æ˜¯ï¼ˆï¼‰ã€‚ ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:7","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#å“ˆå¤«æ›¼æ ‘"},{"categories":null,"content":"3.7 äºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„3.7.2 äºŒå‰é“¾è¡¨æ—¢ç„¶é¡ºåºå­˜å‚¨ä¸èƒ½æ»¡è¶³äºŒå‰æ ‘çš„å­˜å‚¨éœ€æ±‚ï¼Œé‚£ä¹ˆè€ƒè™‘é‡‡ç”¨é“¾å¼å­˜å‚¨ã€‚ç”±äºŒå‰æ ‘å®šä¹‰å¯çŸ¥ï¼ŒäºŒå‰æ ‘çš„æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­©å­ã€‚å› æ­¤ï¼Œå¯ä»¥å°†ç»“ç‚¹æ•°æ®ç»“æ„å®šä¹‰ä¸ºä¸€ä¸ªæ•°æ®å’Œä¸¤ä¸ªæŒ‡é’ˆåŸŸã€‚è¡¨ç¤ºæ–¹å¼å¦‚å›¾3.11æ‰€ç¤ºï¼š ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:8","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#37-äºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„"},{"categories":null,"content":"3.7 äºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„3.7.2 äºŒå‰é“¾è¡¨æ—¢ç„¶é¡ºåºå­˜å‚¨ä¸èƒ½æ»¡è¶³äºŒå‰æ ‘çš„å­˜å‚¨éœ€æ±‚ï¼Œé‚£ä¹ˆè€ƒè™‘é‡‡ç”¨é“¾å¼å­˜å‚¨ã€‚ç”±äºŒå‰æ ‘å®šä¹‰å¯çŸ¥ï¼ŒäºŒå‰æ ‘çš„æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­©å­ã€‚å› æ­¤ï¼Œå¯ä»¥å°†ç»“ç‚¹æ•°æ®ç»“æ„å®šä¹‰ä¸ºä¸€ä¸ªæ•°æ®å’Œä¸¤ä¸ªæŒ‡é’ˆåŸŸã€‚è¡¨ç¤ºæ–¹å¼å¦‚å›¾3.11æ‰€ç¤ºï¼š ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:8","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#372-äºŒå‰é“¾è¡¨"},{"categories":null,"content":"3.8 äºŒå‰æ ‘éå†äºŒå‰æ ‘çš„éå†ä¸€ä¸ªé‡ç‚¹è€ƒæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚ 3.8.1 å®šä¹‰äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘çš„è®¿é—®æ¬¡åºå¯ä»¥åˆ†ä¸ºå››ç§ï¼š å‰åºéå† ä¸­åºéå† ååºéå† å±‚åºéå† 3.8.2 å‰åºéå†å‰åºéå†é€šä¿—çš„è¯´å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ 3.13 å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘è®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œæ•…è¾“å‡ºA; ç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ï¼Œè¾“å‡ºDï¼Œè¾“å‡ºHï¼› å½“åˆ°è¾¾å¶å­ç»“ç‚¹Hï¼Œè¿”å›åˆ°Dï¼Œæ­¤æ—¶å·²ç»æ˜¯ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…ä¸åœ¨è¾“å‡ºDï¼Œè¿›è€Œå‘Då³å­æ ‘è®¿é—®ï¼ŒDå³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è®¿é—®è‡³Iï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Iï¼Œåˆ™è¾“å‡ºIï¼› Iä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™è¿”å›åˆ°Dï¼ŒDå·¦å³å­æ ‘å·²ç»è®¿é—®å®Œæ¯•ï¼Œåˆ™è¿”å›åˆ°Bï¼Œè¿›è€Œåˆ°Bå³å­æ ‘ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Eï¼Œæ•…è¾“å‡ºEï¼› å‘Eå·¦å­æ ‘ï¼Œæ•…è¾“å‡ºJï¼› æŒ‰ç…§åŒæ ·çš„è®¿é—®è§„åˆ™ï¼Œç»§ç»­è¾“å‡ºCã€Fã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å‰åºéå†è¾“å‡ºä¸ºï¼š ABDHIEJCFG 3.8.3 ä¸­åºéå†ä¸­åºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬äºŒæ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ä¸­åºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œæ•…è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› ç”±Dè¿”å›è‡³Bï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Aã€Fã€Cã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ä¸­åºéå†è¾“å‡ºä¸ºï¼š HDIBJEAFCG 3.8.4 ååºéå†ååºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸‰æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ååºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œä¸è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Hï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Hï¼Œæ•…è¾“å‡ºHï¼› ç”±Hè¿”å›è‡³Dï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œä¸è¾“å‡ºDï¼› ç»§ç»­è®¿é—®è‡³Iï¼ŒIå·¦å³å­æ ‘å‡ä¸ºç©ºï¼Œæ•…ç¬¬ä¸‰æ¬¡è®¿é—®Iæ—¶ï¼Œè¾“å‡ºIï¼› è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Bã€Fã€Gã€Cï¼ŒAï¼› åˆ™å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ååºéå†è¾“å‡ºä¸ºï¼š HIDJEBFGCA è™½ç„¶äºŒå‰æ ‘çš„éå†è¿‡ç¨‹çœ‹ä¼¼ç¹çï¼Œä½†æ˜¯ç”±äºäºŒå‰æ ‘æ˜¯ä¸€ç§é€’å½’å®šä¹‰çš„ç»“æ„ï¼Œæ•…é‡‡ç”¨é€’å½’æ–¹å¼éå†äºŒå‰æ ‘çš„ä»£ç ååˆ†ç®€å•ã€‚ é€’å½’å®ç°ä»£ç å¦‚ä¸‹ï¼š /*äºŒå‰æ ‘çš„å‰åºéå†é€’å½’ç®—æ³•*/ void PreOrderTraverse(BiTree T) { if(T==NULL) return; printf(\"%c\", T-\u003edata); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ PreOrderTraverse(T-\u003elchild); /*å†å…ˆåºéå†å·¦å­æ ‘*/ PreOrderTraverse(T-\u003erchild); /*æœ€åå…ˆåºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ä¸­åºéå†é€’å½’ç®—æ³•*/ void InOrderTraverse(BiTree T) { if(T==NULL) return; InOrderTraverse(T-\u003elchild); /*ä¸­åºéå†å·¦å­æ ‘*/ printf(\"%c\", T-\u003edata); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ InOrderTraverse(T-\u003erchild); /*æœ€åä¸­åºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ååºéå†é€’å½’ç®—æ³•*/ void PostOrderTraverse(BiTree T) { if(T==NULL) return; PostOrderTraverse(T-\u003elchild); /*å…ˆååºéå†å·¦å­æ ‘*/ PostOrderTraverse(T-\u003erchild); /*å†åç»­éå†å³å­æ ‘*/ printf(\"%c\", T-\u003edata); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ } 3.8.5 å±‚æ¬¡éå†å±‚æ¬¡éå†å°±æ˜¯æŒ‰ç…§æ ‘çš„å±‚æ¬¡è‡ªä¸Šè€Œä¸‹çš„éå†äºŒå‰æ ‘ã€‚é’ˆå¯¹å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å±‚æ¬¡éå†ç»“æœä¸ºï¼š ABCDEFGHIJ å±‚æ¬¡éå†çš„è¯¦ç»†æ–¹æ³•å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„æŒ‰å±‚éå†æ³•ã€‚ 3.8.6 éå†å¸¸è€ƒè€ƒç‚¹å¯¹äºäºŒå‰æ ‘çš„éå†æœ‰ä¸€ç±»å…¸å‹é¢˜å‹ã€‚ 1ï¼‰å·²çŸ¥å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—ï¼Œç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚ ä¾‹é¢˜ï¼šè‹¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ä¸ºABCDEFï¼Œä¸­åºéå†ä¸ºCBAEDFï¼Œè¯·ç”»å‡ºè¿™æ£µäºŒå‰æ ‘ã€‚ åˆ†æï¼šå‰åºéå†ç¬¬ä¸€ä¸ªè¾“å‡ºç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œæ•…Aä¸ºæ ¹ç»“ç‚¹ã€‚æ—©ä¸­åºéå†ä¸­æ ¹ç»“ç‚¹å¤„äºå·¦å³å­æ ‘ç»“ç‚¹ä¸­é—´ï¼Œæ•…ç»“ç‚¹Açš„å·¦å­æ ‘ä¸­ç»“ç‚¹æœ‰CBï¼Œå³å­æ ‘ä¸­ç»“ç‚¹æœ‰EDFã€‚ ref http://data.biancheng.net/view/192.html2 ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:9","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#38-äºŒå‰æ ‘éå†"},{"categories":null,"content":"3.8 äºŒå‰æ ‘éå†äºŒå‰æ ‘çš„éå†ä¸€ä¸ªé‡ç‚¹è€ƒæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚ 3.8.1 å®šä¹‰äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘çš„è®¿é—®æ¬¡åºå¯ä»¥åˆ†ä¸ºå››ç§ï¼š å‰åºéå† ä¸­åºéå† ååºéå† å±‚åºéå† 3.8.2 å‰åºéå†å‰åºéå†é€šä¿—çš„è¯´å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ 3.13 å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘è®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œæ•…è¾“å‡ºA; ç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ï¼Œè¾“å‡ºDï¼Œè¾“å‡ºHï¼› å½“åˆ°è¾¾å¶å­ç»“ç‚¹Hï¼Œè¿”å›åˆ°Dï¼Œæ­¤æ—¶å·²ç»æ˜¯ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…ä¸åœ¨è¾“å‡ºDï¼Œè¿›è€Œå‘Då³å­æ ‘è®¿é—®ï¼ŒDå³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è®¿é—®è‡³Iï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Iï¼Œåˆ™è¾“å‡ºIï¼› Iä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™è¿”å›åˆ°Dï¼ŒDå·¦å³å­æ ‘å·²ç»è®¿é—®å®Œæ¯•ï¼Œåˆ™è¿”å›åˆ°Bï¼Œè¿›è€Œåˆ°Bå³å­æ ‘ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Eï¼Œæ•…è¾“å‡ºEï¼› å‘Eå·¦å­æ ‘ï¼Œæ•…è¾“å‡ºJï¼› æŒ‰ç…§åŒæ ·çš„è®¿é—®è§„åˆ™ï¼Œç»§ç»­è¾“å‡ºCã€Fã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å‰åºéå†è¾“å‡ºä¸ºï¼š ABDHIEJCFG 3.8.3 ä¸­åºéå†ä¸­åºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬äºŒæ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ä¸­åºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œæ•…è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› ç”±Dè¿”å›è‡³Bï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Aã€Fã€Cã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ä¸­åºéå†è¾“å‡ºä¸ºï¼š HDIBJEAFCG 3.8.4 ååºéå†ååºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸‰æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ååºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œä¸è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Hï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Hï¼Œæ•…è¾“å‡ºHï¼› ç”±Hè¿”å›è‡³Dï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œä¸è¾“å‡ºDï¼› ç»§ç»­è®¿é—®è‡³Iï¼ŒIå·¦å³å­æ ‘å‡ä¸ºç©ºï¼Œæ•…ç¬¬ä¸‰æ¬¡è®¿é—®Iæ—¶ï¼Œè¾“å‡ºIï¼› è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Bã€Fã€Gã€Cï¼ŒAï¼› åˆ™å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ååºéå†è¾“å‡ºä¸ºï¼š HIDJEBFGCA è™½ç„¶äºŒå‰æ ‘çš„éå†è¿‡ç¨‹çœ‹ä¼¼ç¹çï¼Œä½†æ˜¯ç”±äºäºŒå‰æ ‘æ˜¯ä¸€ç§é€’å½’å®šä¹‰çš„ç»“æ„ï¼Œæ•…é‡‡ç”¨é€’å½’æ–¹å¼éå†äºŒå‰æ ‘çš„ä»£ç ååˆ†ç®€å•ã€‚ é€’å½’å®ç°ä»£ç å¦‚ä¸‹ï¼š /*äºŒå‰æ ‘çš„å‰åºéå†é€’å½’ç®—æ³•*/ void PreOrderTraverse(BiTree T) { if(T==NULL) return; printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ PreOrderTraverse(T-lchild); /*å†å…ˆåºéå†å·¦å­æ ‘*/ PreOrderTraverse(T-rchild); /*æœ€åå…ˆåºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ä¸­åºéå†é€’å½’ç®—æ³•*/ void InOrderTraverse(BiTree T) { if(T==NULL) return; InOrderTraverse(T-lchild); /*ä¸­åºéå†å·¦å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ InOrderTraverse(T-rchild); /*æœ€åä¸­åºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ååºéå†é€’å½’ç®—æ³•*/ void PostOrderTraverse(BiTree T) { if(T==NULL) return; PostOrderTraverse(T-lchild); /*å…ˆååºéå†å·¦å­æ ‘*/ PostOrderTraverse(T-rchild); /*å†åç»­éå†å³å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ } 3.8.5 å±‚æ¬¡éå†å±‚æ¬¡éå†å°±æ˜¯æŒ‰ç…§æ ‘çš„å±‚æ¬¡è‡ªä¸Šè€Œä¸‹çš„éå†äºŒå‰æ ‘ã€‚é’ˆå¯¹å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å±‚æ¬¡éå†ç»“æœä¸ºï¼š ABCDEFGHIJ å±‚æ¬¡éå†çš„è¯¦ç»†æ–¹æ³•å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„æŒ‰å±‚éå†æ³•ã€‚ 3.8.6 éå†å¸¸è€ƒè€ƒç‚¹å¯¹äºäºŒå‰æ ‘çš„éå†æœ‰ä¸€ç±»å…¸å‹é¢˜å‹ã€‚ 1ï¼‰å·²çŸ¥å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—ï¼Œç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚ ä¾‹é¢˜ï¼šè‹¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ä¸ºABCDEFï¼Œä¸­åºéå†ä¸ºCBAEDFï¼Œè¯·ç”»å‡ºè¿™æ£µäºŒå‰æ ‘ã€‚ åˆ†æï¼šå‰åºéå†ç¬¬ä¸€ä¸ªè¾“å‡ºç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œæ•…Aä¸ºæ ¹ç»“ç‚¹ã€‚æ—©ä¸­åºéå†ä¸­æ ¹ç»“ç‚¹å¤„äºå·¦å³å­æ ‘ç»“ç‚¹ä¸­é—´ï¼Œæ•…ç»“ç‚¹Açš„å·¦å­æ ‘ä¸­ç»“ç‚¹æœ‰CBï¼Œå³å­æ ‘ä¸­ç»“ç‚¹æœ‰EDFã€‚ ref http://data.biancheng.net/view/192.html2 ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:9","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#381-å®šä¹‰"},{"categories":null,"content":"3.8 äºŒå‰æ ‘éå†äºŒå‰æ ‘çš„éå†ä¸€ä¸ªé‡ç‚¹è€ƒæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚ 3.8.1 å®šä¹‰äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘çš„è®¿é—®æ¬¡åºå¯ä»¥åˆ†ä¸ºå››ç§ï¼š å‰åºéå† ä¸­åºéå† ååºéå† å±‚åºéå† 3.8.2 å‰åºéå†å‰åºéå†é€šä¿—çš„è¯´å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ 3.13 å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘è®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œæ•…è¾“å‡ºA; ç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ï¼Œè¾“å‡ºDï¼Œè¾“å‡ºHï¼› å½“åˆ°è¾¾å¶å­ç»“ç‚¹Hï¼Œè¿”å›åˆ°Dï¼Œæ­¤æ—¶å·²ç»æ˜¯ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…ä¸åœ¨è¾“å‡ºDï¼Œè¿›è€Œå‘Då³å­æ ‘è®¿é—®ï¼ŒDå³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è®¿é—®è‡³Iï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Iï¼Œåˆ™è¾“å‡ºIï¼› Iä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™è¿”å›åˆ°Dï¼ŒDå·¦å³å­æ ‘å·²ç»è®¿é—®å®Œæ¯•ï¼Œåˆ™è¿”å›åˆ°Bï¼Œè¿›è€Œåˆ°Bå³å­æ ‘ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Eï¼Œæ•…è¾“å‡ºEï¼› å‘Eå·¦å­æ ‘ï¼Œæ•…è¾“å‡ºJï¼› æŒ‰ç…§åŒæ ·çš„è®¿é—®è§„åˆ™ï¼Œç»§ç»­è¾“å‡ºCã€Fã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å‰åºéå†è¾“å‡ºä¸ºï¼š ABDHIEJCFG 3.8.3 ä¸­åºéå†ä¸­åºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬äºŒæ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ä¸­åºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œæ•…è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› ç”±Dè¿”å›è‡³Bï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Aã€Fã€Cã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ä¸­åºéå†è¾“å‡ºä¸ºï¼š HDIBJEAFCG 3.8.4 ååºéå†ååºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸‰æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ååºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œä¸è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Hï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Hï¼Œæ•…è¾“å‡ºHï¼› ç”±Hè¿”å›è‡³Dï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œä¸è¾“å‡ºDï¼› ç»§ç»­è®¿é—®è‡³Iï¼ŒIå·¦å³å­æ ‘å‡ä¸ºç©ºï¼Œæ•…ç¬¬ä¸‰æ¬¡è®¿é—®Iæ—¶ï¼Œè¾“å‡ºIï¼› è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Bã€Fã€Gã€Cï¼ŒAï¼› åˆ™å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ååºéå†è¾“å‡ºä¸ºï¼š HIDJEBFGCA è™½ç„¶äºŒå‰æ ‘çš„éå†è¿‡ç¨‹çœ‹ä¼¼ç¹çï¼Œä½†æ˜¯ç”±äºäºŒå‰æ ‘æ˜¯ä¸€ç§é€’å½’å®šä¹‰çš„ç»“æ„ï¼Œæ•…é‡‡ç”¨é€’å½’æ–¹å¼éå†äºŒå‰æ ‘çš„ä»£ç ååˆ†ç®€å•ã€‚ é€’å½’å®ç°ä»£ç å¦‚ä¸‹ï¼š /*äºŒå‰æ ‘çš„å‰åºéå†é€’å½’ç®—æ³•*/ void PreOrderTraverse(BiTree T) { if(T==NULL) return; printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ PreOrderTraverse(T-lchild); /*å†å…ˆåºéå†å·¦å­æ ‘*/ PreOrderTraverse(T-rchild); /*æœ€åå…ˆåºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ä¸­åºéå†é€’å½’ç®—æ³•*/ void InOrderTraverse(BiTree T) { if(T==NULL) return; InOrderTraverse(T-lchild); /*ä¸­åºéå†å·¦å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ InOrderTraverse(T-rchild); /*æœ€åä¸­åºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ååºéå†é€’å½’ç®—æ³•*/ void PostOrderTraverse(BiTree T) { if(T==NULL) return; PostOrderTraverse(T-lchild); /*å…ˆååºéå†å·¦å­æ ‘*/ PostOrderTraverse(T-rchild); /*å†åç»­éå†å³å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ } 3.8.5 å±‚æ¬¡éå†å±‚æ¬¡éå†å°±æ˜¯æŒ‰ç…§æ ‘çš„å±‚æ¬¡è‡ªä¸Šè€Œä¸‹çš„éå†äºŒå‰æ ‘ã€‚é’ˆå¯¹å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å±‚æ¬¡éå†ç»“æœä¸ºï¼š ABCDEFGHIJ å±‚æ¬¡éå†çš„è¯¦ç»†æ–¹æ³•å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„æŒ‰å±‚éå†æ³•ã€‚ 3.8.6 éå†å¸¸è€ƒè€ƒç‚¹å¯¹äºäºŒå‰æ ‘çš„éå†æœ‰ä¸€ç±»å…¸å‹é¢˜å‹ã€‚ 1ï¼‰å·²çŸ¥å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—ï¼Œç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚ ä¾‹é¢˜ï¼šè‹¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ä¸ºABCDEFï¼Œä¸­åºéå†ä¸ºCBAEDFï¼Œè¯·ç”»å‡ºè¿™æ£µäºŒå‰æ ‘ã€‚ åˆ†æï¼šå‰åºéå†ç¬¬ä¸€ä¸ªè¾“å‡ºç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œæ•…Aä¸ºæ ¹ç»“ç‚¹ã€‚æ—©ä¸­åºéå†ä¸­æ ¹ç»“ç‚¹å¤„äºå·¦å³å­æ ‘ç»“ç‚¹ä¸­é—´ï¼Œæ•…ç»“ç‚¹Açš„å·¦å­æ ‘ä¸­ç»“ç‚¹æœ‰CBï¼Œå³å­æ ‘ä¸­ç»“ç‚¹æœ‰EDFã€‚ ref http://data.biancheng.net/view/192.html2 ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:9","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#382-å‰åºéå†"},{"categories":null,"content":"3.8 äºŒå‰æ ‘éå†äºŒå‰æ ‘çš„éå†ä¸€ä¸ªé‡ç‚¹è€ƒæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚ 3.8.1 å®šä¹‰äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘çš„è®¿é—®æ¬¡åºå¯ä»¥åˆ†ä¸ºå››ç§ï¼š å‰åºéå† ä¸­åºéå† ååºéå† å±‚åºéå† 3.8.2 å‰åºéå†å‰åºéå†é€šä¿—çš„è¯´å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ 3.13 å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘è®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œæ•…è¾“å‡ºA; ç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ï¼Œè¾“å‡ºDï¼Œè¾“å‡ºHï¼› å½“åˆ°è¾¾å¶å­ç»“ç‚¹Hï¼Œè¿”å›åˆ°Dï¼Œæ­¤æ—¶å·²ç»æ˜¯ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…ä¸åœ¨è¾“å‡ºDï¼Œè¿›è€Œå‘Då³å­æ ‘è®¿é—®ï¼ŒDå³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è®¿é—®è‡³Iï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Iï¼Œåˆ™è¾“å‡ºIï¼› Iä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™è¿”å›åˆ°Dï¼ŒDå·¦å³å­æ ‘å·²ç»è®¿é—®å®Œæ¯•ï¼Œåˆ™è¿”å›åˆ°Bï¼Œè¿›è€Œåˆ°Bå³å­æ ‘ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Eï¼Œæ•…è¾“å‡ºEï¼› å‘Eå·¦å­æ ‘ï¼Œæ•…è¾“å‡ºJï¼› æŒ‰ç…§åŒæ ·çš„è®¿é—®è§„åˆ™ï¼Œç»§ç»­è¾“å‡ºCã€Fã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å‰åºéå†è¾“å‡ºä¸ºï¼š ABDHIEJCFG 3.8.3 ä¸­åºéå†ä¸­åºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬äºŒæ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ä¸­åºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œæ•…è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› ç”±Dè¿”å›è‡³Bï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Aã€Fã€Cã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ä¸­åºéå†è¾“å‡ºä¸ºï¼š HDIBJEAFCG 3.8.4 ååºéå†ååºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸‰æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ååºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œä¸è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Hï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Hï¼Œæ•…è¾“å‡ºHï¼› ç”±Hè¿”å›è‡³Dï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œä¸è¾“å‡ºDï¼› ç»§ç»­è®¿é—®è‡³Iï¼ŒIå·¦å³å­æ ‘å‡ä¸ºç©ºï¼Œæ•…ç¬¬ä¸‰æ¬¡è®¿é—®Iæ—¶ï¼Œè¾“å‡ºIï¼› è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Bã€Fã€Gã€Cï¼ŒAï¼› åˆ™å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ååºéå†è¾“å‡ºä¸ºï¼š HIDJEBFGCA è™½ç„¶äºŒå‰æ ‘çš„éå†è¿‡ç¨‹çœ‹ä¼¼ç¹çï¼Œä½†æ˜¯ç”±äºäºŒå‰æ ‘æ˜¯ä¸€ç§é€’å½’å®šä¹‰çš„ç»“æ„ï¼Œæ•…é‡‡ç”¨é€’å½’æ–¹å¼éå†äºŒå‰æ ‘çš„ä»£ç ååˆ†ç®€å•ã€‚ é€’å½’å®ç°ä»£ç å¦‚ä¸‹ï¼š /*äºŒå‰æ ‘çš„å‰åºéå†é€’å½’ç®—æ³•*/ void PreOrderTraverse(BiTree T) { if(T==NULL) return; printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ PreOrderTraverse(T-lchild); /*å†å…ˆåºéå†å·¦å­æ ‘*/ PreOrderTraverse(T-rchild); /*æœ€åå…ˆåºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ä¸­åºéå†é€’å½’ç®—æ³•*/ void InOrderTraverse(BiTree T) { if(T==NULL) return; InOrderTraverse(T-lchild); /*ä¸­åºéå†å·¦å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ InOrderTraverse(T-rchild); /*æœ€åä¸­åºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ååºéå†é€’å½’ç®—æ³•*/ void PostOrderTraverse(BiTree T) { if(T==NULL) return; PostOrderTraverse(T-lchild); /*å…ˆååºéå†å·¦å­æ ‘*/ PostOrderTraverse(T-rchild); /*å†åç»­éå†å³å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ } 3.8.5 å±‚æ¬¡éå†å±‚æ¬¡éå†å°±æ˜¯æŒ‰ç…§æ ‘çš„å±‚æ¬¡è‡ªä¸Šè€Œä¸‹çš„éå†äºŒå‰æ ‘ã€‚é’ˆå¯¹å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å±‚æ¬¡éå†ç»“æœä¸ºï¼š ABCDEFGHIJ å±‚æ¬¡éå†çš„è¯¦ç»†æ–¹æ³•å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„æŒ‰å±‚éå†æ³•ã€‚ 3.8.6 éå†å¸¸è€ƒè€ƒç‚¹å¯¹äºäºŒå‰æ ‘çš„éå†æœ‰ä¸€ç±»å…¸å‹é¢˜å‹ã€‚ 1ï¼‰å·²çŸ¥å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—ï¼Œç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚ ä¾‹é¢˜ï¼šè‹¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ä¸ºABCDEFï¼Œä¸­åºéå†ä¸ºCBAEDFï¼Œè¯·ç”»å‡ºè¿™æ£µäºŒå‰æ ‘ã€‚ åˆ†æï¼šå‰åºéå†ç¬¬ä¸€ä¸ªè¾“å‡ºç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œæ•…Aä¸ºæ ¹ç»“ç‚¹ã€‚æ—©ä¸­åºéå†ä¸­æ ¹ç»“ç‚¹å¤„äºå·¦å³å­æ ‘ç»“ç‚¹ä¸­é—´ï¼Œæ•…ç»“ç‚¹Açš„å·¦å­æ ‘ä¸­ç»“ç‚¹æœ‰CBï¼Œå³å­æ ‘ä¸­ç»“ç‚¹æœ‰EDFã€‚ ref http://data.biancheng.net/view/192.html2 ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:9","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#383-ä¸­åºéå†"},{"categories":null,"content":"3.8 äºŒå‰æ ‘éå†äºŒå‰æ ‘çš„éå†ä¸€ä¸ªé‡ç‚¹è€ƒæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚ 3.8.1 å®šä¹‰äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘çš„è®¿é—®æ¬¡åºå¯ä»¥åˆ†ä¸ºå››ç§ï¼š å‰åºéå† ä¸­åºéå† ååºéå† å±‚åºéå† 3.8.2 å‰åºéå†å‰åºéå†é€šä¿—çš„è¯´å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ 3.13 å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘è®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œæ•…è¾“å‡ºA; ç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ï¼Œè¾“å‡ºDï¼Œè¾“å‡ºHï¼› å½“åˆ°è¾¾å¶å­ç»“ç‚¹Hï¼Œè¿”å›åˆ°Dï¼Œæ­¤æ—¶å·²ç»æ˜¯ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…ä¸åœ¨è¾“å‡ºDï¼Œè¿›è€Œå‘Då³å­æ ‘è®¿é—®ï¼ŒDå³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è®¿é—®è‡³Iï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Iï¼Œåˆ™è¾“å‡ºIï¼› Iä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™è¿”å›åˆ°Dï¼ŒDå·¦å³å­æ ‘å·²ç»è®¿é—®å®Œæ¯•ï¼Œåˆ™è¿”å›åˆ°Bï¼Œè¿›è€Œåˆ°Bå³å­æ ‘ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Eï¼Œæ•…è¾“å‡ºEï¼› å‘Eå·¦å­æ ‘ï¼Œæ•…è¾“å‡ºJï¼› æŒ‰ç…§åŒæ ·çš„è®¿é—®è§„åˆ™ï¼Œç»§ç»­è¾“å‡ºCã€Fã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å‰åºéå†è¾“å‡ºä¸ºï¼š ABDHIEJCFG 3.8.3 ä¸­åºéå†ä¸­åºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬äºŒæ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ä¸­åºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œæ•…è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› ç”±Dè¿”å›è‡³Bï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Aã€Fã€Cã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ä¸­åºéå†è¾“å‡ºä¸ºï¼š HDIBJEAFCG 3.8.4 ååºéå†ååºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸‰æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ååºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œä¸è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Hï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Hï¼Œæ•…è¾“å‡ºHï¼› ç”±Hè¿”å›è‡³Dï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œä¸è¾“å‡ºDï¼› ç»§ç»­è®¿é—®è‡³Iï¼ŒIå·¦å³å­æ ‘å‡ä¸ºç©ºï¼Œæ•…ç¬¬ä¸‰æ¬¡è®¿é—®Iæ—¶ï¼Œè¾“å‡ºIï¼› è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Bã€Fã€Gã€Cï¼ŒAï¼› åˆ™å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ååºéå†è¾“å‡ºä¸ºï¼š HIDJEBFGCA è™½ç„¶äºŒå‰æ ‘çš„éå†è¿‡ç¨‹çœ‹ä¼¼ç¹çï¼Œä½†æ˜¯ç”±äºäºŒå‰æ ‘æ˜¯ä¸€ç§é€’å½’å®šä¹‰çš„ç»“æ„ï¼Œæ•…é‡‡ç”¨é€’å½’æ–¹å¼éå†äºŒå‰æ ‘çš„ä»£ç ååˆ†ç®€å•ã€‚ é€’å½’å®ç°ä»£ç å¦‚ä¸‹ï¼š /*äºŒå‰æ ‘çš„å‰åºéå†é€’å½’ç®—æ³•*/ void PreOrderTraverse(BiTree T) { if(T==NULL) return; printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ PreOrderTraverse(T-lchild); /*å†å…ˆåºéå†å·¦å­æ ‘*/ PreOrderTraverse(T-rchild); /*æœ€åå…ˆåºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ä¸­åºéå†é€’å½’ç®—æ³•*/ void InOrderTraverse(BiTree T) { if(T==NULL) return; InOrderTraverse(T-lchild); /*ä¸­åºéå†å·¦å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ InOrderTraverse(T-rchild); /*æœ€åä¸­åºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ååºéå†é€’å½’ç®—æ³•*/ void PostOrderTraverse(BiTree T) { if(T==NULL) return; PostOrderTraverse(T-lchild); /*å…ˆååºéå†å·¦å­æ ‘*/ PostOrderTraverse(T-rchild); /*å†åç»­éå†å³å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ } 3.8.5 å±‚æ¬¡éå†å±‚æ¬¡éå†å°±æ˜¯æŒ‰ç…§æ ‘çš„å±‚æ¬¡è‡ªä¸Šè€Œä¸‹çš„éå†äºŒå‰æ ‘ã€‚é’ˆå¯¹å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å±‚æ¬¡éå†ç»“æœä¸ºï¼š ABCDEFGHIJ å±‚æ¬¡éå†çš„è¯¦ç»†æ–¹æ³•å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„æŒ‰å±‚éå†æ³•ã€‚ 3.8.6 éå†å¸¸è€ƒè€ƒç‚¹å¯¹äºäºŒå‰æ ‘çš„éå†æœ‰ä¸€ç±»å…¸å‹é¢˜å‹ã€‚ 1ï¼‰å·²çŸ¥å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—ï¼Œç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚ ä¾‹é¢˜ï¼šè‹¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ä¸ºABCDEFï¼Œä¸­åºéå†ä¸ºCBAEDFï¼Œè¯·ç”»å‡ºè¿™æ£µäºŒå‰æ ‘ã€‚ åˆ†æï¼šå‰åºéå†ç¬¬ä¸€ä¸ªè¾“å‡ºç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œæ•…Aä¸ºæ ¹ç»“ç‚¹ã€‚æ—©ä¸­åºéå†ä¸­æ ¹ç»“ç‚¹å¤„äºå·¦å³å­æ ‘ç»“ç‚¹ä¸­é—´ï¼Œæ•…ç»“ç‚¹Açš„å·¦å­æ ‘ä¸­ç»“ç‚¹æœ‰CBï¼Œå³å­æ ‘ä¸­ç»“ç‚¹æœ‰EDFã€‚ ref http://data.biancheng.net/view/192.html2 ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:9","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#384-ååºéå†"},{"categories":null,"content":"3.8 äºŒå‰æ ‘éå†äºŒå‰æ ‘çš„éå†ä¸€ä¸ªé‡ç‚¹è€ƒæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚ 3.8.1 å®šä¹‰äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘çš„è®¿é—®æ¬¡åºå¯ä»¥åˆ†ä¸ºå››ç§ï¼š å‰åºéå† ä¸­åºéå† ååºéå† å±‚åºéå† 3.8.2 å‰åºéå†å‰åºéå†é€šä¿—çš„è¯´å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ 3.13 å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘è®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œæ•…è¾“å‡ºA; ç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ï¼Œè¾“å‡ºDï¼Œè¾“å‡ºHï¼› å½“åˆ°è¾¾å¶å­ç»“ç‚¹Hï¼Œè¿”å›åˆ°Dï¼Œæ­¤æ—¶å·²ç»æ˜¯ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…ä¸åœ¨è¾“å‡ºDï¼Œè¿›è€Œå‘Då³å­æ ‘è®¿é—®ï¼ŒDå³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è®¿é—®è‡³Iï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Iï¼Œåˆ™è¾“å‡ºIï¼› Iä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™è¿”å›åˆ°Dï¼ŒDå·¦å³å­æ ‘å·²ç»è®¿é—®å®Œæ¯•ï¼Œåˆ™è¿”å›åˆ°Bï¼Œè¿›è€Œåˆ°Bå³å­æ ‘ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Eï¼Œæ•…è¾“å‡ºEï¼› å‘Eå·¦å­æ ‘ï¼Œæ•…è¾“å‡ºJï¼› æŒ‰ç…§åŒæ ·çš„è®¿é—®è§„åˆ™ï¼Œç»§ç»­è¾“å‡ºCã€Fã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å‰åºéå†è¾“å‡ºä¸ºï¼š ABDHIEJCFG 3.8.3 ä¸­åºéå†ä¸­åºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬äºŒæ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ä¸­åºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œæ•…è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› ç”±Dè¿”å›è‡³Bï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Aã€Fã€Cã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ä¸­åºéå†è¾“å‡ºä¸ºï¼š HDIBJEAFCG 3.8.4 ååºéå†ååºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸‰æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ååºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œä¸è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Hï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Hï¼Œæ•…è¾“å‡ºHï¼› ç”±Hè¿”å›è‡³Dï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œä¸è¾“å‡ºDï¼› ç»§ç»­è®¿é—®è‡³Iï¼ŒIå·¦å³å­æ ‘å‡ä¸ºç©ºï¼Œæ•…ç¬¬ä¸‰æ¬¡è®¿é—®Iæ—¶ï¼Œè¾“å‡ºIï¼› è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Bã€Fã€Gã€Cï¼ŒAï¼› åˆ™å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ååºéå†è¾“å‡ºä¸ºï¼š HIDJEBFGCA è™½ç„¶äºŒå‰æ ‘çš„éå†è¿‡ç¨‹çœ‹ä¼¼ç¹çï¼Œä½†æ˜¯ç”±äºäºŒå‰æ ‘æ˜¯ä¸€ç§é€’å½’å®šä¹‰çš„ç»“æ„ï¼Œæ•…é‡‡ç”¨é€’å½’æ–¹å¼éå†äºŒå‰æ ‘çš„ä»£ç ååˆ†ç®€å•ã€‚ é€’å½’å®ç°ä»£ç å¦‚ä¸‹ï¼š /*äºŒå‰æ ‘çš„å‰åºéå†é€’å½’ç®—æ³•*/ void PreOrderTraverse(BiTree T) { if(T==NULL) return; printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ PreOrderTraverse(T-lchild); /*å†å…ˆåºéå†å·¦å­æ ‘*/ PreOrderTraverse(T-rchild); /*æœ€åå…ˆåºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ä¸­åºéå†é€’å½’ç®—æ³•*/ void InOrderTraverse(BiTree T) { if(T==NULL) return; InOrderTraverse(T-lchild); /*ä¸­åºéå†å·¦å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ InOrderTraverse(T-rchild); /*æœ€åä¸­åºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ååºéå†é€’å½’ç®—æ³•*/ void PostOrderTraverse(BiTree T) { if(T==NULL) return; PostOrderTraverse(T-lchild); /*å…ˆååºéå†å·¦å­æ ‘*/ PostOrderTraverse(T-rchild); /*å†åç»­éå†å³å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ } 3.8.5 å±‚æ¬¡éå†å±‚æ¬¡éå†å°±æ˜¯æŒ‰ç…§æ ‘çš„å±‚æ¬¡è‡ªä¸Šè€Œä¸‹çš„éå†äºŒå‰æ ‘ã€‚é’ˆå¯¹å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å±‚æ¬¡éå†ç»“æœä¸ºï¼š ABCDEFGHIJ å±‚æ¬¡éå†çš„è¯¦ç»†æ–¹æ³•å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„æŒ‰å±‚éå†æ³•ã€‚ 3.8.6 éå†å¸¸è€ƒè€ƒç‚¹å¯¹äºäºŒå‰æ ‘çš„éå†æœ‰ä¸€ç±»å…¸å‹é¢˜å‹ã€‚ 1ï¼‰å·²çŸ¥å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—ï¼Œç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚ ä¾‹é¢˜ï¼šè‹¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ä¸ºABCDEFï¼Œä¸­åºéå†ä¸ºCBAEDFï¼Œè¯·ç”»å‡ºè¿™æ£µäºŒå‰æ ‘ã€‚ åˆ†æï¼šå‰åºéå†ç¬¬ä¸€ä¸ªè¾“å‡ºç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œæ•…Aä¸ºæ ¹ç»“ç‚¹ã€‚æ—©ä¸­åºéå†ä¸­æ ¹ç»“ç‚¹å¤„äºå·¦å³å­æ ‘ç»“ç‚¹ä¸­é—´ï¼Œæ•…ç»“ç‚¹Açš„å·¦å­æ ‘ä¸­ç»“ç‚¹æœ‰CBï¼Œå³å­æ ‘ä¸­ç»“ç‚¹æœ‰EDFã€‚ ref http://data.biancheng.net/view/192.html2 ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:9","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#385-å±‚æ¬¡éå†"},{"categories":null,"content":"3.8 äºŒå‰æ ‘éå†äºŒå‰æ ‘çš„éå†ä¸€ä¸ªé‡ç‚¹è€ƒæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚ 3.8.1 å®šä¹‰äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘çš„è®¿é—®æ¬¡åºå¯ä»¥åˆ†ä¸ºå››ç§ï¼š å‰åºéå† ä¸­åºéå† ååºéå† å±‚åºéå† 3.8.2 å‰åºéå†å‰åºéå†é€šä¿—çš„è¯´å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ 3.13 å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘è®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œæ•…è¾“å‡ºA; ç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ï¼Œè¾“å‡ºDï¼Œè¾“å‡ºHï¼› å½“åˆ°è¾¾å¶å­ç»“ç‚¹Hï¼Œè¿”å›åˆ°Dï¼Œæ­¤æ—¶å·²ç»æ˜¯ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…ä¸åœ¨è¾“å‡ºDï¼Œè¿›è€Œå‘Då³å­æ ‘è®¿é—®ï¼ŒDå³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è®¿é—®è‡³Iï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Iï¼Œåˆ™è¾“å‡ºIï¼› Iä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™è¿”å›åˆ°Dï¼ŒDå·¦å³å­æ ‘å·²ç»è®¿é—®å®Œæ¯•ï¼Œåˆ™è¿”å›åˆ°Bï¼Œè¿›è€Œåˆ°Bå³å­æ ‘ï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾Eï¼Œæ•…è¾“å‡ºEï¼› å‘Eå·¦å­æ ‘ï¼Œæ•…è¾“å‡ºJï¼› æŒ‰ç…§åŒæ ·çš„è®¿é—®è§„åˆ™ï¼Œç»§ç»­è¾“å‡ºCã€Fã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å‰åºéå†è¾“å‡ºä¸ºï¼š ABDHIEJCFG 3.8.3 ä¸­åºéå†ä¸­åºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬äºŒæ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ä¸­åºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œæ•…è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› ç”±Dè¿”å›è‡³Bï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Bï¼Œæ•…è¾“å‡ºBï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Aã€Fã€Cã€Gï¼› åˆ™3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ä¸­åºéå†è¾“å‡ºä¸ºï¼š HDIBJEAFCG 3.8.4 ååºéå†ååºéå†å°±æ˜¯ä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œå½“ç¬¬ä¸‰æ¬¡åˆ°è¾¾ç»“ç‚¹æ—¶å°±è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘ååºè®¿é—®å¦‚ä¸‹ï¼š ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ™ç¬¬ä¸€æ¬¡åˆ°è¾¾ç»“ç‚¹Aï¼Œä¸è¾“å‡ºAï¼Œç»§ç»­å‘å·¦è®¿é—®ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ç»“ç‚¹Bï¼Œä¸è¾“å‡ºBï¼›ç»§ç»­åˆ°è¾¾Dï¼ŒHï¼› åˆ°è¾¾Hï¼ŒHå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°Hï¼Œæ­¤æ—¶ç¬¬äºŒæ¬¡è®¿é—®Hï¼Œä¸è¾“å‡ºHï¼› Hå³å­æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›è‡³Hï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Hï¼Œæ•…è¾“å‡ºHï¼› ç”±Hè¿”å›è‡³Dï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾Dï¼Œä¸è¾“å‡ºDï¼› ç»§ç»­è®¿é—®è‡³Iï¼ŒIå·¦å³å­æ ‘å‡ä¸ºç©ºï¼Œæ•…ç¬¬ä¸‰æ¬¡è®¿é—®Iæ—¶ï¼Œè¾“å‡ºIï¼› è¿”å›è‡³Dï¼Œæ­¤æ—¶ç¬¬ä¸‰æ¬¡åˆ°è¾¾Dï¼Œæ•…è¾“å‡ºDï¼› æŒ‰ç…§åŒæ ·è§„åˆ™ç»§ç»­è®¿é—®ï¼Œè¾“å‡ºJã€Eã€Bã€Fã€Gã€Cï¼ŒAï¼› åˆ™å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„ååºéå†è¾“å‡ºä¸ºï¼š HIDJEBFGCA è™½ç„¶äºŒå‰æ ‘çš„éå†è¿‡ç¨‹çœ‹ä¼¼ç¹çï¼Œä½†æ˜¯ç”±äºäºŒå‰æ ‘æ˜¯ä¸€ç§é€’å½’å®šä¹‰çš„ç»“æ„ï¼Œæ•…é‡‡ç”¨é€’å½’æ–¹å¼éå†äºŒå‰æ ‘çš„ä»£ç ååˆ†ç®€å•ã€‚ é€’å½’å®ç°ä»£ç å¦‚ä¸‹ï¼š /*äºŒå‰æ ‘çš„å‰åºéå†é€’å½’ç®—æ³•*/ void PreOrderTraverse(BiTree T) { if(T==NULL) return; printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ PreOrderTraverse(T-lchild); /*å†å…ˆåºéå†å·¦å­æ ‘*/ PreOrderTraverse(T-rchild); /*æœ€åå…ˆåºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ä¸­åºéå†é€’å½’ç®—æ³•*/ void InOrderTraverse(BiTree T) { if(T==NULL) return; InOrderTraverse(T-lchild); /*ä¸­åºéå†å·¦å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ InOrderTraverse(T-rchild); /*æœ€åä¸­åºéå†å³å­æ ‘*/ } /*äºŒå‰æ ‘çš„ååºéå†é€’å½’ç®—æ³•*/ void PostOrderTraverse(BiTree T) { if(T==NULL) return; PostOrderTraverse(T-lchild); /*å…ˆååºéå†å·¦å­æ ‘*/ PostOrderTraverse(T-rchild); /*å†åç»­éå†å³å­æ ‘*/ printf(\"%c\", T-data); /*æ˜¾ç¤ºç»“ç‚¹æ•°æ®ï¼Œå¯ä»¥æ›´æ”¹ä¸ºå…¶ä»–å¯¹ç»“ç‚¹æ“ä½œ*/ } 3.8.5 å±‚æ¬¡éå†å±‚æ¬¡éå†å°±æ˜¯æŒ‰ç…§æ ‘çš„å±‚æ¬¡è‡ªä¸Šè€Œä¸‹çš„éå†äºŒå‰æ ‘ã€‚é’ˆå¯¹å›¾3.13æ‰€ç¤ºäºŒå‰æ ‘çš„å±‚æ¬¡éå†ç»“æœä¸ºï¼š ABCDEFGHIJ å±‚æ¬¡éå†çš„è¯¦ç»†æ–¹æ³•å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„æŒ‰å±‚éå†æ³•ã€‚ 3.8.6 éå†å¸¸è€ƒè€ƒç‚¹å¯¹äºäºŒå‰æ ‘çš„éå†æœ‰ä¸€ç±»å…¸å‹é¢˜å‹ã€‚ 1ï¼‰å·²çŸ¥å‰åºéå†åºåˆ—å’Œä¸­åºéå†åºåˆ—ï¼Œç¡®å®šä¸€æ£µäºŒå‰æ ‘ã€‚ ä¾‹é¢˜ï¼šè‹¥ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ä¸ºABCDEFï¼Œä¸­åºéå†ä¸ºCBAEDFï¼Œè¯·ç”»å‡ºè¿™æ£µäºŒå‰æ ‘ã€‚ åˆ†æï¼šå‰åºéå†ç¬¬ä¸€ä¸ªè¾“å‡ºç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œæ•…Aä¸ºæ ¹ç»“ç‚¹ã€‚æ—©ä¸­åºéå†ä¸­æ ¹ç»“ç‚¹å¤„äºå·¦å³å­æ ‘ç»“ç‚¹ä¸­é—´ï¼Œæ•…ç»“ç‚¹Açš„å·¦å­æ ‘ä¸­ç»“ç‚¹æœ‰CBï¼Œå³å­æ ‘ä¸­ç»“ç‚¹æœ‰EDFã€‚ ref http://data.biancheng.net/view/192.html2 ","date":"2022-03-30","objectID":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/:3:9","series":null,"tags":null,"title":"äºŒå‰æ ‘","uri":"/posts/%E4%BA%8C%E5%8F%89%E6%A0%91/#386-éå†å¸¸è€ƒè€ƒç‚¹"},{"categories":null,"content":"ä½¿ç”¨fastgitgit config --global url.\"https://github.com.cnpmjs.org/\".insteadOf \"https://github.com/\" git config protocol.https.allow always git config --global --unset url.\"https://hub.fastgit.org/\".insteadOf \"https://github.com/\" ","date":"2022-03-27","objectID":"/posts/github%E5%8A%A0%E9%80%9F/:1:0","series":null,"tags":null,"title":"GithubåŠ é€Ÿ","uri":"/posts/github%E5%8A%A0%E9%80%9F/#ä½¿ç”¨fastgit"},{"categories":null,"content":"ä½¿ç”¨fakevgit config --global url.\"https://gh.dlpu.workers.dev/\".insteadOf \"https://github.com/\" git config protocol.https.allow always git config --global url.\"https://gh.fakev.cn/\".insteadOf \"https://github.com/\" git config protocol.https.allow always åˆ é™¤ git config â€“global â€“unset url.â€œhttps://gh.dlpu.workers.dev/\".insteadOf â€œhttps://github.com/\" ","date":"2022-03-27","objectID":"/posts/github%E5%8A%A0%E9%80%9F/:2:0","series":null,"tags":null,"title":"GithubåŠ é€Ÿ","uri":"/posts/github%E5%8A%A0%E9%80%9F/#ä½¿ç”¨fakev"},{"categories":null,"content":"ä¿®æ”¹hosts140.82.113.4 github.com 13.229.188.59 github.com 13.114.40.48 github.com 185.199.110.153 github.com 185.199.111.153 github.com 185.199.109.153 github.com 185.199.108.153 github.com ","date":"2022-03-27","objectID":"/posts/github%E5%8A%A0%E9%80%9F/:3:0","series":null,"tags":null,"title":"GithubåŠ é€Ÿ","uri":"/posts/github%E5%8A%A0%E9%80%9F/#ä¿®æ”¹hosts"},{"categories":null,"content":" ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:0:0","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#"},{"categories":null,"content":"å‰è¨€Redisåœ¨äº’è”ç½‘æŠ€æœ¯å­˜å‚¨æ–¹é¢ä½¿ç”¨å¦‚æ­¤å¹¿æ³›ï¼Œå‡ ä¹æ‰€æœ‰çš„åç«¯æŠ€æœ¯é¢è¯•å®˜éƒ½è¦åœ¨Redisçš„ä½¿ç”¨å’ŒåŸç†æ–¹é¢å¯¹å°ä¼™ä¼´ä»¬è¿›è¡Œ360Â°çš„åˆéš¾ã€‚ä½œä¸ºä¸€ä¸ªåœ¨äº’è”ç½‘å…¬å¸é¢ä¸€æ¬¡æ‹¿ä¸€æ¬¡offerçš„é¢éœ¸ï¼ˆè¯·å…è®¸æˆ‘ä½¿ç”¨ä¸€ä¸‹å¤¸å¼ çš„ä¿®è¾æ‰‹æ³•ï¼‰ï¼Œæ‰“è´¥äº†æ— æ•°ç«äº‰å¯¹æ‰‹ï¼Œæ¯æ¬¡éƒ½åªèƒ½çœ‹åˆ°æ— æ•°è½å¯çš„èº«å½±å¤±æœ›çš„ç¦»å¼€ï¼Œç•¥æ„Ÿæ„§ç–šï¼Œåœ¨ä¸€ä¸ªå¯‚å¯éš¾è€çš„å¤œæ™šï¼Œæˆ‘ç—›å®šæ€ç—›ï¼Œå†³å®šå¼€å§‹å†™ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—ï¼Œå¸Œæœ›èƒ½å¸®åŠ©å„ä½è¯»è€…ä»¥åé¢è¯•åŠ¿å¦‚ç ´ç«¹ï¼Œå¯¹é¢è¯•å®˜è¿›è¡Œ360Â°çš„åå‡»ï¼ŒåŠæ‰“é—®ä½ çš„é¢è¯•å®˜ï¼Œè®©ä¸€åŒé¢è¯•çš„åŒåƒšé“©ç¾½è€Œå½’ï¼Œç–¯ç‹‚æ”¶å‰²å¤§å‚offerï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:0","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å‰è¨€"},{"categories":null,"content":"é¢è¯•å¼€å§‹ ä¸€ä¸ªå¤§è…¹ä¾¿ä¾¿ï¼Œç©¿ç€æ ¼å­è¡¬è¡£çš„ä¸­å¹´ç”·å­ï¼Œæ‹¿ç€ä¸€ä¸ªæ»¡æ˜¯åˆ’ç—•çš„macå‘ä½ èµ°æ¥ï¼Œçœ‹ç€å¿«ç§ƒé¡¶çš„å¤´å‘ï¼Œå¿ƒæƒ³ç€è‚¯å®šæ˜¯å°¼ç›é¡¶çº§æ¶æ„å¸ˆå§ï¼ä½†æ˜¯æˆ‘ä»¬è…¹æœ‰è¯—ä¹¦æ°”è‡ªåï¼Œè™šéƒ½ä¸è™šã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:1","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#é¢è¯•å¼€å§‹"},{"categories":null,"content":"å°ä¼™å­æ‚¨å¥½ï¼Œçœ‹ä½ ç®€å†ä¸Šå†™äº†ä½ é¡¹ç›®é‡Œé¢ç”¨åˆ°äº†Redisï¼Œä½ ä»¬ä¸ºå•¥ç”¨Redisï¼Ÿå¿ƒé‡Œå¿ä¸ä½æš—éª‚ï¼Œè¿™å«å•¥é—®é¢˜ï¼Œå¤§å®¶ä¸éƒ½æ˜¯ç”¨çš„è¿™ä¸ªå˜›ï¼Œä½†æ˜¯ä½ ä¸èƒ½è¯´å‡ºæ¥ã€‚ è®¤çœŸå›ç­”é“ï¼šå¸…æ°”è¿·äººçš„é¢è¯•å®˜æ‚¨å¥½ï¼Œå› ä¸ºä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¦‚Mysqlå·²ç»ä¸èƒ½é€‚ç”¨æ‰€æœ‰çš„åœºæ™¯äº†ï¼Œæ¯”å¦‚ç§’æ€çš„åº“å­˜æ‰£å‡ï¼ŒAPPé¦–é¡µçš„è®¿é—®æµé‡é«˜å³°ç­‰ç­‰ï¼Œéƒ½å¾ˆå®¹æ˜“æŠŠæ•°æ®åº“æ‰“å´©ï¼Œæ‰€ä»¥å¼•å…¥äº†ç¼“å­˜ä¸­é—´ä»¶ï¼Œç›®å‰å¸‚é¢ä¸Šæ¯”è¾ƒå¸¸ç”¨çš„ç¼“å­˜ä¸­é—´ä»¶æœ‰Redis å’Œ Memcached ä¸è¿‡ä¸­å’Œè€ƒè™‘äº†ä»–ä»¬çš„ä¼˜ç¼ºç‚¹ï¼Œæœ€åé€‰æ‹©äº†Redisã€‚ è‡³äºæ›´ç»†èŠ‚çš„å¯¹æ¯”æœ‹å‹ä»¬è®°å¾—æŸ¥é˜…Redis å’Œ Memcached çš„åŒºåˆ«ï¼Œæ¯”å¦‚ä¸¤è€…çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”å’Œå„è‡ªçš„åœºæ™¯ï¼Œåç»­æˆ‘æœ‰æ—¶é—´ä¹Ÿä¼šå†™å‡ºæ¥ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:2","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å°ä¼™å­æ‚¨å¥½çœ‹ä½ ç®€å†ä¸Šå†™äº†ä½ é¡¹ç›®é‡Œé¢ç”¨åˆ°äº†redisä½ ä»¬ä¸ºå•¥ç”¨redis"},{"categories":null,"content":"é‚£å°ä¼™å­ï¼Œæˆ‘å†é—®ä½ ï¼ŒRedisæœ‰å“ªäº›æ•°æ®ç»“æ„å‘€ï¼Ÿå­—ç¬¦ä¸²Stringã€å­—å…¸Hashã€åˆ—è¡¨Listã€é›†åˆSetã€æœ‰åºé›†åˆSortedSetã€‚ è¿™é‡Œæˆ‘ç›¸ä¿¡99%çš„è¯»è€…éƒ½èƒ½å›ç­”ä¸Šæ¥Redisçš„5ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ã€‚å¦‚æœå›ç­”ä¸å‡ºæ¥çš„å°ä¼™ä¼´æˆ‘ä»¬å°±è¦åŠ æ²¹è¡¥è¯¾å“Ÿï¼Œå¤§å®¶çŸ¥é“äº”ç§ç±»å‹æœ€é€‚åˆçš„åœºæ™¯æ›´å¥½ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ æ˜¯Redisä¸­é«˜çº§ç”¨æˆ·ï¼Œè€Œä¸”ä½ è¦åœ¨è¿™æ¬¡é¢è¯•ä¸­çªå‡ºä½ å’Œå…¶ä»–å€™é€‰äººçš„ä¸åŒï¼Œè¿˜éœ€è¦åŠ ä¸Šä¸‹é¢å‡ ç§æ•°æ®ç»“æ„HyperLogLogã€Geoã€Pub/Subã€‚ å¦‚æœä½ è¿˜æƒ³åŠ åˆ†ï¼Œé‚£ä½ è¯´è¿˜ç©è¿‡Redis Moduleï¼ŒåƒBloomFilterï¼ŒRedisSearchï¼ŒRedis-MLï¼Œè¿™ä¸ªæ—¶å€™é¢è¯•å®˜å¾—çœ¼ç›å°±å¼€å§‹å‘äº®äº†ï¼Œå¿ƒæƒ³è¿™ä¸ªå°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å•Šã€‚ æ³¨ï¼šæœ¬äººåœ¨é¢è¯•å›ç­”åˆ°Redisç›¸å…³çš„é—®é¢˜çš„æ—¶å€™ï¼Œç»å¸¸æåˆ°BloomFilterï¼ˆå¸ƒéš†è¿‡æ»¤å™¨ï¼‰è¿™ç©æ„çš„ä½¿ç”¨åœºæ™¯æ˜¯çœŸçš„å¤šï¼Œè€Œä¸”ç”¨èµ·æ¥æ˜¯çœŸçš„é¦™ï¼ŒåŸç†ä¹Ÿå¥½ç†è§£ï¼Œçœ‹ä¸€ä¸‹æ–‡ç« å°±å¯ä»¥åœ¨é¢è¯•å®˜é¢å‰ä¾ƒä¾ƒè€Œè°ˆäº†ï¼Œä¸é¦™ä¹ˆï¼Ÿä¸‹æ–¹ä¼ é€é—¨ â†“ é¿å…ç¼“å­˜ç©¿é€çš„åˆ©å™¨ä¹‹BloomFilter ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:3","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#é‚£å°ä¼™å­æˆ‘å†é—®ä½ redisæœ‰å“ªäº›æ•°æ®ç»“æ„å‘€"},{"categories":null,"content":"å¦‚æœæœ‰å¤§é‡çš„keyéœ€è¦è®¾ç½®åŒä¸€æ—¶é—´è¿‡æœŸï¼Œä¸€èˆ¬éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿå¦‚æœå¤§é‡çš„keyè¿‡æœŸæ—¶é—´è®¾ç½®çš„è¿‡äºé›†ä¸­ï¼Œåˆ°è¿‡æœŸçš„é‚£ä¸ªæ—¶é—´ç‚¹ï¼Œrediså¯èƒ½ä¼šå‡ºç°çŸ­æš‚çš„å¡é¡¿ç°è±¡ã€‚ä¸¥é‡çš„è¯ä¼šå‡ºç°ç¼“å­˜é›ªå´©ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦åœ¨æ—¶é—´ä¸ŠåŠ ä¸€ä¸ªéšæœºå€¼ï¼Œä½¿å¾—è¿‡æœŸæ—¶é—´åˆ†æ•£ä¸€äº›ã€‚ ç”µå•†é¦–é¡µç»å¸¸ä¼šä½¿ç”¨å®šæ—¶ä»»åŠ¡åˆ·æ–°ç¼“å­˜ï¼Œå¯èƒ½å¤§é‡çš„æ•°æ®å¤±æ•ˆæ—¶é—´éƒ½ååˆ†é›†ä¸­ï¼Œå¦‚æœå¤±æ•ˆæ—¶é—´ä¸€æ ·ï¼Œåˆåˆšå¥½åœ¨å¤±æ•ˆçš„æ—¶é—´ç‚¹å¤§é‡ç”¨æˆ·æ¶Œå…¥ï¼Œå°±æœ‰å¯èƒ½é€ æˆç¼“å­˜é›ªå´© ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:4","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¦‚æœæœ‰å¤§é‡çš„keyéœ€è¦è®¾ç½®åŒä¸€æ—¶é—´è¿‡æœŸä¸€èˆ¬éœ€è¦æ³¨æ„ä»€ä¹ˆ"},{"categories":null,"content":"é‚£ä½ ä½¿ç”¨è¿‡Redisåˆ†å¸ƒå¼é”ä¹ˆï¼Œå®ƒæ˜¯ä»€ä¹ˆå›äº‹ï¼Ÿå…ˆæ‹¿setnxæ¥äº‰æŠ¢é”ï¼ŒæŠ¢åˆ°ä¹‹åï¼Œå†ç”¨expireç»™é”åŠ ä¸€ä¸ªè¿‡æœŸæ—¶é—´é˜²æ­¢é”å¿˜è®°äº†é‡Šæ”¾ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:5","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#é‚£ä½ ä½¿ç”¨è¿‡redisåˆ†å¸ƒå¼é”ä¹ˆå®ƒæ˜¯ä»€ä¹ˆå›äº‹"},{"categories":null,"content":"è¿™æ—¶å€™å¯¹æ–¹ä¼šå‘Šè¯‰ä½ è¯´ä½ å›ç­”å¾—ä¸é”™ï¼Œç„¶åæ¥ç€é—®å¦‚æœåœ¨setnxä¹‹åæ‰§è¡Œexpireä¹‹å‰è¿›ç¨‹æ„å¤–crashæˆ–è€…è¦é‡å¯ç»´æŠ¤äº†ï¼Œé‚£ä¼šæ€ä¹ˆæ ·ï¼Ÿè¿™æ—¶å€™ä½ è¦ç»™äºˆæƒŠè®¶çš„åé¦ˆï¼šå”‰ï¼Œæ˜¯å–”ï¼Œè¿™ä¸ªé”å°±æ°¸è¿œå¾—ä¸åˆ°é‡Šæ”¾äº†ã€‚ç´§æ¥ç€ä½ éœ€è¦æŠ“ä¸€æŠ“è‡ªå·±å¾—è„‘è¢‹ï¼Œæ•…ä½œæ€è€ƒç‰‡åˆ»ï¼Œå¥½åƒæ¥ä¸‹æ¥çš„ç»“æœæ˜¯ä½ ä¸»åŠ¨æ€è€ƒå‡ºæ¥çš„ï¼Œç„¶åå›ç­”ï¼šæˆ‘è®°å¾—setæŒ‡ä»¤æœ‰éå¸¸å¤æ‚çš„å‚æ•°ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯å¯ä»¥åŒæ—¶æŠŠsetnxå’Œexpireåˆæˆä¸€æ¡æŒ‡ä»¤æ¥ç”¨çš„ï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:6","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#è¿™æ—¶å€™å¯¹æ–¹ä¼šå‘Šè¯‰ä½ è¯´ä½ å›ç­”å¾—ä¸é”™ç„¶åæ¥ç€é—®å¦‚æœåœ¨setnxä¹‹åæ‰§è¡Œexpireä¹‹å‰è¿›ç¨‹æ„å¤–crashæˆ–è€…è¦é‡å¯ç»´æŠ¤äº†é‚£ä¼šæ€ä¹ˆæ ·"},{"categories":null,"content":"å¯¹æ–¹è¿™æ—¶ä¼šæ˜¾éœ²ç¬‘å®¹ï¼Œå¿ƒé‡Œå¼€å§‹é»˜å¿µï¼šå—¯ï¼Œè¿™å°å­è¿˜ä¸é”™ï¼Œå¼€å§‹æœ‰ç‚¹æ„æ€äº†ã€‚","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:7","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¯¹æ–¹è¿™æ—¶ä¼šæ˜¾éœ²ç¬‘å®¹å¿ƒé‡Œå¼€å§‹é»˜å¿µå—¯è¿™å°å­è¿˜ä¸é”™å¼€å§‹æœ‰ç‚¹æ„æ€äº†"},{"categories":null,"content":"å‡å¦‚Redisé‡Œé¢æœ‰1äº¿ä¸ªkeyï¼Œå…¶ä¸­æœ‰10wä¸ªkeyæ˜¯ä»¥æŸä¸ªå›ºå®šçš„å·²çŸ¥çš„å‰ç¼€å¼€å¤´çš„ï¼Œå¦‚ä½•å°†å®ƒä»¬å…¨éƒ¨æ‰¾å‡ºæ¥ï¼Ÿä½¿ç”¨keysæŒ‡ä»¤å¯ä»¥æ‰«å‡ºæŒ‡å®šæ¨¡å¼çš„keyåˆ—è¡¨ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:8","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å‡å¦‚redisé‡Œé¢æœ‰1äº¿ä¸ªkeyå…¶ä¸­æœ‰10wä¸ªkeyæ˜¯ä»¥æŸä¸ªå›ºå®šçš„å·²çŸ¥çš„å‰ç¼€å¼€å¤´çš„å¦‚ä½•å°†å®ƒä»¬å…¨éƒ¨æ‰¾å‡ºæ¥"},{"categories":null,"content":"å¯¹æ–¹æ¥ç€è¿½é—®ï¼šå¦‚æœè¿™ä¸ªredisæ­£åœ¨ç»™çº¿ä¸Šçš„ä¸šåŠ¡æä¾›æœåŠ¡ï¼Œé‚£ä½¿ç”¨keysæŒ‡ä»¤ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿè¿™ä¸ªæ—¶å€™ä½ è¦å›ç­”rediså…³é”®çš„ä¸€ä¸ªç‰¹æ€§ï¼šredisçš„å•çº¿ç¨‹çš„ã€‚keysæŒ‡ä»¤ä¼šå¯¼è‡´çº¿ç¨‹é˜»å¡ä¸€æ®µæ—¶é—´ï¼Œçº¿ä¸ŠæœåŠ¡ä¼šåœé¡¿ï¼Œç›´åˆ°æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•ï¼ŒæœåŠ¡æ‰èƒ½æ¢å¤ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨scanæŒ‡ä»¤ï¼ŒscanæŒ‡ä»¤å¯ä»¥æ— é˜»å¡çš„æå–å‡ºæŒ‡å®šæ¨¡å¼çš„keyåˆ—è¡¨ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€å®šçš„é‡å¤æ¦‚ç‡ï¼Œåœ¨å®¢æˆ·ç«¯åšä¸€æ¬¡å»é‡å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æ•´ä½“æ‰€èŠ±è´¹çš„æ—¶é—´ä¼šæ¯”ç›´æ¥ç”¨keysæŒ‡ä»¤é•¿ã€‚ ä¸è¿‡ï¼Œå¢é‡å¼è¿­ä»£å‘½ä»¤ä¹Ÿä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹çš„ï¼š ä¸¾ä¸ªä¾‹å­ï¼Œ ä½¿ç”¨ SMEMBERS å‘½ä»¤å¯ä»¥è¿”å›é›†åˆé”®å½“å‰åŒ…å«çš„æ‰€æœ‰å…ƒç´ ï¼Œ ä½†æ˜¯å¯¹äº SCAN è¿™ç±»å¢é‡å¼è¿­ä»£å‘½ä»¤æ¥è¯´ï¼Œ å› ä¸ºåœ¨å¯¹é”®è¿›è¡Œå¢é‡å¼è¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œ é”®å¯èƒ½ä¼šè¢«ä¿®æ”¹ï¼Œ æ‰€ä»¥å¢é‡å¼è¿­ä»£å‘½ä»¤åªèƒ½å¯¹è¢«è¿”å›çš„å…ƒç´ æä¾›æœ‰é™çš„ä¿è¯ ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:9","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¯¹æ–¹æ¥ç€è¿½é—®å¦‚æœè¿™ä¸ªredisæ­£åœ¨ç»™çº¿ä¸Šçš„ä¸šåŠ¡æä¾›æœåŠ¡é‚£ä½¿ç”¨keysæŒ‡ä»¤ä¼šæœ‰ä»€ä¹ˆé—®é¢˜"},{"categories":null,"content":"ä½¿ç”¨è¿‡Redisåšå¼‚æ­¥é˜Ÿåˆ—ä¹ˆï¼Œä½ æ˜¯æ€ä¹ˆç”¨çš„ï¼Ÿä¸€èˆ¬ä½¿ç”¨listç»“æ„ä½œä¸ºé˜Ÿåˆ—ï¼Œrpushç”Ÿäº§æ¶ˆæ¯ï¼Œlpopæ¶ˆè´¹æ¶ˆæ¯ã€‚å½“lpopæ²¡æœ‰æ¶ˆæ¯çš„æ—¶å€™ï¼Œè¦é€‚å½“sleepä¸€ä¼šå†é‡è¯•ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:10","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#ä½¿ç”¨è¿‡redisåšå¼‚æ­¥é˜Ÿåˆ—ä¹ˆä½ æ˜¯æ€ä¹ˆç”¨çš„"},{"categories":null,"content":"å¦‚æœå¯¹æ–¹è¿½é—®å¯ä¸å¯ä»¥ä¸ç”¨sleepå‘¢ï¼Ÿlistè¿˜æœ‰ä¸ªæŒ‡ä»¤å«blpopï¼Œåœ¨æ²¡æœ‰æ¶ˆæ¯çš„æ—¶å€™ï¼Œå®ƒä¼šé˜»å¡ä½ç›´åˆ°æ¶ˆæ¯åˆ°æ¥ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:11","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¦‚æœå¯¹æ–¹è¿½é—®å¯ä¸å¯ä»¥ä¸ç”¨sleepå‘¢"},{"categories":null,"content":"å¦‚æœå¯¹æ–¹æ¥ç€è¿½é—®èƒ½ä¸èƒ½ç”Ÿäº§ä¸€æ¬¡æ¶ˆè´¹å¤šæ¬¡å‘¢ï¼Ÿä½¿ç”¨pub/subä¸»é¢˜è®¢é˜…è€…æ¨¡å¼ï¼Œå¯ä»¥å®ç° 1:N çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:12","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¦‚æœå¯¹æ–¹æ¥ç€è¿½é—®èƒ½ä¸èƒ½ç”Ÿäº§ä¸€æ¬¡æ¶ˆè´¹å¤šæ¬¡å‘¢"},{"categories":null,"content":"å¦‚æœå¯¹æ–¹ç»§ç»­è¿½é—® pub/su bæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿåœ¨æ¶ˆè´¹è€…ä¸‹çº¿çš„æƒ…å†µä¸‹ï¼Œç”Ÿäº§çš„æ¶ˆæ¯ä¼šä¸¢å¤±ï¼Œå¾—ä½¿ç”¨ä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—å¦‚RocketMQç­‰ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:13","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¦‚æœå¯¹æ–¹ç»§ç»­è¿½é—®-pubsu-bæœ‰ä»€ä¹ˆç¼ºç‚¹"},{"categories":null,"content":"å¦‚æœå¯¹æ–¹ç©¶æTMè¿½é—®Rediså¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—ï¼Ÿè¿™ä¸€å¥—è¿æ‹›ä¸‹æ¥ï¼Œæˆ‘ä¼°è®¡ç°åœ¨ä½ å¾ˆæƒ³æŠŠé¢è¯•å®˜ä¸€æ£’æ‰“æ­»ï¼ˆé¢è¯•å®˜è‡ªå·±éƒ½æƒ³æ‰“æ­»è‡ªå·±äº†æ€ä¹ˆé—®äº†è¿™ä¹ˆå¤šè‡ªå·±éƒ½ä¸çŸ¥é“çš„ï¼‰ï¼Œå¦‚æœä½ æ‰‹ä¸Šæœ‰ä¸€æ ¹æ£’çƒæ£çš„è¯ï¼Œä½†æ˜¯ä½ å¾ˆå…‹åˆ¶ã€‚å¹³å¤ä¸€ä¸‹æ¿€åŠ¨çš„å†…å¿ƒï¼Œç„¶åç¥æ€è‡ªè‹¥çš„å›ç­”é“ï¼šä½¿ç”¨sortedsetï¼Œæ‹¿æ—¶é—´æˆ³ä½œä¸ºscoreï¼Œæ¶ˆæ¯å†…å®¹ä½œä¸ºkeyè°ƒç”¨zaddæ¥ç”Ÿäº§æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…ç”¨zrangebyscoreæŒ‡ä»¤è·å–Nç§’ä¹‹å‰çš„æ•°æ®è½®è¯¢è¿›è¡Œå¤„ç†ã€‚ åˆ°è¿™é‡Œï¼Œé¢è¯•å®˜æš—åœ°é‡Œå·²ç»å¯¹ä½ ç«–èµ·äº†å¤§æ‹‡æŒ‡ã€‚å¹¶ä¸”å·²ç»é»˜é»˜ç»™äº†ä½ A+ï¼Œä½†æ˜¯ä»–ä¸çŸ¥é“çš„æ˜¯æ­¤åˆ»ä½ å´ç«–èµ·äº†ä¸­æŒ‡ï¼Œåœ¨æ¤…å­èƒŒåã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:14","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¦‚æœå¯¹æ–¹ç©¶ætmè¿½é—®rediså¦‚ä½•å®ç°å»¶æ—¶é˜Ÿåˆ—"},{"categories":null,"content":"Redisæ˜¯æ€ä¹ˆæŒä¹…åŒ–çš„ï¼ŸæœåŠ¡ä¸»ä»æ•°æ®æ€ä¹ˆäº¤äº’çš„ï¼ŸRDBåšé•œåƒå…¨é‡æŒä¹…åŒ–ï¼ŒAOFåšå¢é‡æŒä¹…åŒ–ã€‚å› ä¸ºRDBä¼šè€—è´¹è¾ƒé•¿æ—¶é—´ï¼Œä¸å¤Ÿå®æ—¶ï¼Œåœ¨åœæœºçš„æ—¶å€™ä¼šå¯¼è‡´å¤§é‡ä¸¢å¤±æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦AOFæ¥é…åˆä½¿ç”¨ã€‚åœ¨rediså®ä¾‹é‡å¯æ—¶ï¼Œä¼šä½¿ç”¨RDBæŒä¹…åŒ–æ–‡ä»¶é‡æ–°æ„å»ºå†…å­˜ï¼Œå†ä½¿ç”¨AOFé‡æ”¾è¿‘æœŸçš„æ“ä½œæŒ‡ä»¤æ¥å®ç°å®Œæ•´æ¢å¤é‡å¯ä¹‹å‰çš„çŠ¶æ€ã€‚ è¿™é‡Œå¾ˆå¥½ç†è§£ï¼ŒæŠŠRDBç†è§£ä¸ºä¸€æ•´ä¸ªè¡¨å…¨é‡çš„æ•°æ®ï¼ŒAOFç†è§£ä¸ºæ¯æ¬¡æ“ä½œçš„æ—¥å¿—å°±å¥½äº†ï¼ŒæœåŠ¡å™¨é‡å¯çš„æ—¶å€™å…ˆæŠŠè¡¨çš„æ•°æ®å…¨éƒ¨æè¿›å»ï¼Œä½†æ˜¯ä»–å¯èƒ½ä¸å®Œæ•´ï¼Œä½ å†å›æ”¾ä¸€ä¸‹æ—¥å¿—ï¼Œæ•°æ®ä¸å°±å®Œæ•´äº†å˜›ã€‚ä¸è¿‡Redisæœ¬èº«çš„æœºåˆ¶æ˜¯ AOFæŒä¹…åŒ–å¼€å¯ä¸”å­˜åœ¨AOFæ–‡ä»¶æ—¶ï¼Œä¼˜å…ˆåŠ è½½AOFæ–‡ä»¶ï¼›AOFå…³é—­æˆ–è€…AOFæ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼ŒåŠ è½½RDBæ–‡ä»¶ï¼›åŠ è½½AOF/RDBæ–‡ä»¶åŸåï¼ŒRediså¯åŠ¨æˆåŠŸï¼› AOF/RDBæ–‡ä»¶å­˜åœ¨é”™è¯¯æ—¶ï¼ŒRediså¯åŠ¨å¤±è´¥å¹¶æ‰“å°é”™è¯¯ä¿¡æ¯ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:15","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#redisæ˜¯æ€ä¹ˆæŒä¹…åŒ–çš„æœåŠ¡ä¸»ä»æ•°æ®æ€ä¹ˆäº¤äº’çš„"},{"categories":null,"content":"å¯¹æ–¹è¿½é—®é‚£å¦‚æœçªç„¶æœºå™¨æ‰ç”µä¼šæ€æ ·ï¼Ÿå–å†³äºAOFæ—¥å¿—syncå±æ€§çš„é…ç½®ï¼Œå¦‚æœä¸è¦æ±‚æ€§èƒ½ï¼Œåœ¨æ¯æ¡å†™æŒ‡ä»¤æ—¶éƒ½syncä¸€ä¸‹ç£ç›˜ï¼Œå°±ä¸ä¼šä¸¢å¤±æ•°æ®ã€‚ä½†æ˜¯åœ¨é«˜æ€§èƒ½çš„è¦æ±‚ä¸‹æ¯æ¬¡éƒ½syncæ˜¯ä¸ç°å®çš„ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨å®šæ—¶syncï¼Œæ¯”å¦‚1s1æ¬¡ï¼Œè¿™ä¸ªæ—¶å€™æœ€å¤šå°±ä¼šä¸¢å¤±1sçš„æ•°æ®ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:16","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¯¹æ–¹è¿½é—®é‚£å¦‚æœçªç„¶æœºå™¨æ‰ç”µä¼šæ€æ ·"},{"categories":null,"content":"å¯¹æ–¹è¿½é—®RDBçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä½ ç»™å‡ºä¸¤ä¸ªè¯æ±‡å°±å¯ä»¥äº†ï¼Œforkå’Œcowã€‚forkæ˜¯æŒ‡redisé€šè¿‡åˆ›å»ºå­è¿›ç¨‹æ¥è¿›è¡ŒRDBæ“ä½œï¼ŒcowæŒ‡çš„æ˜¯copy on writeï¼Œå­è¿›ç¨‹åˆ›å»ºåï¼Œçˆ¶å­è¿›ç¨‹å…±äº«æ•°æ®æ®µï¼Œçˆ¶è¿›ç¨‹ç»§ç»­æä¾›è¯»å†™æœåŠ¡ï¼Œå†™è„çš„é¡µé¢æ•°æ®ä¼šé€æ¸å’Œå­è¿›ç¨‹åˆ†ç¦»å¼€æ¥ã€‚ ******æ³¨ï¼šå›ç­”è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå¦‚æœä½ è¿˜èƒ½è¯´å‡ºAOFå’ŒRDBçš„ä¼˜ç¼ºç‚¹ï¼Œæˆ‘è§‰å¾—æˆ‘æ˜¯é¢è¯•å®˜åœ¨è¿™ä¸ªé—®é¢˜ä¸Šæˆ‘ä¼šç»™ä½ ç‚¹èµï¼Œä¸¤è€…å…¶å®åŒºåˆ«è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œè€Œä¸”æ¶‰åŠåˆ°Redisé›†ç¾¤çš„æ•°æ®åŒæ­¥é—®é¢˜ç­‰ç­‰ã€‚æƒ³äº†è§£çš„ä¼™ä¼´ä¹Ÿå¯ä»¥ç•™è¨€ï¼Œæˆ‘ä¼šä¸“é—¨å†™ä¸€ç¯‡æ¥ä»‹ç»çš„ã€‚ ****** ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:17","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¯¹æ–¹è¿½é—®rdbçš„åŸç†æ˜¯ä»€ä¹ˆ"},{"categories":null,"content":"Pipelineæœ‰ä»€ä¹ˆå¥½å¤„ï¼Œä¸ºä»€ä¹ˆè¦ç”¨pipelineï¼Ÿå¯ä»¥å°†å¤šæ¬¡IOå¾€è¿”çš„æ—¶é—´ç¼©å‡ä¸ºä¸€æ¬¡ï¼Œå‰ææ˜¯pipelineæ‰§è¡Œçš„æŒ‡ä»¤ä¹‹é—´æ²¡æœ‰å› æœç›¸å…³æ€§ã€‚ä½¿ç”¨redis-benchmarkè¿›è¡Œå‹æµ‹çš„æ—¶å€™å¯ä»¥å‘ç°å½±å“redisçš„QPSå³°å€¼çš„ä¸€ä¸ªé‡è¦å› ç´ æ˜¯pipelineæ‰¹æ¬¡æŒ‡ä»¤çš„æ•°ç›®ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:18","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#pipelineæœ‰ä»€ä¹ˆå¥½å¤„ä¸ºä»€ä¹ˆè¦ç”¨pipeline"},{"categories":null,"content":"Redisçš„åŒæ­¥æœºåˆ¶äº†è§£ä¹ˆï¼ŸRediså¯ä»¥ä½¿ç”¨ä¸»ä»åŒæ­¥ï¼Œä»ä»åŒæ­¥ã€‚ç¬¬ä¸€æ¬¡åŒæ­¥æ—¶ï¼Œä¸»èŠ‚ç‚¹åšä¸€æ¬¡bgsaveï¼Œå¹¶åŒæ—¶å°†åç»­ä¿®æ”¹æ“ä½œè®°å½•åˆ°å†…å­˜bufferï¼Œå¾…å®Œæˆåå°†RDBæ–‡ä»¶å…¨é‡åŒæ­¥åˆ°å¤åˆ¶èŠ‚ç‚¹ï¼Œå¤åˆ¶èŠ‚ç‚¹æ¥å—å®Œæˆåå°†RDBé•œåƒåŠ è½½åˆ°å†…å­˜ã€‚åŠ è½½å®Œæˆåï¼Œå†é€šçŸ¥ä¸»èŠ‚ç‚¹å°†æœŸé—´ä¿®æ”¹çš„æ“ä½œè®°å½•åŒæ­¥åˆ°å¤åˆ¶èŠ‚ç‚¹è¿›è¡Œé‡æ”¾å°±å®Œæˆäº†åŒæ­¥è¿‡ç¨‹ã€‚åç»­çš„å¢é‡æ•°æ®é€šè¿‡AOFæ—¥å¿—åŒæ­¥å³å¯ï¼Œæœ‰ç‚¹ç±»ä¼¼æ•°æ®åº“çš„binlogã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:19","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#redisçš„åŒæ­¥æœºåˆ¶äº†è§£ä¹ˆ"},{"categories":null,"content":"æ˜¯å¦ä½¿ç”¨è¿‡Redisé›†ç¾¤ï¼Œé›†ç¾¤çš„é«˜å¯ç”¨æ€ä¹ˆä¿è¯ï¼Œé›†ç¾¤çš„åŸç†æ˜¯ä»€ä¹ˆï¼ŸRedis Sentinalç€çœ¼äºé«˜å¯ç”¨ï¼Œåœ¨masterå®•æœºæ—¶ä¼šè‡ªåŠ¨å°†slaveæå‡ä¸ºmasterï¼Œç»§ç»­æä¾›æœåŠ¡ã€‚ Redis Clusterç€çœ¼äºæ‰©å±•æ€§ï¼Œåœ¨å•ä¸ªrediså†…å­˜ä¸è¶³æ—¶ï¼Œä½¿ç”¨Clusterè¿›è¡Œåˆ†ç‰‡å­˜å‚¨ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:1:20","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#æ˜¯å¦ä½¿ç”¨è¿‡redisé›†ç¾¤é›†ç¾¤çš„é«˜å¯ç”¨æ€ä¹ˆä¿è¯é›†ç¾¤çš„åŸç†æ˜¯ä»€ä¹ˆ"},{"categories":null,"content":"é¢è¯•ç»“æŸ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:2:0","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#é¢è¯•ç»“æŸ"},{"categories":null,"content":"å°ä¼™å­ä½ å¯ä»¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æœ‰æ—¶é—´æ¥ä¸Šç­å•Šï¼Œè¦ä¸æ˜å¤©å°±æ¥å§ï¼Ÿä½ å¼ºè£…é•‡å®šï¼Œè¿™ä¹ˆæ€¥å•Šæˆ‘è¿˜éœ€è¦ç§Ÿæˆ¿ï¼Œè¦ä¸ä¸‹ç¤¼æ‹œä¸€å§ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:2:1","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å°ä¼™å­ä½ å¯ä»¥çš„ä»€ä¹ˆæ—¶å€™æœ‰æ—¶é—´æ¥ä¸Šç­å•Šè¦ä¸æ˜å¤©å°±æ¥å§"},{"categories":null,"content":"å¥½çš„ å¿ƒæƒ³è¿™å°å­è¿™ä¹ˆNBæ˜¯ä¸æ˜¯å¾ˆå¤šOfferåœ¨æ‰‹ä¸Šï¼Œä¸è¡Œæˆ‘å¾—å«hrç»™ä»–åŠ é’±ã€‚èƒ½æ’‘åˆ°æœ€åï¼Œä½ è‡ªå·±éƒ½å¿ä¸ä½è‡ªå·±ç»™è‡ªå·±ç‚¹ä¸ªèµäº†! ï¼ˆæš—ç¤ºç‚¹èµï¼Œæ¯æ¬¡éƒ½çœ‹äº†ä¸ç‚¹èµï¼Œä½ ä»¬æƒ³ç™½å«–æˆ‘ä¹ˆï¼Ÿä½ ä»¬å¥½åå–²ï¼Œä¸è¿‡æˆ‘å–œæ¬¢ï¼‰ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:2:2","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#å¥½çš„-å¿ƒæƒ³è¿™å°å­è¿™ä¹ˆnbæ˜¯ä¸æ˜¯å¾ˆå¤šofferåœ¨æ‰‹ä¸Šä¸è¡Œæˆ‘å¾—å«hrç»™ä»–åŠ é’±"},{"categories":null,"content":"æ€»ç»“åœ¨æŠ€æœ¯é¢è¯•çš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯Redisè¿˜æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœä½ èƒ½ä¸¾å‡ºå®é™…çš„ä¾‹å­ï¼Œæˆ–è€…æ˜¯ç›´æ¥è¯´è‡ªå·±å¼€å‘è¿‡ç¨‹çš„é—®é¢˜å’Œæ”¶è·ä¼šç»™é¢è¯•å®˜çš„å°è±¡åˆ†ä¼šåŠ å¾ˆå¤šï¼Œå›ç­”é€»è¾‘æ€§ä¹Ÿè¦å¼ºä¸€ç‚¹ï¼Œä¸è¦ä¸œä¸€ç‚¹è¥¿ä¸€ç‚¹ï¼Œå®¹æ˜“æŠŠè‡ªå·±éƒ½ç»•æ™•çš„ã€‚ è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯æˆ‘é—®ä½ ä¸ºå•¥ç”¨Redisä½ ä¸è¦ä¸€ä¸Šæ¥å°±ç›´æ¥å›ç­”é—®é¢˜äº†ï¼Œä½ å¯ä»¥è¿™æ ·å›ç­”ï¼š å¸…æ°”çš„é¢è¯•å®˜æ‚¨å¥½ï¼Œé¦–å…ˆæˆ‘ä»¬çš„é¡¹ç›®DBé‡åˆ°äº†ç“¶é¢ˆï¼Œç‰¹åˆ«æ˜¯ç§’æ€å’Œçƒ­ç‚¹æ•°æ®è¿™æ ·çš„åœºæ™¯DBåŸºæœ¬ä¸Šå°±æ‰›ä¸ä½äº†ï¼Œé‚£å°±éœ€è¦ç¼“å­˜ä¸­é—´ä»¶çš„åŠ å…¥äº†ï¼Œç›®å‰å¸‚é¢ä¸Šæœ‰çš„ç¼“å­˜ä¸­é—´ä»¶æœ‰ Redis å’Œ Memcached ï¼Œä»–ä»¬çš„ä¼˜ç¼ºç‚¹â€¦â€¦ï¼Œç»¼åˆè¿™äº›ç„¶åå†ç»“åˆæˆ‘ä»¬é¡¹ç›®ç‰¹ç‚¹ï¼Œæœ€åæˆ‘ä»¬åœ¨æŠ€æœ¯é€‰å‹çš„æ—¶å€™é€‰äº†è°ã€‚ å¦‚æœä½ è¿™æ ·æœ‰æ¡ä¸ç´Šï¼Œæœ‰ç†æœ‰æ®çš„å›ç­”äº†æˆ‘çš„é—®é¢˜è€Œä¸”è¿˜è¯´å‡ºè¿™ä¹ˆå¤šæˆ‘é—®é¢˜å¤–çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä¼šè§‰å¾—ä½ ä¸åªæ˜¯ä¸€ä¸ªä¼šå†™ä»£ç çš„äººï¼Œä½ é€»è¾‘æ¸…æ™°ï¼Œä½ å¯¹æŠ€æœ¯é€‰å‹ï¼Œå¯¹ä¸­é—´ä»¶å¯¹é¡¹ç›®éƒ½æœ‰è‡ªå·±çš„ç†è§£å’Œæ€è€ƒï¼Œè¯´ç™½äº†å°±æ˜¯ä½ çš„offeræœ‰æˆäº†ã€‚ å¥½äº† ä»¥ä¸Šå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨å†…å®¹äº†ï¼Œæˆ‘åé¢ä¼šä¸æ–­æ›´æ–°ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å’ŒJavaæŠ€æœ¯æ ˆç›¸å…³çš„æ–‡ç« ã€‚å¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„ï¼Œä¹Ÿå¯ä»¥ç•™è¨€ç»™æˆ‘ï¼Œæˆ‘ä¸€æœ‰æ—¶é—´å°±ä¼šå†™å‡ºæ¥ï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚ éå¸¸æ„Ÿè°¢æ‚¨èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè¿™ä¸ªæ–‡ç« å†™å¾—è¿˜ä¸é”™çš„è¯ æ±‚ç‚¹èµ æ±‚å…³æ³¨ æ±‚åˆ†äº« æ±‚ç•™è¨€ å„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼ŒOKå„ä½æˆ‘ä»¬ä¸‹æœŸè§ï¼ æ•–ä¸™ | æ–‡ åé¢ä¼šæŒç»­æ›´æ–°ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ç¬¬ä¸€æ—¶é—´é˜…è¯»ï¼Œä¹Ÿä¼šæœ‰æœ‹å‹ä¸€çº¿å¤§å‚çš„å†…æ¨æœºä¼šä¸å®šæœŸæ¨å‡ºï¼ˆå­—èŠ‚è·³åŠ¨ï¼Œé˜¿é‡Œï¼Œç½‘æ˜“ï¼ŒPDDï¼Œæ»´æ»´ï¼Œè˜‘è‡è¡—ç­‰ï¼‰ï¼Œå°±ä¸šä¸Šæœ‰ä»€ä¹ˆé—®é¢˜ä¹Ÿå¯ä»¥ç›´æ¥å¾®ä¿¡æ»´æ»´æˆ‘ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸ªæ–°äººï¼Œä¸è¿‡ä¸å½±å“æˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼Œä½œä¸ºæ¸£ç”·ï¼Œæˆ‘ç»™ä¸äº†ä½ å·¥ä½œï¼Œè¿˜ç»™ä¸äº†ä½ æ¸©æš–å˜›ï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/:3:0","series":null,"tags":["redis"],"title":"redisåŸºç¡€","uri":"/posts/middleware/redis/redis%E5%9F%BA%E7%A1%80/#æ€»ç»“"},{"categories":null,"content":" ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ GitHubä¸Šå·²ç»å¼€æºhttps://github.com/Javaâ€¦ï¼Œæœ‰é¢è¯•ç‚¹æ€ç»´å¯¼å›¾ï¼Œæ¬¢è¿Starå’Œå®Œå–„ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#"},{"categories":null,"content":"å‰è¨€Redisåœ¨äº’è”ç½‘æŠ€æœ¯å­˜å‚¨æ–¹é¢ä½¿ç”¨å¦‚æ­¤å¹¿æ³›ï¼Œå‡ ä¹æ‰€æœ‰çš„åç«¯æŠ€æœ¯é¢è¯•å®˜éƒ½è¦åœ¨Redisçš„ä½¿ç”¨å’ŒåŸç†æ–¹é¢å¯¹å°ä¼™ä¼´ä»¬è¿›è¡Œ360Â°çš„åˆéš¾ã€‚ ä½œä¸ºä¸€ä¸ªåœ¨äº’è”ç½‘å…¬å¸é¢ä¸€æ¬¡æ‹¿ä¸€æ¬¡Offerçš„é¢éœ¸ï¼Œæ‰“è´¥äº†æ— æ•°ç«äº‰å¯¹æ‰‹ï¼Œæ¯æ¬¡éƒ½åªèƒ½çœ‹åˆ°æ— æ•°è½å¯çš„èº«å½±å¤±æœ›çš„ç¦»å¼€ï¼Œç•¥æ„Ÿæ„§ç–šï¼ˆè¯·å…è®¸æˆ‘ä½¿ç”¨ä¸€ä¸‹å¤¸å¼ çš„ä¿®è¾æ‰‹æ³•ï¼‰ã€‚ äºæ˜¯åœ¨ä¸€ä¸ªå¯‚å¯éš¾è€çš„å¤œæ™šï¼Œæˆ‘ç—›å®šæ€ç—›ï¼Œå†³å®šå¼€å§‹å†™**ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹**ç³»åˆ—ï¼Œå¸Œæœ›èƒ½å¸®åŠ©å„ä½è¯»è€…ä»¥åé¢è¯•åŠ¿å¦‚ç ´ç«¹ï¼Œå¯¹é¢è¯•å®˜è¿›è¡Œ360Â°çš„åå‡»ï¼ŒåŠæ‰“é—®ä½ çš„é¢è¯•å®˜ï¼Œè®©ä¸€åŒé¢è¯•çš„åŒåƒšç ç›®ç»“èˆŒï¼Œç–¯ç‹‚æ”¶å‰²å¤§å‚Offerï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#å‰è¨€"},{"categories":null,"content":"çµ®å¨ä¸Šä¸€æœŸå› ä¸ºæ˜¯åœ¨åŒåä¸€ä¸€ç›´åœ¨ç†¬å¤œçš„å¤§ç¯å¢ƒä¸‹å®Œæˆçš„ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±è§‰å¾—è´¨é‡æ˜æ˜¾æ²¡ä¹‹å‰çš„å¥½ï¼Œæˆ‘è¿™ä¸ä¸€ç¡å¥½å°±åŠ ç­åŠ ç‚¹å‡†å¤‡è¡¥å¿å¤§å®¶ï¼Œæ¥ç‚¹å¹²è´§ã€‚ï¼ˆç†¬å¤œå¤ªå®¹æ˜“æ„Ÿå†’äº†ï¼Œè¿™æ¬¡ç‚¹ä¸ªèµåˆ«ç™½å«–äº†ï¼ï¼‰ é¡ºå¸¦æä¸€å˜´ï¼Œæˆ‘æŠŠæˆ‘å‡†å¤‡å†™å•¥ç”»äº†ä¸€ä¸ªæ€ç»´å¯¼å›¾ï¼Œä»¥åæ€»ä¸èƒ½æ¯ç¯‡éƒ½æ”¾ä¸ªè´¼å¤§çš„å›¾å§ï¼Œå°±å¼€æºåˆ°äº†æˆ‘çš„**GitHubï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å»å®Œå–„å’ŒStar**ã€‚ è¿™ç¯‡æˆ‘å°±å…ˆæ”¾å‡ºæ¥å¤§å®¶çœ‹çœ‹ï¼Œæ„Ÿè§‰è¿˜æ˜¯å·®ç‚¹æ„æ€ï¼Œç­‰å¤§å®¶å®Œå–„äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:2:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#çµ®å¨"},{"categories":null,"content":"å›æœ›è¿‡å»ä¸Šä¸€æœŸåŠæ‰“ç³»åˆ—æˆ‘ä»¬æåˆ°äº†Redisç›¸å…³çš„ä¸€äº›çŸ¥è¯†ï¼Œè¿˜æ²¡çœ‹çš„å°ä¼™ä¼´å¯ä»¥å›é¡¾ä¸€ä¸‹ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« -å‡›å†¬å°†è‡³ã€FPX-æ–°ç‹ç™»åŸº è¿™æœŸæˆ‘å°±ä»ç¼“å­˜åˆ°ä¸€äº›å¸¸è§çš„é—®é¢˜è®²ä¸€ä¸‹ï¼Œæœ‰ä¸€äº›æˆ‘æ˜¯ä¹‹å‰æåˆ°è¿‡çš„ï¼Œä¸è¿‡å¯èƒ½å¤§éƒ¨åˆ†ä»”æ˜¯ç¬¬ä¸€æ¬¡çœ‹ï¼Œæˆ‘å°±é‡å¤å‘ä¸€ä¸‹ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#å›æœ›è¿‡å»"},{"categories":null,"content":"ç¼“å­˜çŸ¥è¯†ç‚¹","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:1","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¼“å­˜çŸ¥è¯†ç‚¹"},{"categories":null,"content":"ç¼“å­˜çŸ¥è¯†ç‚¹","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:1","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#httpswwwlgstaticcomiimage2m018acacgob5l14rxsawvk7aafdi6ly8im148png"},{"categories":null,"content":"ç¼“å­˜æœ‰å“ªäº›ç±»å‹ï¼Ÿç¼“å­˜æ˜¯é«˜å¹¶å‘åœºæ™¯ä¸‹æé«˜çƒ­ç‚¹æ•°æ®è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªæœ‰æ•ˆæ‰‹æ®µï¼Œåœ¨å¼€å‘é¡¹ç›®æ—¶ä¼šç»å¸¸ä½¿ç”¨åˆ°ã€‚ ç¼“å­˜çš„ç±»å‹åˆ†ä¸ºï¼šæœ¬åœ°ç¼“å­˜ã€åˆ†å¸ƒå¼ç¼“å­˜å’Œå¤šçº§ç¼“å­˜ã€‚ æœ¬åœ°ç¼“å­˜ï¼šæœ¬åœ°ç¼“å­˜å°±æ˜¯åœ¨è¿›ç¨‹çš„å†…å­˜ä¸­è¿›è¡Œç¼“å­˜ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ JVM å †ä¸­ï¼Œå¯ä»¥ç”¨ LRUMap æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Ehcache è¿™æ ·çš„å·¥å…·æ¥å®ç°ã€‚ æœ¬åœ°ç¼“å­˜æ˜¯å†…å­˜è®¿é—®ï¼Œæ²¡æœ‰è¿œç¨‹äº¤äº’å¼€é”€ï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯å—é™äºå•æœºå®¹é‡ï¼Œä¸€èˆ¬ç¼“å­˜è¾ƒå°ä¸”æ— æ³•æ‰©å±•ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ï¼šåˆ†å¸ƒå¼ç¼“å­˜å¯ä»¥å¾ˆå¥½å¾—è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ä¸€èˆ¬éƒ½å…·æœ‰è‰¯å¥½çš„æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼Œå¯¹è¾ƒå¤§æ•°æ®é‡çš„åœºæ™¯ä¹Ÿèƒ½åº”ä»˜è‡ªå¦‚ã€‚ç¼ºç‚¹å°±æ˜¯éœ€è¦è¿›è¡Œè¿œç¨‹è¯·æ±‚ï¼Œæ€§èƒ½ä¸å¦‚æœ¬åœ°ç¼“å­˜ã€‚ å¤šçº§ç¼“å­˜ï¼šä¸ºäº†å¹³è¡¡è¿™ç§æƒ…å†µï¼Œå®é™…ä¸šåŠ¡ä¸­ä¸€èˆ¬é‡‡ç”¨å¤šçº§ç¼“å­˜ï¼Œæœ¬åœ°ç¼“å­˜åªä¿å­˜è®¿é—®é¢‘ç‡æœ€é«˜çš„éƒ¨åˆ†çƒ­ç‚¹æ•°æ®ï¼Œå…¶ä»–çš„çƒ­ç‚¹æ•°æ®æ”¾åœ¨åˆ†å¸ƒå¼ç¼“å­˜ä¸­ã€‚ åœ¨ç›®å‰çš„ä¸€çº¿å¤§å‚ä¸­ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ç¼“å­˜æ–¹æ¡ˆï¼Œå•è€ƒå•ä¸€çš„ç¼“å­˜æ–¹æ¡ˆå¾€å¾€éš¾ä»¥æ’‘ä½å¾ˆå¤šé«˜å¹¶å‘çš„åœºæ™¯ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¼“å­˜æœ‰å“ªäº›ç±»å‹"},{"categories":null,"content":"ç¼“å­˜æœ‰å“ªäº›ç±»å‹ï¼Ÿç¼“å­˜æ˜¯é«˜å¹¶å‘åœºæ™¯ä¸‹æé«˜çƒ­ç‚¹æ•°æ®è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªæœ‰æ•ˆæ‰‹æ®µï¼Œåœ¨å¼€å‘é¡¹ç›®æ—¶ä¼šç»å¸¸ä½¿ç”¨åˆ°ã€‚ ç¼“å­˜çš„ç±»å‹åˆ†ä¸ºï¼šæœ¬åœ°ç¼“å­˜ã€åˆ†å¸ƒå¼ç¼“å­˜å’Œå¤šçº§ç¼“å­˜ã€‚ æœ¬åœ°ç¼“å­˜ï¼šæœ¬åœ°ç¼“å­˜å°±æ˜¯åœ¨è¿›ç¨‹çš„å†…å­˜ä¸­è¿›è¡Œç¼“å­˜ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ JVM å †ä¸­ï¼Œå¯ä»¥ç”¨ LRUMap æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Ehcache è¿™æ ·çš„å·¥å…·æ¥å®ç°ã€‚ æœ¬åœ°ç¼“å­˜æ˜¯å†…å­˜è®¿é—®ï¼Œæ²¡æœ‰è¿œç¨‹äº¤äº’å¼€é”€ï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯å—é™äºå•æœºå®¹é‡ï¼Œä¸€èˆ¬ç¼“å­˜è¾ƒå°ä¸”æ— æ³•æ‰©å±•ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ï¼šåˆ†å¸ƒå¼ç¼“å­˜å¯ä»¥å¾ˆå¥½å¾—è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ä¸€èˆ¬éƒ½å…·æœ‰è‰¯å¥½çš„æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼Œå¯¹è¾ƒå¤§æ•°æ®é‡çš„åœºæ™¯ä¹Ÿèƒ½åº”ä»˜è‡ªå¦‚ã€‚ç¼ºç‚¹å°±æ˜¯éœ€è¦è¿›è¡Œè¿œç¨‹è¯·æ±‚ï¼Œæ€§èƒ½ä¸å¦‚æœ¬åœ°ç¼“å­˜ã€‚ å¤šçº§ç¼“å­˜ï¼šä¸ºäº†å¹³è¡¡è¿™ç§æƒ…å†µï¼Œå®é™…ä¸šåŠ¡ä¸­ä¸€èˆ¬é‡‡ç”¨å¤šçº§ç¼“å­˜ï¼Œæœ¬åœ°ç¼“å­˜åªä¿å­˜è®¿é—®é¢‘ç‡æœ€é«˜çš„éƒ¨åˆ†çƒ­ç‚¹æ•°æ®ï¼Œå…¶ä»–çš„çƒ­ç‚¹æ•°æ®æ”¾åœ¨åˆ†å¸ƒå¼ç¼“å­˜ä¸­ã€‚ åœ¨ç›®å‰çš„ä¸€çº¿å¤§å‚ä¸­ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ç¼“å­˜æ–¹æ¡ˆï¼Œå•è€ƒå•ä¸€çš„ç¼“å­˜æ–¹æ¡ˆå¾€å¾€éš¾ä»¥æ’‘ä½å¾ˆå¤šé«˜å¹¶å‘çš„åœºæ™¯ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#æœ¬åœ°ç¼“å­˜"},{"categories":null,"content":"ç¼“å­˜æœ‰å“ªäº›ç±»å‹ï¼Ÿç¼“å­˜æ˜¯é«˜å¹¶å‘åœºæ™¯ä¸‹æé«˜çƒ­ç‚¹æ•°æ®è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªæœ‰æ•ˆæ‰‹æ®µï¼Œåœ¨å¼€å‘é¡¹ç›®æ—¶ä¼šç»å¸¸ä½¿ç”¨åˆ°ã€‚ ç¼“å­˜çš„ç±»å‹åˆ†ä¸ºï¼šæœ¬åœ°ç¼“å­˜ã€åˆ†å¸ƒå¼ç¼“å­˜å’Œå¤šçº§ç¼“å­˜ã€‚ æœ¬åœ°ç¼“å­˜ï¼šæœ¬åœ°ç¼“å­˜å°±æ˜¯åœ¨è¿›ç¨‹çš„å†…å­˜ä¸­è¿›è¡Œç¼“å­˜ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ JVM å †ä¸­ï¼Œå¯ä»¥ç”¨ LRUMap æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Ehcache è¿™æ ·çš„å·¥å…·æ¥å®ç°ã€‚ æœ¬åœ°ç¼“å­˜æ˜¯å†…å­˜è®¿é—®ï¼Œæ²¡æœ‰è¿œç¨‹äº¤äº’å¼€é”€ï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯å—é™äºå•æœºå®¹é‡ï¼Œä¸€èˆ¬ç¼“å­˜è¾ƒå°ä¸”æ— æ³•æ‰©å±•ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ï¼šåˆ†å¸ƒå¼ç¼“å­˜å¯ä»¥å¾ˆå¥½å¾—è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ä¸€èˆ¬éƒ½å…·æœ‰è‰¯å¥½çš„æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼Œå¯¹è¾ƒå¤§æ•°æ®é‡çš„åœºæ™¯ä¹Ÿèƒ½åº”ä»˜è‡ªå¦‚ã€‚ç¼ºç‚¹å°±æ˜¯éœ€è¦è¿›è¡Œè¿œç¨‹è¯·æ±‚ï¼Œæ€§èƒ½ä¸å¦‚æœ¬åœ°ç¼“å­˜ã€‚ å¤šçº§ç¼“å­˜ï¼šä¸ºäº†å¹³è¡¡è¿™ç§æƒ…å†µï¼Œå®é™…ä¸šåŠ¡ä¸­ä¸€èˆ¬é‡‡ç”¨å¤šçº§ç¼“å­˜ï¼Œæœ¬åœ°ç¼“å­˜åªä¿å­˜è®¿é—®é¢‘ç‡æœ€é«˜çš„éƒ¨åˆ†çƒ­ç‚¹æ•°æ®ï¼Œå…¶ä»–çš„çƒ­ç‚¹æ•°æ®æ”¾åœ¨åˆ†å¸ƒå¼ç¼“å­˜ä¸­ã€‚ åœ¨ç›®å‰çš„ä¸€çº¿å¤§å‚ä¸­ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ç¼“å­˜æ–¹æ¡ˆï¼Œå•è€ƒå•ä¸€çš„ç¼“å­˜æ–¹æ¡ˆå¾€å¾€éš¾ä»¥æ’‘ä½å¾ˆå¤šé«˜å¹¶å‘çš„åœºæ™¯ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#åˆ†å¸ƒå¼ç¼“å­˜"},{"categories":null,"content":"ç¼“å­˜æœ‰å“ªäº›ç±»å‹ï¼Ÿç¼“å­˜æ˜¯é«˜å¹¶å‘åœºæ™¯ä¸‹æé«˜çƒ­ç‚¹æ•°æ®è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªæœ‰æ•ˆæ‰‹æ®µï¼Œåœ¨å¼€å‘é¡¹ç›®æ—¶ä¼šç»å¸¸ä½¿ç”¨åˆ°ã€‚ ç¼“å­˜çš„ç±»å‹åˆ†ä¸ºï¼šæœ¬åœ°ç¼“å­˜ã€åˆ†å¸ƒå¼ç¼“å­˜å’Œå¤šçº§ç¼“å­˜ã€‚ æœ¬åœ°ç¼“å­˜ï¼šæœ¬åœ°ç¼“å­˜å°±æ˜¯åœ¨è¿›ç¨‹çš„å†…å­˜ä¸­è¿›è¡Œç¼“å­˜ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ JVM å †ä¸­ï¼Œå¯ä»¥ç”¨ LRUMap æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Ehcache è¿™æ ·çš„å·¥å…·æ¥å®ç°ã€‚ æœ¬åœ°ç¼“å­˜æ˜¯å†…å­˜è®¿é—®ï¼Œæ²¡æœ‰è¿œç¨‹äº¤äº’å¼€é”€ï¼Œæ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯å—é™äºå•æœºå®¹é‡ï¼Œä¸€èˆ¬ç¼“å­˜è¾ƒå°ä¸”æ— æ³•æ‰©å±•ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ï¼šåˆ†å¸ƒå¼ç¼“å­˜å¯ä»¥å¾ˆå¥½å¾—è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ä¸€èˆ¬éƒ½å…·æœ‰è‰¯å¥½çš„æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼Œå¯¹è¾ƒå¤§æ•°æ®é‡çš„åœºæ™¯ä¹Ÿèƒ½åº”ä»˜è‡ªå¦‚ã€‚ç¼ºç‚¹å°±æ˜¯éœ€è¦è¿›è¡Œè¿œç¨‹è¯·æ±‚ï¼Œæ€§èƒ½ä¸å¦‚æœ¬åœ°ç¼“å­˜ã€‚ å¤šçº§ç¼“å­˜ï¼šä¸ºäº†å¹³è¡¡è¿™ç§æƒ…å†µï¼Œå®é™…ä¸šåŠ¡ä¸­ä¸€èˆ¬é‡‡ç”¨å¤šçº§ç¼“å­˜ï¼Œæœ¬åœ°ç¼“å­˜åªä¿å­˜è®¿é—®é¢‘ç‡æœ€é«˜çš„éƒ¨åˆ†çƒ­ç‚¹æ•°æ®ï¼Œå…¶ä»–çš„çƒ­ç‚¹æ•°æ®æ”¾åœ¨åˆ†å¸ƒå¼ç¼“å­˜ä¸­ã€‚ åœ¨ç›®å‰çš„ä¸€çº¿å¤§å‚ä¸­ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ç¼“å­˜æ–¹æ¡ˆï¼Œå•è€ƒå•ä¸€çš„ç¼“å­˜æ–¹æ¡ˆå¾€å¾€éš¾ä»¥æ’‘ä½å¾ˆå¤šé«˜å¹¶å‘çš„åœºæ™¯ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#å¤šçº§ç¼“å­˜"},{"categories":null,"content":"æ·˜æ±°ç­–ç•¥ä¸ç®¡æ˜¯æœ¬åœ°ç¼“å­˜è¿˜æ˜¯åˆ†å¸ƒå¼ç¼“å­˜ï¼Œä¸ºäº†ä¿è¯è¾ƒé«˜æ€§èƒ½ï¼Œéƒ½æ˜¯ä½¿ç”¨å†…å­˜æ¥ä¿å­˜æ•°æ®ï¼Œç”±äºæˆæœ¬å’Œå†…å­˜é™åˆ¶ï¼Œå½“å­˜å‚¨çš„æ•°æ®è¶…è¿‡ç¼“å­˜å®¹é‡æ—¶ï¼Œéœ€è¦å¯¹ç¼“å­˜çš„æ•°æ®è¿›è¡Œå‰”é™¤ã€‚ ä¸€èˆ¬çš„å‰”é™¤ç­–ç•¥æœ‰ FIFO æ·˜æ±°æœ€æ—©æ•°æ®ã€LRU å‰”é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨ã€å’Œ LFU å‰”é™¤æœ€è¿‘ä½¿ç”¨é¢‘ç‡æœ€ä½çš„æ•°æ®å‡ ç§ç­–ç•¥ã€‚ noeviction:è¿”å›é”™è¯¯å½“å†…å­˜é™åˆ¶è¾¾åˆ°å¹¶ä¸”å®¢æˆ·ç«¯å°è¯•æ‰§è¡Œä¼šè®©æ›´å¤šå†…å­˜è¢«ä½¿ç”¨çš„å‘½ä»¤ï¼ˆå¤§éƒ¨åˆ†çš„å†™å…¥æŒ‡ä»¤ï¼Œä½†DELå’Œå‡ ä¸ªä¾‹å¤–ï¼‰ allkeys-lru: å°è¯•å›æ”¶æœ€å°‘ä½¿ç”¨çš„é”®ï¼ˆLRUï¼‰ï¼Œä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ volatile-lru: å°è¯•å›æ”¶æœ€å°‘ä½¿ç”¨çš„é”®ï¼ˆLRUï¼‰ï¼Œä½†ä»…é™äºåœ¨è¿‡æœŸé›†åˆçš„é”®,ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ allkeys-random: å›æ”¶éšæœºçš„é”®ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ volatile-random: å›æ”¶éšæœºçš„é”®ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ï¼Œä½†ä»…é™äºåœ¨è¿‡æœŸé›†åˆçš„é”®ã€‚ volatile-ttl: å›æ”¶åœ¨è¿‡æœŸé›†åˆçš„é”®ï¼Œå¹¶ä¸”ä¼˜å…ˆå›æ”¶å­˜æ´»æ—¶é—´ï¼ˆTTLï¼‰è¾ƒçŸ­çš„é”®,ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ å¦‚æœæ²¡æœ‰é”®æ»¡è¶³å›æ”¶çš„å‰ææ¡ä»¶çš„è¯ï¼Œç­–ç•¥volatile-lru, volatile-randomä»¥åŠvolatile-ttlå°±å’Œnoeviction å·®ä¸å¤šäº†ã€‚ å…¶å®åœ¨å¤§å®¶ç†Ÿæ‚‰çš„LinkedHashMapä¸­ä¹Ÿå®ç°äº†Lruç®—æ³•çš„ï¼Œå®ç°å¦‚ä¸‹ï¼š å½“å®¹é‡è¶…è¿‡100æ—¶ï¼Œå¼€å§‹æ‰§è¡ŒLRUç­–ç•¥ï¼šå°†æœ€è¿‘æœ€å°‘æœªä½¿ç”¨çš„ TimeoutInfoHolder å¯¹è±¡ evict æ‰ã€‚ çœŸå®é¢è¯•ä¸­ä¼šè®©ä½ å†™LURç®—æ³•ï¼Œä½ å¯åˆ«æåŸå§‹çš„é‚£ä¸ªï¼Œé‚£çœŸTMå¤šï¼Œå†™ä¸å®Œçš„ï¼Œä½ è¦ä¹ˆæ€¼ä¸Šé¢è¿™ä¸ªï¼Œè¦ä¹ˆæ€¼ä¸‹é¢è¿™ä¸ªï¼Œæ‰¾ä¸€ä¸ªæ•°æ®ç»“æ„å®ç°ä¸‹Javaç‰ˆæœ¬çš„LRUè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼ŒçŸ¥é“å•¥åŸç†å°±å¥½äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#æ·˜æ±°ç­–ç•¥"},{"categories":null,"content":"Memcacheæ³¨æ„åé¢ä¼šæŠŠ Memcache ç®€ç§°ä¸º MCã€‚ å…ˆæ¥çœ‹çœ‹ MC çš„ç‰¹ç‚¹ï¼š MC å¤„ç†è¯·æ±‚æ—¶ä½¿ç”¨å¤šçº¿ç¨‹å¼‚æ­¥ IO çš„æ–¹å¼ï¼Œå¯ä»¥åˆç†åˆ©ç”¨ CPU å¤šæ ¸çš„ä¼˜åŠ¿ï¼Œæ€§èƒ½éå¸¸ä¼˜ç§€ï¼› MC åŠŸèƒ½ç®€å•ï¼Œä½¿ç”¨å†…å­˜å­˜å‚¨æ•°æ®ï¼› MC çš„å†…å­˜ç»“æ„ä»¥åŠé’™åŒ–é—®é¢˜æˆ‘å°±ä¸ç»†è¯´äº†ï¼Œå¤§å®¶å¯ä»¥æŸ¥çœ‹å®˜ç½‘äº†è§£ä¸‹ï¼› MC å¯¹ç¼“å­˜çš„æ•°æ®å¯ä»¥è®¾ç½®å¤±æ•ˆæœŸï¼Œè¿‡æœŸåçš„æ•°æ®ä¼šè¢«æ¸…é™¤ï¼› å¤±æ•ˆçš„ç­–ç•¥é‡‡ç”¨å»¶è¿Ÿå¤±æ•ˆï¼Œå°±æ˜¯å½“å†æ¬¡ä½¿ç”¨æ•°æ®æ—¶æ£€æŸ¥æ˜¯å¦å¤±æ•ˆï¼› å½“å®¹é‡å­˜æ»¡æ—¶ï¼Œä¼šå¯¹ç¼“å­˜ä¸­çš„æ•°æ®è¿›è¡Œå‰”é™¤ï¼Œå‰”é™¤æ—¶é™¤äº†ä¼šå¯¹è¿‡æœŸ key è¿›è¡Œæ¸…ç†ï¼Œè¿˜ä¼šæŒ‰ LRU ç­–ç•¥å¯¹æ•°æ®è¿›è¡Œå‰”é™¤ã€‚ å¦å¤–ï¼Œä½¿ç”¨ MC æœ‰ä¸€äº›é™åˆ¶ï¼Œè¿™äº›é™åˆ¶åœ¨ç°åœ¨çš„äº’è”ç½‘åœºæ™¯ä¸‹å¾ˆè‡´å‘½ï¼Œæˆä¸ºå¤§å®¶é€‰æ‹©Redisã€MongoDBçš„é‡è¦åŸå› ï¼š key ä¸èƒ½è¶…è¿‡ 250 ä¸ªå­—èŠ‚ï¼› value ä¸èƒ½è¶…è¿‡ 1M å­—èŠ‚ï¼› key çš„æœ€å¤§å¤±æ•ˆæ—¶é—´æ˜¯ 30 å¤©ï¼› åªæ”¯æŒ K-V ç»“æ„ï¼Œä¸æä¾›æŒä¹…åŒ–å’Œä¸»ä»åŒæ­¥åŠŸèƒ½ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:4","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#memcache"},{"categories":null,"content":"Rediså…ˆç®€å•è¯´ä¸€ä¸‹ Redis çš„ç‰¹ç‚¹ï¼Œæ–¹ä¾¿å’Œ MC æ¯”è¾ƒã€‚ ä¸ MC ä¸åŒçš„æ˜¯ï¼ŒRedis é‡‡ç”¨å•çº¿ç¨‹æ¨¡å¼å¤„ç†è¯·æ±‚ã€‚è¿™æ ·åšçš„åŸå› æœ‰ 2 ä¸ªï¼šä¸€ä¸ªæ˜¯å› ä¸ºé‡‡ç”¨äº†éé˜»å¡çš„å¼‚æ­¥äº‹ä»¶å¤„ç†æœºåˆ¶ï¼›å¦ä¸€ä¸ªæ˜¯ç¼“å­˜æ•°æ®éƒ½æ˜¯å†…å­˜æ“ä½œ IO æ—¶é—´ä¸ä¼šå¤ªé•¿ï¼Œå•çº¿ç¨‹å¯ä»¥é¿å…çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢äº§ç”Ÿçš„ä»£ä»·ã€‚ Redis æ”¯æŒæŒä¹…åŒ–ï¼Œæ‰€ä»¥ Redis ä¸ä»…ä»…å¯ä»¥ç”¨ä½œç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œ NoSQL æ•°æ®åº“ã€‚ ç›¸æ¯” MCï¼ŒRedis è¿˜æœ‰ä¸€ä¸ªéå¸¸å¤§çš„ä¼˜åŠ¿ï¼Œå°±æ˜¯é™¤äº† K-V ä¹‹å¤–ï¼Œè¿˜æ”¯æŒå¤šç§æ•°æ®æ ¼å¼ï¼Œä¾‹å¦‚ listã€setã€sorted setã€hash ç­‰ã€‚ Redis æä¾›ä¸»ä»åŒæ­¥æœºåˆ¶ï¼Œä»¥åŠ Cluster é›†ç¾¤éƒ¨ç½²èƒ½åŠ›ï¼Œèƒ½å¤Ÿæä¾›é«˜å¯ç”¨æœåŠ¡ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:5","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#redis"},{"categories":null,"content":"è¯¦è§£ RedisRedis çš„çŸ¥è¯†ç‚¹ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:1","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#è¯¦è§£-redis"},{"categories":null,"content":"åŠŸèƒ½æ¥çœ‹ Redis æä¾›çš„åŠŸèƒ½æœ‰å“ªäº›å§ï¼ æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹ï¼šStringï¼šString ç±»å‹æ˜¯ Redis ä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå†…éƒ¨çš„å®ç°æ˜¯é€šè¿‡ SDSï¼ˆSimple Dynamic String ï¼‰æ¥å­˜å‚¨çš„ã€‚SDS ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œå¯ä»¥é€šè¿‡é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼šè¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼šList æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼šSet æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼šSorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#åŠŸèƒ½"},{"categories":null,"content":"åŠŸèƒ½æ¥çœ‹ Redis æä¾›çš„åŠŸèƒ½æœ‰å“ªäº›å§ï¼ æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹ï¼šStringï¼šString ç±»å‹æ˜¯ Redis ä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå†…éƒ¨çš„å®ç°æ˜¯é€šè¿‡ SDSï¼ˆSimple Dynamic String ï¼‰æ¥å­˜å‚¨çš„ã€‚SDS ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œå¯ä»¥é€šè¿‡é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼šè¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼šList æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼šSet æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼šSorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹"},{"categories":null,"content":"åŠŸèƒ½æ¥çœ‹ Redis æä¾›çš„åŠŸèƒ½æœ‰å“ªäº›å§ï¼ æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹ï¼šStringï¼šString ç±»å‹æ˜¯ Redis ä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå†…éƒ¨çš„å®ç°æ˜¯é€šè¿‡ SDSï¼ˆSimple Dynamic String ï¼‰æ¥å­˜å‚¨çš„ã€‚SDS ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œå¯ä»¥é€šè¿‡é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼šè¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼šList æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼šSet æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼šSorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#string"},{"categories":null,"content":"åŠŸèƒ½æ¥çœ‹ Redis æä¾›çš„åŠŸèƒ½æœ‰å“ªäº›å§ï¼ æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹ï¼šStringï¼šString ç±»å‹æ˜¯ Redis ä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå†…éƒ¨çš„å®ç°æ˜¯é€šè¿‡ SDSï¼ˆSimple Dynamic String ï¼‰æ¥å­˜å‚¨çš„ã€‚SDS ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œå¯ä»¥é€šè¿‡é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼šè¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼šList æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼šSet æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼šSorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#hash"},{"categories":null,"content":"åŠŸèƒ½æ¥çœ‹ Redis æä¾›çš„åŠŸèƒ½æœ‰å“ªäº›å§ï¼ æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹ï¼šStringï¼šString ç±»å‹æ˜¯ Redis ä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå†…éƒ¨çš„å®ç°æ˜¯é€šè¿‡ SDSï¼ˆSimple Dynamic String ï¼‰æ¥å­˜å‚¨çš„ã€‚SDS ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œå¯ä»¥é€šè¿‡é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼šè¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼šList æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼šSet æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼šSorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#list"},{"categories":null,"content":"åŠŸèƒ½æ¥çœ‹ Redis æä¾›çš„åŠŸèƒ½æœ‰å“ªäº›å§ï¼ æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹ï¼šStringï¼šString ç±»å‹æ˜¯ Redis ä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå†…éƒ¨çš„å®ç°æ˜¯é€šè¿‡ SDSï¼ˆSimple Dynamic String ï¼‰æ¥å­˜å‚¨çš„ã€‚SDS ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œå¯ä»¥é€šè¿‡é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼šè¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼šList æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼šSet æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼šSorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#set"},{"categories":null,"content":"åŠŸèƒ½æ¥çœ‹ Redis æä¾›çš„åŠŸèƒ½æœ‰å“ªäº›å§ï¼ æˆ‘ä»¬å…ˆçœ‹åŸºç¡€ç±»å‹ï¼šStringï¼šString ç±»å‹æ˜¯ Redis ä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œå†…éƒ¨çš„å®ç°æ˜¯é€šè¿‡ SDSï¼ˆSimple Dynamic String ï¼‰æ¥å­˜å‚¨çš„ã€‚SDS ç±»ä¼¼äº Java ä¸­çš„ ArrayListï¼Œå¯ä»¥é€šè¿‡é¢„åˆ†é…å†—ä½™ç©ºé—´çš„æ–¹å¼æ¥å‡å°‘å†…å­˜çš„é¢‘ç¹åˆ†é…ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼šè¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼šList æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼šSet æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼šSorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:2","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#sorted-set"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#é«˜çº§ç”¨æ³•"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#bitmap-"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#hyperloglog"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#geospatial"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#pubsub"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#pipeline"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#lua"},{"categories":null,"content":"é«˜çº§ç”¨æ³•ï¼šBitmap :ä½å›¾æ˜¯æ”¯æŒæŒ‰ bit ä½æ¥å­˜å‚¨ä¿¡æ¯ï¼Œå¯ä»¥ç”¨æ¥å®ç° å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloomFilterï¼‰ï¼› HyperLogLog:ä¾›ä¸ç²¾ç¡®çš„å»é‡è®¡æ•°åŠŸèƒ½ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšå¤§è§„æ¨¡æ•°æ®çš„å»é‡ç»Ÿè®¡ï¼Œä¾‹å¦‚ç»Ÿè®¡ UVï¼› Geospatial:å¯ä»¥ç”¨æ¥ä¿å­˜åœ°ç†ä½ç½®ï¼Œå¹¶ä½œä½ç½®è·ç¦»è®¡ç®—æˆ–è€…æ ¹æ®åŠå¾„è®¡ç®—ä½ç½®ç­‰ã€‚æœ‰æ²¡æœ‰æƒ³è¿‡ç”¨Redisæ¥å®ç°é™„è¿‘çš„äººï¼Ÿæˆ–è€…è®¡ç®—æœ€ä¼˜åœ°å›¾è·¯å¾„ï¼Ÿ è¿™ä¸‰ä¸ªå…¶å®ä¹Ÿå¯ä»¥ç®—ä½œä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘æœ‹å‹è®°å¾—ï¼Œæˆ‘åœ¨æ¢¦å¼€å§‹çš„åœ°æ–¹ï¼ŒRedisåŸºç¡€ä¸­æåˆ°è¿‡ï¼Œä½ å¦‚æœåªçŸ¥é“äº”ç§åŸºç¡€ç±»å‹é‚£åªèƒ½æ‹¿60åˆ†ï¼Œå¦‚æœä½ èƒ½è®²å‡ºé«˜çº§ç”¨æ³•ï¼Œé‚£å°±è§‰å¾—ä½ æœ‰ç‚¹ä¸œè¥¿ã€‚ pub/subï¼šåŠŸèƒ½æ˜¯è®¢é˜…å‘å¸ƒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä½œç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ Pipelineï¼šå¯ä»¥æ‰¹é‡æ‰§è¡Œä¸€ç»„æŒ‡ä»¤ï¼Œä¸€æ¬¡æ€§è¿”å›å…¨éƒ¨ç»“æœï¼Œå¯ä»¥å‡å°‘é¢‘ç¹çš„è¯·æ±‚åº”ç­”ã€‚ Luaï¼šRedis æ”¯æŒæäº¤ Lua è„šæœ¬æ¥æ‰§è¡Œä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ æˆ‘åœ¨å‰ç”µå•†è€ä¸œå®¶çš„æ—¶å€™ï¼Œç§’æ€åœºæ™¯ç»å¸¸ä½¿ç”¨è¿™ä¸ªä¸œè¥¿ï¼Œè®²é“ç†æœ‰ç‚¹é¦™ï¼Œåˆ©ç”¨ä»–çš„åŸå­æ€§ã€‚ è¯è¯´ä½ ä»¬æƒ³çœ‹ç§’æ€çš„è®¾è®¡ä¹ˆï¼Ÿæˆ‘è®°å¾—æˆ‘é¢è¯•å¥½åƒæ¯æ¬¡éƒ½é—®å•Šï¼Œæƒ³çœ‹çš„ç›´æ¥ç‚¹èµåè¯„è®ºç§’æ€å§ã€‚ äº‹åŠ¡ï¼šæœ€åä¸€ä¸ªåŠŸèƒ½æ˜¯äº‹åŠ¡ï¼Œä½† Redis æä¾›çš„ä¸æ˜¯ä¸¥æ ¼çš„äº‹åŠ¡ï¼ŒRedis åªä¿è¯ä¸²è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”èƒ½ä¿è¯å…¨éƒ¨æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤å¤±è´¥æ—¶å¹¶ä¸ä¼šå›æ»šï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:3","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#äº‹åŠ¡"},{"categories":null,"content":"æŒä¹…åŒ–Redis æä¾›äº† RDB å’Œ AOF ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼ŒRDB æ˜¯æŠŠå†…å­˜ä¸­çš„æ•°æ®é›†ä»¥å¿«ç…§å½¢å¼å†™å…¥ç£ç›˜ï¼Œå®é™…æ“ä½œæ˜¯é€šè¿‡ fork å­è¿›ç¨‹æ‰§è¡Œï¼Œé‡‡ç”¨äºŒè¿›åˆ¶å‹ç¼©å­˜å‚¨ï¼›AOF æ˜¯ä»¥æ–‡æœ¬æ—¥å¿—çš„å½¢å¼è®°å½• Redis å¤„ç†çš„æ¯ä¸€ä¸ªå†™å…¥æˆ–åˆ é™¤æ“ä½œã€‚ RDB æŠŠæ•´ä¸ª Redis çš„æ•°æ®ä¿å­˜åœ¨å•ä¸€æ–‡ä»¶ä¸­ï¼Œæ¯”è¾ƒé€‚åˆç”¨æ¥åšç¾å¤‡ï¼Œä½†ç¼ºç‚¹æ˜¯å¿«ç…§ä¿å­˜å®Œæˆä¹‹å‰å¦‚æœå®•æœºï¼Œè¿™æ®µæ—¶é—´çš„æ•°æ®å°†ä¼šä¸¢å¤±ï¼Œå¦å¤–ä¿å­˜å¿«ç…§æ—¶å¯èƒ½å¯¼è‡´æœåŠ¡çŸ­æ—¶é—´ä¸å¯ç”¨ã€‚ AOF å¯¹æ—¥å¿—æ–‡ä»¶çš„å†™å…¥æ“ä½œä½¿ç”¨çš„è¿½åŠ æ¨¡å¼ï¼Œæœ‰çµæ´»çš„åŒæ­¥ç­–ç•¥ï¼Œæ”¯æŒæ¯ç§’åŒæ­¥ã€æ¯æ¬¡ä¿®æ”¹åŒæ­¥å’Œä¸åŒæ­¥ï¼Œç¼ºç‚¹å°±æ˜¯ç›¸åŒè§„æ¨¡çš„æ•°æ®é›†ï¼ŒAOF è¦å¤§äº RDBï¼ŒAOF åœ¨è¿è¡Œæ•ˆç‡ä¸Šå¾€å¾€ä¼šæ…¢äº RDBã€‚ ç»†èŠ‚çš„ç‚¹å¤§å®¶å»é«˜å¯ç”¨è¿™ç« çœ‹ï¼Œç‰¹åˆ«æ˜¯ä¸¤è€…çš„ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠæ€ä¹ˆæŠ‰æ‹©ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:4","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#æŒä¹…åŒ–"},{"categories":null,"content":"é«˜å¯ç”¨æ¥çœ‹ Redis çš„é«˜å¯ç”¨ã€‚Redis æ”¯æŒä¸»ä»åŒæ­¥ï¼Œæä¾› Cluster é›†ç¾¤éƒ¨ç½²æ¨¡å¼ï¼Œé€šè¿‡ Sentine lå“¨å…µæ¥ç›‘æ§ Redis ä¸»æœåŠ¡å™¨çš„çŠ¶æ€ã€‚å½“ä¸»æŒ‚æ‰æ—¶ï¼Œåœ¨ä»èŠ‚ç‚¹ä¸­æ ¹æ®ä¸€å®šç­–ç•¥é€‰å‡ºæ–°ä¸»ï¼Œå¹¶è°ƒæ•´å…¶ä»–ä» slaveof åˆ°æ–°ä¸»ã€‚ é€‰ä¸»çš„ç­–ç•¥ç®€å•æ¥è¯´æœ‰ä¸‰ä¸ªï¼š slave çš„ priority è®¾ç½®çš„è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼› åŒç­‰æƒ…å†µä¸‹ï¼Œslave å¤åˆ¶çš„æ•°æ®è¶Šå¤šä¼˜å…ˆçº§è¶Šé«˜ï¼› ç›¸åŒçš„æ¡ä»¶ä¸‹ runid è¶Šå°è¶Šå®¹æ˜“è¢«é€‰ä¸­ã€‚ åœ¨ Redis é›†ç¾¤ä¸­ï¼Œsentinel ä¹Ÿä¼šè¿›è¡Œå¤šå®ä¾‹éƒ¨ç½²ï¼Œsentinel ä¹‹é—´é€šè¿‡ Raft åè®®æ¥ä¿è¯è‡ªèº«çš„é«˜å¯ç”¨ã€‚ Redis Cluster ä½¿ç”¨åˆ†ç‰‡æœºåˆ¶ï¼Œåœ¨å†…éƒ¨åˆ†ä¸º 16384 ä¸ª slot æ’æ§½ï¼Œåˆ†å¸ƒåœ¨æ‰€æœ‰ master èŠ‚ç‚¹ä¸Šï¼Œæ¯ä¸ª master èŠ‚ç‚¹è´Ÿè´£ä¸€éƒ¨åˆ† slotã€‚æ•°æ®æ“ä½œæ—¶æŒ‰ key åš CRC16 æ¥è®¡ç®—åœ¨å“ªä¸ª slotï¼Œç”±å“ªä¸ª master è¿›è¡Œå¤„ç†ã€‚æ•°æ®çš„å†—ä½™æ˜¯é€šè¿‡ slave èŠ‚ç‚¹æ¥ä¿éšœã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:5","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#é«˜å¯ç”¨"},{"categories":null,"content":"å“¨å…µå“¨å…µå¿…é¡»ç”¨ä¸‰ä¸ªå®ä¾‹å»ä¿è¯è‡ªå·±çš„å¥å£®æ€§çš„ï¼Œå“¨å…µ+ä¸»ä»å¹¶ä¸èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œä½†æ˜¯å¯ä»¥ä¿è¯é›†ç¾¤çš„é«˜å¯ç”¨ã€‚ ä¸ºå•¥å¿…é¡»è¦ä¸‰ä¸ªå®ä¾‹å‘¢ï¼Ÿæˆ‘ä»¬å…ˆçœ‹çœ‹ä¸¤ä¸ªå“¨å…µä¼šå’‹æ ·ã€‚ masterå®•æœºäº† s1å’Œs2ä¸¤ä¸ªå“¨å…µåªè¦æœ‰ä¸€ä¸ªè®¤ä¸ºä½ å®•æœºäº†å°±åˆ‡æ¢äº†ï¼Œå¹¶ä¸”ä¼šé€‰ä¸¾å‡ºä¸€ä¸ªå“¨å…µå»æ‰§è¡Œæ•…éšœï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ä¹Ÿéœ€è¦å¤§å¤šæ•°å“¨å…µéƒ½æ˜¯è¿è¡Œçš„ã€‚ é‚£è¿™æ ·æœ‰å•¥é—®é¢˜å‘¢ï¼ŸM1å®•æœºäº†ï¼ŒS1æ²¡æŒ‚é‚£å…¶å®æ˜¯OKçš„ï¼Œä½†æ˜¯æ•´ä¸ªæœºå™¨éƒ½æŒ‚äº†å‘¢ï¼Ÿå“¨å…µå°±åªå‰©ä¸‹S2ä¸ªè£¸å±Œäº†ï¼Œæ²¡æœ‰å“¨å…µå»å…è®¸æ•…éšœè½¬ç§»äº†ï¼Œè™½ç„¶å¦å¤–ä¸€ä¸ªæœºå™¨ä¸Šè¿˜æœ‰R1ï¼Œä½†æ˜¯æ•…éšœè½¬ç§»å°±æ˜¯ä¸æ‰§è¡Œã€‚ ç»å…¸çš„å“¨å…µé›†ç¾¤æ˜¯è¿™æ ·çš„ï¼š M1æ‰€åœ¨çš„æœºå™¨æŒ‚äº†ï¼Œå“¨å…µè¿˜æœ‰ä¸¤ä¸ªï¼Œä¸¤ä¸ªäººä¸€çœ‹ä»–ä¸æ˜¯æŒ‚äº†å˜›ï¼Œé‚£æˆ‘ä»¬å°±é€‰ä¸¾ä¸€ä¸ªå‡ºæ¥æ‰§è¡Œæ•…éšœè½¬ç§»ä¸å°±å¥½äº†ã€‚ æš–ç”·æˆ‘ï¼Œå°çš„æ€»ç»“ä¸‹å“¨å…µç»„ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼š é›†ç¾¤ç›‘æ§ï¼šè´Ÿè´£ç›‘æ§ Redis master å’Œ slave è¿›ç¨‹æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ æ¶ˆæ¯é€šçŸ¥ï¼šå¦‚æœæŸä¸ª Redis å®ä¾‹æœ‰æ•…éšœï¼Œé‚£ä¹ˆå“¨å…µè´Ÿè´£å‘é€æ¶ˆæ¯ä½œä¸ºæŠ¥è­¦é€šçŸ¥ç»™ç®¡ç†å‘˜ã€‚ æ•…éšœè½¬ç§»ï¼šå¦‚æœ master node æŒ‚æ‰äº†ï¼Œä¼šè‡ªåŠ¨è½¬ç§»åˆ° slave node ä¸Šã€‚ é…ç½®ä¸­å¿ƒï¼šå¦‚æœæ•…éšœè½¬ç§»å‘ç”Ÿäº†ï¼Œé€šçŸ¥ client å®¢æˆ·ç«¯æ–°çš„ master åœ°å€ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:6","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#å“¨å…µ"},{"categories":null,"content":"ä¸»ä»æåˆ°è¿™ä¸ªï¼Œå°±è·Ÿæˆ‘å‰é¢æåˆ°çš„æ•°æ®æŒä¹…åŒ–çš„RDBå’ŒAOFæœ‰ç€æ¯”å¯†åˆ‡çš„å…³ç³»äº†ã€‚ æˆ‘å…ˆè¯´ä¸‹ä¸ºå•¥è¦ç”¨ä¸»ä»è¿™æ ·çš„æ¶æ„æ¨¡å¼ï¼Œå‰é¢æåˆ°äº†å•æœºQPSæ˜¯æœ‰ä¸Šé™çš„ï¼Œè€Œä¸”Redisçš„ç‰¹æ€§å°±æ˜¯å¿…é¡»æ”¯æ’‘è¯»é«˜å¹¶å‘çš„ï¼Œé‚£ä½ ä¸€å°æœºå™¨åˆè¯»åˆå†™ï¼Œè¿™è°é¡¶å¾—ä½å•Šï¼Œä¸å½“äººå•Šï¼ä½†æ˜¯ä½ è®©è¿™ä¸ªmasteræœºå™¨å»å†™ï¼Œæ•°æ®åŒæ­¥ç»™åˆ«çš„slaveæœºå™¨ï¼Œä»–ä»¬éƒ½æ‹¿å»è¯»ï¼Œåˆ†å‘æ‰å¤§é‡çš„è¯·æ±‚é‚£æ˜¯ä¸æ˜¯å¥½å¾ˆå¤šï¼Œè€Œä¸”æ‰©å®¹çš„æ—¶å€™è¿˜å¯ä»¥è½»æ¾å®ç°æ°´å¹³æ‰©å®¹ã€‚ ä½ å¯åŠ¨ä¸€å°slave çš„æ—¶å€™ï¼Œä»–ä¼šå‘é€ä¸€ä¸ªpsyncå‘½ä»¤ç»™master ï¼Œå¦‚æœæ˜¯è¿™ä¸ªslaveç¬¬ä¸€æ¬¡è¿æ¥åˆ°masterï¼Œä»–ä¼šè§¦å‘ä¸€ä¸ªå…¨é‡å¤åˆ¶ã€‚masterå°±ä¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œç”ŸæˆRDBå¿«ç…§ï¼Œè¿˜ä¼šæŠŠæ–°çš„å†™è¯·æ±‚éƒ½ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼ŒRDBæ–‡ä»¶ç”Ÿæˆåï¼Œmasterä¼šå°†è¿™ä¸ªRDBå‘é€ç»™slaveçš„ï¼Œslaveæ‹¿åˆ°ä¹‹ååšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯å†™è¿›æœ¬åœ°çš„ç£ç›˜ï¼Œç„¶ååŠ è½½è¿›å†…å­˜ï¼Œç„¶åmasterä¼šæŠŠå†…å­˜é‡Œé¢ç¼“å­˜çš„é‚£äº›æ–°å‘½åéƒ½å‘ç»™slaveã€‚ æˆ‘å‘å‡ºæ¥ä¹‹åæ¥è‡ªCSDNçš„ç½‘å‹ï¼šJian_Shen_Zer é—®äº†ä¸ªé—®é¢˜ï¼š ä¸»ä»åŒæ­¥çš„æ—¶å€™ï¼Œæ–°çš„slaverè¿›æ¥çš„æ—¶å€™ç”¨RDBï¼Œé‚£ä¹‹åçš„æ•°æ®å‘¢ï¼Ÿæœ‰æ–°çš„æ•°æ®è¿›å…¥masteræ€ä¹ˆåŒæ­¥åˆ°slaverå•Š æ•–ä¸™ç­”ï¼šç¬¨ï¼ŒAOFå˜›ï¼Œå¢é‡çš„å°±åƒMySQLçš„Binlogä¸€æ ·ï¼ŒæŠŠæ—¥å¿—å¢é‡åŒæ­¥ç»™ä»æœåŠ¡å°±å¥½äº† key å¤±æ•ˆæœºåˆ¶Redis çš„ key å¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸå Redis é‡‡ç”¨ä¸»åŠ¨å’Œè¢«åŠ¨ç»“åˆçš„å¤±æ•ˆæœºåˆ¶ï¼Œä¸€ä¸ªæ˜¯å’Œ MC ä¸€æ ·åœ¨è®¿é—®æ—¶è§¦å‘è¢«åŠ¨åˆ é™¤ï¼Œå¦ä¸€ç§æ˜¯å®šæœŸçš„ä¸»åŠ¨åˆ é™¤ã€‚ å®šæœŸ+æƒ°æ€§+å†…å­˜æ·˜æ±° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:7","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ä¸»ä»"},{"categories":null,"content":"ä¸»ä»æåˆ°è¿™ä¸ªï¼Œå°±è·Ÿæˆ‘å‰é¢æåˆ°çš„æ•°æ®æŒä¹…åŒ–çš„RDBå’ŒAOFæœ‰ç€æ¯”å¯†åˆ‡çš„å…³ç³»äº†ã€‚ æˆ‘å…ˆè¯´ä¸‹ä¸ºå•¥è¦ç”¨ä¸»ä»è¿™æ ·çš„æ¶æ„æ¨¡å¼ï¼Œå‰é¢æåˆ°äº†å•æœºQPSæ˜¯æœ‰ä¸Šé™çš„ï¼Œè€Œä¸”Redisçš„ç‰¹æ€§å°±æ˜¯å¿…é¡»æ”¯æ’‘è¯»é«˜å¹¶å‘çš„ï¼Œé‚£ä½ ä¸€å°æœºå™¨åˆè¯»åˆå†™ï¼Œè¿™è°é¡¶å¾—ä½å•Šï¼Œä¸å½“äººå•Šï¼ä½†æ˜¯ä½ è®©è¿™ä¸ªmasteræœºå™¨å»å†™ï¼Œæ•°æ®åŒæ­¥ç»™åˆ«çš„slaveæœºå™¨ï¼Œä»–ä»¬éƒ½æ‹¿å»è¯»ï¼Œåˆ†å‘æ‰å¤§é‡çš„è¯·æ±‚é‚£æ˜¯ä¸æ˜¯å¥½å¾ˆå¤šï¼Œè€Œä¸”æ‰©å®¹çš„æ—¶å€™è¿˜å¯ä»¥è½»æ¾å®ç°æ°´å¹³æ‰©å®¹ã€‚ ä½ å¯åŠ¨ä¸€å°slave çš„æ—¶å€™ï¼Œä»–ä¼šå‘é€ä¸€ä¸ªpsyncå‘½ä»¤ç»™master ï¼Œå¦‚æœæ˜¯è¿™ä¸ªslaveç¬¬ä¸€æ¬¡è¿æ¥åˆ°masterï¼Œä»–ä¼šè§¦å‘ä¸€ä¸ªå…¨é‡å¤åˆ¶ã€‚masterå°±ä¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œç”ŸæˆRDBå¿«ç…§ï¼Œè¿˜ä¼šæŠŠæ–°çš„å†™è¯·æ±‚éƒ½ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼ŒRDBæ–‡ä»¶ç”Ÿæˆåï¼Œmasterä¼šå°†è¿™ä¸ªRDBå‘é€ç»™slaveçš„ï¼Œslaveæ‹¿åˆ°ä¹‹ååšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯å†™è¿›æœ¬åœ°çš„ç£ç›˜ï¼Œç„¶ååŠ è½½è¿›å†…å­˜ï¼Œç„¶åmasterä¼šæŠŠå†…å­˜é‡Œé¢ç¼“å­˜çš„é‚£äº›æ–°å‘½åéƒ½å‘ç»™slaveã€‚ æˆ‘å‘å‡ºæ¥ä¹‹åæ¥è‡ªCSDNçš„ç½‘å‹ï¼šJian_Shen_Zer é—®äº†ä¸ªé—®é¢˜ï¼š ä¸»ä»åŒæ­¥çš„æ—¶å€™ï¼Œæ–°çš„slaverè¿›æ¥çš„æ—¶å€™ç”¨RDBï¼Œé‚£ä¹‹åçš„æ•°æ®å‘¢ï¼Ÿæœ‰æ–°çš„æ•°æ®è¿›å…¥masteræ€ä¹ˆåŒæ­¥åˆ°slaverå•Š æ•–ä¸™ç­”ï¼šç¬¨ï¼ŒAOFå˜›ï¼Œå¢é‡çš„å°±åƒMySQLçš„Binlogä¸€æ ·ï¼ŒæŠŠæ—¥å¿—å¢é‡åŒæ­¥ç»™ä»æœåŠ¡å°±å¥½äº† key å¤±æ•ˆæœºåˆ¶Redis çš„ key å¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸå Redis é‡‡ç”¨ä¸»åŠ¨å’Œè¢«åŠ¨ç»“åˆçš„å¤±æ•ˆæœºåˆ¶ï¼Œä¸€ä¸ªæ˜¯å’Œ MC ä¸€æ ·åœ¨è®¿é—®æ—¶è§¦å‘è¢«åŠ¨åˆ é™¤ï¼Œå¦ä¸€ç§æ˜¯å®šæœŸçš„ä¸»åŠ¨åˆ é™¤ã€‚ å®šæœŸ+æƒ°æ€§+å†…å­˜æ·˜æ±° ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:7","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#key-å¤±æ•ˆæœºåˆ¶"},{"categories":null,"content":"ç¼“å­˜å¸¸è§é—®é¢˜ç¼“å­˜æ›´æ–°æ–¹å¼è¿™æ˜¯å†³å®šåœ¨ä½¿ç”¨ç¼“å­˜æ—¶å°±è¯¥è€ƒè™‘çš„é—®é¢˜ã€‚ ç¼“å­˜çš„æ•°æ®åœ¨æ•°æ®æºå‘ç”Ÿå˜æ›´æ—¶éœ€è¦å¯¹ç¼“å­˜è¿›è¡Œæ›´æ–°ï¼Œæ•°æ®æºå¯èƒ½æ˜¯ DBï¼Œä¹Ÿå¯èƒ½æ˜¯è¿œç¨‹æœåŠ¡ã€‚æ›´æ–°çš„æ–¹å¼å¯ä»¥æ˜¯ä¸»åŠ¨æ›´æ–°ã€‚æ•°æ®æºæ˜¯ DB æ—¶ï¼Œå¯ä»¥åœ¨æ›´æ–°å®Œ DB åå°±ç›´æ¥æ›´æ–°ç¼“å­˜ã€‚ å½“æ•°æ®æºä¸æ˜¯ DB è€Œæ˜¯å…¶ä»–è¿œç¨‹æœåŠ¡ï¼Œå¯èƒ½æ— æ³•åŠæ—¶ä¸»åŠ¨æ„ŸçŸ¥æ•°æ®å˜æ›´ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¼šé€‰æ‹©å¯¹ç¼“å­˜æ•°æ®è®¾ç½®å¤±æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸ä¸€è‡´çš„æœ€å¤§å®¹å¿æ—¶é—´ã€‚ è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€‰æ‹©å¤±æ•ˆæ›´æ–°ï¼Œkey ä¸å­˜åœ¨æˆ–å¤±æ•ˆæ—¶å…ˆè¯·æ±‚æ•°æ®æºè·å–æœ€æ–°æ•°æ®ï¼Œç„¶åå†æ¬¡ç¼“å­˜ï¼Œå¹¶æ›´æ–°å¤±æ•ˆæœŸã€‚ ä½†è¿™æ ·åšæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä¾èµ–çš„è¿œç¨‹æœåŠ¡åœ¨æ›´æ–°æ—¶å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚æ”¹è¿›çš„åŠæ³•æ˜¯å¼‚æ­¥æ›´æ–°ï¼Œå°±æ˜¯å½“å¤±æ•ˆæ—¶å…ˆä¸æ¸…é™¤æ•°æ®ï¼Œç»§ç»­ä½¿ç”¨æ—§çš„æ•°æ®ï¼Œç„¶åç”±å¼‚æ­¥çº¿ç¨‹å»æ‰§è¡Œæ›´æ–°ä»»åŠ¡ã€‚è¿™æ ·å°±é¿å…äº†å¤±æ•ˆç¬é—´çš„ç©ºçª—æœŸã€‚å¦å¤–è¿˜æœ‰ä¸€ç§çº¯å¼‚æ­¥æ›´æ–°æ–¹å¼ï¼Œå®šæ—¶å¯¹æ•°æ®è¿›è¡Œåˆ†æ‰¹æ›´æ–°ã€‚å®é™…ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ›´æ–°æ–¹å¼ã€‚ æ•°æ®ä¸ä¸€è‡´ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯ä»¥è¯´åªè¦ä½¿ç”¨ç¼“å­˜ï¼Œå°±è¦è€ƒè™‘å¦‚ä½•é¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚ç¼“å­˜ä¸ä¸€è‡´äº§ç”Ÿçš„åŸå› ä¸€èˆ¬æ˜¯ä¸»åŠ¨æ›´æ–°å¤±è´¥ï¼Œä¾‹å¦‚æ›´æ–° DB åï¼Œæ›´æ–° Redis å› ä¸ºç½‘ç»œåŸå› è¯·æ±‚è¶…æ—¶ï¼›æˆ–è€…æ˜¯å¼‚æ­¥æ›´æ–°å¤±è´¥å¯¼è‡´ã€‚ è§£å†³çš„åŠæ³•æ˜¯ï¼Œå¦‚æœæœåŠ¡å¯¹è€—æ—¶ä¸æ˜¯ç‰¹åˆ«æ•æ„Ÿå¯ä»¥å¢åŠ é‡è¯•ï¼›å¦‚æœæœåŠ¡å¯¹è€—æ—¶æ•æ„Ÿå¯ä»¥é€šè¿‡å¼‚æ­¥è¡¥å¿ä»»åŠ¡æ¥å¤„ç†å¤±è´¥çš„æ›´æ–°ï¼Œæˆ–è€…çŸ­æœŸçš„æ•°æ®ä¸ä¸€è‡´ä¸ä¼šå½±å“ä¸šåŠ¡ï¼Œé‚£ä¹ˆåªè¦ä¸‹æ¬¡æ›´æ–°æ—¶å¯ä»¥æˆåŠŸï¼Œèƒ½ä¿è¯æœ€ç»ˆä¸€è‡´æ€§å°±å¯ä»¥ã€‚ ç¼“å­˜ç©¿é€ç¼“å­˜ç©¿é€ã€‚äº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å¯èƒ½æ˜¯å¤–éƒ¨çš„æ¶æ„æ”»å‡»ï¼Œä¾‹å¦‚ï¼Œå¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡Œäº†ç¼“å­˜ï¼Œä½†æ¶æ„æ”»å‡»è€…ä½¿ç”¨ä¸å­˜åœ¨çš„ç”¨æˆ·idé¢‘ç¹è¯·æ±‚æ¥å£ï¼Œå¯¼è‡´æŸ¥è¯¢ç¼“å­˜ä¸å‘½ä¸­ï¼Œç„¶åç©¿é€ DB æŸ¥è¯¢ä¾ç„¶ä¸å‘½ä¸­ã€‚è¿™æ—¶ä¼šæœ‰å¤§é‡è¯·æ±‚ç©¿é€ç¼“å­˜è®¿é—®åˆ° DBã€‚ è§£å†³çš„åŠæ³•å¦‚ä¸‹ã€‚ å¯¹ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼Œåœ¨ç¼“å­˜ä¸­ä¿å­˜ä¸€ä¸ªç©ºå¯¹è±¡è¿›è¡Œæ ‡è®°ï¼Œé˜²æ­¢ç›¸åŒ ID å†æ¬¡è®¿é—® DBã€‚ä¸è¿‡æœ‰æ—¶è¿™ä¸ªæ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½è§£å†³é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸­å­˜å‚¨å¤§é‡æ— ç”¨æ•°æ®ã€‚ ä½¿ç”¨ BloomFilter è¿‡æ»¤å™¨ï¼ŒBloomFilter çš„ç‰¹ç‚¹æ˜¯å­˜åœ¨æ€§æ£€æµ‹ï¼Œå¦‚æœ BloomFilter ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ•°æ®ä¸€å®šä¸å­˜åœ¨ï¼›å¦‚æœ BloomFilter ä¸­å­˜åœ¨ï¼Œå®é™…æ•°æ®ä¹Ÿæœ‰å¯èƒ½ä¼šä¸å­˜åœ¨ã€‚éå¸¸é€‚åˆè§£å†³è¿™ç±»çš„é—®é¢˜ã€‚ ç¼“å­˜å‡»ç©¿ç¼“å­˜å‡»ç©¿ï¼Œå°±æ˜¯æŸä¸ªçƒ­ç‚¹æ•°æ®å¤±æ•ˆæ—¶ï¼Œå¤§é‡é’ˆå¯¹è¿™ä¸ªæ•°æ®çš„è¯·æ±‚ä¼šç©¿é€åˆ°æ•°æ®æºã€‚ è§£å†³è¿™ä¸ªé—®é¢˜æœ‰å¦‚ä¸‹åŠæ³•ã€‚ å¯ä»¥ä½¿ç”¨äº’æ–¥é”æ›´æ–°ï¼Œä¿è¯åŒä¸€ä¸ªè¿›ç¨‹ä¸­é’ˆå¯¹åŒä¸€ä¸ªæ•°æ®ä¸ä¼šå¹¶å‘è¯·æ±‚åˆ° DBï¼Œå‡å° DB å‹åŠ›ã€‚ ä½¿ç”¨éšæœºé€€é¿æ–¹å¼ï¼Œå¤±æ•ˆæ—¶éšæœº sleep ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´ï¼Œå†æ¬¡æŸ¥è¯¢ï¼Œå¦‚æœå¤±è´¥å†æ‰§è¡Œæ›´æ–°ã€‚ é’ˆå¯¹å¤šä¸ªçƒ­ç‚¹ key åŒæ—¶å¤±æ•ˆçš„é—®é¢˜ï¼Œå¯ä»¥åœ¨ç¼“å­˜æ—¶ä½¿ç”¨å›ºå®šæ—¶é—´åŠ ä¸Šä¸€ä¸ªå°çš„éšæœºæ•°ï¼Œé¿å…å¤§é‡çƒ­ç‚¹ key åŒä¸€æ—¶åˆ»å¤±æ•ˆã€‚ ç¼“å­˜é›ªå´©ç¼“å­˜é›ªå´©ï¼Œäº§ç”Ÿçš„åŸå› æ˜¯ç¼“å­˜æŒ‚æ‰ï¼Œè¿™æ—¶æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç©¿é€åˆ° DBã€‚ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨å¿«é€Ÿå¤±è´¥çš„ç†”æ–­ç­–ç•¥ï¼Œå‡å°‘ DB ç¬é—´å‹åŠ›ï¼› ä½¿ç”¨ä¸»ä»æ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼æ¥å°½é‡ä¿è¯ç¼“å­˜æœåŠ¡çš„é«˜å¯ç”¨ã€‚ å®é™…åœºæ™¯ä¸­ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¼šç»“åˆä½¿ç”¨ã€‚ è€æœ‹å‹éƒ½çŸ¥é“ä¸ºå•¥æˆ‘æ²¡æœ‰å¤§ç¯‡å¹…ä»‹ç»è¿™ä¸ªå‡ ä¸ªç‚¹äº†å§ï¼Œæˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« å®åœ¨æ˜¯å†™å¾—å¤ªè¯¦ç»†äº†ï¼Œå¿ä¸ä½ç‚¹èµé‚£ç§ï¼Œæˆ‘è¿™é‡Œå°±ä¸åšé‡å¤æ‹·è´äº†ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« _å‡›å†¬å°†è‡³ã€FPX_æ–°ç‹ç™»åŸº ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:8","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¼“å­˜å¸¸è§é—®é¢˜"},{"categories":null,"content":"ç¼“å­˜å¸¸è§é—®é¢˜ç¼“å­˜æ›´æ–°æ–¹å¼è¿™æ˜¯å†³å®šåœ¨ä½¿ç”¨ç¼“å­˜æ—¶å°±è¯¥è€ƒè™‘çš„é—®é¢˜ã€‚ ç¼“å­˜çš„æ•°æ®åœ¨æ•°æ®æºå‘ç”Ÿå˜æ›´æ—¶éœ€è¦å¯¹ç¼“å­˜è¿›è¡Œæ›´æ–°ï¼Œæ•°æ®æºå¯èƒ½æ˜¯ DBï¼Œä¹Ÿå¯èƒ½æ˜¯è¿œç¨‹æœåŠ¡ã€‚æ›´æ–°çš„æ–¹å¼å¯ä»¥æ˜¯ä¸»åŠ¨æ›´æ–°ã€‚æ•°æ®æºæ˜¯ DB æ—¶ï¼Œå¯ä»¥åœ¨æ›´æ–°å®Œ DB åå°±ç›´æ¥æ›´æ–°ç¼“å­˜ã€‚ å½“æ•°æ®æºä¸æ˜¯ DB è€Œæ˜¯å…¶ä»–è¿œç¨‹æœåŠ¡ï¼Œå¯èƒ½æ— æ³•åŠæ—¶ä¸»åŠ¨æ„ŸçŸ¥æ•°æ®å˜æ›´ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¼šé€‰æ‹©å¯¹ç¼“å­˜æ•°æ®è®¾ç½®å¤±æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸ä¸€è‡´çš„æœ€å¤§å®¹å¿æ—¶é—´ã€‚ è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€‰æ‹©å¤±æ•ˆæ›´æ–°ï¼Œkey ä¸å­˜åœ¨æˆ–å¤±æ•ˆæ—¶å…ˆè¯·æ±‚æ•°æ®æºè·å–æœ€æ–°æ•°æ®ï¼Œç„¶åå†æ¬¡ç¼“å­˜ï¼Œå¹¶æ›´æ–°å¤±æ•ˆæœŸã€‚ ä½†è¿™æ ·åšæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä¾èµ–çš„è¿œç¨‹æœåŠ¡åœ¨æ›´æ–°æ—¶å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚æ”¹è¿›çš„åŠæ³•æ˜¯å¼‚æ­¥æ›´æ–°ï¼Œå°±æ˜¯å½“å¤±æ•ˆæ—¶å…ˆä¸æ¸…é™¤æ•°æ®ï¼Œç»§ç»­ä½¿ç”¨æ—§çš„æ•°æ®ï¼Œç„¶åç”±å¼‚æ­¥çº¿ç¨‹å»æ‰§è¡Œæ›´æ–°ä»»åŠ¡ã€‚è¿™æ ·å°±é¿å…äº†å¤±æ•ˆç¬é—´çš„ç©ºçª—æœŸã€‚å¦å¤–è¿˜æœ‰ä¸€ç§çº¯å¼‚æ­¥æ›´æ–°æ–¹å¼ï¼Œå®šæ—¶å¯¹æ•°æ®è¿›è¡Œåˆ†æ‰¹æ›´æ–°ã€‚å®é™…ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ›´æ–°æ–¹å¼ã€‚ æ•°æ®ä¸ä¸€è‡´ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯ä»¥è¯´åªè¦ä½¿ç”¨ç¼“å­˜ï¼Œå°±è¦è€ƒè™‘å¦‚ä½•é¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚ç¼“å­˜ä¸ä¸€è‡´äº§ç”Ÿçš„åŸå› ä¸€èˆ¬æ˜¯ä¸»åŠ¨æ›´æ–°å¤±è´¥ï¼Œä¾‹å¦‚æ›´æ–° DB åï¼Œæ›´æ–° Redis å› ä¸ºç½‘ç»œåŸå› è¯·æ±‚è¶…æ—¶ï¼›æˆ–è€…æ˜¯å¼‚æ­¥æ›´æ–°å¤±è´¥å¯¼è‡´ã€‚ è§£å†³çš„åŠæ³•æ˜¯ï¼Œå¦‚æœæœåŠ¡å¯¹è€—æ—¶ä¸æ˜¯ç‰¹åˆ«æ•æ„Ÿå¯ä»¥å¢åŠ é‡è¯•ï¼›å¦‚æœæœåŠ¡å¯¹è€—æ—¶æ•æ„Ÿå¯ä»¥é€šè¿‡å¼‚æ­¥è¡¥å¿ä»»åŠ¡æ¥å¤„ç†å¤±è´¥çš„æ›´æ–°ï¼Œæˆ–è€…çŸ­æœŸçš„æ•°æ®ä¸ä¸€è‡´ä¸ä¼šå½±å“ä¸šåŠ¡ï¼Œé‚£ä¹ˆåªè¦ä¸‹æ¬¡æ›´æ–°æ—¶å¯ä»¥æˆåŠŸï¼Œèƒ½ä¿è¯æœ€ç»ˆä¸€è‡´æ€§å°±å¯ä»¥ã€‚ ç¼“å­˜ç©¿é€ç¼“å­˜ç©¿é€ã€‚äº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å¯èƒ½æ˜¯å¤–éƒ¨çš„æ¶æ„æ”»å‡»ï¼Œä¾‹å¦‚ï¼Œå¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡Œäº†ç¼“å­˜ï¼Œä½†æ¶æ„æ”»å‡»è€…ä½¿ç”¨ä¸å­˜åœ¨çš„ç”¨æˆ·idé¢‘ç¹è¯·æ±‚æ¥å£ï¼Œå¯¼è‡´æŸ¥è¯¢ç¼“å­˜ä¸å‘½ä¸­ï¼Œç„¶åç©¿é€ DB æŸ¥è¯¢ä¾ç„¶ä¸å‘½ä¸­ã€‚è¿™æ—¶ä¼šæœ‰å¤§é‡è¯·æ±‚ç©¿é€ç¼“å­˜è®¿é—®åˆ° DBã€‚ è§£å†³çš„åŠæ³•å¦‚ä¸‹ã€‚ å¯¹ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼Œåœ¨ç¼“å­˜ä¸­ä¿å­˜ä¸€ä¸ªç©ºå¯¹è±¡è¿›è¡Œæ ‡è®°ï¼Œé˜²æ­¢ç›¸åŒ ID å†æ¬¡è®¿é—® DBã€‚ä¸è¿‡æœ‰æ—¶è¿™ä¸ªæ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½è§£å†³é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸­å­˜å‚¨å¤§é‡æ— ç”¨æ•°æ®ã€‚ ä½¿ç”¨ BloomFilter è¿‡æ»¤å™¨ï¼ŒBloomFilter çš„ç‰¹ç‚¹æ˜¯å­˜åœ¨æ€§æ£€æµ‹ï¼Œå¦‚æœ BloomFilter ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ•°æ®ä¸€å®šä¸å­˜åœ¨ï¼›å¦‚æœ BloomFilter ä¸­å­˜åœ¨ï¼Œå®é™…æ•°æ®ä¹Ÿæœ‰å¯èƒ½ä¼šä¸å­˜åœ¨ã€‚éå¸¸é€‚åˆè§£å†³è¿™ç±»çš„é—®é¢˜ã€‚ ç¼“å­˜å‡»ç©¿ç¼“å­˜å‡»ç©¿ï¼Œå°±æ˜¯æŸä¸ªçƒ­ç‚¹æ•°æ®å¤±æ•ˆæ—¶ï¼Œå¤§é‡é’ˆå¯¹è¿™ä¸ªæ•°æ®çš„è¯·æ±‚ä¼šç©¿é€åˆ°æ•°æ®æºã€‚ è§£å†³è¿™ä¸ªé—®é¢˜æœ‰å¦‚ä¸‹åŠæ³•ã€‚ å¯ä»¥ä½¿ç”¨äº’æ–¥é”æ›´æ–°ï¼Œä¿è¯åŒä¸€ä¸ªè¿›ç¨‹ä¸­é’ˆå¯¹åŒä¸€ä¸ªæ•°æ®ä¸ä¼šå¹¶å‘è¯·æ±‚åˆ° DBï¼Œå‡å° DB å‹åŠ›ã€‚ ä½¿ç”¨éšæœºé€€é¿æ–¹å¼ï¼Œå¤±æ•ˆæ—¶éšæœº sleep ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´ï¼Œå†æ¬¡æŸ¥è¯¢ï¼Œå¦‚æœå¤±è´¥å†æ‰§è¡Œæ›´æ–°ã€‚ é’ˆå¯¹å¤šä¸ªçƒ­ç‚¹ key åŒæ—¶å¤±æ•ˆçš„é—®é¢˜ï¼Œå¯ä»¥åœ¨ç¼“å­˜æ—¶ä½¿ç”¨å›ºå®šæ—¶é—´åŠ ä¸Šä¸€ä¸ªå°çš„éšæœºæ•°ï¼Œé¿å…å¤§é‡çƒ­ç‚¹ key åŒä¸€æ—¶åˆ»å¤±æ•ˆã€‚ ç¼“å­˜é›ªå´©ç¼“å­˜é›ªå´©ï¼Œäº§ç”Ÿçš„åŸå› æ˜¯ç¼“å­˜æŒ‚æ‰ï¼Œè¿™æ—¶æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç©¿é€åˆ° DBã€‚ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨å¿«é€Ÿå¤±è´¥çš„ç†”æ–­ç­–ç•¥ï¼Œå‡å°‘ DB ç¬é—´å‹åŠ›ï¼› ä½¿ç”¨ä¸»ä»æ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼æ¥å°½é‡ä¿è¯ç¼“å­˜æœåŠ¡çš„é«˜å¯ç”¨ã€‚ å®é™…åœºæ™¯ä¸­ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¼šç»“åˆä½¿ç”¨ã€‚ è€æœ‹å‹éƒ½çŸ¥é“ä¸ºå•¥æˆ‘æ²¡æœ‰å¤§ç¯‡å¹…ä»‹ç»è¿™ä¸ªå‡ ä¸ªç‚¹äº†å§ï¼Œæˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« å®åœ¨æ˜¯å†™å¾—å¤ªè¯¦ç»†äº†ï¼Œå¿ä¸ä½ç‚¹èµé‚£ç§ï¼Œæˆ‘è¿™é‡Œå°±ä¸åšé‡å¤æ‹·è´äº†ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« _å‡›å†¬å°†è‡³ã€FPX_æ–°ç‹ç™»åŸº ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:8","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¼“å­˜æ›´æ–°æ–¹å¼"},{"categories":null,"content":"ç¼“å­˜å¸¸è§é—®é¢˜ç¼“å­˜æ›´æ–°æ–¹å¼è¿™æ˜¯å†³å®šåœ¨ä½¿ç”¨ç¼“å­˜æ—¶å°±è¯¥è€ƒè™‘çš„é—®é¢˜ã€‚ ç¼“å­˜çš„æ•°æ®åœ¨æ•°æ®æºå‘ç”Ÿå˜æ›´æ—¶éœ€è¦å¯¹ç¼“å­˜è¿›è¡Œæ›´æ–°ï¼Œæ•°æ®æºå¯èƒ½æ˜¯ DBï¼Œä¹Ÿå¯èƒ½æ˜¯è¿œç¨‹æœåŠ¡ã€‚æ›´æ–°çš„æ–¹å¼å¯ä»¥æ˜¯ä¸»åŠ¨æ›´æ–°ã€‚æ•°æ®æºæ˜¯ DB æ—¶ï¼Œå¯ä»¥åœ¨æ›´æ–°å®Œ DB åå°±ç›´æ¥æ›´æ–°ç¼“å­˜ã€‚ å½“æ•°æ®æºä¸æ˜¯ DB è€Œæ˜¯å…¶ä»–è¿œç¨‹æœåŠ¡ï¼Œå¯èƒ½æ— æ³•åŠæ—¶ä¸»åŠ¨æ„ŸçŸ¥æ•°æ®å˜æ›´ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¼šé€‰æ‹©å¯¹ç¼“å­˜æ•°æ®è®¾ç½®å¤±æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸ä¸€è‡´çš„æœ€å¤§å®¹å¿æ—¶é—´ã€‚ è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€‰æ‹©å¤±æ•ˆæ›´æ–°ï¼Œkey ä¸å­˜åœ¨æˆ–å¤±æ•ˆæ—¶å…ˆè¯·æ±‚æ•°æ®æºè·å–æœ€æ–°æ•°æ®ï¼Œç„¶åå†æ¬¡ç¼“å­˜ï¼Œå¹¶æ›´æ–°å¤±æ•ˆæœŸã€‚ ä½†è¿™æ ·åšæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä¾èµ–çš„è¿œç¨‹æœåŠ¡åœ¨æ›´æ–°æ—¶å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚æ”¹è¿›çš„åŠæ³•æ˜¯å¼‚æ­¥æ›´æ–°ï¼Œå°±æ˜¯å½“å¤±æ•ˆæ—¶å…ˆä¸æ¸…é™¤æ•°æ®ï¼Œç»§ç»­ä½¿ç”¨æ—§çš„æ•°æ®ï¼Œç„¶åç”±å¼‚æ­¥çº¿ç¨‹å»æ‰§è¡Œæ›´æ–°ä»»åŠ¡ã€‚è¿™æ ·å°±é¿å…äº†å¤±æ•ˆç¬é—´çš„ç©ºçª—æœŸã€‚å¦å¤–è¿˜æœ‰ä¸€ç§çº¯å¼‚æ­¥æ›´æ–°æ–¹å¼ï¼Œå®šæ—¶å¯¹æ•°æ®è¿›è¡Œåˆ†æ‰¹æ›´æ–°ã€‚å®é™…ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ›´æ–°æ–¹å¼ã€‚ æ•°æ®ä¸ä¸€è‡´ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯ä»¥è¯´åªè¦ä½¿ç”¨ç¼“å­˜ï¼Œå°±è¦è€ƒè™‘å¦‚ä½•é¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚ç¼“å­˜ä¸ä¸€è‡´äº§ç”Ÿçš„åŸå› ä¸€èˆ¬æ˜¯ä¸»åŠ¨æ›´æ–°å¤±è´¥ï¼Œä¾‹å¦‚æ›´æ–° DB åï¼Œæ›´æ–° Redis å› ä¸ºç½‘ç»œåŸå› è¯·æ±‚è¶…æ—¶ï¼›æˆ–è€…æ˜¯å¼‚æ­¥æ›´æ–°å¤±è´¥å¯¼è‡´ã€‚ è§£å†³çš„åŠæ³•æ˜¯ï¼Œå¦‚æœæœåŠ¡å¯¹è€—æ—¶ä¸æ˜¯ç‰¹åˆ«æ•æ„Ÿå¯ä»¥å¢åŠ é‡è¯•ï¼›å¦‚æœæœåŠ¡å¯¹è€—æ—¶æ•æ„Ÿå¯ä»¥é€šè¿‡å¼‚æ­¥è¡¥å¿ä»»åŠ¡æ¥å¤„ç†å¤±è´¥çš„æ›´æ–°ï¼Œæˆ–è€…çŸ­æœŸçš„æ•°æ®ä¸ä¸€è‡´ä¸ä¼šå½±å“ä¸šåŠ¡ï¼Œé‚£ä¹ˆåªè¦ä¸‹æ¬¡æ›´æ–°æ—¶å¯ä»¥æˆåŠŸï¼Œèƒ½ä¿è¯æœ€ç»ˆä¸€è‡´æ€§å°±å¯ä»¥ã€‚ ç¼“å­˜ç©¿é€ç¼“å­˜ç©¿é€ã€‚äº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å¯èƒ½æ˜¯å¤–éƒ¨çš„æ¶æ„æ”»å‡»ï¼Œä¾‹å¦‚ï¼Œå¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡Œäº†ç¼“å­˜ï¼Œä½†æ¶æ„æ”»å‡»è€…ä½¿ç”¨ä¸å­˜åœ¨çš„ç”¨æˆ·idé¢‘ç¹è¯·æ±‚æ¥å£ï¼Œå¯¼è‡´æŸ¥è¯¢ç¼“å­˜ä¸å‘½ä¸­ï¼Œç„¶åç©¿é€ DB æŸ¥è¯¢ä¾ç„¶ä¸å‘½ä¸­ã€‚è¿™æ—¶ä¼šæœ‰å¤§é‡è¯·æ±‚ç©¿é€ç¼“å­˜è®¿é—®åˆ° DBã€‚ è§£å†³çš„åŠæ³•å¦‚ä¸‹ã€‚ å¯¹ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼Œåœ¨ç¼“å­˜ä¸­ä¿å­˜ä¸€ä¸ªç©ºå¯¹è±¡è¿›è¡Œæ ‡è®°ï¼Œé˜²æ­¢ç›¸åŒ ID å†æ¬¡è®¿é—® DBã€‚ä¸è¿‡æœ‰æ—¶è¿™ä¸ªæ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½è§£å†³é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸­å­˜å‚¨å¤§é‡æ— ç”¨æ•°æ®ã€‚ ä½¿ç”¨ BloomFilter è¿‡æ»¤å™¨ï¼ŒBloomFilter çš„ç‰¹ç‚¹æ˜¯å­˜åœ¨æ€§æ£€æµ‹ï¼Œå¦‚æœ BloomFilter ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ•°æ®ä¸€å®šä¸å­˜åœ¨ï¼›å¦‚æœ BloomFilter ä¸­å­˜åœ¨ï¼Œå®é™…æ•°æ®ä¹Ÿæœ‰å¯èƒ½ä¼šä¸å­˜åœ¨ã€‚éå¸¸é€‚åˆè§£å†³è¿™ç±»çš„é—®é¢˜ã€‚ ç¼“å­˜å‡»ç©¿ç¼“å­˜å‡»ç©¿ï¼Œå°±æ˜¯æŸä¸ªçƒ­ç‚¹æ•°æ®å¤±æ•ˆæ—¶ï¼Œå¤§é‡é’ˆå¯¹è¿™ä¸ªæ•°æ®çš„è¯·æ±‚ä¼šç©¿é€åˆ°æ•°æ®æºã€‚ è§£å†³è¿™ä¸ªé—®é¢˜æœ‰å¦‚ä¸‹åŠæ³•ã€‚ å¯ä»¥ä½¿ç”¨äº’æ–¥é”æ›´æ–°ï¼Œä¿è¯åŒä¸€ä¸ªè¿›ç¨‹ä¸­é’ˆå¯¹åŒä¸€ä¸ªæ•°æ®ä¸ä¼šå¹¶å‘è¯·æ±‚åˆ° DBï¼Œå‡å° DB å‹åŠ›ã€‚ ä½¿ç”¨éšæœºé€€é¿æ–¹å¼ï¼Œå¤±æ•ˆæ—¶éšæœº sleep ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´ï¼Œå†æ¬¡æŸ¥è¯¢ï¼Œå¦‚æœå¤±è´¥å†æ‰§è¡Œæ›´æ–°ã€‚ é’ˆå¯¹å¤šä¸ªçƒ­ç‚¹ key åŒæ—¶å¤±æ•ˆçš„é—®é¢˜ï¼Œå¯ä»¥åœ¨ç¼“å­˜æ—¶ä½¿ç”¨å›ºå®šæ—¶é—´åŠ ä¸Šä¸€ä¸ªå°çš„éšæœºæ•°ï¼Œé¿å…å¤§é‡çƒ­ç‚¹ key åŒä¸€æ—¶åˆ»å¤±æ•ˆã€‚ ç¼“å­˜é›ªå´©ç¼“å­˜é›ªå´©ï¼Œäº§ç”Ÿçš„åŸå› æ˜¯ç¼“å­˜æŒ‚æ‰ï¼Œè¿™æ—¶æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç©¿é€åˆ° DBã€‚ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨å¿«é€Ÿå¤±è´¥çš„ç†”æ–­ç­–ç•¥ï¼Œå‡å°‘ DB ç¬é—´å‹åŠ›ï¼› ä½¿ç”¨ä¸»ä»æ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼æ¥å°½é‡ä¿è¯ç¼“å­˜æœåŠ¡çš„é«˜å¯ç”¨ã€‚ å®é™…åœºæ™¯ä¸­ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¼šç»“åˆä½¿ç”¨ã€‚ è€æœ‹å‹éƒ½çŸ¥é“ä¸ºå•¥æˆ‘æ²¡æœ‰å¤§ç¯‡å¹…ä»‹ç»è¿™ä¸ªå‡ ä¸ªç‚¹äº†å§ï¼Œæˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« å®åœ¨æ˜¯å†™å¾—å¤ªè¯¦ç»†äº†ï¼Œå¿ä¸ä½ç‚¹èµé‚£ç§ï¼Œæˆ‘è¿™é‡Œå°±ä¸åšé‡å¤æ‹·è´äº†ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« _å‡›å†¬å°†è‡³ã€FPX_æ–°ç‹ç™»åŸº ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:8","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#æ•°æ®ä¸ä¸€è‡´"},{"categories":null,"content":"ç¼“å­˜å¸¸è§é—®é¢˜ç¼“å­˜æ›´æ–°æ–¹å¼è¿™æ˜¯å†³å®šåœ¨ä½¿ç”¨ç¼“å­˜æ—¶å°±è¯¥è€ƒè™‘çš„é—®é¢˜ã€‚ ç¼“å­˜çš„æ•°æ®åœ¨æ•°æ®æºå‘ç”Ÿå˜æ›´æ—¶éœ€è¦å¯¹ç¼“å­˜è¿›è¡Œæ›´æ–°ï¼Œæ•°æ®æºå¯èƒ½æ˜¯ DBï¼Œä¹Ÿå¯èƒ½æ˜¯è¿œç¨‹æœåŠ¡ã€‚æ›´æ–°çš„æ–¹å¼å¯ä»¥æ˜¯ä¸»åŠ¨æ›´æ–°ã€‚æ•°æ®æºæ˜¯ DB æ—¶ï¼Œå¯ä»¥åœ¨æ›´æ–°å®Œ DB åå°±ç›´æ¥æ›´æ–°ç¼“å­˜ã€‚ å½“æ•°æ®æºä¸æ˜¯ DB è€Œæ˜¯å…¶ä»–è¿œç¨‹æœåŠ¡ï¼Œå¯èƒ½æ— æ³•åŠæ—¶ä¸»åŠ¨æ„ŸçŸ¥æ•°æ®å˜æ›´ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¼šé€‰æ‹©å¯¹ç¼“å­˜æ•°æ®è®¾ç½®å¤±æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸ä¸€è‡´çš„æœ€å¤§å®¹å¿æ—¶é—´ã€‚ è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€‰æ‹©å¤±æ•ˆæ›´æ–°ï¼Œkey ä¸å­˜åœ¨æˆ–å¤±æ•ˆæ—¶å…ˆè¯·æ±‚æ•°æ®æºè·å–æœ€æ–°æ•°æ®ï¼Œç„¶åå†æ¬¡ç¼“å­˜ï¼Œå¹¶æ›´æ–°å¤±æ•ˆæœŸã€‚ ä½†è¿™æ ·åšæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä¾èµ–çš„è¿œç¨‹æœåŠ¡åœ¨æ›´æ–°æ—¶å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚æ”¹è¿›çš„åŠæ³•æ˜¯å¼‚æ­¥æ›´æ–°ï¼Œå°±æ˜¯å½“å¤±æ•ˆæ—¶å…ˆä¸æ¸…é™¤æ•°æ®ï¼Œç»§ç»­ä½¿ç”¨æ—§çš„æ•°æ®ï¼Œç„¶åç”±å¼‚æ­¥çº¿ç¨‹å»æ‰§è¡Œæ›´æ–°ä»»åŠ¡ã€‚è¿™æ ·å°±é¿å…äº†å¤±æ•ˆç¬é—´çš„ç©ºçª—æœŸã€‚å¦å¤–è¿˜æœ‰ä¸€ç§çº¯å¼‚æ­¥æ›´æ–°æ–¹å¼ï¼Œå®šæ—¶å¯¹æ•°æ®è¿›è¡Œåˆ†æ‰¹æ›´æ–°ã€‚å®é™…ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ›´æ–°æ–¹å¼ã€‚ æ•°æ®ä¸ä¸€è‡´ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯ä»¥è¯´åªè¦ä½¿ç”¨ç¼“å­˜ï¼Œå°±è¦è€ƒè™‘å¦‚ä½•é¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚ç¼“å­˜ä¸ä¸€è‡´äº§ç”Ÿçš„åŸå› ä¸€èˆ¬æ˜¯ä¸»åŠ¨æ›´æ–°å¤±è´¥ï¼Œä¾‹å¦‚æ›´æ–° DB åï¼Œæ›´æ–° Redis å› ä¸ºç½‘ç»œåŸå› è¯·æ±‚è¶…æ—¶ï¼›æˆ–è€…æ˜¯å¼‚æ­¥æ›´æ–°å¤±è´¥å¯¼è‡´ã€‚ è§£å†³çš„åŠæ³•æ˜¯ï¼Œå¦‚æœæœåŠ¡å¯¹è€—æ—¶ä¸æ˜¯ç‰¹åˆ«æ•æ„Ÿå¯ä»¥å¢åŠ é‡è¯•ï¼›å¦‚æœæœåŠ¡å¯¹è€—æ—¶æ•æ„Ÿå¯ä»¥é€šè¿‡å¼‚æ­¥è¡¥å¿ä»»åŠ¡æ¥å¤„ç†å¤±è´¥çš„æ›´æ–°ï¼Œæˆ–è€…çŸ­æœŸçš„æ•°æ®ä¸ä¸€è‡´ä¸ä¼šå½±å“ä¸šåŠ¡ï¼Œé‚£ä¹ˆåªè¦ä¸‹æ¬¡æ›´æ–°æ—¶å¯ä»¥æˆåŠŸï¼Œèƒ½ä¿è¯æœ€ç»ˆä¸€è‡´æ€§å°±å¯ä»¥ã€‚ ç¼“å­˜ç©¿é€ç¼“å­˜ç©¿é€ã€‚äº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å¯èƒ½æ˜¯å¤–éƒ¨çš„æ¶æ„æ”»å‡»ï¼Œä¾‹å¦‚ï¼Œå¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡Œäº†ç¼“å­˜ï¼Œä½†æ¶æ„æ”»å‡»è€…ä½¿ç”¨ä¸å­˜åœ¨çš„ç”¨æˆ·idé¢‘ç¹è¯·æ±‚æ¥å£ï¼Œå¯¼è‡´æŸ¥è¯¢ç¼“å­˜ä¸å‘½ä¸­ï¼Œç„¶åç©¿é€ DB æŸ¥è¯¢ä¾ç„¶ä¸å‘½ä¸­ã€‚è¿™æ—¶ä¼šæœ‰å¤§é‡è¯·æ±‚ç©¿é€ç¼“å­˜è®¿é—®åˆ° DBã€‚ è§£å†³çš„åŠæ³•å¦‚ä¸‹ã€‚ å¯¹ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼Œåœ¨ç¼“å­˜ä¸­ä¿å­˜ä¸€ä¸ªç©ºå¯¹è±¡è¿›è¡Œæ ‡è®°ï¼Œé˜²æ­¢ç›¸åŒ ID å†æ¬¡è®¿é—® DBã€‚ä¸è¿‡æœ‰æ—¶è¿™ä¸ªæ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½è§£å†³é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸­å­˜å‚¨å¤§é‡æ— ç”¨æ•°æ®ã€‚ ä½¿ç”¨ BloomFilter è¿‡æ»¤å™¨ï¼ŒBloomFilter çš„ç‰¹ç‚¹æ˜¯å­˜åœ¨æ€§æ£€æµ‹ï¼Œå¦‚æœ BloomFilter ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ•°æ®ä¸€å®šä¸å­˜åœ¨ï¼›å¦‚æœ BloomFilter ä¸­å­˜åœ¨ï¼Œå®é™…æ•°æ®ä¹Ÿæœ‰å¯èƒ½ä¼šä¸å­˜åœ¨ã€‚éå¸¸é€‚åˆè§£å†³è¿™ç±»çš„é—®é¢˜ã€‚ ç¼“å­˜å‡»ç©¿ç¼“å­˜å‡»ç©¿ï¼Œå°±æ˜¯æŸä¸ªçƒ­ç‚¹æ•°æ®å¤±æ•ˆæ—¶ï¼Œå¤§é‡é’ˆå¯¹è¿™ä¸ªæ•°æ®çš„è¯·æ±‚ä¼šç©¿é€åˆ°æ•°æ®æºã€‚ è§£å†³è¿™ä¸ªé—®é¢˜æœ‰å¦‚ä¸‹åŠæ³•ã€‚ å¯ä»¥ä½¿ç”¨äº’æ–¥é”æ›´æ–°ï¼Œä¿è¯åŒä¸€ä¸ªè¿›ç¨‹ä¸­é’ˆå¯¹åŒä¸€ä¸ªæ•°æ®ä¸ä¼šå¹¶å‘è¯·æ±‚åˆ° DBï¼Œå‡å° DB å‹åŠ›ã€‚ ä½¿ç”¨éšæœºé€€é¿æ–¹å¼ï¼Œå¤±æ•ˆæ—¶éšæœº sleep ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´ï¼Œå†æ¬¡æŸ¥è¯¢ï¼Œå¦‚æœå¤±è´¥å†æ‰§è¡Œæ›´æ–°ã€‚ é’ˆå¯¹å¤šä¸ªçƒ­ç‚¹ key åŒæ—¶å¤±æ•ˆçš„é—®é¢˜ï¼Œå¯ä»¥åœ¨ç¼“å­˜æ—¶ä½¿ç”¨å›ºå®šæ—¶é—´åŠ ä¸Šä¸€ä¸ªå°çš„éšæœºæ•°ï¼Œé¿å…å¤§é‡çƒ­ç‚¹ key åŒä¸€æ—¶åˆ»å¤±æ•ˆã€‚ ç¼“å­˜é›ªå´©ç¼“å­˜é›ªå´©ï¼Œäº§ç”Ÿçš„åŸå› æ˜¯ç¼“å­˜æŒ‚æ‰ï¼Œè¿™æ—¶æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç©¿é€åˆ° DBã€‚ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨å¿«é€Ÿå¤±è´¥çš„ç†”æ–­ç­–ç•¥ï¼Œå‡å°‘ DB ç¬é—´å‹åŠ›ï¼› ä½¿ç”¨ä¸»ä»æ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼æ¥å°½é‡ä¿è¯ç¼“å­˜æœåŠ¡çš„é«˜å¯ç”¨ã€‚ å®é™…åœºæ™¯ä¸­ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¼šç»“åˆä½¿ç”¨ã€‚ è€æœ‹å‹éƒ½çŸ¥é“ä¸ºå•¥æˆ‘æ²¡æœ‰å¤§ç¯‡å¹…ä»‹ç»è¿™ä¸ªå‡ ä¸ªç‚¹äº†å§ï¼Œæˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« å®åœ¨æ˜¯å†™å¾—å¤ªè¯¦ç»†äº†ï¼Œå¿ä¸ä½ç‚¹èµé‚£ç§ï¼Œæˆ‘è¿™é‡Œå°±ä¸åšé‡å¤æ‹·è´äº†ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« _å‡›å†¬å°†è‡³ã€FPX_æ–°ç‹ç™»åŸº ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:8","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¼“å­˜ç©¿é€"},{"categories":null,"content":"ç¼“å­˜å¸¸è§é—®é¢˜ç¼“å­˜æ›´æ–°æ–¹å¼è¿™æ˜¯å†³å®šåœ¨ä½¿ç”¨ç¼“å­˜æ—¶å°±è¯¥è€ƒè™‘çš„é—®é¢˜ã€‚ ç¼“å­˜çš„æ•°æ®åœ¨æ•°æ®æºå‘ç”Ÿå˜æ›´æ—¶éœ€è¦å¯¹ç¼“å­˜è¿›è¡Œæ›´æ–°ï¼Œæ•°æ®æºå¯èƒ½æ˜¯ DBï¼Œä¹Ÿå¯èƒ½æ˜¯è¿œç¨‹æœåŠ¡ã€‚æ›´æ–°çš„æ–¹å¼å¯ä»¥æ˜¯ä¸»åŠ¨æ›´æ–°ã€‚æ•°æ®æºæ˜¯ DB æ—¶ï¼Œå¯ä»¥åœ¨æ›´æ–°å®Œ DB åå°±ç›´æ¥æ›´æ–°ç¼“å­˜ã€‚ å½“æ•°æ®æºä¸æ˜¯ DB è€Œæ˜¯å…¶ä»–è¿œç¨‹æœåŠ¡ï¼Œå¯èƒ½æ— æ³•åŠæ—¶ä¸»åŠ¨æ„ŸçŸ¥æ•°æ®å˜æ›´ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¼šé€‰æ‹©å¯¹ç¼“å­˜æ•°æ®è®¾ç½®å¤±æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸ä¸€è‡´çš„æœ€å¤§å®¹å¿æ—¶é—´ã€‚ è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€‰æ‹©å¤±æ•ˆæ›´æ–°ï¼Œkey ä¸å­˜åœ¨æˆ–å¤±æ•ˆæ—¶å…ˆè¯·æ±‚æ•°æ®æºè·å–æœ€æ–°æ•°æ®ï¼Œç„¶åå†æ¬¡ç¼“å­˜ï¼Œå¹¶æ›´æ–°å¤±æ•ˆæœŸã€‚ ä½†è¿™æ ·åšæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä¾èµ–çš„è¿œç¨‹æœåŠ¡åœ¨æ›´æ–°æ—¶å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚æ”¹è¿›çš„åŠæ³•æ˜¯å¼‚æ­¥æ›´æ–°ï¼Œå°±æ˜¯å½“å¤±æ•ˆæ—¶å…ˆä¸æ¸…é™¤æ•°æ®ï¼Œç»§ç»­ä½¿ç”¨æ—§çš„æ•°æ®ï¼Œç„¶åç”±å¼‚æ­¥çº¿ç¨‹å»æ‰§è¡Œæ›´æ–°ä»»åŠ¡ã€‚è¿™æ ·å°±é¿å…äº†å¤±æ•ˆç¬é—´çš„ç©ºçª—æœŸã€‚å¦å¤–è¿˜æœ‰ä¸€ç§çº¯å¼‚æ­¥æ›´æ–°æ–¹å¼ï¼Œå®šæ—¶å¯¹æ•°æ®è¿›è¡Œåˆ†æ‰¹æ›´æ–°ã€‚å®é™…ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ›´æ–°æ–¹å¼ã€‚ æ•°æ®ä¸ä¸€è‡´ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯ä»¥è¯´åªè¦ä½¿ç”¨ç¼“å­˜ï¼Œå°±è¦è€ƒè™‘å¦‚ä½•é¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚ç¼“å­˜ä¸ä¸€è‡´äº§ç”Ÿçš„åŸå› ä¸€èˆ¬æ˜¯ä¸»åŠ¨æ›´æ–°å¤±è´¥ï¼Œä¾‹å¦‚æ›´æ–° DB åï¼Œæ›´æ–° Redis å› ä¸ºç½‘ç»œåŸå› è¯·æ±‚è¶…æ—¶ï¼›æˆ–è€…æ˜¯å¼‚æ­¥æ›´æ–°å¤±è´¥å¯¼è‡´ã€‚ è§£å†³çš„åŠæ³•æ˜¯ï¼Œå¦‚æœæœåŠ¡å¯¹è€—æ—¶ä¸æ˜¯ç‰¹åˆ«æ•æ„Ÿå¯ä»¥å¢åŠ é‡è¯•ï¼›å¦‚æœæœåŠ¡å¯¹è€—æ—¶æ•æ„Ÿå¯ä»¥é€šè¿‡å¼‚æ­¥è¡¥å¿ä»»åŠ¡æ¥å¤„ç†å¤±è´¥çš„æ›´æ–°ï¼Œæˆ–è€…çŸ­æœŸçš„æ•°æ®ä¸ä¸€è‡´ä¸ä¼šå½±å“ä¸šåŠ¡ï¼Œé‚£ä¹ˆåªè¦ä¸‹æ¬¡æ›´æ–°æ—¶å¯ä»¥æˆåŠŸï¼Œèƒ½ä¿è¯æœ€ç»ˆä¸€è‡´æ€§å°±å¯ä»¥ã€‚ ç¼“å­˜ç©¿é€ç¼“å­˜ç©¿é€ã€‚äº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å¯èƒ½æ˜¯å¤–éƒ¨çš„æ¶æ„æ”»å‡»ï¼Œä¾‹å¦‚ï¼Œå¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡Œäº†ç¼“å­˜ï¼Œä½†æ¶æ„æ”»å‡»è€…ä½¿ç”¨ä¸å­˜åœ¨çš„ç”¨æˆ·idé¢‘ç¹è¯·æ±‚æ¥å£ï¼Œå¯¼è‡´æŸ¥è¯¢ç¼“å­˜ä¸å‘½ä¸­ï¼Œç„¶åç©¿é€ DB æŸ¥è¯¢ä¾ç„¶ä¸å‘½ä¸­ã€‚è¿™æ—¶ä¼šæœ‰å¤§é‡è¯·æ±‚ç©¿é€ç¼“å­˜è®¿é—®åˆ° DBã€‚ è§£å†³çš„åŠæ³•å¦‚ä¸‹ã€‚ å¯¹ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼Œåœ¨ç¼“å­˜ä¸­ä¿å­˜ä¸€ä¸ªç©ºå¯¹è±¡è¿›è¡Œæ ‡è®°ï¼Œé˜²æ­¢ç›¸åŒ ID å†æ¬¡è®¿é—® DBã€‚ä¸è¿‡æœ‰æ—¶è¿™ä¸ªæ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½è§£å†³é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸­å­˜å‚¨å¤§é‡æ— ç”¨æ•°æ®ã€‚ ä½¿ç”¨ BloomFilter è¿‡æ»¤å™¨ï¼ŒBloomFilter çš„ç‰¹ç‚¹æ˜¯å­˜åœ¨æ€§æ£€æµ‹ï¼Œå¦‚æœ BloomFilter ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ•°æ®ä¸€å®šä¸å­˜åœ¨ï¼›å¦‚æœ BloomFilter ä¸­å­˜åœ¨ï¼Œå®é™…æ•°æ®ä¹Ÿæœ‰å¯èƒ½ä¼šä¸å­˜åœ¨ã€‚éå¸¸é€‚åˆè§£å†³è¿™ç±»çš„é—®é¢˜ã€‚ ç¼“å­˜å‡»ç©¿ç¼“å­˜å‡»ç©¿ï¼Œå°±æ˜¯æŸä¸ªçƒ­ç‚¹æ•°æ®å¤±æ•ˆæ—¶ï¼Œå¤§é‡é’ˆå¯¹è¿™ä¸ªæ•°æ®çš„è¯·æ±‚ä¼šç©¿é€åˆ°æ•°æ®æºã€‚ è§£å†³è¿™ä¸ªé—®é¢˜æœ‰å¦‚ä¸‹åŠæ³•ã€‚ å¯ä»¥ä½¿ç”¨äº’æ–¥é”æ›´æ–°ï¼Œä¿è¯åŒä¸€ä¸ªè¿›ç¨‹ä¸­é’ˆå¯¹åŒä¸€ä¸ªæ•°æ®ä¸ä¼šå¹¶å‘è¯·æ±‚åˆ° DBï¼Œå‡å° DB å‹åŠ›ã€‚ ä½¿ç”¨éšæœºé€€é¿æ–¹å¼ï¼Œå¤±æ•ˆæ—¶éšæœº sleep ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´ï¼Œå†æ¬¡æŸ¥è¯¢ï¼Œå¦‚æœå¤±è´¥å†æ‰§è¡Œæ›´æ–°ã€‚ é’ˆå¯¹å¤šä¸ªçƒ­ç‚¹ key åŒæ—¶å¤±æ•ˆçš„é—®é¢˜ï¼Œå¯ä»¥åœ¨ç¼“å­˜æ—¶ä½¿ç”¨å›ºå®šæ—¶é—´åŠ ä¸Šä¸€ä¸ªå°çš„éšæœºæ•°ï¼Œé¿å…å¤§é‡çƒ­ç‚¹ key åŒä¸€æ—¶åˆ»å¤±æ•ˆã€‚ ç¼“å­˜é›ªå´©ç¼“å­˜é›ªå´©ï¼Œäº§ç”Ÿçš„åŸå› æ˜¯ç¼“å­˜æŒ‚æ‰ï¼Œè¿™æ—¶æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç©¿é€åˆ° DBã€‚ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨å¿«é€Ÿå¤±è´¥çš„ç†”æ–­ç­–ç•¥ï¼Œå‡å°‘ DB ç¬é—´å‹åŠ›ï¼› ä½¿ç”¨ä¸»ä»æ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼æ¥å°½é‡ä¿è¯ç¼“å­˜æœåŠ¡çš„é«˜å¯ç”¨ã€‚ å®é™…åœºæ™¯ä¸­ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¼šç»“åˆä½¿ç”¨ã€‚ è€æœ‹å‹éƒ½çŸ¥é“ä¸ºå•¥æˆ‘æ²¡æœ‰å¤§ç¯‡å¹…ä»‹ç»è¿™ä¸ªå‡ ä¸ªç‚¹äº†å§ï¼Œæˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« å®åœ¨æ˜¯å†™å¾—å¤ªè¯¦ç»†äº†ï¼Œå¿ä¸ä½ç‚¹èµé‚£ç§ï¼Œæˆ‘è¿™é‡Œå°±ä¸åšé‡å¤æ‹·è´äº†ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« _å‡›å†¬å°†è‡³ã€FPX_æ–°ç‹ç™»åŸº ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:8","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¼“å­˜å‡»ç©¿"},{"categories":null,"content":"ç¼“å­˜å¸¸è§é—®é¢˜ç¼“å­˜æ›´æ–°æ–¹å¼è¿™æ˜¯å†³å®šåœ¨ä½¿ç”¨ç¼“å­˜æ—¶å°±è¯¥è€ƒè™‘çš„é—®é¢˜ã€‚ ç¼“å­˜çš„æ•°æ®åœ¨æ•°æ®æºå‘ç”Ÿå˜æ›´æ—¶éœ€è¦å¯¹ç¼“å­˜è¿›è¡Œæ›´æ–°ï¼Œæ•°æ®æºå¯èƒ½æ˜¯ DBï¼Œä¹Ÿå¯èƒ½æ˜¯è¿œç¨‹æœåŠ¡ã€‚æ›´æ–°çš„æ–¹å¼å¯ä»¥æ˜¯ä¸»åŠ¨æ›´æ–°ã€‚æ•°æ®æºæ˜¯ DB æ—¶ï¼Œå¯ä»¥åœ¨æ›´æ–°å®Œ DB åå°±ç›´æ¥æ›´æ–°ç¼“å­˜ã€‚ å½“æ•°æ®æºä¸æ˜¯ DB è€Œæ˜¯å…¶ä»–è¿œç¨‹æœåŠ¡ï¼Œå¯èƒ½æ— æ³•åŠæ—¶ä¸»åŠ¨æ„ŸçŸ¥æ•°æ®å˜æ›´ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¼šé€‰æ‹©å¯¹ç¼“å­˜æ•°æ®è®¾ç½®å¤±æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸ä¸€è‡´çš„æœ€å¤§å®¹å¿æ—¶é—´ã€‚ è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€‰æ‹©å¤±æ•ˆæ›´æ–°ï¼Œkey ä¸å­˜åœ¨æˆ–å¤±æ•ˆæ—¶å…ˆè¯·æ±‚æ•°æ®æºè·å–æœ€æ–°æ•°æ®ï¼Œç„¶åå†æ¬¡ç¼“å­˜ï¼Œå¹¶æ›´æ–°å¤±æ•ˆæœŸã€‚ ä½†è¿™æ ·åšæœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœä¾èµ–çš„è¿œç¨‹æœåŠ¡åœ¨æ›´æ–°æ—¶å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚æ”¹è¿›çš„åŠæ³•æ˜¯å¼‚æ­¥æ›´æ–°ï¼Œå°±æ˜¯å½“å¤±æ•ˆæ—¶å…ˆä¸æ¸…é™¤æ•°æ®ï¼Œç»§ç»­ä½¿ç”¨æ—§çš„æ•°æ®ï¼Œç„¶åç”±å¼‚æ­¥çº¿ç¨‹å»æ‰§è¡Œæ›´æ–°ä»»åŠ¡ã€‚è¿™æ ·å°±é¿å…äº†å¤±æ•ˆç¬é—´çš„ç©ºçª—æœŸã€‚å¦å¤–è¿˜æœ‰ä¸€ç§çº¯å¼‚æ­¥æ›´æ–°æ–¹å¼ï¼Œå®šæ—¶å¯¹æ•°æ®è¿›è¡Œåˆ†æ‰¹æ›´æ–°ã€‚å®é™…ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ›´æ–°æ–¹å¼ã€‚ æ•°æ®ä¸ä¸€è‡´ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯ä»¥è¯´åªè¦ä½¿ç”¨ç¼“å­˜ï¼Œå°±è¦è€ƒè™‘å¦‚ä½•é¢å¯¹è¿™ä¸ªé—®é¢˜ã€‚ç¼“å­˜ä¸ä¸€è‡´äº§ç”Ÿçš„åŸå› ä¸€èˆ¬æ˜¯ä¸»åŠ¨æ›´æ–°å¤±è´¥ï¼Œä¾‹å¦‚æ›´æ–° DB åï¼Œæ›´æ–° Redis å› ä¸ºç½‘ç»œåŸå› è¯·æ±‚è¶…æ—¶ï¼›æˆ–è€…æ˜¯å¼‚æ­¥æ›´æ–°å¤±è´¥å¯¼è‡´ã€‚ è§£å†³çš„åŠæ³•æ˜¯ï¼Œå¦‚æœæœåŠ¡å¯¹è€—æ—¶ä¸æ˜¯ç‰¹åˆ«æ•æ„Ÿå¯ä»¥å¢åŠ é‡è¯•ï¼›å¦‚æœæœåŠ¡å¯¹è€—æ—¶æ•æ„Ÿå¯ä»¥é€šè¿‡å¼‚æ­¥è¡¥å¿ä»»åŠ¡æ¥å¤„ç†å¤±è´¥çš„æ›´æ–°ï¼Œæˆ–è€…çŸ­æœŸçš„æ•°æ®ä¸ä¸€è‡´ä¸ä¼šå½±å“ä¸šåŠ¡ï¼Œé‚£ä¹ˆåªè¦ä¸‹æ¬¡æ›´æ–°æ—¶å¯ä»¥æˆåŠŸï¼Œèƒ½ä¿è¯æœ€ç»ˆä¸€è‡´æ€§å°±å¯ä»¥ã€‚ ç¼“å­˜ç©¿é€ç¼“å­˜ç©¿é€ã€‚äº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å¯èƒ½æ˜¯å¤–éƒ¨çš„æ¶æ„æ”»å‡»ï¼Œä¾‹å¦‚ï¼Œå¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡Œäº†ç¼“å­˜ï¼Œä½†æ¶æ„æ”»å‡»è€…ä½¿ç”¨ä¸å­˜åœ¨çš„ç”¨æˆ·idé¢‘ç¹è¯·æ±‚æ¥å£ï¼Œå¯¼è‡´æŸ¥è¯¢ç¼“å­˜ä¸å‘½ä¸­ï¼Œç„¶åç©¿é€ DB æŸ¥è¯¢ä¾ç„¶ä¸å‘½ä¸­ã€‚è¿™æ—¶ä¼šæœ‰å¤§é‡è¯·æ±‚ç©¿é€ç¼“å­˜è®¿é—®åˆ° DBã€‚ è§£å†³çš„åŠæ³•å¦‚ä¸‹ã€‚ å¯¹ä¸å­˜åœ¨çš„ç”¨æˆ·ï¼Œåœ¨ç¼“å­˜ä¸­ä¿å­˜ä¸€ä¸ªç©ºå¯¹è±¡è¿›è¡Œæ ‡è®°ï¼Œé˜²æ­¢ç›¸åŒ ID å†æ¬¡è®¿é—® DBã€‚ä¸è¿‡æœ‰æ—¶è¿™ä¸ªæ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½è§£å†³é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸­å­˜å‚¨å¤§é‡æ— ç”¨æ•°æ®ã€‚ ä½¿ç”¨ BloomFilter è¿‡æ»¤å™¨ï¼ŒBloomFilter çš„ç‰¹ç‚¹æ˜¯å­˜åœ¨æ€§æ£€æµ‹ï¼Œå¦‚æœ BloomFilter ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ•°æ®ä¸€å®šä¸å­˜åœ¨ï¼›å¦‚æœ BloomFilter ä¸­å­˜åœ¨ï¼Œå®é™…æ•°æ®ä¹Ÿæœ‰å¯èƒ½ä¼šä¸å­˜åœ¨ã€‚éå¸¸é€‚åˆè§£å†³è¿™ç±»çš„é—®é¢˜ã€‚ ç¼“å­˜å‡»ç©¿ç¼“å­˜å‡»ç©¿ï¼Œå°±æ˜¯æŸä¸ªçƒ­ç‚¹æ•°æ®å¤±æ•ˆæ—¶ï¼Œå¤§é‡é’ˆå¯¹è¿™ä¸ªæ•°æ®çš„è¯·æ±‚ä¼šç©¿é€åˆ°æ•°æ®æºã€‚ è§£å†³è¿™ä¸ªé—®é¢˜æœ‰å¦‚ä¸‹åŠæ³•ã€‚ å¯ä»¥ä½¿ç”¨äº’æ–¥é”æ›´æ–°ï¼Œä¿è¯åŒä¸€ä¸ªè¿›ç¨‹ä¸­é’ˆå¯¹åŒä¸€ä¸ªæ•°æ®ä¸ä¼šå¹¶å‘è¯·æ±‚åˆ° DBï¼Œå‡å° DB å‹åŠ›ã€‚ ä½¿ç”¨éšæœºé€€é¿æ–¹å¼ï¼Œå¤±æ•ˆæ—¶éšæœº sleep ä¸€ä¸ªå¾ˆçŸ­çš„æ—¶é—´ï¼Œå†æ¬¡æŸ¥è¯¢ï¼Œå¦‚æœå¤±è´¥å†æ‰§è¡Œæ›´æ–°ã€‚ é’ˆå¯¹å¤šä¸ªçƒ­ç‚¹ key åŒæ—¶å¤±æ•ˆçš„é—®é¢˜ï¼Œå¯ä»¥åœ¨ç¼“å­˜æ—¶ä½¿ç”¨å›ºå®šæ—¶é—´åŠ ä¸Šä¸€ä¸ªå°çš„éšæœºæ•°ï¼Œé¿å…å¤§é‡çƒ­ç‚¹ key åŒä¸€æ—¶åˆ»å¤±æ•ˆã€‚ ç¼“å­˜é›ªå´©ç¼“å­˜é›ªå´©ï¼Œäº§ç”Ÿçš„åŸå› æ˜¯ç¼“å­˜æŒ‚æ‰ï¼Œè¿™æ—¶æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç©¿é€åˆ° DBã€‚ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨å¿«é€Ÿå¤±è´¥çš„ç†”æ–­ç­–ç•¥ï¼Œå‡å°‘ DB ç¬é—´å‹åŠ›ï¼› ä½¿ç”¨ä¸»ä»æ¨¡å¼å’Œé›†ç¾¤æ¨¡å¼æ¥å°½é‡ä¿è¯ç¼“å­˜æœåŠ¡çš„é«˜å¯ç”¨ã€‚ å®é™…åœºæ™¯ä¸­ï¼Œè¿™ä¸¤ç§æ–¹æ³•ä¼šç»“åˆä½¿ç”¨ã€‚ è€æœ‹å‹éƒ½çŸ¥é“ä¸ºå•¥æˆ‘æ²¡æœ‰å¤§ç¯‡å¹…ä»‹ç»è¿™ä¸ªå‡ ä¸ªç‚¹äº†å§ï¼Œæˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« å®åœ¨æ˜¯å†™å¾—å¤ªè¯¦ç»†äº†ï¼Œå¿ä¸ä½ç‚¹èµé‚£ç§ï¼Œæˆ‘è¿™é‡Œå°±ä¸åšé‡å¤æ‹·è´äº†ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« _å‡›å†¬å°†è‡³ã€FPX_æ–°ç‹ç™»åŸº ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:8","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¼“å­˜é›ªå´©"},{"categories":null,"content":"è€ƒç‚¹ä¸åŠ åˆ†é¡¹æ‹¿ç¬”è®°ä¸€ä¸‹ï¼ è€ƒç‚¹é¢è¯•çš„æ—¶å€™é—®ä½ ç¼“å­˜ï¼Œä¸»è¦æ˜¯è€ƒå¯Ÿç¼“å­˜ç‰¹æ€§çš„ç†è§£ï¼Œå¯¹ MCã€Redis çš„ç‰¹ç‚¹å’Œä½¿ç”¨æ–¹å¼çš„æŒæ¡ã€‚ è¦çŸ¥é“ç¼“å­˜çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸åŒç±»å‹ç¼“å­˜çš„ä½¿ç”¨æ–¹å¼ï¼Œä¾‹å¦‚ï¼š å¯¹ DB çƒ­ç‚¹æ•°æ®è¿›è¡Œç¼“å­˜å‡å°‘ DB å‹åŠ›ï¼›å¯¹ä¾èµ–çš„æœåŠ¡è¿›è¡Œç¼“å­˜ï¼Œæé«˜å¹¶å‘æ€§èƒ½ï¼› å•çº¯ K-V ç¼“å­˜çš„åœºæ™¯å¯ä»¥ä½¿ç”¨ MCï¼Œè€Œéœ€è¦ç¼“å­˜ listã€set ç­‰ç‰¹æ®Šæ•°æ®æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ Redisï¼› éœ€è¦ç¼“å­˜ä¸€ä¸ªç”¨æˆ·æœ€è¿‘æ’­æ”¾è§†é¢‘çš„åˆ—è¡¨å¯ä»¥ä½¿ç”¨ Redis çš„ list æ¥ä¿å­˜ã€éœ€è¦è®¡ç®—æ’è¡Œæ¦œæ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Redis çš„ zset ç»“æ„æ¥ä¿å­˜ã€‚ è¦äº†è§£ MC å’Œ Redis çš„å¸¸ç”¨å‘½ä»¤ï¼Œä¾‹å¦‚åŸå­å¢å‡ã€å¯¹ä¸åŒæ•°æ®ç»“æ„è¿›è¡Œæ“ä½œçš„å‘½ä»¤ç­‰ã€‚ äº†è§£ MC å’Œ Redis åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ç»“æ„ï¼Œè¿™å¯¹è¯„ä¼°ä½¿ç”¨å®¹é‡ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ äº†è§£ MC å’Œ Redis çš„æ•°æ®å¤±æ•ˆæ–¹å¼å’Œå‰”é™¤ç­–ç•¥ï¼Œæ¯”å¦‚ä¸»åŠ¨è§¦å‘çš„å®šæœŸå‰”é™¤å’Œè¢«åŠ¨è§¦å‘å»¶æœŸå‰”é™¤ è¦ç†è§£ Redis çš„æŒä¹…åŒ–ã€ä¸»ä»åŒæ­¥ä¸ Cluster éƒ¨ç½²çš„åŸç†ï¼Œæ¯”å¦‚ RDB å’Œ AOF çš„å®ç°æ–¹å¼ä¸åŒºåˆ«ã€‚ è¦çŸ¥é“ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©åˆ†åˆ«çš„å¼‚åŒç‚¹ä»¥åŠè§£å†³æ–¹æ¡ˆã€‚ ä¸ç®¡ä½ æœ‰æ²¡æœ‰ç”µå•†ç»éªŒæˆ‘è§‰å¾—ä½ éƒ½åº”è¯¥çŸ¥é“ç§’æ€çš„å…·ä½“å®ç°ï¼Œä»¥åŠç»†èŠ‚ç‚¹ã€‚ â€¦â€¦.. æ¬¢è¿å»GitHubè¡¥å…… åŠ åˆ†é¡¹å¦‚æœæƒ³è¦åœ¨é¢è¯•ä¸­è·å¾—æ›´å¥½çš„è¡¨ç°ï¼Œè¿˜åº”äº†è§£ä¸‹é¢è¿™äº›åŠ åˆ†é¡¹ã€‚ æ˜¯è¦ç»“åˆå®é™…åº”ç”¨åœºæ™¯æ¥ä»‹ç»ç¼“å­˜çš„ä½¿ç”¨ã€‚ä¾‹å¦‚è°ƒç”¨åç«¯æœåŠ¡æ¥å£è·å–ä¿¡æ¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°+è¿œç¨‹çš„å¤šçº§ç¼“å­˜ï¼›å¯¹äºåŠ¨æ€æ’è¡Œæ¦œç±»çš„åœºæ™¯å¯ä»¥è€ƒè™‘é€šè¿‡ Redis çš„ Sorted set æ¥å®ç°ç­‰ç­‰ã€‚ æœ€å¥½ä½ æœ‰è¿‡åˆ†å¸ƒå¼ç¼“å­˜è®¾è®¡å’Œä½¿ç”¨ç»éªŒï¼Œä¾‹å¦‚é¡¹ç›®ä¸­åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨è¿‡ Redisï¼Œä½¿ç”¨äº†ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Œè§£å†³å“ªç±»çš„é—®é¢˜ï¼›ä½¿ç”¨ MC æ—¶æ ¹æ®é¢„ä¼°å€¼å¤§å°è°ƒæ•´ McSlab åˆ†é…å‚æ•°ç­‰ç­‰ã€‚ æœ€å¥½å¯ä»¥äº†è§£ç¼“å­˜ä½¿ç”¨ä¸­å¯èƒ½äº§ç”Ÿçš„é—®é¢˜ã€‚æ¯”å¦‚ Redis æ˜¯å•çº¿ç¨‹å¤„ç†è¯·æ±‚ï¼Œåº”å°½é‡é¿å…è€—æ—¶è¾ƒé«˜çš„å•ä¸ªè¯·æ±‚ä»»åŠ¡ï¼Œé˜²æ­¢ç›¸äº’å½±å“ï¼›Redis æœåŠ¡åº”é¿å…å’Œå…¶ä»– CPU å¯†é›†å‹çš„è¿›ç¨‹éƒ¨ç½²åœ¨åŒä¸€æœºå™¨ï¼›æˆ–è€…ç¦ç”¨ Swap å†…å­˜äº¤æ¢ï¼Œé˜²æ­¢ Redis çš„ç¼“å­˜æ•°æ®äº¤æ¢åˆ°ç¡¬ç›˜ä¸Šï¼Œå½±å“æ€§èƒ½ã€‚å†æ¯”å¦‚å‰é¢æåˆ°çš„ MC é’™åŒ–é—®é¢˜ç­‰ç­‰ã€‚ è¦äº†è§£ Redis çš„å…¸å‹åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ Redis æ¥å®ç°åˆ†å¸ƒå¼é”ï¼›ä½¿ç”¨ Bitmap æ¥å®ç° BloomFilterï¼Œä½¿ç”¨ HyperLogLog æ¥è¿›è¡Œ UV ç»Ÿè®¡ç­‰ç­‰ã€‚ çŸ¥é“ Redis4.0ã€5.0 ä¸­çš„æ–°ç‰¹æ€§ï¼Œä¾‹å¦‚æ”¯æŒå¤šæ’­çš„å¯æŒä¹…åŒ–æ¶ˆæ¯é˜Ÿåˆ— Streamï¼›é€šè¿‡ Module ç³»ç»Ÿæ¥è¿›è¡Œå®šåˆ¶åŠŸèƒ½æ‰©å±•ç­‰ç­‰ã€‚ â€¦â€¦.. è¿˜æ˜¯é‚£å¥è¯æ¬¢è¿å»GitHubè¡¥å……ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:9","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#è€ƒç‚¹ä¸åŠ åˆ†é¡¹"},{"categories":null,"content":"è€ƒç‚¹ä¸åŠ åˆ†é¡¹æ‹¿ç¬”è®°ä¸€ä¸‹ï¼ è€ƒç‚¹é¢è¯•çš„æ—¶å€™é—®ä½ ç¼“å­˜ï¼Œä¸»è¦æ˜¯è€ƒå¯Ÿç¼“å­˜ç‰¹æ€§çš„ç†è§£ï¼Œå¯¹ MCã€Redis çš„ç‰¹ç‚¹å’Œä½¿ç”¨æ–¹å¼çš„æŒæ¡ã€‚ è¦çŸ¥é“ç¼“å­˜çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸åŒç±»å‹ç¼“å­˜çš„ä½¿ç”¨æ–¹å¼ï¼Œä¾‹å¦‚ï¼š å¯¹ DB çƒ­ç‚¹æ•°æ®è¿›è¡Œç¼“å­˜å‡å°‘ DB å‹åŠ›ï¼›å¯¹ä¾èµ–çš„æœåŠ¡è¿›è¡Œç¼“å­˜ï¼Œæé«˜å¹¶å‘æ€§èƒ½ï¼› å•çº¯ K-V ç¼“å­˜çš„åœºæ™¯å¯ä»¥ä½¿ç”¨ MCï¼Œè€Œéœ€è¦ç¼“å­˜ listã€set ç­‰ç‰¹æ®Šæ•°æ®æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ Redisï¼› éœ€è¦ç¼“å­˜ä¸€ä¸ªç”¨æˆ·æœ€è¿‘æ’­æ”¾è§†é¢‘çš„åˆ—è¡¨å¯ä»¥ä½¿ç”¨ Redis çš„ list æ¥ä¿å­˜ã€éœ€è¦è®¡ç®—æ’è¡Œæ¦œæ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Redis çš„ zset ç»“æ„æ¥ä¿å­˜ã€‚ è¦äº†è§£ MC å’Œ Redis çš„å¸¸ç”¨å‘½ä»¤ï¼Œä¾‹å¦‚åŸå­å¢å‡ã€å¯¹ä¸åŒæ•°æ®ç»“æ„è¿›è¡Œæ“ä½œçš„å‘½ä»¤ç­‰ã€‚ äº†è§£ MC å’Œ Redis åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ç»“æ„ï¼Œè¿™å¯¹è¯„ä¼°ä½¿ç”¨å®¹é‡ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ äº†è§£ MC å’Œ Redis çš„æ•°æ®å¤±æ•ˆæ–¹å¼å’Œå‰”é™¤ç­–ç•¥ï¼Œæ¯”å¦‚ä¸»åŠ¨è§¦å‘çš„å®šæœŸå‰”é™¤å’Œè¢«åŠ¨è§¦å‘å»¶æœŸå‰”é™¤ è¦ç†è§£ Redis çš„æŒä¹…åŒ–ã€ä¸»ä»åŒæ­¥ä¸ Cluster éƒ¨ç½²çš„åŸç†ï¼Œæ¯”å¦‚ RDB å’Œ AOF çš„å®ç°æ–¹å¼ä¸åŒºåˆ«ã€‚ è¦çŸ¥é“ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©åˆ†åˆ«çš„å¼‚åŒç‚¹ä»¥åŠè§£å†³æ–¹æ¡ˆã€‚ ä¸ç®¡ä½ æœ‰æ²¡æœ‰ç”µå•†ç»éªŒæˆ‘è§‰å¾—ä½ éƒ½åº”è¯¥çŸ¥é“ç§’æ€çš„å…·ä½“å®ç°ï¼Œä»¥åŠç»†èŠ‚ç‚¹ã€‚ â€¦â€¦.. æ¬¢è¿å»GitHubè¡¥å…… åŠ åˆ†é¡¹å¦‚æœæƒ³è¦åœ¨é¢è¯•ä¸­è·å¾—æ›´å¥½çš„è¡¨ç°ï¼Œè¿˜åº”äº†è§£ä¸‹é¢è¿™äº›åŠ åˆ†é¡¹ã€‚ æ˜¯è¦ç»“åˆå®é™…åº”ç”¨åœºæ™¯æ¥ä»‹ç»ç¼“å­˜çš„ä½¿ç”¨ã€‚ä¾‹å¦‚è°ƒç”¨åç«¯æœåŠ¡æ¥å£è·å–ä¿¡æ¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°+è¿œç¨‹çš„å¤šçº§ç¼“å­˜ï¼›å¯¹äºåŠ¨æ€æ’è¡Œæ¦œç±»çš„åœºæ™¯å¯ä»¥è€ƒè™‘é€šè¿‡ Redis çš„ Sorted set æ¥å®ç°ç­‰ç­‰ã€‚ æœ€å¥½ä½ æœ‰è¿‡åˆ†å¸ƒå¼ç¼“å­˜è®¾è®¡å’Œä½¿ç”¨ç»éªŒï¼Œä¾‹å¦‚é¡¹ç›®ä¸­åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨è¿‡ Redisï¼Œä½¿ç”¨äº†ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Œè§£å†³å“ªç±»çš„é—®é¢˜ï¼›ä½¿ç”¨ MC æ—¶æ ¹æ®é¢„ä¼°å€¼å¤§å°è°ƒæ•´ McSlab åˆ†é…å‚æ•°ç­‰ç­‰ã€‚ æœ€å¥½å¯ä»¥äº†è§£ç¼“å­˜ä½¿ç”¨ä¸­å¯èƒ½äº§ç”Ÿçš„é—®é¢˜ã€‚æ¯”å¦‚ Redis æ˜¯å•çº¿ç¨‹å¤„ç†è¯·æ±‚ï¼Œåº”å°½é‡é¿å…è€—æ—¶è¾ƒé«˜çš„å•ä¸ªè¯·æ±‚ä»»åŠ¡ï¼Œé˜²æ­¢ç›¸äº’å½±å“ï¼›Redis æœåŠ¡åº”é¿å…å’Œå…¶ä»– CPU å¯†é›†å‹çš„è¿›ç¨‹éƒ¨ç½²åœ¨åŒä¸€æœºå™¨ï¼›æˆ–è€…ç¦ç”¨ Swap å†…å­˜äº¤æ¢ï¼Œé˜²æ­¢ Redis çš„ç¼“å­˜æ•°æ®äº¤æ¢åˆ°ç¡¬ç›˜ä¸Šï¼Œå½±å“æ€§èƒ½ã€‚å†æ¯”å¦‚å‰é¢æåˆ°çš„ MC é’™åŒ–é—®é¢˜ç­‰ç­‰ã€‚ è¦äº†è§£ Redis çš„å…¸å‹åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ Redis æ¥å®ç°åˆ†å¸ƒå¼é”ï¼›ä½¿ç”¨ Bitmap æ¥å®ç° BloomFilterï¼Œä½¿ç”¨ HyperLogLog æ¥è¿›è¡Œ UV ç»Ÿè®¡ç­‰ç­‰ã€‚ çŸ¥é“ Redis4.0ã€5.0 ä¸­çš„æ–°ç‰¹æ€§ï¼Œä¾‹å¦‚æ”¯æŒå¤šæ’­çš„å¯æŒä¹…åŒ–æ¶ˆæ¯é˜Ÿåˆ— Streamï¼›é€šè¿‡ Module ç³»ç»Ÿæ¥è¿›è¡Œå®šåˆ¶åŠŸèƒ½æ‰©å±•ç­‰ç­‰ã€‚ â€¦â€¦.. è¿˜æ˜¯é‚£å¥è¯æ¬¢è¿å»GitHubè¡¥å……ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:9","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#è€ƒç‚¹"},{"categories":null,"content":"è€ƒç‚¹ä¸åŠ åˆ†é¡¹æ‹¿ç¬”è®°ä¸€ä¸‹ï¼ è€ƒç‚¹é¢è¯•çš„æ—¶å€™é—®ä½ ç¼“å­˜ï¼Œä¸»è¦æ˜¯è€ƒå¯Ÿç¼“å­˜ç‰¹æ€§çš„ç†è§£ï¼Œå¯¹ MCã€Redis çš„ç‰¹ç‚¹å’Œä½¿ç”¨æ–¹å¼çš„æŒæ¡ã€‚ è¦çŸ¥é“ç¼“å­˜çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸åŒç±»å‹ç¼“å­˜çš„ä½¿ç”¨æ–¹å¼ï¼Œä¾‹å¦‚ï¼š å¯¹ DB çƒ­ç‚¹æ•°æ®è¿›è¡Œç¼“å­˜å‡å°‘ DB å‹åŠ›ï¼›å¯¹ä¾èµ–çš„æœåŠ¡è¿›è¡Œç¼“å­˜ï¼Œæé«˜å¹¶å‘æ€§èƒ½ï¼› å•çº¯ K-V ç¼“å­˜çš„åœºæ™¯å¯ä»¥ä½¿ç”¨ MCï¼Œè€Œéœ€è¦ç¼“å­˜ listã€set ç­‰ç‰¹æ®Šæ•°æ®æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ Redisï¼› éœ€è¦ç¼“å­˜ä¸€ä¸ªç”¨æˆ·æœ€è¿‘æ’­æ”¾è§†é¢‘çš„åˆ—è¡¨å¯ä»¥ä½¿ç”¨ Redis çš„ list æ¥ä¿å­˜ã€éœ€è¦è®¡ç®—æ’è¡Œæ¦œæ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Redis çš„ zset ç»“æ„æ¥ä¿å­˜ã€‚ è¦äº†è§£ MC å’Œ Redis çš„å¸¸ç”¨å‘½ä»¤ï¼Œä¾‹å¦‚åŸå­å¢å‡ã€å¯¹ä¸åŒæ•°æ®ç»“æ„è¿›è¡Œæ“ä½œçš„å‘½ä»¤ç­‰ã€‚ äº†è§£ MC å’Œ Redis åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ç»“æ„ï¼Œè¿™å¯¹è¯„ä¼°ä½¿ç”¨å®¹é‡ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ äº†è§£ MC å’Œ Redis çš„æ•°æ®å¤±æ•ˆæ–¹å¼å’Œå‰”é™¤ç­–ç•¥ï¼Œæ¯”å¦‚ä¸»åŠ¨è§¦å‘çš„å®šæœŸå‰”é™¤å’Œè¢«åŠ¨è§¦å‘å»¶æœŸå‰”é™¤ è¦ç†è§£ Redis çš„æŒä¹…åŒ–ã€ä¸»ä»åŒæ­¥ä¸ Cluster éƒ¨ç½²çš„åŸç†ï¼Œæ¯”å¦‚ RDB å’Œ AOF çš„å®ç°æ–¹å¼ä¸åŒºåˆ«ã€‚ è¦çŸ¥é“ç¼“å­˜ç©¿é€ã€å‡»ç©¿ã€é›ªå´©åˆ†åˆ«çš„å¼‚åŒç‚¹ä»¥åŠè§£å†³æ–¹æ¡ˆã€‚ ä¸ç®¡ä½ æœ‰æ²¡æœ‰ç”µå•†ç»éªŒæˆ‘è§‰å¾—ä½ éƒ½åº”è¯¥çŸ¥é“ç§’æ€çš„å…·ä½“å®ç°ï¼Œä»¥åŠç»†èŠ‚ç‚¹ã€‚ â€¦â€¦.. æ¬¢è¿å»GitHubè¡¥å…… åŠ åˆ†é¡¹å¦‚æœæƒ³è¦åœ¨é¢è¯•ä¸­è·å¾—æ›´å¥½çš„è¡¨ç°ï¼Œè¿˜åº”äº†è§£ä¸‹é¢è¿™äº›åŠ åˆ†é¡¹ã€‚ æ˜¯è¦ç»“åˆå®é™…åº”ç”¨åœºæ™¯æ¥ä»‹ç»ç¼“å­˜çš„ä½¿ç”¨ã€‚ä¾‹å¦‚è°ƒç”¨åç«¯æœåŠ¡æ¥å£è·å–ä¿¡æ¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°+è¿œç¨‹çš„å¤šçº§ç¼“å­˜ï¼›å¯¹äºåŠ¨æ€æ’è¡Œæ¦œç±»çš„åœºæ™¯å¯ä»¥è€ƒè™‘é€šè¿‡ Redis çš„ Sorted set æ¥å®ç°ç­‰ç­‰ã€‚ æœ€å¥½ä½ æœ‰è¿‡åˆ†å¸ƒå¼ç¼“å­˜è®¾è®¡å’Œä½¿ç”¨ç»éªŒï¼Œä¾‹å¦‚é¡¹ç›®ä¸­åœ¨ä»€ä¹ˆåœºæ™¯ä½¿ç”¨è¿‡ Redisï¼Œä½¿ç”¨äº†ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Œè§£å†³å“ªç±»çš„é—®é¢˜ï¼›ä½¿ç”¨ MC æ—¶æ ¹æ®é¢„ä¼°å€¼å¤§å°è°ƒæ•´ McSlab åˆ†é…å‚æ•°ç­‰ç­‰ã€‚ æœ€å¥½å¯ä»¥äº†è§£ç¼“å­˜ä½¿ç”¨ä¸­å¯èƒ½äº§ç”Ÿçš„é—®é¢˜ã€‚æ¯”å¦‚ Redis æ˜¯å•çº¿ç¨‹å¤„ç†è¯·æ±‚ï¼Œåº”å°½é‡é¿å…è€—æ—¶è¾ƒé«˜çš„å•ä¸ªè¯·æ±‚ä»»åŠ¡ï¼Œé˜²æ­¢ç›¸äº’å½±å“ï¼›Redis æœåŠ¡åº”é¿å…å’Œå…¶ä»– CPU å¯†é›†å‹çš„è¿›ç¨‹éƒ¨ç½²åœ¨åŒä¸€æœºå™¨ï¼›æˆ–è€…ç¦ç”¨ Swap å†…å­˜äº¤æ¢ï¼Œé˜²æ­¢ Redis çš„ç¼“å­˜æ•°æ®äº¤æ¢åˆ°ç¡¬ç›˜ä¸Šï¼Œå½±å“æ€§èƒ½ã€‚å†æ¯”å¦‚å‰é¢æåˆ°çš„ MC é’™åŒ–é—®é¢˜ç­‰ç­‰ã€‚ è¦äº†è§£ Redis çš„å…¸å‹åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ Redis æ¥å®ç°åˆ†å¸ƒå¼é”ï¼›ä½¿ç”¨ Bitmap æ¥å®ç° BloomFilterï¼Œä½¿ç”¨ HyperLogLog æ¥è¿›è¡Œ UV ç»Ÿè®¡ç­‰ç­‰ã€‚ çŸ¥é“ Redis4.0ã€5.0 ä¸­çš„æ–°ç‰¹æ€§ï¼Œä¾‹å¦‚æ”¯æŒå¤šæ’­çš„å¯æŒä¹…åŒ–æ¶ˆæ¯é˜Ÿåˆ— Streamï¼›é€šè¿‡ Module ç³»ç»Ÿæ¥è¿›è¡Œå®šåˆ¶åŠŸèƒ½æ‰©å±•ç­‰ç­‰ã€‚ â€¦â€¦.. è¿˜æ˜¯é‚£å¥è¯æ¬¢è¿å»GitHubè¡¥å……ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:0:9","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#åŠ åˆ†é¡¹"},{"categories":null,"content":"æ€»ç»“è¿™æ¬¡æ˜¯å¯¹æˆ‘Redisç³»åˆ—çš„æ€»ç»“ï¼Œè¿™åº”è¯¥æ˜¯Redisç›¸å…³çš„æœ€åä¸€ç¯‡æ–‡ç« äº†ï¼Œå…¶å®å››ç¯‡çœ‹ä¸‹æ¥çš„å°ä¼™ä¼´å¾ˆå¤šéƒ½ä»ä¸€çŸ¥åŠè§£åˆ°äº†ä¸€è„¸æ‡µé€¼ï¼Œå“ˆå“ˆå¼€ä¸ªç©ç¬‘ã€‚ æˆ‘è§‰å¾—æˆ‘çš„æ–¹å¼åº”è¯¥è¿˜å¥½ï¼Œå¤§éƒ¨åˆ†å°ä¼™ä¼´è¿˜æ˜¯æ¯”è¾ƒèƒ½ç†è§£çš„ï¼Œè¿™ç¯‡ä¹‹åæˆ‘å°±ä¸ä¼šå†™Redisç›¸å…³çš„æ–‡ç« äº†(ç§’æ€çœ‹å¤§å®¶æƒ³çœ‹çš„çƒ­åº¦å§)ï¼Œæœ‰å•¥é—®é¢˜å¯ä»¥å¾®ä¿¡æ‰¾æˆ‘ï¼Œä¸‹ä¸ªç³»åˆ—å†™å•¥ï¼Ÿ å¤§å®¶ä¸ç”¨æ€¥ï¼Œä¸‹ä¸ªç³»åˆ—å‰æˆ‘ä¼šå‘ä¸ªæœ‰æ„æ€çš„æ–‡ç« ï¼Œæ˜¯æˆ‘åœ¨å…¬å¸ä»£ç åˆ›æ„å¤§èµ›æ‹¿å¥–çš„æ–‡ç« ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹ä¸œè¥¿ï¼Œæˆ‘å¿ä¸ä½åˆ†äº«ä¸€ä¸‹ï¼Œé¡ºä¾¿å°±åœ¨é‚£æœŸå‘èµ·æŠ•ç¥¨å§å“ˆå“ˆã€‚ æˆ‘çœ‹åˆ°å¾ˆå¤šå°ä¼™ä¼´éƒ½æœ‰è¯„è®ºè¯´æƒ³çœ‹åˆ«çš„ï¼Œå¤§æ¦‚æœé›†äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡ç•™è¨€çš„è¿™æœŸèµ¶ç´§å“Ÿï¼š æ˜é‡‘æ„šè¾› ï¼šæƒ³çœ‹è®¡ç®—æœºåŸºç¡€ï¼Œç½‘ç»œå’Œæ“ä½œç³»ç»Ÿé‚£äº›ï¼ˆFPXç‰›è„¾ï¼‰ cherishå›ï¼šè®²è®²dubboç»å¸¸é‡åˆ°çš„é¢è¯•é¢˜ç›®ï¼Œå¤ªå¤šäººå–œæ¬¢é—®dubboğŸ˜ƒ Javaæ¶æ„å…»æˆè®°ï¼šçœŸçš„å¾ˆé¦™å•Šï¼Œä¸‹ä¸€æœŸè®²Dubbboï¼ˆé‡ç‚¹SPIï¼‰ç„¶åè®²MQå¥½å— CSDNå°æ®¿ä¸‹ï¼šçœ‹å®Œäº†æ‰€æœ‰çš„redisç¯‡ å¸Œæœ›å¯ä»¥å‡ºssm åšå®¢å›­ç¨‹ç„¶ï¼šDubbo Dubbo å¼€æºä¸­å›½linshi2019ï¼šè¿™æœŸæ˜æ˜¾æ˜¯èµ¶å·¥ä¹‹ä½œå•Š æ•–ä¸™ï¼šè¿™æ¡æˆ‘å›ä¸€ä¸‹ï¼Œé­ç­–æˆ‘ï¼Œæˆ‘å¾ˆå–œæ¬¢ï¼Œä¸è¿‡è¯´å®è¯è¿˜æ˜¯å¸Œæœ›å¤§å®¶ç†è§£ä¸‹ï¼Œæˆ‘åŒåä¸€ç†¬å¤œä¸‰å¤©äº†ï¼Œç°åœ¨ç»™ä½ ä»¬å†™çš„æ—¶å€™ä¹Ÿæ˜¯å€¼ç­å›å®¶2ç‚¹å·¦å³äº†ï¼Œæˆ‘ä¸€å¤©åƒé¥­å·¥ä½œæ—¶é—´è‚¯å®šæ˜¯å›ºå®šçš„ï¼Œæƒ³å†™ç‚¹ä¸œè¥¿å°±åªæœ‰æŒ¤å‡ºç¡è§‰æ—¶é—´äº†ï¼Œè¿™ç§äº§å‡ºè‚¯å®šæ²¡å‘¨æœ«å…¨æƒ…æŠ•å…¥å†™çš„æ¥çš„è´¨é‡é«˜ã€‚ å…¶å®ç¬¬ä¸€æœŸçœ‹è¿‡æ¥çš„å°ä¼™ä¼´åº”è¯¥ä¹ŸçŸ¥é“ï¼Œæˆ‘åœ¨æ’ç‰ˆï¼Œè¿˜æœ‰å¾ˆå¤šæ–‡æ¡ˆï¼Œé…å›¾å…¶å®æˆ‘ä¸€ç›´éƒ½æœ‰åœ¨æ”¹è¿›çš„ï¼Œå…‰æ˜¯åè¯é«˜äº®æˆ‘éƒ½è¦å¼„å¾ˆä¹…ï¼Œå› ä¸ºæ€•å¤§å®¶çœ‹å•ä¸€çš„é»‘ç™½è‰²è°ƒæ¯ç‡¥ã€‚ æˆ‘æ˜¯çœŸçš„ç”¨å¿ƒåœ¨æï¼Œè¿˜æ˜¯å¸Œæœ›å¤§å®¶æ”¯æŒä¸‹ç†è§£ä¸‹ã€‚ çŸ¥ä¹ã€ç®€ä¹¦ã€æ€å¦ã€æ…•è¯¾æ‰‹è®°æ²¡äººçœ‹ä¸çŸ¥é“ä¸ºå•¥ï¼Œæ‡‚è¡Œçš„è€é“å¯ä»¥è·Ÿæˆ‘è¯´ä¸€ä¸‹ã€‚ æˆ‘åªæƒ³è¯´ä½ ä»¬æƒ³çœ‹çš„è‚¯å®šéƒ½åœ¨æˆ‘å¼€å¤´å’ŒGITHubé‚£ä¸ªå›¾é‡Œå§ï¼Œé—®é¢˜ä¸å¤§ï¼Œåé¢éƒ½ä¼šå†™çš„ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#æ€»ç»“"},{"categories":null,"content":"æ€»ç»“è¿™æ¬¡æ˜¯å¯¹æˆ‘Redisç³»åˆ—çš„æ€»ç»“ï¼Œè¿™åº”è¯¥æ˜¯Redisç›¸å…³çš„æœ€åä¸€ç¯‡æ–‡ç« äº†ï¼Œå…¶å®å››ç¯‡çœ‹ä¸‹æ¥çš„å°ä¼™ä¼´å¾ˆå¤šéƒ½ä»ä¸€çŸ¥åŠè§£åˆ°äº†ä¸€è„¸æ‡µé€¼ï¼Œå“ˆå“ˆå¼€ä¸ªç©ç¬‘ã€‚ æˆ‘è§‰å¾—æˆ‘çš„æ–¹å¼åº”è¯¥è¿˜å¥½ï¼Œå¤§éƒ¨åˆ†å°ä¼™ä¼´è¿˜æ˜¯æ¯”è¾ƒèƒ½ç†è§£çš„ï¼Œè¿™ç¯‡ä¹‹åæˆ‘å°±ä¸ä¼šå†™Redisç›¸å…³çš„æ–‡ç« äº†(ç§’æ€çœ‹å¤§å®¶æƒ³çœ‹çš„çƒ­åº¦å§)ï¼Œæœ‰å•¥é—®é¢˜å¯ä»¥å¾®ä¿¡æ‰¾æˆ‘ï¼Œä¸‹ä¸ªç³»åˆ—å†™å•¥ï¼Ÿ å¤§å®¶ä¸ç”¨æ€¥ï¼Œä¸‹ä¸ªç³»åˆ—å‰æˆ‘ä¼šå‘ä¸ªæœ‰æ„æ€çš„æ–‡ç« ï¼Œæ˜¯æˆ‘åœ¨å…¬å¸ä»£ç åˆ›æ„å¤§èµ›æ‹¿å¥–çš„æ–‡ç« ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹ä¸œè¥¿ï¼Œæˆ‘å¿ä¸ä½åˆ†äº«ä¸€ä¸‹ï¼Œé¡ºä¾¿å°±åœ¨é‚£æœŸå‘èµ·æŠ•ç¥¨å§å“ˆå“ˆã€‚ æˆ‘çœ‹åˆ°å¾ˆå¤šå°ä¼™ä¼´éƒ½æœ‰è¯„è®ºè¯´æƒ³çœ‹åˆ«çš„ï¼Œå¤§æ¦‚æœé›†äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡ç•™è¨€çš„è¿™æœŸèµ¶ç´§å“Ÿï¼š æ˜é‡‘æ„šè¾› ï¼šæƒ³çœ‹è®¡ç®—æœºåŸºç¡€ï¼Œç½‘ç»œå’Œæ“ä½œç³»ç»Ÿé‚£äº›ï¼ˆFPXç‰›è„¾ï¼‰ cherishå›ï¼šè®²è®²dubboç»å¸¸é‡åˆ°çš„é¢è¯•é¢˜ç›®ï¼Œå¤ªå¤šäººå–œæ¬¢é—®dubboğŸ˜ƒ Javaæ¶æ„å…»æˆè®°ï¼šçœŸçš„å¾ˆé¦™å•Šï¼Œä¸‹ä¸€æœŸè®²Dubbboï¼ˆé‡ç‚¹SPIï¼‰ç„¶åè®²MQå¥½å— CSDNå°æ®¿ä¸‹ï¼šçœ‹å®Œäº†æ‰€æœ‰çš„redisç¯‡ å¸Œæœ›å¯ä»¥å‡ºssm åšå®¢å›­ç¨‹ç„¶ï¼šDubbo Dubbo å¼€æºä¸­å›½linshi2019ï¼šè¿™æœŸæ˜æ˜¾æ˜¯èµ¶å·¥ä¹‹ä½œå•Š æ•–ä¸™ï¼šè¿™æ¡æˆ‘å›ä¸€ä¸‹ï¼Œé­ç­–æˆ‘ï¼Œæˆ‘å¾ˆå–œæ¬¢ï¼Œä¸è¿‡è¯´å®è¯è¿˜æ˜¯å¸Œæœ›å¤§å®¶ç†è§£ä¸‹ï¼Œæˆ‘åŒåä¸€ç†¬å¤œä¸‰å¤©äº†ï¼Œç°åœ¨ç»™ä½ ä»¬å†™çš„æ—¶å€™ä¹Ÿæ˜¯å€¼ç­å›å®¶2ç‚¹å·¦å³äº†ï¼Œæˆ‘ä¸€å¤©åƒé¥­å·¥ä½œæ—¶é—´è‚¯å®šæ˜¯å›ºå®šçš„ï¼Œæƒ³å†™ç‚¹ä¸œè¥¿å°±åªæœ‰æŒ¤å‡ºç¡è§‰æ—¶é—´äº†ï¼Œè¿™ç§äº§å‡ºè‚¯å®šæ²¡å‘¨æœ«å…¨æƒ…æŠ•å…¥å†™çš„æ¥çš„è´¨é‡é«˜ã€‚ å…¶å®ç¬¬ä¸€æœŸçœ‹è¿‡æ¥çš„å°ä¼™ä¼´åº”è¯¥ä¹ŸçŸ¥é“ï¼Œæˆ‘åœ¨æ’ç‰ˆï¼Œè¿˜æœ‰å¾ˆå¤šæ–‡æ¡ˆï¼Œé…å›¾å…¶å®æˆ‘ä¸€ç›´éƒ½æœ‰åœ¨æ”¹è¿›çš„ï¼Œå…‰æ˜¯åè¯é«˜äº®æˆ‘éƒ½è¦å¼„å¾ˆä¹…ï¼Œå› ä¸ºæ€•å¤§å®¶çœ‹å•ä¸€çš„é»‘ç™½è‰²è°ƒæ¯ç‡¥ã€‚ æˆ‘æ˜¯çœŸçš„ç”¨å¿ƒåœ¨æï¼Œè¿˜æ˜¯å¸Œæœ›å¤§å®¶æ”¯æŒä¸‹ç†è§£ä¸‹ã€‚ çŸ¥ä¹ã€ç®€ä¹¦ã€æ€å¦ã€æ…•è¯¾æ‰‹è®°æ²¡äººçœ‹ä¸çŸ¥é“ä¸ºå•¥ï¼Œæ‡‚è¡Œçš„è€é“å¯ä»¥è·Ÿæˆ‘è¯´ä¸€ä¸‹ã€‚ æˆ‘åªæƒ³è¯´ä½ ä»¬æƒ³çœ‹çš„è‚¯å®šéƒ½åœ¨æˆ‘å¼€å¤´å’ŒGITHubé‚£ä¸ªå›¾é‡Œå§ï¼Œé—®é¢˜ä¸å¤§ï¼Œåé¢éƒ½ä¼šå†™çš„ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#æ˜é‡‘"},{"categories":null,"content":"æ€»ç»“è¿™æ¬¡æ˜¯å¯¹æˆ‘Redisç³»åˆ—çš„æ€»ç»“ï¼Œè¿™åº”è¯¥æ˜¯Redisç›¸å…³çš„æœ€åä¸€ç¯‡æ–‡ç« äº†ï¼Œå…¶å®å››ç¯‡çœ‹ä¸‹æ¥çš„å°ä¼™ä¼´å¾ˆå¤šéƒ½ä»ä¸€çŸ¥åŠè§£åˆ°äº†ä¸€è„¸æ‡µé€¼ï¼Œå“ˆå“ˆå¼€ä¸ªç©ç¬‘ã€‚ æˆ‘è§‰å¾—æˆ‘çš„æ–¹å¼åº”è¯¥è¿˜å¥½ï¼Œå¤§éƒ¨åˆ†å°ä¼™ä¼´è¿˜æ˜¯æ¯”è¾ƒèƒ½ç†è§£çš„ï¼Œè¿™ç¯‡ä¹‹åæˆ‘å°±ä¸ä¼šå†™Redisç›¸å…³çš„æ–‡ç« äº†(ç§’æ€çœ‹å¤§å®¶æƒ³çœ‹çš„çƒ­åº¦å§)ï¼Œæœ‰å•¥é—®é¢˜å¯ä»¥å¾®ä¿¡æ‰¾æˆ‘ï¼Œä¸‹ä¸ªç³»åˆ—å†™å•¥ï¼Ÿ å¤§å®¶ä¸ç”¨æ€¥ï¼Œä¸‹ä¸ªç³»åˆ—å‰æˆ‘ä¼šå‘ä¸ªæœ‰æ„æ€çš„æ–‡ç« ï¼Œæ˜¯æˆ‘åœ¨å…¬å¸ä»£ç åˆ›æ„å¤§èµ›æ‹¿å¥–çš„æ–‡ç« ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹ä¸œè¥¿ï¼Œæˆ‘å¿ä¸ä½åˆ†äº«ä¸€ä¸‹ï¼Œé¡ºä¾¿å°±åœ¨é‚£æœŸå‘èµ·æŠ•ç¥¨å§å“ˆå“ˆã€‚ æˆ‘çœ‹åˆ°å¾ˆå¤šå°ä¼™ä¼´éƒ½æœ‰è¯„è®ºè¯´æƒ³çœ‹åˆ«çš„ï¼Œå¤§æ¦‚æœé›†äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡ç•™è¨€çš„è¿™æœŸèµ¶ç´§å“Ÿï¼š æ˜é‡‘æ„šè¾› ï¼šæƒ³çœ‹è®¡ç®—æœºåŸºç¡€ï¼Œç½‘ç»œå’Œæ“ä½œç³»ç»Ÿé‚£äº›ï¼ˆFPXç‰›è„¾ï¼‰ cherishå›ï¼šè®²è®²dubboç»å¸¸é‡åˆ°çš„é¢è¯•é¢˜ç›®ï¼Œå¤ªå¤šäººå–œæ¬¢é—®dubboğŸ˜ƒ Javaæ¶æ„å…»æˆè®°ï¼šçœŸçš„å¾ˆé¦™å•Šï¼Œä¸‹ä¸€æœŸè®²Dubbboï¼ˆé‡ç‚¹SPIï¼‰ç„¶åè®²MQå¥½å— CSDNå°æ®¿ä¸‹ï¼šçœ‹å®Œäº†æ‰€æœ‰çš„redisç¯‡ å¸Œæœ›å¯ä»¥å‡ºssm åšå®¢å›­ç¨‹ç„¶ï¼šDubbo Dubbo å¼€æºä¸­å›½linshi2019ï¼šè¿™æœŸæ˜æ˜¾æ˜¯èµ¶å·¥ä¹‹ä½œå•Š æ•–ä¸™ï¼šè¿™æ¡æˆ‘å›ä¸€ä¸‹ï¼Œé­ç­–æˆ‘ï¼Œæˆ‘å¾ˆå–œæ¬¢ï¼Œä¸è¿‡è¯´å®è¯è¿˜æ˜¯å¸Œæœ›å¤§å®¶ç†è§£ä¸‹ï¼Œæˆ‘åŒåä¸€ç†¬å¤œä¸‰å¤©äº†ï¼Œç°åœ¨ç»™ä½ ä»¬å†™çš„æ—¶å€™ä¹Ÿæ˜¯å€¼ç­å›å®¶2ç‚¹å·¦å³äº†ï¼Œæˆ‘ä¸€å¤©åƒé¥­å·¥ä½œæ—¶é—´è‚¯å®šæ˜¯å›ºå®šçš„ï¼Œæƒ³å†™ç‚¹ä¸œè¥¿å°±åªæœ‰æŒ¤å‡ºç¡è§‰æ—¶é—´äº†ï¼Œè¿™ç§äº§å‡ºè‚¯å®šæ²¡å‘¨æœ«å…¨æƒ…æŠ•å…¥å†™çš„æ¥çš„è´¨é‡é«˜ã€‚ å…¶å®ç¬¬ä¸€æœŸçœ‹è¿‡æ¥çš„å°ä¼™ä¼´åº”è¯¥ä¹ŸçŸ¥é“ï¼Œæˆ‘åœ¨æ’ç‰ˆï¼Œè¿˜æœ‰å¾ˆå¤šæ–‡æ¡ˆï¼Œé…å›¾å…¶å®æˆ‘ä¸€ç›´éƒ½æœ‰åœ¨æ”¹è¿›çš„ï¼Œå…‰æ˜¯åè¯é«˜äº®æˆ‘éƒ½è¦å¼„å¾ˆä¹…ï¼Œå› ä¸ºæ€•å¤§å®¶çœ‹å•ä¸€çš„é»‘ç™½è‰²è°ƒæ¯ç‡¥ã€‚ æˆ‘æ˜¯çœŸçš„ç”¨å¿ƒåœ¨æï¼Œè¿˜æ˜¯å¸Œæœ›å¤§å®¶æ”¯æŒä¸‹ç†è§£ä¸‹ã€‚ çŸ¥ä¹ã€ç®€ä¹¦ã€æ€å¦ã€æ…•è¯¾æ‰‹è®°æ²¡äººçœ‹ä¸çŸ¥é“ä¸ºå•¥ï¼Œæ‡‚è¡Œçš„è€é“å¯ä»¥è·Ÿæˆ‘è¯´ä¸€ä¸‹ã€‚ æˆ‘åªæƒ³è¯´ä½ ä»¬æƒ³çœ‹çš„è‚¯å®šéƒ½åœ¨æˆ‘å¼€å¤´å’ŒGITHubé‚£ä¸ªå›¾é‡Œå§ï¼Œé—®é¢˜ä¸å¤§ï¼Œåé¢éƒ½ä¼šå†™çš„ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#csdn"},{"categories":null,"content":"æ€»ç»“è¿™æ¬¡æ˜¯å¯¹æˆ‘Redisç³»åˆ—çš„æ€»ç»“ï¼Œè¿™åº”è¯¥æ˜¯Redisç›¸å…³çš„æœ€åä¸€ç¯‡æ–‡ç« äº†ï¼Œå…¶å®å››ç¯‡çœ‹ä¸‹æ¥çš„å°ä¼™ä¼´å¾ˆå¤šéƒ½ä»ä¸€çŸ¥åŠè§£åˆ°äº†ä¸€è„¸æ‡µé€¼ï¼Œå“ˆå“ˆå¼€ä¸ªç©ç¬‘ã€‚ æˆ‘è§‰å¾—æˆ‘çš„æ–¹å¼åº”è¯¥è¿˜å¥½ï¼Œå¤§éƒ¨åˆ†å°ä¼™ä¼´è¿˜æ˜¯æ¯”è¾ƒèƒ½ç†è§£çš„ï¼Œè¿™ç¯‡ä¹‹åæˆ‘å°±ä¸ä¼šå†™Redisç›¸å…³çš„æ–‡ç« äº†(ç§’æ€çœ‹å¤§å®¶æƒ³çœ‹çš„çƒ­åº¦å§)ï¼Œæœ‰å•¥é—®é¢˜å¯ä»¥å¾®ä¿¡æ‰¾æˆ‘ï¼Œä¸‹ä¸ªç³»åˆ—å†™å•¥ï¼Ÿ å¤§å®¶ä¸ç”¨æ€¥ï¼Œä¸‹ä¸ªç³»åˆ—å‰æˆ‘ä¼šå‘ä¸ªæœ‰æ„æ€çš„æ–‡ç« ï¼Œæ˜¯æˆ‘åœ¨å…¬å¸ä»£ç åˆ›æ„å¤§èµ›æ‹¿å¥–çš„æ–‡ç« ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹ä¸œè¥¿ï¼Œæˆ‘å¿ä¸ä½åˆ†äº«ä¸€ä¸‹ï¼Œé¡ºä¾¿å°±åœ¨é‚£æœŸå‘èµ·æŠ•ç¥¨å§å“ˆå“ˆã€‚ æˆ‘çœ‹åˆ°å¾ˆå¤šå°ä¼™ä¼´éƒ½æœ‰è¯„è®ºè¯´æƒ³çœ‹åˆ«çš„ï¼Œå¤§æ¦‚æœé›†äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡ç•™è¨€çš„è¿™æœŸèµ¶ç´§å“Ÿï¼š æ˜é‡‘æ„šè¾› ï¼šæƒ³çœ‹è®¡ç®—æœºåŸºç¡€ï¼Œç½‘ç»œå’Œæ“ä½œç³»ç»Ÿé‚£äº›ï¼ˆFPXç‰›è„¾ï¼‰ cherishå›ï¼šè®²è®²dubboç»å¸¸é‡åˆ°çš„é¢è¯•é¢˜ç›®ï¼Œå¤ªå¤šäººå–œæ¬¢é—®dubboğŸ˜ƒ Javaæ¶æ„å…»æˆè®°ï¼šçœŸçš„å¾ˆé¦™å•Šï¼Œä¸‹ä¸€æœŸè®²Dubbboï¼ˆé‡ç‚¹SPIï¼‰ç„¶åè®²MQå¥½å— CSDNå°æ®¿ä¸‹ï¼šçœ‹å®Œäº†æ‰€æœ‰çš„redisç¯‡ å¸Œæœ›å¯ä»¥å‡ºssm åšå®¢å›­ç¨‹ç„¶ï¼šDubbo Dubbo å¼€æºä¸­å›½linshi2019ï¼šè¿™æœŸæ˜æ˜¾æ˜¯èµ¶å·¥ä¹‹ä½œå•Š æ•–ä¸™ï¼šè¿™æ¡æˆ‘å›ä¸€ä¸‹ï¼Œé­ç­–æˆ‘ï¼Œæˆ‘å¾ˆå–œæ¬¢ï¼Œä¸è¿‡è¯´å®è¯è¿˜æ˜¯å¸Œæœ›å¤§å®¶ç†è§£ä¸‹ï¼Œæˆ‘åŒåä¸€ç†¬å¤œä¸‰å¤©äº†ï¼Œç°åœ¨ç»™ä½ ä»¬å†™çš„æ—¶å€™ä¹Ÿæ˜¯å€¼ç­å›å®¶2ç‚¹å·¦å³äº†ï¼Œæˆ‘ä¸€å¤©åƒé¥­å·¥ä½œæ—¶é—´è‚¯å®šæ˜¯å›ºå®šçš„ï¼Œæƒ³å†™ç‚¹ä¸œè¥¿å°±åªæœ‰æŒ¤å‡ºç¡è§‰æ—¶é—´äº†ï¼Œè¿™ç§äº§å‡ºè‚¯å®šæ²¡å‘¨æœ«å…¨æƒ…æŠ•å…¥å†™çš„æ¥çš„è´¨é‡é«˜ã€‚ å…¶å®ç¬¬ä¸€æœŸçœ‹è¿‡æ¥çš„å°ä¼™ä¼´åº”è¯¥ä¹ŸçŸ¥é“ï¼Œæˆ‘åœ¨æ’ç‰ˆï¼Œè¿˜æœ‰å¾ˆå¤šæ–‡æ¡ˆï¼Œé…å›¾å…¶å®æˆ‘ä¸€ç›´éƒ½æœ‰åœ¨æ”¹è¿›çš„ï¼Œå…‰æ˜¯åè¯é«˜äº®æˆ‘éƒ½è¦å¼„å¾ˆä¹…ï¼Œå› ä¸ºæ€•å¤§å®¶çœ‹å•ä¸€çš„é»‘ç™½è‰²è°ƒæ¯ç‡¥ã€‚ æˆ‘æ˜¯çœŸçš„ç”¨å¿ƒåœ¨æï¼Œè¿˜æ˜¯å¸Œæœ›å¤§å®¶æ”¯æŒä¸‹ç†è§£ä¸‹ã€‚ çŸ¥ä¹ã€ç®€ä¹¦ã€æ€å¦ã€æ…•è¯¾æ‰‹è®°æ²¡äººçœ‹ä¸çŸ¥é“ä¸ºå•¥ï¼Œæ‡‚è¡Œçš„è€é“å¯ä»¥è·Ÿæˆ‘è¯´ä¸€ä¸‹ã€‚ æˆ‘åªæƒ³è¯´ä½ ä»¬æƒ³çœ‹çš„è‚¯å®šéƒ½åœ¨æˆ‘å¼€å¤´å’ŒGITHubé‚£ä¸ªå›¾é‡Œå§ï¼Œé—®é¢˜ä¸å¤§ï¼Œåé¢éƒ½ä¼šå†™çš„ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#åšå®¢å›­"},{"categories":null,"content":"æ€»ç»“è¿™æ¬¡æ˜¯å¯¹æˆ‘Redisç³»åˆ—çš„æ€»ç»“ï¼Œè¿™åº”è¯¥æ˜¯Redisç›¸å…³çš„æœ€åä¸€ç¯‡æ–‡ç« äº†ï¼Œå…¶å®å››ç¯‡çœ‹ä¸‹æ¥çš„å°ä¼™ä¼´å¾ˆå¤šéƒ½ä»ä¸€çŸ¥åŠè§£åˆ°äº†ä¸€è„¸æ‡µé€¼ï¼Œå“ˆå“ˆå¼€ä¸ªç©ç¬‘ã€‚ æˆ‘è§‰å¾—æˆ‘çš„æ–¹å¼åº”è¯¥è¿˜å¥½ï¼Œå¤§éƒ¨åˆ†å°ä¼™ä¼´è¿˜æ˜¯æ¯”è¾ƒèƒ½ç†è§£çš„ï¼Œè¿™ç¯‡ä¹‹åæˆ‘å°±ä¸ä¼šå†™Redisç›¸å…³çš„æ–‡ç« äº†(ç§’æ€çœ‹å¤§å®¶æƒ³çœ‹çš„çƒ­åº¦å§)ï¼Œæœ‰å•¥é—®é¢˜å¯ä»¥å¾®ä¿¡æ‰¾æˆ‘ï¼Œä¸‹ä¸ªç³»åˆ—å†™å•¥ï¼Ÿ å¤§å®¶ä¸ç”¨æ€¥ï¼Œä¸‹ä¸ªç³»åˆ—å‰æˆ‘ä¼šå‘ä¸ªæœ‰æ„æ€çš„æ–‡ç« ï¼Œæ˜¯æˆ‘åœ¨å…¬å¸ä»£ç åˆ›æ„å¤§èµ›æ‹¿å¥–çš„æ–‡ç« ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹ä¸œè¥¿ï¼Œæˆ‘å¿ä¸ä½åˆ†äº«ä¸€ä¸‹ï¼Œé¡ºä¾¿å°±åœ¨é‚£æœŸå‘èµ·æŠ•ç¥¨å§å“ˆå“ˆã€‚ æˆ‘çœ‹åˆ°å¾ˆå¤šå°ä¼™ä¼´éƒ½æœ‰è¯„è®ºè¯´æƒ³çœ‹åˆ«çš„ï¼Œå¤§æ¦‚æœé›†äº†ä¸€ä¸‹ï¼Œè¿˜æ²¡ç•™è¨€çš„è¿™æœŸèµ¶ç´§å“Ÿï¼š æ˜é‡‘æ„šè¾› ï¼šæƒ³çœ‹è®¡ç®—æœºåŸºç¡€ï¼Œç½‘ç»œå’Œæ“ä½œç³»ç»Ÿé‚£äº›ï¼ˆFPXç‰›è„¾ï¼‰ cherishå›ï¼šè®²è®²dubboç»å¸¸é‡åˆ°çš„é¢è¯•é¢˜ç›®ï¼Œå¤ªå¤šäººå–œæ¬¢é—®dubboğŸ˜ƒ Javaæ¶æ„å…»æˆè®°ï¼šçœŸçš„å¾ˆé¦™å•Šï¼Œä¸‹ä¸€æœŸè®²Dubbboï¼ˆé‡ç‚¹SPIï¼‰ç„¶åè®²MQå¥½å— CSDNå°æ®¿ä¸‹ï¼šçœ‹å®Œäº†æ‰€æœ‰çš„redisç¯‡ å¸Œæœ›å¯ä»¥å‡ºssm åšå®¢å›­ç¨‹ç„¶ï¼šDubbo Dubbo å¼€æºä¸­å›½linshi2019ï¼šè¿™æœŸæ˜æ˜¾æ˜¯èµ¶å·¥ä¹‹ä½œå•Š æ•–ä¸™ï¼šè¿™æ¡æˆ‘å›ä¸€ä¸‹ï¼Œé­ç­–æˆ‘ï¼Œæˆ‘å¾ˆå–œæ¬¢ï¼Œä¸è¿‡è¯´å®è¯è¿˜æ˜¯å¸Œæœ›å¤§å®¶ç†è§£ä¸‹ï¼Œæˆ‘åŒåä¸€ç†¬å¤œä¸‰å¤©äº†ï¼Œç°åœ¨ç»™ä½ ä»¬å†™çš„æ—¶å€™ä¹Ÿæ˜¯å€¼ç­å›å®¶2ç‚¹å·¦å³äº†ï¼Œæˆ‘ä¸€å¤©åƒé¥­å·¥ä½œæ—¶é—´è‚¯å®šæ˜¯å›ºå®šçš„ï¼Œæƒ³å†™ç‚¹ä¸œè¥¿å°±åªæœ‰æŒ¤å‡ºç¡è§‰æ—¶é—´äº†ï¼Œè¿™ç§äº§å‡ºè‚¯å®šæ²¡å‘¨æœ«å…¨æƒ…æŠ•å…¥å†™çš„æ¥çš„è´¨é‡é«˜ã€‚ å…¶å®ç¬¬ä¸€æœŸçœ‹è¿‡æ¥çš„å°ä¼™ä¼´åº”è¯¥ä¹ŸçŸ¥é“ï¼Œæˆ‘åœ¨æ’ç‰ˆï¼Œè¿˜æœ‰å¾ˆå¤šæ–‡æ¡ˆï¼Œé…å›¾å…¶å®æˆ‘ä¸€ç›´éƒ½æœ‰åœ¨æ”¹è¿›çš„ï¼Œå…‰æ˜¯åè¯é«˜äº®æˆ‘éƒ½è¦å¼„å¾ˆä¹…ï¼Œå› ä¸ºæ€•å¤§å®¶çœ‹å•ä¸€çš„é»‘ç™½è‰²è°ƒæ¯ç‡¥ã€‚ æˆ‘æ˜¯çœŸçš„ç”¨å¿ƒåœ¨æï¼Œè¿˜æ˜¯å¸Œæœ›å¤§å®¶æ”¯æŒä¸‹ç†è§£ä¸‹ã€‚ çŸ¥ä¹ã€ç®€ä¹¦ã€æ€å¦ã€æ…•è¯¾æ‰‹è®°æ²¡äººçœ‹ä¸çŸ¥é“ä¸ºå•¥ï¼Œæ‡‚è¡Œçš„è€é“å¯ä»¥è·Ÿæˆ‘è¯´ä¸€ä¸‹ã€‚ æˆ‘åªæƒ³è¯´ä½ ä»¬æƒ³çœ‹çš„è‚¯å®šéƒ½åœ¨æˆ‘å¼€å¤´å’ŒGITHubé‚£ä¸ªå›¾é‡Œå§ï¼Œé—®é¢˜ä¸å¤§ï¼Œåé¢éƒ½ä¼šå†™çš„ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#å¼€æºä¸­å›½"},{"categories":null,"content":"é¸£è°¢æœ€åæ„Ÿè°¢ä¸‹ï¼Œæ–°æµªå¾®åšçš„æŠ€æœ¯ä¸“å®¶å¼ é›·ã€‚ ä»–äº2013å¹´åŠ å…¥æ–°æµªå¾®åšï¼Œä½œä¸ºæ ¸å¿ƒæŠ€æœ¯äººå‘˜å‚ä¸äº†å¾®åšæœåŠ¡åŒ–ã€æ··åˆäº‘ç­‰å¤šä¸ªé‡ç‚¹é¡¹ç›®ï¼Œæ˜¯å¾®åšå¼€æºçš„RPCæ¡†æ¶Motançš„æŠ€æœ¯è´Ÿè´£äººï¼ŒåŒæ—¶ä¹Ÿè´Ÿè´£å¾®åšçš„Service Meshæ–¹æ¡ˆçš„ç ”å‘ä¸æ¨å¹¿ï¼Œä¸“æ³¨äºé«˜å¯ç”¨æ¶æ„åŠæœåŠ¡ä¸­é—´ä»¶å¼€å‘æ–¹å‘ã€‚ ä»–è´Ÿè´£çš„Motanæ¡†æ¶æ¯å¤©æ‰¿è½½ç€ä¸‡äº¿çº§åˆ«çš„è¯·æ±‚è°ƒç”¨ï¼Œæ˜¯å¾®åšå¹³å°æœåŠ¡åŒ–çš„åŸºçŸ³ï¼Œæ¯æ¬¡çš„çªå‘çƒ­ç‚¹äº‹ä»¶ã€æ¯æ¬¡çš„æ˜¥æ™šæµé‡é«˜å³°ï¼Œéƒ½ç¦»ä¸å¼€Motanæ¡†æ¶çš„æ”¯æ’‘ä¸ä¿éšœã€‚æ­¤å¤–ï¼Œä»–ä¹Ÿå¤šæ¬¡åº”é‚€åœ¨ArchSummitã€WOTã€GIACæŠ€æœ¯å³°ä¼šåšæŠ€æœ¯åˆ†äº«ã€‚ æ„Ÿè°¢ä»–å¯¹æ–‡ç« éƒ¨åˆ†æ–‡æ¡ˆæä¾›çš„æ”¯æŒå’Œæ€è·¯ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:2:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#é¸£è°¢"},{"categories":null,"content":"ENDå¥½äº†å„ä½ï¼Œä»¥ä¸Šå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨å†…å®¹äº†ï¼Œèƒ½çœ‹åˆ°è¿™é‡Œçš„äººå‘€ï¼Œéƒ½æ˜¯äººæ‰ã€‚ æˆ‘åé¢ä¼šæ¯å‘¨éƒ½æ›´æ–°å‡ ç¯‡ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å’Œäº’è”ç½‘å¸¸ç”¨æŠ€æœ¯æ ˆç›¸å…³çš„æ–‡ç« ã€‚å¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„ï¼Œä¹Ÿå¯ä»¥ç•™è¨€ç»™æˆ‘ï¼Œæˆ‘ä¸€æœ‰æ—¶é—´å°±ä¼šå†™å‡ºæ¥ï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚ éå¸¸æ„Ÿè°¢äººæ‰ä»¬èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè¿™ä¸ªæ–‡ç« å†™å¾—è¿˜ä¸é”™ï¼Œè§‰å¾—ã€Œæ•–ä¸™ã€æˆ‘æœ‰ç‚¹ä¸œè¥¿çš„è¯ æ±‚ç‚¹èµğŸ‘ æ±‚å…³æ³¨â¤ï¸ æ±‚åˆ†äº«ğŸ‘¥ æ±‚ç•™è¨€ğŸ’¬ å¯¹æš–ç”·æˆ‘æ¥è¯´ éå¸¸æœ‰ç”¨ï¼ï¼ï¼ å„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼ æ•–ä¸™ | æ–‡ ã€åŸåˆ›ã€‘ã€è½¬è½½è¯·è”ç³»æœ¬äººã€‘ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—æ¯å‘¨æŒç»­æ›´æ–°ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·JavaFamilyç¬¬ä¸€æ—¶é—´é˜…è¯»å’Œå‚¬æ›´ï¼ˆå…¬ä¼—å·æ¯”åšå®¢æ—©ä¸€åˆ°ä¸¤å¤©å“Ÿï¼‰ï¼ŒGitHubä¸Šå·²ç»å¼€æºhttps://github.com/Javaâ€¦ï¼Œæœ‰é¢è¯•ç‚¹æ€ç»´å¯¼å›¾ï¼Œæ¬¢è¿Starå’Œå®Œå–„é‡Œé¢ä¹Ÿæœ‰æˆ‘ä¸ªäººå¾®ä¿¡æœ‰ä»€ä¹ˆé—®é¢˜ä¹Ÿå¯ä»¥ç›´æ¥æ»´æ»´æˆ‘ï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/:3:0","series":null,"tags":["redis","å…«è‚¡æ–‡"],"title":"rediså¸¸è§é¢è¯•é¢˜","uri":"/posts/middleware/redis/redis%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/#end"},{"categories":null,"content":" ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:0:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#"},{"categories":null,"content":"å‰è¨€Redisåœ¨äº’è”ç½‘æŠ€æœ¯å­˜å‚¨æ–¹é¢ä½¿ç”¨å¦‚æ­¤å¹¿æ³›ï¼Œå‡ ä¹æ‰€æœ‰çš„åç«¯æŠ€æœ¯é¢è¯•å®˜éƒ½è¦åœ¨Redisçš„ä½¿ç”¨å’ŒåŸç†æ–¹é¢å¯¹å°ä¼™ä¼´ä»¬è¿›è¡Œ360Â°çš„åˆéš¾ã€‚ä½œä¸ºä¸€ä¸ªåœ¨äº’è”ç½‘å…¬å¸é¢ä¸€æ¬¡æ‹¿ä¸€æ¬¡offerçš„é¢éœ¸ï¼ˆè¯·å…è®¸æˆ‘ä½¿ç”¨ä¸€ä¸‹å¤¸å¼ çš„ä¿®è¾æ‰‹æ³•ï¼‰ï¼Œæ‰“è´¥äº†æ— æ•°ç«äº‰å¯¹æ‰‹ï¼Œæ¯æ¬¡éƒ½åªèƒ½çœ‹åˆ°æ— æ•°è½å¯çš„èº«å½±å¤±æœ›çš„ç¦»å¼€ï¼Œç•¥æ„Ÿæ„§ç–šï¼Œåœ¨ä¸€ä¸ªå¯‚å¯éš¾è€çš„å¤œæ™šï¼Œæˆ‘ç—›å®šæ€ç—›ï¼Œå†³å®šå¼€å§‹å†™**ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹**ç³»åˆ—ï¼Œå¸Œæœ›èƒ½å¸®åŠ©å„ä½è¯»è€…ä»¥åé¢è¯•åŠ¿å¦‚ç ´ç«¹ï¼Œå¯¹é¢è¯•å®˜è¿›è¡Œ360Â°çš„åå‡»ï¼ŒåŠæ‰“é—®ä½ çš„é¢è¯•å®˜ï¼Œè®©ä¸€åŒé¢è¯•çš„åŒåƒšç ç›®ç»“èˆŒï¼Œç–¯ç‹‚æ”¶å‰²å¤§å‚offerï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:1:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#å‰è¨€"},{"categories":null,"content":"çµ®å¨ç”·å„¿ä½•ä¸å¸¦å´é’©ï¼Œæ”¶å–å…³å±±äº”åå· FPX ğŸ‚Bï¼ŒLPLä¸¤å¹´è¿å† ğŸ† ğŸ‚Bï¼ çœ‹ç€é‡‘è‰²çš„é›¨è½ä¸‹ï¼Œæˆ‘åˆ°çª—è¾¹ï¼Œå‘ç°å¤©æœ‰ç‚¹è“ï¼Œé£æœ‰ç‚¹ç»µï¼Œæˆ‘çš„çœ¼è§’åˆæ¹¿äº†! æœ€è¿‘åŒåä¸€è®²é“ç†æœ‰ç‚¹å¿™çš„è¯´ï¼Œç›´æ¥è‚çˆ†ï¼Œå°±æ˜¯è¿™æ ·ä½œä¸ºæš–ç”·çš„æˆ‘ï¼Œè¿˜æ˜¯ç»™ä½ ä»¬æŒ¤å‡ºæ—¶é—´æå‡ºç»ˆç« ï¼Œå¿ä¸ä½ç»™è‡ªå·±ç‚¹èµğŸ‘ æ”¾ä¸ªåŒåä¸€ç…§ç‰‡è¯æ˜çœŸçš„å¿™ï¼Œå¸Œæœ›åˆ«å–å…³ï¼ï¼ï¼ ç°åœ¨ä½ ä»¬åœ¨çœ‹çš„æ—¶å€™ï¼Œæˆ‘åº”è¯¥è¿˜åœ¨ç¡è§‰å“ˆå“ˆã€‚å›°ğŸ›Œ ä¹‹å‰è·Ÿä½ ä»¬è¯´çš„ï¼Œé™æµï¼Œé™çº§ï¼Œæ˜¯ä¸æ˜¯åœ¨åŒåä¸€åˆåº”éªŒäº†ï¼Œä¸‹å•æ¥å£å…¶å®æ²¡æŒ‚ï¼Œç‰ºç‰²éƒ¨åˆ†ç”¨æˆ·ä½“éªŒï¼Œä¿ä½æœåŠ¡å™¨ï¼Œä½ å¤šç‚¹å‡ ä¸‹æ˜¯å¯ä»¥æˆåŠŸçš„ï¼Œç­‰æµé‡é«˜å³°è¿‡å»äº†ï¼Œæ‰€æœ‰çš„ç”¨æˆ·å…¨éƒ¨éƒ½æ¢å¤æ­£å¸¸è®¿é—®ï¼ŒæœåŠ¡å™¨ä¹Ÿæ²¡å•¥äº‹ã€‚ å»å¹´é€€æ¬¾æ¥å£è¢«æ‰“å´©äº†ï¼Œä»Šå¹´é˜¿é‡Œæ˜æ˜¾ä¹Ÿèªæ˜äº†å¾ˆå¤šã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:2:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#çµ®å¨"},{"categories":null,"content":"æ­£æ–‡ä¸Šå‡ æœŸåŠæ‰“ç³»åˆ—æˆ‘ä»¬æåˆ°äº†Redisçš„å¾ˆå¤šçŸ¥è¯†ï¼Œè¿˜æ²¡çœ‹çš„å°ä¼™ä¼´å¯ä»¥å›é¡¾ä¸€ä¸‹ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU é‚£æåˆ°Redisæˆ‘ç›¸ä¿¡å„ä½åœ¨é¢è¯•ï¼Œæˆ–è€…å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¯¹åŸºæœ¬ç±»å‹çš„ä½¿ç”¨åœºæ™¯ï¼Œå¹¶å‘ç«äº‰å¸¦æ¥çš„é—®é¢˜ï¼Œä»¥åŠç¼“å­˜æ•°æ®åº“åŒå†™å…¥ä¸€è‡´æ€§çš„é—®é¢˜ç­‰ï¼Œæˆ‘ä»¬æœ‰è¯·ä¸‹ä¸€ä½å—å®³è€…ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:3:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#æ­£æ–‡"},{"categories":null,"content":"é¢è¯•å¼€å§‹ ä¸€ä¸ªå¤§è…¹ä¾¿ä¾¿ï¼Œç©¿ç€æ ¼å­è¡¬è¡£çš„ä¸­å¹´ç”·å­ï¼Œæ‹¿ç€ä¸€ä¸ªæ»¡æ˜¯åˆ’ç—•çš„macå‘ä½ èµ°æ¥ï¼Œçœ‹ç€å¿«ç§ƒé¡¶çš„å¤´å‘ï¼Œå¿ƒæƒ³ç€è‚¯å®šæ˜¯å°¼ç›é¡¶çº§æ¶æ„å¸ˆå§ï¼ä½†æ˜¯æˆ‘ä»¬è…¹æœ‰è¯—ä¹¦æ°”è‡ªåï¼Œè™šéƒ½ä¸è™šã€‚ï¼ˆè¿™ä¸æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« çš„é¢è¯•å®˜ä¹ˆï¼Ÿï¼‰ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:4:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#é¢è¯•å¼€å§‹"},{"categories":null,"content":"å°ä¼™å­ï¼Œä½ è¿˜è®°å¾—æˆ‘åœ¨ç¬¬ä¸€ç« é‡Œé¢é—®è¿‡ä½ ï¼ŒRedisæœ‰å‡ ç§åŸºç¡€æ•°æ®ç±»å‹ä¹ˆï¼Ÿå—¯å—¯ï¼Œå¸…æ°”çš„é¢è¯•å®˜ï¼Œæˆ‘è‚¯å®šè®°å¾—ï¼Œæ²¡é½¿éš¾å¿˜ï¼ï¼ï¼ æˆ‘ç‰¹ä¹ˆè°¢è°¢ä½ ï¼Œéƒ½å››é¢äº†è¿˜ä¸ç»™Offerï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:4:1","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#å°ä¼™å­ä½ è¿˜è®°å¾—æˆ‘åœ¨ç¬¬ä¸€ç« é‡Œé¢é—®è¿‡ä½ redisæœ‰å‡ ç§åŸºç¡€æ•°æ®ç±»å‹ä¹ˆ"},{"categories":null,"content":"é‚£ä½ èƒ½è¯´ä¸€ä¸‹ä»–ä»¬çš„ç‰¹æ€§ï¼Œè¿˜æœ‰åˆ†åˆ«çš„ä½¿ç”¨åœºæ™¯ä¹ˆï¼Ÿè¡Œå§ï¼Œé‚£æˆ‘å…ˆä»Stringè¯´èµ·ã€‚ Stringï¼š è¿™æ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œå°±æ˜¯æ™®é€šçš„ set å’Œ getï¼Œåšç®€å•çš„ KV ç¼“å­˜ã€‚ ä½†æ˜¯çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå¾ˆå¤šä»”å¯èƒ½ä¼šæŠŠå¾ˆå¤šæ¯”è¾ƒå¤æ‚çš„ç»“æ„ä¹Ÿç»Ÿä¸€è½¬æˆStringå»å­˜å‚¨ä½¿ç”¨ï¼Œæ¯”å¦‚æœ‰çš„ä»”ä»–å°±å–œæ¬¢æŠŠå¯¹è±¡æˆ–è€…Listè½¬æ¢ä¸ºJSONStringè¿›è¡Œå­˜å‚¨ï¼Œæ‹¿å‡ºæ¥å†ååºåˆ—è¯å•¥çš„ã€‚ æˆ‘åœ¨è¿™é‡Œå°±ä¸è®¨è®ºè¿™æ ·åšçš„å¯¹é”™äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½åœ¨æœ€åˆé€‚çš„åœºæ™¯ä½¿ç”¨æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯¹è±¡æ‰¾ä¸åˆ°æœ€åˆé€‚çš„ä½†æ˜¯ç±»å‹å¯ä»¥é€‰æœ€åˆé€‚çš„å˜›ï¼Œä¹‹ååˆ«äººæ¥æ‰‹ä½ çš„ä»£ç ä¸€çœ‹è¿™ä¹ˆè§„èŒƒï¼Œè¯¶è¿™å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿å‘€ï¼Œçœ‹åˆ°ä½ å•¥éƒ½æ˜¯ç”¨çš„Stringï¼Œåƒåœ¾ï¼ å¥½äº†è¿™äº›éƒ½æ˜¯é¢˜å¤–è¯äº†ï¼Œé“ç†è¿˜æ˜¯å¸Œæœ›å¤§å®¶è®°åœ¨å¿ƒé‡Œï¼Œä¹ æƒ¯æˆè‡ªç„¶å˜›ï¼Œå°ä¹ æƒ¯æˆå°±ä½ ã€‚ Stringçš„å®é™…åº”ç”¨åœºæ™¯æ¯”è¾ƒå¹¿æ³›çš„æœ‰ï¼š ç¼“å­˜åŠŸèƒ½ï¼šStringå­—ç¬¦ä¸²æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œä¸ä»…ä»…æ˜¯Redisï¼Œå„ä¸ªè¯­è¨€éƒ½æ˜¯æœ€åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ï¼Œåˆ©ç”¨Redisä½œä¸ºç¼“å­˜ï¼Œé…åˆå…¶å®ƒæ•°æ®åº“ä½œä¸ºå­˜å‚¨å±‚ï¼Œåˆ©ç”¨Redisæ”¯æŒé«˜å¹¶å‘çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å¤§å¤§åŠ å¿«ç³»ç»Ÿçš„è¯»å†™é€Ÿåº¦ã€ä»¥åŠé™ä½åç«¯æ•°æ®åº“çš„å‹åŠ›ã€‚ è®¡æ•°å™¨ï¼šè®¸å¤šç³»ç»Ÿéƒ½ä¼šä½¿ç”¨Redisä½œä¸ºç³»ç»Ÿçš„å®æ—¶è®¡æ•°å™¨ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è®¡æ•°å’ŒæŸ¥è¯¢çš„åŠŸèƒ½ã€‚è€Œä¸”æœ€ç»ˆçš„æ•°æ®ç»“æœå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ—¶é—´è½åœ°åˆ°æ•°æ®åº“æˆ–è€…å…¶å®ƒå­˜å‚¨ä»‹è´¨å½“ä¸­è¿›è¡Œæ°¸ä¹…ä¿å­˜ã€‚ å…±äº«ç”¨æˆ·Sessionï¼šç”¨æˆ·é‡æ–°åˆ·æ–°ä¸€æ¬¡ç•Œé¢ï¼Œå¯èƒ½éœ€è¦è®¿é—®ä¸€ä¸‹æ•°æ®è¿›è¡Œé‡æ–°ç™»å½•ï¼Œæˆ–è€…è®¿é—®é¡µé¢ç¼“å­˜Cookieï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨Rediså°†ç”¨æˆ·çš„Sessioné›†ä¸­ç®¡ç†ï¼Œåœ¨è¿™ç§æ¨¡å¼åªéœ€è¦ä¿è¯Redisçš„é«˜å¯ç”¨ï¼Œæ¯æ¬¡ç”¨æˆ·Sessionçš„æ›´æ–°å’Œè·å–éƒ½å¯ä»¥å¿«é€Ÿå®Œæˆã€‚å¤§å¤§æé«˜æ•ˆç‡ã€‚ Hashï¼š è¿™ä¸ªæ˜¯ç±»ä¼¼ Map çš„ä¸€ç§ç»“æ„ï¼Œè¿™ä¸ªä¸€èˆ¬å°±æ˜¯å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ææ˜¯è¿™ä¸ªå¯¹è±¡æ²¡åµŒå¥—å…¶ä»–çš„å¯¹è±¡ï¼‰ç»™ç¼“å­˜åœ¨ Redis é‡Œï¼Œç„¶åæ¯æ¬¡è¯»å†™ç¼“å­˜çš„æ—¶å€™ï¼Œå¯ä»¥å°±æ“ä½œ Hash é‡Œçš„æŸä¸ªå­—æ®µã€‚ ä½†æ˜¯è¿™ä¸ªçš„åœºæ™¯å…¶å®è¿˜æ˜¯å¤šå°‘å•ä¸€äº†ä¸€äº›ï¼Œå› ä¸ºç°åœ¨å¾ˆå¤šå¯¹è±¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ¯”å¦‚ä½ çš„å•†å“å¯¹è±¡å¯èƒ½é‡Œé¢å°±åŒ…å«äº†å¾ˆå¤šå±æ€§ï¼Œå…¶ä¸­ä¹Ÿæœ‰å¯¹è±¡ã€‚æˆ‘è‡ªå·±ä½¿ç”¨çš„åœºæ™¯ç”¨å¾—ä¸æ˜¯é‚£ä¹ˆå¤šã€‚ Listï¼š List æ˜¯æœ‰åºåˆ—è¡¨ï¼Œè¿™ä¸ªè¿˜æ˜¯å¯ä»¥ç©å„¿å‡ºå¾ˆå¤šèŠ±æ ·çš„ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ List å­˜å‚¨ä¸€äº›åˆ—è¡¨å‹çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼ç²‰ä¸åˆ—è¡¨ã€æ–‡ç« çš„è¯„è®ºåˆ—è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚ æ¯”å¦‚å¯ä»¥é€šè¿‡ lrange å‘½ä»¤ï¼Œè¯»å–æŸä¸ªé—­åŒºé—´å†…çš„å…ƒç´ ï¼Œå¯ä»¥åŸºäº List å®ç°åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆæ£’çš„ä¸€ä¸ªåŠŸèƒ½ï¼ŒåŸºäº Redis å®ç°ç®€å•çš„é«˜æ€§èƒ½åˆ†é¡µï¼Œå¯ä»¥åšç±»ä¼¼å¾®åšé‚£ç§ä¸‹æ‹‰ä¸æ–­åˆ†é¡µçš„ä¸œè¥¿ï¼Œæ€§èƒ½é«˜ï¼Œå°±ä¸€é¡µä¸€é¡µèµ°ã€‚ æ¯”å¦‚å¯ä»¥æä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä» List å¤´æ€¼è¿›å»ï¼Œä» List å±è‚¡é‚£é‡Œå¼„å‡ºæ¥ã€‚ Listæœ¬èº«å°±æ˜¯æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®ç»“æ„äº†ï¼Œçƒ­ç‚¹æ•°æ®æ›´ä¸ç”¨è¯´äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedisçš„é“¾è¡¨ç»“æ„ï¼Œå¯ä»¥è½»æ¾å®ç°é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å·¦è¿›å³å‡ºçš„å‘½ä»¤ç»„æˆæ¥å®Œæˆé˜Ÿåˆ—çš„è®¾è®¡ã€‚æ¯”å¦‚ï¼šæ•°æ®çš„ç”Ÿäº§è€…å¯ä»¥é€šè¿‡Lpushå‘½ä»¤ä»å·¦è¾¹æ’å…¥æ•°æ®ï¼Œå¤šä¸ªæ•°æ®æ¶ˆè´¹è€…ï¼Œå¯ä»¥ä½¿ç”¨BRpopå‘½ä»¤é˜»å¡çš„â€œæŠ¢â€åˆ—è¡¨å°¾éƒ¨çš„æ•°æ®ã€‚ æ–‡ç« åˆ—è¡¨æˆ–è€…æ•°æ®åˆ†é¡µå±•ç¤ºçš„åº”ç”¨ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åšå®¢ç½‘ç«™çš„æ–‡ç« åˆ—è¡¨ï¼Œå½“ç”¨æˆ·é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ–‡ç« åˆ—è¡¨ï¼Œè€Œä¸”å½“æ–‡ç« å¤šæ—¶ï¼Œéƒ½éœ€è¦åˆ†é¡µå±•ç¤ºï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ä½†æœ‰åºåŒæ—¶è¿˜æ”¯æŒæŒ‰ç…§èŒƒå›´å†…è·å–å…ƒç´ ï¼Œå¯ä»¥å®Œç¾è§£å†³åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½ã€‚å¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ Setï¼š Set æ˜¯æ— åºé›†åˆï¼Œä¼šè‡ªåŠ¨å»é‡çš„é‚£ç§ã€‚ ç›´æ¥åŸºäº Set å°†ç³»ç»Ÿé‡Œéœ€è¦å»é‡çš„æ•°æ®æ‰”è¿›å»ï¼Œè‡ªåŠ¨å°±ç»™å»é‡äº†ï¼Œå¦‚æœä½ éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å…¨å±€å»é‡ï¼Œä½ å½“ç„¶ä¹Ÿå¯ä»¥åŸºäº JVM å†…å­˜é‡Œçš„ HashSet è¿›è¡Œå»é‡ï¼Œä½†æ˜¯å¦‚æœä½ çš„æŸä¸ªç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šå‘¢ï¼Ÿå¾—åŸºäºRedisè¿›è¡Œå…¨å±€çš„ Set å»é‡ã€‚ å¯ä»¥åŸºäº Set ç©å„¿äº¤é›†ã€å¹¶é›†ã€å·®é›†çš„æ“ä½œï¼Œæ¯”å¦‚äº¤é›†å§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªäººçš„å¥½å‹åˆ—è¡¨æ•´ä¸€ä¸ªäº¤é›†ï¼Œçœ‹çœ‹ä¿©äººçš„å…±åŒå¥½å‹æ˜¯è°ï¼Ÿå¯¹å§ã€‚ åæ­£è¿™äº›åœºæ™¯æ¯”è¾ƒå¤šï¼Œå› ä¸ºå¯¹æ¯”å¾ˆå¿«ï¼Œæ“ä½œä¹Ÿç®€å•ï¼Œä¸¤ä¸ªæŸ¥è¯¢ä¸€ä¸ªSetæå®šã€‚ Sorted Setï¼š Sorted set æ˜¯æ’åºçš„ Setï¼Œå»é‡ä½†å¯ä»¥æ’åºï¼Œå†™è¿›å»çš„æ—¶å€™ç»™ä¸€ä¸ªåˆ†æ•°ï¼Œè‡ªåŠ¨æ ¹æ®åˆ†æ•°æ’åºã€‚ æœ‰åºé›†åˆçš„ä½¿ç”¨åœºæ™¯ä¸é›†åˆç±»ä¼¼ï¼Œä½†æ˜¯seté›†åˆä¸æ˜¯è‡ªåŠ¨æœ‰åºçš„ï¼Œè€ŒSorted setå¯ä»¥åˆ©ç”¨åˆ†æ•°è¿›è¡Œæˆå‘˜é—´çš„æ’åºï¼Œè€Œä¸”æ˜¯æ’å…¥æ—¶å°±æ’åºå¥½ã€‚æ‰€ä»¥å½“ä½ éœ€è¦ä¸€ä¸ªæœ‰åºä¸”ä¸é‡å¤çš„é›†åˆåˆ—è¡¨æ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©Sorted setæ•°æ®ç»“æ„ä½œä¸ºé€‰æ‹©æ–¹æ¡ˆã€‚ æ’è¡Œæ¦œï¼šæœ‰åºé›†åˆç»å…¸ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚è§†é¢‘ç½‘ç«™éœ€è¦å¯¹ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘åšæ’è¡Œæ¦œï¼Œæ¦œå•ç»´æŠ¤å¯èƒ½æ˜¯å¤šæ–¹é¢ï¼šæŒ‰ç…§æ—¶é—´ã€æŒ‰ç…§æ’­æ”¾é‡ã€æŒ‰ç…§è·å¾—çš„èµæ•°ç­‰ã€‚ ç”¨Sorted Setsæ¥åšå¸¦æƒé‡çš„é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ™®é€šæ¶ˆæ¯çš„scoreä¸º1ï¼Œé‡è¦æ¶ˆæ¯çš„scoreä¸º2ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å¯ä»¥é€‰æ‹©æŒ‰scoreçš„å€’åºæ¥è·å–å·¥ä½œä»»åŠ¡ã€‚è®©é‡è¦çš„ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚ å¾®åšçƒ­æœæ¦œï¼Œå°±æ˜¯æœ‰ä¸ªåé¢çš„çƒ­åº¦å€¼ï¼Œå‰é¢å°±æ˜¯åç§° ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:4:2","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#é‚£ä½ èƒ½è¯´ä¸€ä¸‹ä»–ä»¬çš„ç‰¹æ€§è¿˜æœ‰åˆ†åˆ«çš„ä½¿ç”¨åœºæ™¯ä¹ˆ"},{"categories":null,"content":"å°ç»“RedisåŸºç¡€ç±»å‹æœ‰äº”ç§ï¼Œè¿™ä¸ªæˆ‘åœ¨åŸºç¡€é‡Œé¢ä¹Ÿæœ‰æåˆ°äº†ï¼Œè¿™ä¸ªé—®é¢˜å…¶å®ä¸€èˆ¬éƒ½æ˜¯å¯¹P6ä»¥ä¸‹ï¼Œä¹Ÿå°±æ˜¯1-3å¹´å·¦å³çš„å°ä¼™ä¼´å¯èƒ½æ˜¯ä¼šé—®å¾—æ¯”è¾ƒå¤šçš„é—®é¢˜ã€‚ èƒ½å›ç­”å‡ºæ¥äº”ç§æˆ‘æƒ³å¤§å®¶éƒ½å¯ä»¥ï¼Œä½†æ˜¯ä¸çŸ¥é“å¤§å®¶æ˜¯å¦çŸ¥é“ï¼Œäº”ç§ç±»å‹å…·ä½“çš„ä½¿ç”¨åœºæ™¯ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆç±»å‹æœ€åˆé€‚å‘¢ï¼Ÿ è¦æ˜¯ä½ å›ç­”çš„ä¸å¥½ï¼Œæ²¡è¯´å‡ºå‡ ç§æ•°æ®ç±»å‹ï¼Œä¹Ÿæ²¡è¯´ä»€ä¹ˆåœºæ™¯ï¼Œä½ å®Œäº†ï¼Œé¢è¯•å®˜å¯¹ä½ å°è±¡è‚¯å®šä¸å¥½ï¼Œè§‰å¾—ä½ å¹³æ—¶å°±æ˜¯åšä¸ªç®€å•çš„ set å’Œ getã€‚æ‰€ä»¥çœ‹ä¼¼å¾ˆç®€å•çš„é¢è¯•é¢˜å®åˆ™æœ€å®¹æ˜“çœ‹å‡ºä½ çš„æ·±æµ…äº†ï¼Œå¤§å®¶éƒ½è¦æ³¨æ„æ‰“å¥½åŸºç¡€ã€‚ ###ä½ æœ‰æ²¡æœ‰è€ƒè™‘è¿‡ï¼Œå¦‚æœä½ å¤šä¸ªç³»ç»ŸåŒæ—¶æ“ä½œï¼ˆå¹¶å‘ï¼‰Rediså¸¦æ¥çš„æ•°æ®é—®é¢˜ï¼Ÿ å—¯å—¯è¿™ä¸ªé—®é¢˜æˆ‘ä»¥å‰å¼€å‘çš„æ—¶å€™é‡åˆ°è¿‡ï¼Œå…¶å®å¹¶å‘è¿‡ç¨‹ä¸­ç¡®å®ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„æƒ…å†µ ç³»ç»ŸAã€Bã€Cä¸‰ä¸ªç³»ç»Ÿï¼Œåˆ†åˆ«å»æ“ä½œRedisçš„åŒä¸€ä¸ªKeyï¼Œæœ¬æ¥é¡ºåºæ˜¯1ï¼Œ2ï¼Œ3æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯å› ä¸ºç³»ç»ŸAç½‘ç»œçªç„¶æŠ–åŠ¨äº†ä¸€ä¸‹ï¼ŒBï¼ŒCåœ¨ä»–å‰é¢æ“ä½œäº†Redisï¼Œè¿™æ ·æ•°æ®ä¸å°±é”™äº†ä¹ˆã€‚ å°±å¥½æ¯”ä¸‹å•ï¼Œæ”¯ä»˜ï¼Œé€€æ¬¾ä¸‰ä¸ªé¡ºåºä½ å˜äº†ï¼Œä½ å…ˆé€€æ¬¾ï¼Œå†ä¸‹å•ï¼Œå†æ”¯ä»˜ï¼Œé‚£æµç¨‹å°±ä¼šå¤±è´¥ï¼Œé‚£æ•°æ®ä¸å°±ä¹±äº†ï¼Ÿä½ è®¢å•è¿˜æ²¡ç”Ÿæˆä½ å´æ”¯ä»˜ï¼Œé€€æ¬¾äº†ï¼Ÿæ˜æ˜¾èµ°ä¸é€šäº†ï¼Œè¿™åœ¨çº¿ä¸Šæ˜¯å¾ˆææ€–çš„äº‹æƒ…ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:5:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#å°ç»“"},{"categories":null,"content":"é‚£è¿™ç§æƒ…å†µæ€ä¹ˆè§£å†³å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æ‰¾ä¸ªç®¡å®¶å¸®æˆ‘ä»¬ç®¡ç†å¥½æ•°æ®çš„å˜›ï¼ æŸä¸ªæ—¶åˆ»ï¼Œå¤šä¸ªç³»ç»Ÿå®ä¾‹éƒ½å»æ›´æ–°æŸä¸ª keyã€‚å¯ä»¥åŸºäº Zookeeper å®ç°åˆ†å¸ƒå¼é”ã€‚æ¯ä¸ªç³»ç»Ÿé€šè¿‡ Zookeeper è·å–åˆ†å¸ƒå¼é”ï¼Œç¡®ä¿åŒä¸€æ—¶é—´ï¼Œåªèƒ½æœ‰ä¸€ä¸ªç³»ç»Ÿå®ä¾‹åœ¨æ“ä½œæŸä¸ª Keyï¼Œåˆ«äººéƒ½ä¸å…è®¸è¯»å’Œå†™ã€‚ ä½ è¦å†™å…¥ç¼“å­˜çš„æ•°æ®ï¼Œéƒ½æ˜¯ä» MySQL é‡ŒæŸ¥å‡ºæ¥çš„ï¼Œéƒ½å¾—å†™å…¥ MySQL ä¸­ï¼Œå†™å…¥ MySQL ä¸­çš„æ—¶å€™å¿…é¡»ä¿å­˜ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä» MySQL æŸ¥å‡ºæ¥çš„æ—¶å€™ï¼Œæ—¶é—´æˆ³ä¹ŸæŸ¥å‡ºæ¥ã€‚ æ¯æ¬¡è¦å†™ä¹‹å‰ï¼Œå…ˆåˆ¤æ–­ä¸€ä¸‹å½“å‰è¿™ä¸ª Value çš„æ—¶é—´æˆ³æ˜¯å¦æ¯”ç¼“å­˜é‡Œçš„ Value çš„æ—¶é—´æˆ³è¦æ–°ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥å†™ï¼Œå¦åˆ™ï¼Œå°±ä¸èƒ½ç”¨æ—§çš„æ•°æ®è¦†ç›–æ–°çš„æ•°æ®ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:5:1","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#é‚£è¿™ç§æƒ…å†µæ€ä¹ˆè§£å†³å‘¢"},{"categories":null,"content":"ä½ åªè¦ç”¨ç¼“å­˜ï¼Œå°±å¯èƒ½ä¼šæ¶‰åŠåˆ°ç¼“å­˜ä¸æ•°æ®åº“åŒå­˜å‚¨åŒå†™ï¼Œä½ åªè¦æ˜¯åŒå†™ï¼Œå°±ä¸€å®šä¼šæœ‰æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œé‚£ä¹ˆä½ å¦‚ä½•è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœå…è®¸ç¼“å­˜å¯ä»¥ç¨å¾®çš„è·Ÿæ•°æ®åº“å¶å°”æœ‰ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ çš„ç³»ç»Ÿä¸æ˜¯ä¸¥æ ¼è¦æ±‚ â€œç¼“å­˜+æ•°æ®åº“â€ å¿…é¡»ä¿æŒä¸€è‡´æ€§çš„è¯ï¼Œæœ€å¥½ä¸è¦åšè¿™ä¸ªæ–¹æ¡ˆï¼Œå³ï¼šè¯»è¯·æ±‚å’Œå†™è¯·æ±‚ä¸²è¡ŒåŒ–ï¼Œä¸²åˆ°ä¸€ä¸ªå†…å­˜é˜Ÿåˆ—é‡Œå»ã€‚ ä¸²è¡ŒåŒ–å¯ä»¥ä¿è¯ä¸€å®šä¸ä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µï¼Œä½†æ˜¯å®ƒä¹Ÿä¼šå¯¼è‡´ç³»ç»Ÿçš„ååé‡å¤§å¹…åº¦é™ä½ï¼Œç”¨æ¯”æ­£å¸¸æƒ…å†µä¸‹å¤šå‡ å€çš„æœºå™¨å»æ”¯æ’‘çº¿ä¸Šçš„ä¸€ä¸ªè¯·æ±‚ã€‚ æŠŠä¸€äº›åˆ—çš„æ“ä½œéƒ½æ”¾åˆ°é˜Ÿåˆ—é‡Œé¢ï¼Œé¡ºåºè‚¯å®šä¸ä¼šä¹±ï¼Œä½†æ˜¯å¹¶å‘é«˜äº†ï¼Œè¿™é˜Ÿåˆ—å¾ˆå®¹æ˜“é˜»å¡ï¼Œåè€Œä¼šæˆä¸ºæ•´ä¸ªç³»ç»Ÿçš„å¼±ç‚¹ï¼Œç“¶é¢ˆ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:5:2","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#ä½ åªè¦ç”¨ç¼“å­˜å°±å¯èƒ½ä¼šæ¶‰åŠåˆ°ç¼“å­˜ä¸æ•°æ®åº“åŒå­˜å‚¨åŒå†™ä½ åªè¦æ˜¯åŒå†™å°±ä¸€å®šä¼šæœ‰æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜é‚£ä¹ˆä½ å¦‚ä½•è§£å†³ä¸€è‡´æ€§é—®é¢˜"},{"categories":null,"content":"ä½ äº†è§£æœ€ç»å…¸çš„KVã€DBè¯»å†™æ¨¡å¼ä¹ˆï¼Ÿæœ€ç»å…¸çš„ç¼“å­˜+æ•°æ®åº“è¯»å†™çš„æ¨¡å¼ï¼Œå°±æ˜¯ Cache Aside Pattern è¯»çš„æ—¶å€™ï¼Œå…ˆè¯»ç¼“å­˜ï¼Œç¼“å­˜æ²¡æœ‰çš„è¯ï¼Œå°±è¯»æ•°æ®åº“ï¼Œç„¶åå–å‡ºæ•°æ®åæ”¾å…¥ç¼“å­˜ï¼ŒåŒæ—¶è¿”å›å“åº”ã€‚ æ›´æ–°çš„æ—¶å€™ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ï¼Œç„¶åå†åˆ é™¤ç¼“å­˜ã€‚ ###ä¸ºä»€ä¹ˆæ˜¯åˆ é™¤ç¼“å­˜ï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜ï¼Ÿ åŸå› å¾ˆç®€å•ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œåœ¨å¤æ‚ç‚¹çš„ç¼“å­˜åœºæ™¯ï¼Œç¼“å­˜ä¸å•å•æ˜¯æ•°æ®åº“ä¸­ç›´æ¥å–å‡ºæ¥çš„å€¼ã€‚ æ¯”å¦‚å¯èƒ½æ›´æ–°äº†æŸä¸ªè¡¨çš„ä¸€ä¸ªå­—æ®µï¼Œç„¶åå…¶å¯¹åº”çš„ç¼“å­˜ï¼Œæ˜¯éœ€è¦æŸ¥è¯¢å¦å¤–ä¸¤ä¸ªè¡¨çš„æ•°æ®å¹¶è¿›è¡Œè¿ç®—ï¼Œæ‰èƒ½è®¡ç®—å‡ºç¼“å­˜æœ€æ–°çš„å€¼çš„ã€‚ å¦å¤–æ›´æ–°ç¼“å­˜çš„ä»£ä»·æœ‰æ—¶å€™æ˜¯å¾ˆé«˜çš„ã€‚æ˜¯ä¸æ˜¯è¯´ï¼Œæ¯æ¬¡ä¿®æ”¹æ•°æ®åº“çš„æ—¶å€™ï¼Œéƒ½ä¸€å®šè¦å°†å…¶å¯¹åº”çš„ç¼“å­˜æ›´æ–°ä¸€ä»½ï¼Ÿä¹Ÿè®¸æœ‰çš„åœºæ™¯æ˜¯è¿™æ ·ï¼Œä½†æ˜¯å¯¹äºæ¯”è¾ƒå¤æ‚çš„ç¼“å­˜æ•°æ®è®¡ç®—çš„åœºæ™¯ï¼Œå°±ä¸æ˜¯è¿™æ ·äº†ã€‚å¦‚æœä½ é¢‘ç¹ä¿®æ”¹ä¸€ä¸ªç¼“å­˜æ¶‰åŠçš„å¤šä¸ªè¡¨ï¼Œç¼“å­˜ä¹Ÿé¢‘ç¹æ›´æ–°ã€‚ä½†æ˜¯é—®é¢˜åœ¨äºï¼Œè¿™ä¸ªç¼“å­˜åˆ°åº•ä¼šä¸ä¼šè¢«é¢‘ç¹è®¿é—®åˆ°ï¼Ÿ ä¸¾ä¸ªæ —å­ï¼šä¸€ä¸ªç¼“å­˜æ¶‰åŠçš„è¡¨çš„å­—æ®µï¼Œåœ¨ 1 åˆ†é’Ÿå†…å°±ä¿®æ”¹äº† 20 æ¬¡ï¼Œæˆ–è€…æ˜¯ 100 æ¬¡ï¼Œé‚£ä¹ˆç¼“å­˜æ›´æ–° 20 æ¬¡ã€100 æ¬¡ï¼›ä½†æ˜¯è¿™ä¸ªç¼“å­˜åœ¨ 1 åˆ†é’Ÿå†…åªè¢«è¯»å–äº† 1 æ¬¡ï¼Œæœ‰å¤§é‡çš„å†·æ•°æ®ã€‚ å®é™…ä¸Šï¼Œå¦‚æœä½ åªæ˜¯åˆ é™¤ç¼“å­˜çš„è¯ï¼Œé‚£ä¹ˆåœ¨ 1 åˆ†é’Ÿå†…ï¼Œè¿™ä¸ªç¼“å­˜ä¸è¿‡å°±é‡æ–°è®¡ç®—ä¸€æ¬¡è€Œå·²ï¼Œå¼€é”€å¤§å¹…åº¦é™ä½ã€‚ç”¨åˆ°ç¼“å­˜æ‰å»ç®—ç¼“å­˜ã€‚ å…¶å®åˆ é™¤ç¼“å­˜ï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜ï¼Œå°±æ˜¯ä¸€ä¸ª Lazy è®¡ç®—çš„æ€æƒ³ï¼Œä¸è¦æ¯æ¬¡éƒ½é‡æ–°åšå¤æ‚çš„è®¡ç®—ï¼Œä¸ç®¡å®ƒä¼šä¸ä¼šç”¨åˆ°ï¼Œè€Œæ˜¯è®©å®ƒåˆ°éœ€è¦è¢«ä½¿ç”¨çš„æ—¶å€™å†é‡æ–°è®¡ç®—ã€‚ åƒ Mybatisï¼ŒHibernateï¼Œéƒ½æœ‰æ‡’åŠ è½½æ€æƒ³ã€‚æŸ¥è¯¢ä¸€ä¸ªéƒ¨é—¨ï¼Œéƒ¨é—¨å¸¦äº†ä¸€ä¸ªå‘˜å·¥çš„ Listï¼Œæ²¡æœ‰å¿…è¦è¯´æ¯æ¬¡æŸ¥è¯¢éƒ¨é—¨ï¼Œéƒ½é‡Œé¢çš„ 1000 ä¸ªå‘˜å·¥çš„æ•°æ®ä¹ŸåŒæ—¶æŸ¥å‡ºæ¥å•Šã€‚80% çš„æƒ…å†µï¼ŒæŸ¥è¿™ä¸ªéƒ¨é—¨ï¼Œå°±åªæ˜¯è¦è®¿é—®è¿™ä¸ªéƒ¨é—¨çš„ä¿¡æ¯å°±å¯ä»¥äº†ã€‚å…ˆæŸ¥éƒ¨é—¨ï¼ŒåŒæ—¶è¦è®¿é—®é‡Œé¢çš„å‘˜å·¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™åªæœ‰åœ¨ä½ è¦è®¿é—®é‡Œé¢çš„å‘˜å·¥çš„æ—¶å€™ï¼Œæ‰ä¼šå»æ•°æ®åº“é‡Œé¢æŸ¥è¯¢ 1000 ä¸ªå‘˜å·¥ã€‚ ###Redis å’Œ Memcached æœ‰å•¥åŒºåˆ«ï¼Œä¸ºå•¥é€‰æ‹©ç”¨Redisä½œä¸ºä½ ä»¬çš„ç¼“å­˜ä¸­é—´ä»¶ï¼Ÿ Redis æ”¯æŒå¤æ‚çš„æ•°æ®ç»“æ„ï¼š Redis ç›¸æ¯” Memcached æ¥è¯´ï¼Œæ‹¥æœ‰æ›´å¤šçš„æ•°æ®ç»“æ„ï¼Œèƒ½æ”¯æŒæ›´ä¸°å¯Œçš„æ•°æ®æ“ä½œã€‚å¦‚æœéœ€è¦ç¼“å­˜èƒ½å¤Ÿæ”¯æŒæ›´å¤æ‚çš„ç»“æ„å’Œæ“ä½œï¼Œ Redis ä¼šæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚ Redis åŸç”Ÿæ”¯æŒé›†ç¾¤æ¨¡å¼ï¼š åœ¨ redis3.x ç‰ˆæœ¬ä¸­ï¼Œä¾¿èƒ½æ”¯æŒ Cluster æ¨¡å¼ï¼Œè€Œ Memcached æ²¡æœ‰åŸç”Ÿçš„é›†ç¾¤æ¨¡å¼ï¼Œéœ€è¦ä¾é å®¢æˆ·ç«¯æ¥å®ç°å¾€é›†ç¾¤ä¸­åˆ†ç‰‡å†™å…¥æ•°æ®ã€‚ æ€§èƒ½å¯¹æ¯”ï¼š ç”±äº Redis åªä½¿ç”¨å•æ ¸ï¼Œè€Œ Memcached å¯ä»¥ä½¿ç”¨å¤šæ ¸ï¼Œæ‰€ä»¥å¹³å‡æ¯ä¸€ä¸ªæ ¸ä¸Š Redis åœ¨å­˜å‚¨å°æ•°æ®æ—¶æ¯” Memcached æ€§èƒ½æ›´é«˜ã€‚è€Œåœ¨ 100k ä»¥ä¸Šçš„æ•°æ®ä¸­ï¼ŒMemcached æ€§èƒ½è¦é«˜äº Redisï¼Œè™½ç„¶ Redis æœ€è¿‘ä¹Ÿåœ¨å­˜å‚¨å¤§æ•°æ®çš„æ€§èƒ½ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œä½†æ˜¯æ¯”èµ· Remcachedï¼Œè¿˜æ˜¯ç¨æœ‰é€Šè‰²ã€‚ Tipï¼šå…¶å®é¢è¯•å®˜è¿™ä¹ˆé—®ï¼Œæ˜¯æƒ³çœ‹ä½ çŸ¥é“ä¸ºå•¥ç”¨è¿™ä¸ªæŠ€æœ¯æ ˆä¹ˆï¼Ÿä½ ä¸ºå•¥é€‰è¿™ä¸ªæŠ€æœ¯æ ˆï¼Œä½ æ˜¯å¦åšè¿‡æŠ€æœ¯é€‰å‹çš„å¯¹æ¯”ï¼Œä¼˜ç¼ºç‚¹ä½ æ˜¯å¦äº†è§£ï¼Œä½ å•¥éƒ½ä¸çŸ¥é“ï¼Œåªæ˜¯ä¸ºäº†ç”¨è€Œç”¨ï¼Œé‚£ä½ å¯èƒ½å°±å·®ç‚¹æ„æ€äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:5:3","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#ä½ äº†è§£æœ€ç»å…¸çš„kvdbè¯»å†™æ¨¡å¼ä¹ˆ"},{"categories":null,"content":"Redis çš„çº¿ç¨‹æ¨¡å‹äº†è§£ä¹ˆï¼ŸRedis å†…éƒ¨ä½¿ç”¨æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨ file event handlerï¼Œè¿™ä¸ªæ–‡ä»¶äº‹ä»¶å¤„ç†å™¨æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥ Redis æ‰å«åšå•çº¿ç¨‹çš„æ¨¡å‹ã€‚å®ƒé‡‡ç”¨ IO å¤šè·¯å¤ç”¨æœºåˆ¶åŒæ—¶ç›‘å¬å¤šä¸ª Socketï¼Œæ ¹æ® Socket ä¸Šçš„äº‹ä»¶æ¥é€‰æ‹©å¯¹åº”çš„äº‹ä»¶å¤„ç†å™¨è¿›è¡Œå¤„ç†ã€‚ æ–‡ä»¶äº‹ä»¶å¤„ç†å™¨çš„ç»“æ„åŒ…å« 4 ä¸ªéƒ¨åˆ†ï¼š å¤šä¸ª Socket IO å¤šè·¯å¤ç”¨ç¨‹åº æ–‡ä»¶äº‹ä»¶åˆ†æ´¾å™¨ äº‹ä»¶å¤„ç†å™¨ï¼ˆè¿æ¥åº”ç­”å¤„ç†å™¨ã€å‘½ä»¤è¯·æ±‚å¤„ç†å™¨ã€å‘½ä»¤å›å¤å¤„ç†å™¨ï¼‰ å¤šä¸ª Socket å¯èƒ½ä¼šå¹¶å‘äº§ç”Ÿä¸åŒçš„æ“ä½œï¼Œæ¯ä¸ªæ“ä½œå¯¹åº”ä¸åŒçš„æ–‡ä»¶äº‹ä»¶ï¼Œä½†æ˜¯ IO å¤šè·¯å¤ç”¨ç¨‹åºä¼šç›‘å¬å¤šä¸ª Socketï¼Œä¼šå°† Socket äº§ç”Ÿçš„äº‹ä»¶æ”¾å…¥é˜Ÿåˆ—ä¸­æ’é˜Ÿï¼Œäº‹ä»¶åˆ†æ´¾å™¨æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶ï¼ŒæŠŠè¯¥äº‹ä»¶äº¤ç»™å¯¹åº”çš„äº‹ä»¶å¤„ç†å™¨è¿›è¡Œå¤„ç†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:5:4","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#redis-çš„çº¿ç¨‹æ¨¡å‹äº†è§£ä¹ˆ"},{"categories":null,"content":"é¢è¯•ç»“æŸ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:6:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#é¢è¯•ç»“æŸ"},{"categories":null,"content":"å°ä¼™å­å¯¹ä½ é¢è¯•äº†å››è½®ï¼Œä½ è¯´è¯æœ‰ç†æœ‰æ®ï¼Œé€»è¾‘æ¸…æ™°ï¼Œæ¥å…¬å¸åè‚¯å®šæ˜¯ä¸€æŠŠå¥½æ‰‹ï¼Œæˆ‘æƒ³è¦ä¸ä½ æ¥å½“æˆ‘çš„Leaderå§ï¼Œå“ˆå“ˆï¼Ÿé¢è¯•å®˜åˆ«è·Ÿæˆ‘å¼€ç©ç¬‘äº†ï¼Œæˆ‘è·Ÿæ‚¨è¿™æ ·æ—¥ç§¯æœˆç´¯çš„æŠ€æœ¯ä¸“å®¶è¿˜æ˜¯æœ‰å¾ˆå¤šå·®è·çš„ï¼Œæ‚¨çš„ç»éªŒå’ŒæŠ€æœ¯ä¸Šçš„æ·±åº¦ï¼Œæ²¡æœ‰å¾ˆé•¿æ—¶é—´çš„ç£¨ç»ƒæ˜¯æ— æ³•è¾¾åˆ°çš„ï¼Œæˆ‘è¿˜å¾—å¤šè·Ÿæ‚¨å­¦ä¹ ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:6:1","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#å°ä¼™å­å¯¹ä½ é¢è¯•äº†å››è½®ä½ è¯´è¯æœ‰ç†æœ‰æ®é€»è¾‘æ¸…æ™°æ¥å…¬å¸åè‚¯å®šæ˜¯ä¸€æŠŠå¥½æ‰‹æˆ‘æƒ³è¦ä¸ä½ æ¥å½“æˆ‘çš„leaderå§å“ˆå“ˆ"},{"categories":null,"content":"å¥½çš„ï¼Œå°ä¼™å­æœ‰ç‚¹ä¸œè¥¿ï¼Œä½ å¹´å°‘æœ‰ä¸ºä¸è‡ªå‘ï¼ŒçŸ¥é“ä»€ä¹ˆæ˜¯çè´µï¼Œå°±æ˜¯ä½ äº†æ¥ä¸Šç­å§ã€‚å¥½çš„é¢è¯•å®˜ï¼Œä¸è¿‡æˆ‘æƒ³æˆ‘åœ¨JavaåŸºç¡€ï¼ŒMQï¼ŒDubboç­‰ç­‰é¢†åŸŸè¿˜æœ‰å¥½å¤šçŸ¥è¯†ç‚¹æ‚¨æ²¡é—®æˆ‘ï¼Œè¦ä¸ä¸‹æ¬¡ç»§ç»­é¢æˆ‘ï¼Ÿ å¼ºè¡Œï¼Œä¸ºåŠæ‰“ä¸‹ä¸€æœŸåŸ‹ä¼ç¬”å“ˆå“ˆï¼Œä¸‹æœŸå†™å•¥ä½ ä»¬å®šï¼ï¼ï¼ èƒ½æ’‘åˆ°æœ€åï¼Œä½ è‡ªå·±éƒ½å¿ä¸ä½è‡ªå·±ç»™è‡ªå·±ç‚¹ä¸ªèµäº†! ï¼ˆæš—ç¤ºç‚¹èµï¼Œæ¯æ¬¡éƒ½çœ‹äº†ä¸ç‚¹èµï¼Œä½ ä»¬æƒ³ç™½å«–æˆ‘ä¹ˆï¼Ÿä½ ä»¬å¥½åå–²ï¼Œä¸è¿‡æˆ‘å–œæ¬¢ï¼‰ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹Redisç³»åˆ— â€”- å…¨å‰§ç»ˆ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:6:2","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#å¥½çš„å°ä¼™å­æœ‰ç‚¹ä¸œè¥¿ä½ å¹´å°‘æœ‰ä¸ºä¸è‡ªå‘çŸ¥é“ä»€ä¹ˆæ˜¯çè´µå°±æ˜¯ä½ äº†æ¥ä¸Šç­å§"},{"categories":null,"content":"æ€»ç»“æ—¢ç„¶éƒ½è¯´äº†æ˜¯Redisçš„ç»ˆç« æˆ‘æœ€åä¹Ÿåšä¸ªRedisæ–¹é¢å¸¸è§é¢è¯•é¢˜ï¼Œé¢˜ç›®çš„æ€»ç»“ï¼Œç­”æ¡ˆå¤§å®¶è¦å»æ€è€ƒæˆ‘å‰é¢çš„æ–‡ç« åŸºæœ¬ä¸Šéƒ½æåˆ°äº†ï¼Œç»“æœå¯ä»¥å»æˆ‘å…¬ä¼—å·å›å¤ã€ç­”æ¡ˆã€‘è·å–ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½çœ‹åˆ°é¢˜ç›®å°±èƒ½æƒ³åˆ°ç­”æ¡ˆï¼Œå¹¶ä¸”è®°åœ¨å¿ƒä¸­ï¼Œæ•™å¤§å®¶æ€ä¹ˆå›ç­”åªæ˜¯å¸®å¤§å®¶ç»„ç»‡ä¸‹è¯­è¨€ï¼ŒçœŸæ­£çš„åœºæ™¯è§£å†³æ–¹æ¡ˆè¿˜æ˜¯è¦å¤§å®¶ç†è§£çš„ã€‚ ï¼ˆå‘¨ä¸‰ä»¥åå‡ºç­”æ¡ˆï¼Œæˆ‘å…ˆç¡ä¼šï¼‰ 0ã€åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ï¼ŒRedis çš„ Key æ˜¯å¦‚ä½•å¯»å€çš„ï¼Ÿåˆ†å¸ƒå¼å¯»å€éƒ½æœ‰å“ªäº›ç®—æ³•ï¼Ÿäº†è§£ä¸€è‡´æ€§ Hash ç®—æ³•å—ï¼Ÿ 1ã€ä½¿ç”¨Redisæœ‰å“ªäº›å¥½å¤„ï¼Ÿ 2ã€Redisç›¸æ¯”Memcachedæœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ 3ã€Rediså¸¸è§æ€§èƒ½é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ 4ã€MySQLé‡Œæœ‰2000wæ•°æ®ï¼ŒRedisä¸­åªå­˜20wçš„æ•°æ®ï¼Œå¦‚ä½•ä¿è¯Redisä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®ï¼Ÿ 5ã€Memcacheä¸Redisçš„åŒºåˆ«éƒ½æœ‰å“ªäº›ï¼Ÿ 6ã€Redis å¸¸è§çš„æ€§èƒ½é—®é¢˜éƒ½æœ‰å“ªäº›ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ 7ã€åœ¨ä»€ä¹ˆæ ·çš„åœºæ™¯ä¸‹å¯ä»¥å……åˆ†çš„åˆ©ç”¨Redisçš„ç‰¹æ€§ï¼Œå¤§å¤§æé«˜Redisçš„æ•ˆç‡ï¼Ÿ 8ã€Redisçš„ç¼“å­˜é›ªå´©ã€ç©¿é€ã€å‡»ç©¿äº†è§£ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆå¼‚åŒç‚¹ï¼Ÿåˆ†åˆ«æ€ä¹ˆè§£å†³ï¼Ÿ 9ã€Redisçš„åŸºæœ¬ç±»å‹æœ‰å“ªäº›ï¼Ÿä»–ä»¬çš„ä½¿ç”¨åœºæ™¯äº†è§£ä¹ˆï¼Ÿæ¯”è¾ƒé«˜çº§çš„ç”¨æ³•ä½ ä½¿ç”¨è¿‡ä¹ˆï¼Ÿ 10ã€Redisä¸»ä»æ€ä¹ˆåŒæ­¥æ•°æ®çš„ï¼Ÿé›†ç¾¤çš„é«˜å¯ç”¨æ€ä¹ˆä¿è¯ï¼ŸæŒä¹…åŒ–æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ 11ã€ä¸ºä»€ä¹ˆ redis å•çº¿ç¨‹å´èƒ½æ”¯æ’‘é«˜å¹¶å‘ï¼Ÿ 12ã€å¦‚ä½•ä¿è¯ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®çš„ä¸€è‡´æ€§ï¼Ÿ 13ã€é¡¹ç›®ä¸­æ˜¯æ€ä¹ˆç”¨ç¼“å­˜çš„ï¼Œç”¨äº†ç¼“å­˜ä¹‹åä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:7:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#æ€»ç»“"},{"categories":null,"content":"çµ®å¨+æœ€åæˆ‘æƒ³è¯´çš„å°±æ˜¯ï¼Œæˆ‘è¿™å››ç« åªæ˜¯ä»‹ç»åˆ°äº†ä¸€äº›Redisé¢è¯•æ¯”è¾ƒå¸¸è§çš„é—®é¢˜ï¼Œå…¶å®è¿˜æœ‰å¾ˆå¤šç‚¹æˆ‘éƒ½æ²¡å›ç­”åˆ°ï¼Œå¤§å®¶å¦‚æœä¸ºäº†å¯¹ä»˜é¢è¯•å¯èƒ½æ˜¯å¤Ÿç”¨äº†ï¼Œä½†æ˜¯æˆ‘ä»¬æŠ€æœ¯äººå‘˜è¿˜æ˜¯è¦ä¿æŒå¯¹æŠ€æœ¯çš„æ•¬ç•å¿ƒï¼Œä½ ä¸èƒ½æµ…å°å³æ­¢ï¼Œè¿˜æ˜¯è¦æ·±ç©¶çš„ã€‚ ä½ æ°¸è¿œåªä¼šç”¨ï¼Œä¸å»è€ƒè™‘ç”¨äº†ä¼šå¸¦æ¥çš„é—®é¢˜ï¼Œä»¥åŠå‡ºç°é—®é¢˜ä¹‹åçš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘è§‰å¾—ä½ å¤§æ¦‚ç‡ä¼šåœæ»ä¸å‰ï¼Œæ—¢ç„¶å…¥éƒ½å…¥äº†è¿™è¡Œäº†ï¼Œä¸ºå•¥ä¸æ­¦è£…ä¸€ä¸‹è‡ªå·±ã€‚ å…¶å®å­¦ä¹ æŠ€æœ¯æ˜¯ä¸ªåå“ºçš„è¿‡ç¨‹ï¼Œå­¦ä¹ çš„æ—¶å€™å¯èƒ½ä½ åªæ˜¯æ„Ÿè§‰çŸ¥è¯†å¹¿åº¦ã€æ·±åº¦ä¸Šå»äº†ï¼Œä¸€ä¸ªçŸ¥è¯†ç‚¹ä½ è¿™æ ·ï¼Œä¸¤ä¸ªã€ä¸‰ä¸ªçŸ¥è¯†ç‚¹ä½ éƒ½è¿™æ ·ï¼Œæœ€åä½ å‘ç°ä½ çš„æŠ€æœ¯å·²ç»è·Ÿèº«è¾¹ä¸€æ ·P6çš„ä»”ä¸ä¸€æ ·äº†ï¼Œè¿™æ ·ä½ å¯èƒ½åœ¨å›¢é˜Ÿé‡å¤§é¡¹ç›®çš„è´¡çŒ®éƒ½ä¸Šå»äº†ï¼Œé‚£P7çš„æ™‹å‡å‡ ç‡æ˜¯ä¸æ˜¯å¤§äº†ï¼Œé’±æ˜¯ä¸æ˜¯ä¸Šå»äº†ï¼Œå¥³æœ‹å‹æ˜¯ä¸æ˜¯å¥½çœ‹äº†ï¼Œæˆ¿å­æ˜¯ä¸æ˜¯å¤§äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:8:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#çµ®å¨-1"},{"categories":null,"content":"Endå¥½äº†å„ä½ï¼Œä»¥ä¸Šå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨å†…å®¹äº†ï¼Œèƒ½çœ‹åˆ°è¿™é‡Œçš„äººå‘€ï¼Œéƒ½æ˜¯äººæ‰ï¼Œæˆ‘åé¢ä¼šæ¯å‘¨éƒ½æ›´æ–°å‡ ç¯‡ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å’ŒJavaæŠ€æœ¯æ ˆç›¸å…³çš„æ–‡ç« ã€‚å¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„ï¼Œä¹Ÿå¯ä»¥ç•™è¨€ç»™æˆ‘ï¼Œæˆ–è€…å»å…¬ä¼—å·åŠ æˆ‘å¾®ä¿¡ï¼Œæˆ‘ä¸€æœ‰æ—¶é—´å°±ä¼šå†™å‡ºæ¥ï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚ éå¸¸æ„Ÿè°¢äººæ‰ä»¬èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè¿™ä¸ªæ–‡ç« å†™å¾—è¿˜ä¸é”™ï¼Œè§‰å¾—**ã€Œæ•–ä¸™ã€æˆ‘æœ‰ç‚¹ä¸œè¥¿çš„è¯ æ±‚ç‚¹èµğŸ‘ æ±‚å…³æ³¨â¤ï¸ æ±‚åˆ†äº«ğŸ‘¥ æ±‚ç•™è¨€ğŸ’¬ å¯¹æš–ç”·æˆ‘æ¥è¯´éå¸¸æœ‰ç”¨**ã€‚ å„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼ æ•–ä¸™ | æ–‡ ã€åŸåˆ›ã€‘ã€è½¬è½½è¯·è”ç³»æœ¬äººã€‘ **ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹**ç³»åˆ—æ¯å‘¨æŒç»­æ›´æ–°ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Œ JavaFamily ã€ç¬¬æ—¶é—´é˜…è¯»å’Œå‚¬æ›´ï¼ˆå…¬ä¼—å·æ¯”åšå®¢æ—©ä¸€åˆ°ä¸¤å¤©å“Ÿï¼‰ï¼Œé‡Œé¢ä¹Ÿæœ‰æˆ‘ä¸ªäººå¾®ä¿¡æœ‰ä»€ä¹ˆé—®é¢˜ä¹Ÿå¯ä»¥ç›´æ¥æ»´æ»´æˆ‘ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸ªæ–°äººï¼Œä¸è¿‡ä¸å½±å“æˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼Œä½œä¸ºæ¸£ç”·ï¼Œæˆ‘ç»™ä¸äº†ä½ å¹¸ç¦ï¼Œè¿˜ç»™ä¸äº†ä½ æ¸©æš–å˜›ï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/:9:0","series":null,"tags":["redis"],"title":"åˆ†å¸ƒå¼é”ã€å¹¶å‘ç«äº‰ã€åŒå†™ä¸€è‡´æ€§","uri":"/posts/middleware/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%B9%B6%E5%8F%91%E7%AB%9E%E4%BA%89%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/#end"},{"categories":null,"content":" ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ GitHubä¸Šå·²ç»å¼€æº https://github.com/JavaFamily æœ‰ä¸€çº¿å¤§å‚é¢è¯•ç‚¹è„‘å›¾å’Œä¸ªäººè”ç³»æ–¹å¼ï¼Œæ¬¢è¿Starå’ŒæŒ‡æ•™ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:0:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#"},{"categories":null,"content":"å‰è¨€Redisåœ¨äº’è”ç½‘æŠ€æœ¯å­˜å‚¨æ–¹é¢ä½¿ç”¨å¦‚æ­¤å¹¿æ³›ï¼Œå‡ ä¹æ‰€æœ‰çš„åç«¯æŠ€æœ¯é¢è¯•å®˜éƒ½è¦åœ¨Redisçš„ä½¿ç”¨å’ŒåŸç†æ–¹é¢å¯¹å°ä¼™ä¼´ä»¬è¿›è¡Œ360Â°çš„åˆéš¾ã€‚ ä½œä¸ºä¸€ä¸ªåœ¨äº’è”ç½‘å…¬å¸é¢ä¸€æ¬¡æ‹¿ä¸€æ¬¡Offerçš„é¢éœ¸ï¼Œæ‰“è´¥äº†æ— æ•°ç«äº‰å¯¹æ‰‹ï¼Œæ¯æ¬¡éƒ½åªèƒ½çœ‹åˆ°æ— æ•°è½å¯çš„èº«å½±å¤±æœ›çš„ç¦»å¼€ï¼Œç•¥æ„Ÿæ„§ç–šï¼ˆè¯·å…è®¸æˆ‘ä½¿ç”¨ä¸€ä¸‹å¤¸å¼ çš„ä¿®è¾æ‰‹æ³•ï¼‰ã€‚ äºæ˜¯åœ¨ä¸€ä¸ªå¯‚å¯éš¾è€çš„å¤œæ™šï¼Œæˆ‘ç—›å®šæ€ç—›ï¼Œå†³å®šå¼€å§‹å†™**ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹**ç³»åˆ—ï¼Œå¸Œæœ›èƒ½å¸®åŠ©å„ä½è¯»è€…ä»¥åé¢è¯•åŠ¿å¦‚ç ´ç«¹ï¼Œå¯¹é¢è¯•å®˜è¿›è¡Œ360Â°çš„åå‡»ï¼ŒåŠæ‰“é—®ä½ çš„é¢è¯•å®˜ï¼Œè®©ä¸€åŒé¢è¯•çš„åŒåƒšç ç›®ç»“èˆŒï¼Œç–¯ç‹‚æ”¶å‰²å¤§å‚Offerï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:1:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#å‰è¨€"},{"categories":null,"content":"çµ®å¨ä¹‹å‰å†™äº†å¾ˆå¤šRedisç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘åˆå¤§æ¦‚å›å¤´çœ‹äº†ä¸‹ï¼Œé™¤äº†æ¯”è¾ƒåº•å±‚çš„ä¸œè¥¿æ²¡å†™å¾ˆæ·±ä¹‹å¤–ï¼Œæˆ‘åŸºæœ¬ä¸Šçš„ç‚¹éƒ½æåˆ°è¿‡äº†ï¼Œæˆ‘ç›¸ä¿¡å¦‚æœåªæ˜¯ä¸ºäº†åº”ä»˜é¢è¯•åº”è¯¥æ˜¯å¤Ÿäº†çš„ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³æŠŠå®ƒä»¬çœŸæ­£çš„å¸æ”¶çº³ä¸ºå·±ç”¨ï¼Œè¿˜æ˜¯éœ€è¦å¤§é‡çš„çŸ¥è¯†ç§¯ç´¯ï¼Œå’Œå¾ˆå¤šå®é™…æ“ä½œçš„ã€‚ å°±æˆ‘è‡ªå·±è€Œè¨€Redisåœ¨å¼€å‘è¿‡ç¨‹ä¸­å®åœ¨ç”¨å¾—å¤ªæ™®éäº†ï¼Œçƒ­ç‚¹æ•°æ®çš„å­˜å‚¨å•Šï¼Œæ•´ä½“æ€§èƒ½çš„æå‡å•Šéƒ½ä¼šç”¨åˆ°ï¼Œä½†æ˜¯å°±åƒæˆ‘è¯´çš„æŠ€æœ¯å°±æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œä½¿ç”¨å®ƒä»¬éšä¹‹è€Œæ¥çš„é—®é¢˜ä¹Ÿä¼šå¾ˆå¤šçš„ï¼Œæˆ‘åœ¨è€ä¸œå®¶åŒåäºŒå°±é‡åˆ°ç¼“å­˜é›ªå´©é—®é¢˜è®©æ•´ä½“æœåŠ¡å®•æœº3åˆ†é’Ÿï¼Œç›¸å¿…å¤§å®¶éƒ½çŸ¥é“é˜¿é‡Œä»Šå¹´çš„åŒåä¸€æ•°æ®äº†ï¼Œé‚£ä¸‰åˆ†é’Ÿåœ¨è¿™ç§æ—¶å€™åˆ°åº•å€¼å¤šå°‘é’±ï¼ŸçœŸçš„ä¸æ•¢æƒ³è±¡ã€‚ Redisçš„æ™®éæˆ‘å°±æ‹¿æ˜é‡‘æˆ‘è‡ªå·±çš„è®¤çŸ¥ä¸¾ä¾‹ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œä½†æ˜¯ç›®æµ‹æ˜¯å¯¹çš„ã€‚ **å¤§å®¶çœ‹åˆ°é—®é¢˜æ‰€åœ¨äº†ä¹ˆï¼Ÿ**æ˜¯çš„çƒ­é—¨çš„èµçš„æ•°æ®ä¸æ˜¯æœ€æ–°çš„ï¼Œæˆ‘ç›²çŒœä¸€æ³¢ä¸Šé¢çš„çƒ­é—¨æ–‡ç« æ˜¯ç¼“å­˜ã€‚å¤±æ•ˆæ—¶é—´åº”è¯¥æ˜¯å‡ ååˆ†é’Ÿçš„ï¼Œä¸ºå•¥è¿™ä¹ˆåšå‘¢ï¼Ÿ çƒ­é—¨æ–‡ç« æ˜¯å¤§å®¶å…±åŒéƒ½ä¼šçœ‹åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œåœ¨é‚£åšç¼“å­˜ï¼Œä»–æ˜¯ä¸éœ€è¦é‚£ä¹ˆé«˜çš„å®æ—¶æ€§çš„ï¼Œé‚£ä¸‹é¢çš„æ–‡ç« åˆ—è¡¨æ˜¯æœ€æ–°å‘å¸ƒçš„æ–‡ç« ï¼Œæœ‰é«˜å®æ—¶æ€§çš„ç‰¹ç‚¹ï¼Œå¤§å®¶è®¿é—®å¤šçš„æ”¾åœ¨ç¼“å­˜è¿˜å¯ä»¥ç»™DBå‡å°‘å‹åŠ›ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ˜é‡‘æ˜¯ä¸æ˜¯è¿™ä¹ˆåšçš„å“ˆï¼Œåæ­£é“ç†æ˜¯è¿™ä¹ˆä¸ªé“ç†äº†ã€‚ é‚£ä»€ä¹ˆåœºæ™¯æ˜¯ä½¿ç”¨Redisæ¯”è¾ƒå¤æ‚çš„åœºæ™¯ï¼Œè€Œä¸”éœ€è¦å¤§é‡ä¸­é—´ä»¶å’Œä¸šåŠ¡é€»è¾‘å»é…åˆçš„å‘¢ï¼Ÿ ç§’æ€ï¼æ˜¯çš„å°±æ˜¯ä»Šå¤©çš„ä¸»é¢˜ç§’æ€ï¼Œæˆ‘å°±ç”¨æˆ‘è‡ªå·±çš„æ€è·¯å¸¦å¤§å®¶ä¸€èµ·çœ‹ä¸€ä¸‹ï¼Œè®¾è®¡ä¸€ä¸ªç§’æ€ä»å‰åˆ°åï¼Œä»å†…åˆ°å¤–åˆ°åº•è¦æŠ€æœ¯äººå‘˜åšå¤šå°‘å‡†å¤‡ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:2:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#çµ®å¨"},{"categories":null,"content":"æä¸€ä¸‹ä¸Šä¸€æœŸåŠæ‰“ç³»åˆ—æˆ‘ä»¬æåˆ°äº†Redisç›¸å…³çš„ä¸€äº›çŸ¥è¯†ï¼Œè¿˜æ²¡çœ‹çš„å°ä¼™ä¼´å¯ä»¥å›é¡¾ä¸€ä¸‹ ï¼Œè¿™å¯¹äºè¿™æœŸçš„é˜…è¯»å¾ˆæœ‰å¸®åŠ©ï¼Œæ¶‰åŠåˆ°ä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ã€æŒä¹…åŒ–è¿™æ ·çš„çŸ¥è¯†ç‚¹ã€‚ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså“¨å…µã€æŒä¹…åŒ–ã€ä¸»ä»ã€æ‰‹æ’•LRU ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Redisç»ˆç« å‡›å†¬å°†è‡³ã€FPXæ–°ç‹ç™»åŸº ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-Rediså¸¸è§é¢è¯•é¢˜ï¼ˆå¸¦ç­”æ¡ˆï¼‰ æ‰“å¥½åŸºç¡€æ‰å¯ä»¥å†™å‡ºæ›´å¥½çš„ä»£ç å“Ÿï¼ä¸ç„¶å°±ç­‰ç€äº§å“æµ‹è¯•æ€¼ä½ å§ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:3:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æä¸€ä¸‹"},{"categories":null,"content":"æ­£æ–‡é¦–å…ˆè®¾è®¡ä¸€ä¸ªç³»ç»Ÿä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç¡®è®¤æˆ‘ä»¬çš„ä¸šåŠ¡åœºæ™¯æ˜¯æ€ä¹ˆæ ·å­çš„ï¼Œæˆ‘å°±å¸¦ç€å¤§å®¶ä¸€èµ·å‡è®¾ä¸€ä¸ªåœºæ™¯å¥½å§ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æ­£æ–‡"},{"categories":null,"content":"åœºæ™¯æˆ‘ä»¬ç°åœºè¦å–100ä»¶ä¸‹é¢è¿™ä¸ªå©´å„¿çº¸å°¿è£¤ï¼Œç„¶åæˆ‘ä»¬æ ¹æ®ä»¥å¾€è¿™æ ·ç§’æ€æ´»åŠ¨çš„æ•°æ®ç»éªŒæ¥çœ‹ï¼Œç›®æµ‹æ¥æŠ¢è¿™100ä»¶çº¸å°¿è£¤çš„äººè¶³è¶³æœ‰10ä¸‡äººã€‚ï¼ˆå—æäººæ‰“é’±ï¼ï¼‰ ä½ ä¸€å¬ï¼Œå®Œäº†å‘€ï¼Œè¿™æˆ‘ä»¬çš„æœåŠ¡å™¨å“ªé‡Œé¡¶å¾—ä½å•Šï¼è¯´çœŸçš„ç›´æ¥æ‰“DBè‚¯å®šæŒ‚ã€‚ä½†æ˜¯åˆ«æ€¥å˜›ï¼Œæœ‰æš–ç”·æ•–ä¸™åœ¨ï¼Œæˆ‘ä»¬åœ¨å¼€å§‹ä¹‹å‰åº”è¯¥å…ˆæ€è€ƒä¸‹ä¼šå‡ºç°å“ªäº›é—®é¢˜ï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:1","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#åœºæ™¯"},{"categories":null,"content":"é—®é¢˜é«˜å¹¶å‘ï¼šæ˜¯çš„é«˜å¹¶å‘è¿™ä¸ªæ˜¯æˆ‘ä»¬æƒ³éƒ½ä¸ç”¨æƒ³çš„ä¸€ä¸ªç‚¹ï¼Œä¸€ç¬é—´è¿™ä¹ˆå¤šäººè¿›æ¥è¿™ä¸æ˜¯é«˜å¹¶å‘ä»€ä¹ˆæ—¶å€™æ˜¯å‘¢ï¼Ÿ æ˜¯å§ï¼Œç§’æ€çš„ç‰¹ç‚¹å°±æ˜¯è¿™æ ·æ—¶é—´æçŸ­ã€ ç¬é—´ç”¨æˆ·é‡å¤§ã€‚ æ­£å¸¸çš„åº—é“ºè¥é”€éƒ½æ˜¯ç”¨æä½çš„ä»·æ ¼é…åˆä¸ŠçŸ­ä¿¡ã€APPçš„ç²¾å‡†æ¨é€ï¼Œå¸å¼•ç‰¹åˆ«å¤šçš„ç”¨æˆ·æ¥å‚ä¸è¿™åœºç§’æ€ï¼Œçˆ½äº†å•†å®¶è‹¦äº†å¼€å‘å‘€ã€‚ ç§’æ€å¤§å®¶éƒ½çŸ¥é“å¦‚æœçœŸçš„è¥é”€åˆ°ä½ï¼Œä»·æ ¼è¯±äººï¼Œå‡ åä¸‡çš„æµé‡æˆ‘è§‰å¾—å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œé‚£å•æœºçš„Redisæˆ‘æ„Ÿè§‰3-4Wçš„QPSè¿˜æ˜¯èƒ½é¡¶å¾—ä½çš„ï¼Œä½†æ˜¯å†é«˜äº†å°±æ²¡åŠæ³•äº†ï¼Œé‚£è¿™ä¸ªæ•°æ®éšä¾¿æä¸ªçƒ­é”€å•†å“çš„ç§’æ€å¯èƒ½éƒ½ä¸æ­¢äº†ã€‚ å¤§é‡çš„è¯·æ±‚è¿›æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„ç‚¹å°±å¾ˆå¤šäº†ï¼Œç¼“å­˜é›ªå´©ï¼Œç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜ç©¿é€è¿™äº›æˆ‘ä¹‹å‰æåˆ°çš„ç‚¹éƒ½æ˜¯æœ‰å¯èƒ½å‘ç”Ÿçš„ï¼Œå‡ºç°é—®é¢˜æ‰“æŒ‚DBé‚£å°±å¾ˆéš¾å—äº†ï¼Œæ´»åŠ¨å¤±è´¥ç”¨æˆ·ä½“éªŒå·®ï¼Œæ´»åŠ¨äººæ°”æ²¡äº†ï¼Œæœ€åèƒŒé”…çš„è¿˜æ˜¯å¼€å‘ã€‚ è¶…å–ï¼šä½†å‡¡æ˜¯ä¸ªç§’æ€ï¼Œéƒ½æ€•è¶…å–ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹çš„åªæ˜¯å°¿ä¸æ¹¿ï¼Œè¦æ˜¯æ¢æˆ100ä¸ªåä¸ºMatePro30ï¼Œå•†å®¶çš„é¢„ç®—ç»è´¹å–100ä¸ªå¯ä»¥èµšç‚¹è¿˜å¯ä»¥é€ åŠ¿ï¼Œç»“æœä½ å†™é”™ç¨‹åºå¤šå–å‡ºå»200ä¸ªï¼Œä½ ä¸å‘è´§ç”¨æˆ·æŠ•è¯‰ä½ ï¼Œå¹³å°å°ä½ åº—ï¼Œä½ å‘è´§å°±è¡€äºï¼Œä½ æ€ä¹ˆåŠï¼Ÿ ï¼ˆæ²¡äº‹çœ‹äº†æ•–ä¸™çš„æ–‡ç« ç›´æ¥ä¸æ€•ï¼‰ é‚£æœ€ååªèƒ½æ€ä¸ªå¼€å‘ç¥­å¤©è§£æ°”äº†ï¼Œç§’æ€çš„ä»·æ ¼æœ¬æ¥å°±ä½äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸æ€ä¹ˆèµšé’±çš„ï¼Œè¶…å–äº†å°±ææ€–äº†å‘€ï¼Œæ‰€ä»¥è¶…å–ä¹Ÿæ˜¯å¾ˆå…³é”®çš„ä¸€ä¸ªç‚¹ã€‚ æ¶æ„è¯·æ±‚ï¼šä½ è¿™ä¹ˆä½çš„ä»·æ ¼ï¼Œå‡å¦‚æˆ‘æŠ¢åˆ°äº†ï¼Œæˆ‘è½¬æ‰‹å–æ‰æˆ‘ä¸æ˜¯è¡€èµšï¼Ÿå°±ç®—æˆ‘ä¸å–æˆ‘ä¹Ÿä¸äºå•Šï¼Œé‚£ç”¨æˆ·çŸ¥é“ï¼Œä½ çŸ¥é“ï¼Œåˆ«çš„åˆ«æœ‰ç”¨å¿ƒçš„äººï¼ˆé»‘å®¢ã€é»„ç‰›â€¦ï¼‰è‚¯å®šä¹ŸçŸ¥é“çš„ã€‚ é‚£ç®€å•å•Šï¼Œæˆ‘çŸ¥é“ä½ ä»€ä¹ˆæ—¶å€™æŠ¢ï¼Œæˆ‘æä¸ªå‡ åå°æœºå™¨æç‚¹è„šæœ¬ï¼Œæˆ‘ä¹Ÿæ¨¡æ‹Ÿå‡ºæ¥åå‡ ä¸‡ä¸ªäººå·¦å³çš„è¯·æ±‚ï¼Œé‚£æˆ‘æ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘åŸºæœ¬ä¸Šæœ‰80%çš„æˆåŠŸç‡äº†ã€‚ çœŸå®æƒ…å†µå¯èƒ½è¿œè¿œä¸æ­¢ï¼Œå› ä¸ºæœºå™¨è¯·æ±‚çš„é€Ÿåº¦æ¯”äººçš„æ‰‹é€Ÿå¾€å¾€å¿«å¤ªå¤šäº†ï¼Œåœ¨è´µå·çš„æ•–ä¸™æˆ‘æ¯å¹´å›å®¶æŠ¢é«˜é“ç¥¨éƒ½æ˜¯ç§’å…‰çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰é»„ç‰›çš„åŠŸåŠ³ï¼Œæˆ‘è¦Dissä½ ï¼Œé»„ç‰›ã€‚æ°ä¼¦æ¼”å”±ä¼šé—¨ç¥¨æŠ¢ä¸åˆ°ï¼Œæˆ‘ä¹ŸDissä½ ã€‚ Tipï¼šç§‘æ™®ä¸‹ï¼Œå°é“æ¶ˆæ¯äº†è§£åˆ°çš„ï¼Œé»„ç‰›çš„æŠ¢ç¥¨ç³»ç»Ÿï¼Œæ¯”å›½å†…å¾ˆå¤šå°å…¬å¸çš„ç³»ç»Ÿè¿˜åŠå¾ˆå¤šï¼Œæ¶æ„è®¾è®¡éƒ½æ˜¯é¡¶çº§çš„ï¼Œæˆ‘ç”¨é¡¶é…çš„æœåŠ¡åŠ ä¸Šé¡¶é…çš„æ¶æ„è®¾è®¡ï¼Œä½ è¿˜æƒ³çœ‹æ¼”å”±ä¼šï¼Ÿè¿˜æƒ³å›å®¶ï¼Ÿ ä¸è¿‡ä¸ç”¨é»„ç‰›æˆ‘å›å®¶éƒ½éš¾ï¼Œæˆ‘ä»¬äº‘è´µå·è·Ÿæˆ‘ä¸€æ ·è¦å›å®¶è¿‡å¹´çš„ä»”å¤ªå¤šäº†555ï¼ é“¾æ¥æš´éœ²ï¼šå‰é¢å‡ ä¸ªé—®é¢˜å¤§å®¶å¯èƒ½éƒ½å¾ˆå¥½ç†è§£ï¼Œä¸€çœ‹åˆ°è¿™ä¸ªæœ‰çš„å°ä¼™ä¼´å¯èƒ½ä¼šæ¯”è¾ƒç–‘æƒ‘ï¼Œå•¥æ˜¯é“¾æ¥æš´éœ²å‘€ï¼Ÿ ç›¸ä¿¡æ˜¯ä¸ªå¼€å‘åŒå­¦éƒ½å¯¹è¿™ä¸ªç”»é¢ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿå§ï¼Œæ‡‚ç‚¹è¡Œçš„ä»”éƒ½å¯ä»¥æ‰“å¼€è°·æ­Œçš„å¼€å‘è€…æ¨¡å¼ï¼Œç„¶åçœ‹çœ‹ä½ çš„ç½‘é¡µä»£ç ï¼Œæœ‰çš„å°±æœ‰URLï¼Œä½†æ˜¯æˆ‘å†™VUEçš„æ—¶å€™æ˜¯äº‹ä»¶è§¦å‘ç„¶åå»è°ƒç”¨æ–‡ä»¶é‡Œé¢çš„æ¥å£çœ‹æºç çœ‹ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ç‚¹å‡»ä¸€ä¸‹æŸ¥çœ‹ä½ çš„è¯·æ±‚åœ°å€å•Šï¼Œä¸è¿‡ä½ å¥½åƒå¯ä»¥å¯¹æŒ‰é’®åœ¨ç§’æ€å‰ç½®ç°ã€‚ ä¸ç®¡æ€ä¹ˆæ ·å­éƒ½æœ‰å±é™©ï¼Œæ’‡å¼€å¤–é¢çš„æ‰€æœ‰çš„ä¸œè¥¿ä½ éƒ½æŒ¡ä½äº†ï¼Œä½ å–è¿™ä¸ªä¸œè¥¿å®åœ¨ä¾¿å®œå¾—è¿‡åˆ†ï¼Œæœ‰è¯±æƒ‘åŠ›ï¼Œä½ èƒ½ä¿è¯å¼€å‘ä¸åŠ¨å¿ƒï¼Ÿå¼€å‘çŸ¥é“åœ°å€ï¼Œåœ¨ç§’æ€çš„æ—¶å€™è‡ªå·±æå‰è¯·æ±‚ã€‚ã€‚ã€‚ï¼ˆå¼€å‘ï¼šæ€ä¹ˆTMåˆæ˜¯æˆ‘ï¼‰ æ•°æ®åº“ï¼šæ¯ç§’ä¸Šä¸‡ç”šè‡³åå‡ ä¸‡çš„QPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰ç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦æŠŠåº“æ‰“æŒ‚æ‰ï¼Œè€Œä¸”ä½ æœåŠ¡ä¸å•å•æ˜¯åšç§’æ€çš„è¿˜æ¶‰åŠå…¶ä»–çš„ä¸šåŠ¡ï¼Œä½ æ²¡åšé™çº§ã€é™æµã€ç†”æ–­å•¥çš„ï¼Œåˆ«çš„ä¸€èµ·æŒ‚ï¼Œå°å…¬å¸çš„è¯å¯èƒ½å…¨ç«™å´©æºƒ404ã€‚ åæ­£ä¸ç®¡ä½ ç§’æ€æ€ä¹ˆæŒ‚ï¼Œä½ åˆ«æŠŠåˆ«çš„ææŒ‚äº†å¯¹å§ï¼ŒææŒ‚äº†å°±ä¸æ˜¯æ€ä¸€ä¸ªç¨‹åºå‘˜èƒ½æå®šçš„ã€‚ ç¨‹åºå‘˜ï¼šæˆ‘TMå¥½éš¾å•Šï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:2","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#é—®é¢˜"},{"categories":null,"content":"é—®é¢˜é«˜å¹¶å‘ï¼šæ˜¯çš„é«˜å¹¶å‘è¿™ä¸ªæ˜¯æˆ‘ä»¬æƒ³éƒ½ä¸ç”¨æƒ³çš„ä¸€ä¸ªç‚¹ï¼Œä¸€ç¬é—´è¿™ä¹ˆå¤šäººè¿›æ¥è¿™ä¸æ˜¯é«˜å¹¶å‘ä»€ä¹ˆæ—¶å€™æ˜¯å‘¢ï¼Ÿ æ˜¯å§ï¼Œç§’æ€çš„ç‰¹ç‚¹å°±æ˜¯è¿™æ ·æ—¶é—´æçŸ­ã€ ç¬é—´ç”¨æˆ·é‡å¤§ã€‚ æ­£å¸¸çš„åº—é“ºè¥é”€éƒ½æ˜¯ç”¨æä½çš„ä»·æ ¼é…åˆä¸ŠçŸ­ä¿¡ã€APPçš„ç²¾å‡†æ¨é€ï¼Œå¸å¼•ç‰¹åˆ«å¤šçš„ç”¨æˆ·æ¥å‚ä¸è¿™åœºç§’æ€ï¼Œçˆ½äº†å•†å®¶è‹¦äº†å¼€å‘å‘€ã€‚ ç§’æ€å¤§å®¶éƒ½çŸ¥é“å¦‚æœçœŸçš„è¥é”€åˆ°ä½ï¼Œä»·æ ¼è¯±äººï¼Œå‡ åä¸‡çš„æµé‡æˆ‘è§‰å¾—å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œé‚£å•æœºçš„Redisæˆ‘æ„Ÿè§‰3-4Wçš„QPSè¿˜æ˜¯èƒ½é¡¶å¾—ä½çš„ï¼Œä½†æ˜¯å†é«˜äº†å°±æ²¡åŠæ³•äº†ï¼Œé‚£è¿™ä¸ªæ•°æ®éšä¾¿æä¸ªçƒ­é”€å•†å“çš„ç§’æ€å¯èƒ½éƒ½ä¸æ­¢äº†ã€‚ å¤§é‡çš„è¯·æ±‚è¿›æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„ç‚¹å°±å¾ˆå¤šäº†ï¼Œç¼“å­˜é›ªå´©ï¼Œç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜ç©¿é€è¿™äº›æˆ‘ä¹‹å‰æåˆ°çš„ç‚¹éƒ½æ˜¯æœ‰å¯èƒ½å‘ç”Ÿçš„ï¼Œå‡ºç°é—®é¢˜æ‰“æŒ‚DBé‚£å°±å¾ˆéš¾å—äº†ï¼Œæ´»åŠ¨å¤±è´¥ç”¨æˆ·ä½“éªŒå·®ï¼Œæ´»åŠ¨äººæ°”æ²¡äº†ï¼Œæœ€åèƒŒé”…çš„è¿˜æ˜¯å¼€å‘ã€‚ è¶…å–ï¼šä½†å‡¡æ˜¯ä¸ªç§’æ€ï¼Œéƒ½æ€•è¶…å–ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹çš„åªæ˜¯å°¿ä¸æ¹¿ï¼Œè¦æ˜¯æ¢æˆ100ä¸ªåä¸ºMatePro30ï¼Œå•†å®¶çš„é¢„ç®—ç»è´¹å–100ä¸ªå¯ä»¥èµšç‚¹è¿˜å¯ä»¥é€ åŠ¿ï¼Œç»“æœä½ å†™é”™ç¨‹åºå¤šå–å‡ºå»200ä¸ªï¼Œä½ ä¸å‘è´§ç”¨æˆ·æŠ•è¯‰ä½ ï¼Œå¹³å°å°ä½ åº—ï¼Œä½ å‘è´§å°±è¡€äºï¼Œä½ æ€ä¹ˆåŠï¼Ÿ ï¼ˆæ²¡äº‹çœ‹äº†æ•–ä¸™çš„æ–‡ç« ç›´æ¥ä¸æ€•ï¼‰ é‚£æœ€ååªèƒ½æ€ä¸ªå¼€å‘ç¥­å¤©è§£æ°”äº†ï¼Œç§’æ€çš„ä»·æ ¼æœ¬æ¥å°±ä½äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸æ€ä¹ˆèµšé’±çš„ï¼Œè¶…å–äº†å°±ææ€–äº†å‘€ï¼Œæ‰€ä»¥è¶…å–ä¹Ÿæ˜¯å¾ˆå…³é”®çš„ä¸€ä¸ªç‚¹ã€‚ æ¶æ„è¯·æ±‚ï¼šä½ è¿™ä¹ˆä½çš„ä»·æ ¼ï¼Œå‡å¦‚æˆ‘æŠ¢åˆ°äº†ï¼Œæˆ‘è½¬æ‰‹å–æ‰æˆ‘ä¸æ˜¯è¡€èµšï¼Ÿå°±ç®—æˆ‘ä¸å–æˆ‘ä¹Ÿä¸äºå•Šï¼Œé‚£ç”¨æˆ·çŸ¥é“ï¼Œä½ çŸ¥é“ï¼Œåˆ«çš„åˆ«æœ‰ç”¨å¿ƒçš„äººï¼ˆé»‘å®¢ã€é»„ç‰›â€¦ï¼‰è‚¯å®šä¹ŸçŸ¥é“çš„ã€‚ é‚£ç®€å•å•Šï¼Œæˆ‘çŸ¥é“ä½ ä»€ä¹ˆæ—¶å€™æŠ¢ï¼Œæˆ‘æä¸ªå‡ åå°æœºå™¨æç‚¹è„šæœ¬ï¼Œæˆ‘ä¹Ÿæ¨¡æ‹Ÿå‡ºæ¥åå‡ ä¸‡ä¸ªäººå·¦å³çš„è¯·æ±‚ï¼Œé‚£æˆ‘æ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘åŸºæœ¬ä¸Šæœ‰80%çš„æˆåŠŸç‡äº†ã€‚ çœŸå®æƒ…å†µå¯èƒ½è¿œè¿œä¸æ­¢ï¼Œå› ä¸ºæœºå™¨è¯·æ±‚çš„é€Ÿåº¦æ¯”äººçš„æ‰‹é€Ÿå¾€å¾€å¿«å¤ªå¤šäº†ï¼Œåœ¨è´µå·çš„æ•–ä¸™æˆ‘æ¯å¹´å›å®¶æŠ¢é«˜é“ç¥¨éƒ½æ˜¯ç§’å…‰çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰é»„ç‰›çš„åŠŸåŠ³ï¼Œæˆ‘è¦Dissä½ ï¼Œé»„ç‰›ã€‚æ°ä¼¦æ¼”å”±ä¼šé—¨ç¥¨æŠ¢ä¸åˆ°ï¼Œæˆ‘ä¹ŸDissä½ ã€‚ Tipï¼šç§‘æ™®ä¸‹ï¼Œå°é“æ¶ˆæ¯äº†è§£åˆ°çš„ï¼Œé»„ç‰›çš„æŠ¢ç¥¨ç³»ç»Ÿï¼Œæ¯”å›½å†…å¾ˆå¤šå°å…¬å¸çš„ç³»ç»Ÿè¿˜åŠå¾ˆå¤šï¼Œæ¶æ„è®¾è®¡éƒ½æ˜¯é¡¶çº§çš„ï¼Œæˆ‘ç”¨é¡¶é…çš„æœåŠ¡åŠ ä¸Šé¡¶é…çš„æ¶æ„è®¾è®¡ï¼Œä½ è¿˜æƒ³çœ‹æ¼”å”±ä¼šï¼Ÿè¿˜æƒ³å›å®¶ï¼Ÿ ä¸è¿‡ä¸ç”¨é»„ç‰›æˆ‘å›å®¶éƒ½éš¾ï¼Œæˆ‘ä»¬äº‘è´µå·è·Ÿæˆ‘ä¸€æ ·è¦å›å®¶è¿‡å¹´çš„ä»”å¤ªå¤šäº†555ï¼ é“¾æ¥æš´éœ²ï¼šå‰é¢å‡ ä¸ªé—®é¢˜å¤§å®¶å¯èƒ½éƒ½å¾ˆå¥½ç†è§£ï¼Œä¸€çœ‹åˆ°è¿™ä¸ªæœ‰çš„å°ä¼™ä¼´å¯èƒ½ä¼šæ¯”è¾ƒç–‘æƒ‘ï¼Œå•¥æ˜¯é“¾æ¥æš´éœ²å‘€ï¼Ÿ ç›¸ä¿¡æ˜¯ä¸ªå¼€å‘åŒå­¦éƒ½å¯¹è¿™ä¸ªç”»é¢ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿå§ï¼Œæ‡‚ç‚¹è¡Œçš„ä»”éƒ½å¯ä»¥æ‰“å¼€è°·æ­Œçš„å¼€å‘è€…æ¨¡å¼ï¼Œç„¶åçœ‹çœ‹ä½ çš„ç½‘é¡µä»£ç ï¼Œæœ‰çš„å°±æœ‰URLï¼Œä½†æ˜¯æˆ‘å†™VUEçš„æ—¶å€™æ˜¯äº‹ä»¶è§¦å‘ç„¶åå»è°ƒç”¨æ–‡ä»¶é‡Œé¢çš„æ¥å£çœ‹æºç çœ‹ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ç‚¹å‡»ä¸€ä¸‹æŸ¥çœ‹ä½ çš„è¯·æ±‚åœ°å€å•Šï¼Œä¸è¿‡ä½ å¥½åƒå¯ä»¥å¯¹æŒ‰é’®åœ¨ç§’æ€å‰ç½®ç°ã€‚ ä¸ç®¡æ€ä¹ˆæ ·å­éƒ½æœ‰å±é™©ï¼Œæ’‡å¼€å¤–é¢çš„æ‰€æœ‰çš„ä¸œè¥¿ä½ éƒ½æŒ¡ä½äº†ï¼Œä½ å–è¿™ä¸ªä¸œè¥¿å®åœ¨ä¾¿å®œå¾—è¿‡åˆ†ï¼Œæœ‰è¯±æƒ‘åŠ›ï¼Œä½ èƒ½ä¿è¯å¼€å‘ä¸åŠ¨å¿ƒï¼Ÿå¼€å‘çŸ¥é“åœ°å€ï¼Œåœ¨ç§’æ€çš„æ—¶å€™è‡ªå·±æå‰è¯·æ±‚ã€‚ã€‚ã€‚ï¼ˆå¼€å‘ï¼šæ€ä¹ˆTMåˆæ˜¯æˆ‘ï¼‰ æ•°æ®åº“ï¼šæ¯ç§’ä¸Šä¸‡ç”šè‡³åå‡ ä¸‡çš„QPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰ç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦æŠŠåº“æ‰“æŒ‚æ‰ï¼Œè€Œä¸”ä½ æœåŠ¡ä¸å•å•æ˜¯åšç§’æ€çš„è¿˜æ¶‰åŠå…¶ä»–çš„ä¸šåŠ¡ï¼Œä½ æ²¡åšé™çº§ã€é™æµã€ç†”æ–­å•¥çš„ï¼Œåˆ«çš„ä¸€èµ·æŒ‚ï¼Œå°å…¬å¸çš„è¯å¯èƒ½å…¨ç«™å´©æºƒ404ã€‚ åæ­£ä¸ç®¡ä½ ç§’æ€æ€ä¹ˆæŒ‚ï¼Œä½ åˆ«æŠŠåˆ«çš„ææŒ‚äº†å¯¹å§ï¼ŒææŒ‚äº†å°±ä¸æ˜¯æ€ä¸€ä¸ªç¨‹åºå‘˜èƒ½æå®šçš„ã€‚ ç¨‹åºå‘˜ï¼šæˆ‘TMå¥½éš¾å•Šï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:2","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#é«˜å¹¶å‘"},{"categories":null,"content":"é—®é¢˜é«˜å¹¶å‘ï¼šæ˜¯çš„é«˜å¹¶å‘è¿™ä¸ªæ˜¯æˆ‘ä»¬æƒ³éƒ½ä¸ç”¨æƒ³çš„ä¸€ä¸ªç‚¹ï¼Œä¸€ç¬é—´è¿™ä¹ˆå¤šäººè¿›æ¥è¿™ä¸æ˜¯é«˜å¹¶å‘ä»€ä¹ˆæ—¶å€™æ˜¯å‘¢ï¼Ÿ æ˜¯å§ï¼Œç§’æ€çš„ç‰¹ç‚¹å°±æ˜¯è¿™æ ·æ—¶é—´æçŸ­ã€ ç¬é—´ç”¨æˆ·é‡å¤§ã€‚ æ­£å¸¸çš„åº—é“ºè¥é”€éƒ½æ˜¯ç”¨æä½çš„ä»·æ ¼é…åˆä¸ŠçŸ­ä¿¡ã€APPçš„ç²¾å‡†æ¨é€ï¼Œå¸å¼•ç‰¹åˆ«å¤šçš„ç”¨æˆ·æ¥å‚ä¸è¿™åœºç§’æ€ï¼Œçˆ½äº†å•†å®¶è‹¦äº†å¼€å‘å‘€ã€‚ ç§’æ€å¤§å®¶éƒ½çŸ¥é“å¦‚æœçœŸçš„è¥é”€åˆ°ä½ï¼Œä»·æ ¼è¯±äººï¼Œå‡ åä¸‡çš„æµé‡æˆ‘è§‰å¾—å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œé‚£å•æœºçš„Redisæˆ‘æ„Ÿè§‰3-4Wçš„QPSè¿˜æ˜¯èƒ½é¡¶å¾—ä½çš„ï¼Œä½†æ˜¯å†é«˜äº†å°±æ²¡åŠæ³•äº†ï¼Œé‚£è¿™ä¸ªæ•°æ®éšä¾¿æä¸ªçƒ­é”€å•†å“çš„ç§’æ€å¯èƒ½éƒ½ä¸æ­¢äº†ã€‚ å¤§é‡çš„è¯·æ±‚è¿›æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„ç‚¹å°±å¾ˆå¤šäº†ï¼Œç¼“å­˜é›ªå´©ï¼Œç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜ç©¿é€è¿™äº›æˆ‘ä¹‹å‰æåˆ°çš„ç‚¹éƒ½æ˜¯æœ‰å¯èƒ½å‘ç”Ÿçš„ï¼Œå‡ºç°é—®é¢˜æ‰“æŒ‚DBé‚£å°±å¾ˆéš¾å—äº†ï¼Œæ´»åŠ¨å¤±è´¥ç”¨æˆ·ä½“éªŒå·®ï¼Œæ´»åŠ¨äººæ°”æ²¡äº†ï¼Œæœ€åèƒŒé”…çš„è¿˜æ˜¯å¼€å‘ã€‚ è¶…å–ï¼šä½†å‡¡æ˜¯ä¸ªç§’æ€ï¼Œéƒ½æ€•è¶…å–ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹çš„åªæ˜¯å°¿ä¸æ¹¿ï¼Œè¦æ˜¯æ¢æˆ100ä¸ªåä¸ºMatePro30ï¼Œå•†å®¶çš„é¢„ç®—ç»è´¹å–100ä¸ªå¯ä»¥èµšç‚¹è¿˜å¯ä»¥é€ åŠ¿ï¼Œç»“æœä½ å†™é”™ç¨‹åºå¤šå–å‡ºå»200ä¸ªï¼Œä½ ä¸å‘è´§ç”¨æˆ·æŠ•è¯‰ä½ ï¼Œå¹³å°å°ä½ åº—ï¼Œä½ å‘è´§å°±è¡€äºï¼Œä½ æ€ä¹ˆåŠï¼Ÿ ï¼ˆæ²¡äº‹çœ‹äº†æ•–ä¸™çš„æ–‡ç« ç›´æ¥ä¸æ€•ï¼‰ é‚£æœ€ååªèƒ½æ€ä¸ªå¼€å‘ç¥­å¤©è§£æ°”äº†ï¼Œç§’æ€çš„ä»·æ ¼æœ¬æ¥å°±ä½äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸æ€ä¹ˆèµšé’±çš„ï¼Œè¶…å–äº†å°±ææ€–äº†å‘€ï¼Œæ‰€ä»¥è¶…å–ä¹Ÿæ˜¯å¾ˆå…³é”®çš„ä¸€ä¸ªç‚¹ã€‚ æ¶æ„è¯·æ±‚ï¼šä½ è¿™ä¹ˆä½çš„ä»·æ ¼ï¼Œå‡å¦‚æˆ‘æŠ¢åˆ°äº†ï¼Œæˆ‘è½¬æ‰‹å–æ‰æˆ‘ä¸æ˜¯è¡€èµšï¼Ÿå°±ç®—æˆ‘ä¸å–æˆ‘ä¹Ÿä¸äºå•Šï¼Œé‚£ç”¨æˆ·çŸ¥é“ï¼Œä½ çŸ¥é“ï¼Œåˆ«çš„åˆ«æœ‰ç”¨å¿ƒçš„äººï¼ˆé»‘å®¢ã€é»„ç‰›â€¦ï¼‰è‚¯å®šä¹ŸçŸ¥é“çš„ã€‚ é‚£ç®€å•å•Šï¼Œæˆ‘çŸ¥é“ä½ ä»€ä¹ˆæ—¶å€™æŠ¢ï¼Œæˆ‘æä¸ªå‡ åå°æœºå™¨æç‚¹è„šæœ¬ï¼Œæˆ‘ä¹Ÿæ¨¡æ‹Ÿå‡ºæ¥åå‡ ä¸‡ä¸ªäººå·¦å³çš„è¯·æ±‚ï¼Œé‚£æˆ‘æ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘åŸºæœ¬ä¸Šæœ‰80%çš„æˆåŠŸç‡äº†ã€‚ çœŸå®æƒ…å†µå¯èƒ½è¿œè¿œä¸æ­¢ï¼Œå› ä¸ºæœºå™¨è¯·æ±‚çš„é€Ÿåº¦æ¯”äººçš„æ‰‹é€Ÿå¾€å¾€å¿«å¤ªå¤šäº†ï¼Œåœ¨è´µå·çš„æ•–ä¸™æˆ‘æ¯å¹´å›å®¶æŠ¢é«˜é“ç¥¨éƒ½æ˜¯ç§’å…‰çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰é»„ç‰›çš„åŠŸåŠ³ï¼Œæˆ‘è¦Dissä½ ï¼Œé»„ç‰›ã€‚æ°ä¼¦æ¼”å”±ä¼šé—¨ç¥¨æŠ¢ä¸åˆ°ï¼Œæˆ‘ä¹ŸDissä½ ã€‚ Tipï¼šç§‘æ™®ä¸‹ï¼Œå°é“æ¶ˆæ¯äº†è§£åˆ°çš„ï¼Œé»„ç‰›çš„æŠ¢ç¥¨ç³»ç»Ÿï¼Œæ¯”å›½å†…å¾ˆå¤šå°å…¬å¸çš„ç³»ç»Ÿè¿˜åŠå¾ˆå¤šï¼Œæ¶æ„è®¾è®¡éƒ½æ˜¯é¡¶çº§çš„ï¼Œæˆ‘ç”¨é¡¶é…çš„æœåŠ¡åŠ ä¸Šé¡¶é…çš„æ¶æ„è®¾è®¡ï¼Œä½ è¿˜æƒ³çœ‹æ¼”å”±ä¼šï¼Ÿè¿˜æƒ³å›å®¶ï¼Ÿ ä¸è¿‡ä¸ç”¨é»„ç‰›æˆ‘å›å®¶éƒ½éš¾ï¼Œæˆ‘ä»¬äº‘è´µå·è·Ÿæˆ‘ä¸€æ ·è¦å›å®¶è¿‡å¹´çš„ä»”å¤ªå¤šäº†555ï¼ é“¾æ¥æš´éœ²ï¼šå‰é¢å‡ ä¸ªé—®é¢˜å¤§å®¶å¯èƒ½éƒ½å¾ˆå¥½ç†è§£ï¼Œä¸€çœ‹åˆ°è¿™ä¸ªæœ‰çš„å°ä¼™ä¼´å¯èƒ½ä¼šæ¯”è¾ƒç–‘æƒ‘ï¼Œå•¥æ˜¯é“¾æ¥æš´éœ²å‘€ï¼Ÿ ç›¸ä¿¡æ˜¯ä¸ªå¼€å‘åŒå­¦éƒ½å¯¹è¿™ä¸ªç”»é¢ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿå§ï¼Œæ‡‚ç‚¹è¡Œçš„ä»”éƒ½å¯ä»¥æ‰“å¼€è°·æ­Œçš„å¼€å‘è€…æ¨¡å¼ï¼Œç„¶åçœ‹çœ‹ä½ çš„ç½‘é¡µä»£ç ï¼Œæœ‰çš„å°±æœ‰URLï¼Œä½†æ˜¯æˆ‘å†™VUEçš„æ—¶å€™æ˜¯äº‹ä»¶è§¦å‘ç„¶åå»è°ƒç”¨æ–‡ä»¶é‡Œé¢çš„æ¥å£çœ‹æºç çœ‹ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ç‚¹å‡»ä¸€ä¸‹æŸ¥çœ‹ä½ çš„è¯·æ±‚åœ°å€å•Šï¼Œä¸è¿‡ä½ å¥½åƒå¯ä»¥å¯¹æŒ‰é’®åœ¨ç§’æ€å‰ç½®ç°ã€‚ ä¸ç®¡æ€ä¹ˆæ ·å­éƒ½æœ‰å±é™©ï¼Œæ’‡å¼€å¤–é¢çš„æ‰€æœ‰çš„ä¸œè¥¿ä½ éƒ½æŒ¡ä½äº†ï¼Œä½ å–è¿™ä¸ªä¸œè¥¿å®åœ¨ä¾¿å®œå¾—è¿‡åˆ†ï¼Œæœ‰è¯±æƒ‘åŠ›ï¼Œä½ èƒ½ä¿è¯å¼€å‘ä¸åŠ¨å¿ƒï¼Ÿå¼€å‘çŸ¥é“åœ°å€ï¼Œåœ¨ç§’æ€çš„æ—¶å€™è‡ªå·±æå‰è¯·æ±‚ã€‚ã€‚ã€‚ï¼ˆå¼€å‘ï¼šæ€ä¹ˆTMåˆæ˜¯æˆ‘ï¼‰ æ•°æ®åº“ï¼šæ¯ç§’ä¸Šä¸‡ç”šè‡³åå‡ ä¸‡çš„QPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰ç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦æŠŠåº“æ‰“æŒ‚æ‰ï¼Œè€Œä¸”ä½ æœåŠ¡ä¸å•å•æ˜¯åšç§’æ€çš„è¿˜æ¶‰åŠå…¶ä»–çš„ä¸šåŠ¡ï¼Œä½ æ²¡åšé™çº§ã€é™æµã€ç†”æ–­å•¥çš„ï¼Œåˆ«çš„ä¸€èµ·æŒ‚ï¼Œå°å…¬å¸çš„è¯å¯èƒ½å…¨ç«™å´©æºƒ404ã€‚ åæ­£ä¸ç®¡ä½ ç§’æ€æ€ä¹ˆæŒ‚ï¼Œä½ åˆ«æŠŠåˆ«çš„ææŒ‚äº†å¯¹å§ï¼ŒææŒ‚äº†å°±ä¸æ˜¯æ€ä¸€ä¸ªç¨‹åºå‘˜èƒ½æå®šçš„ã€‚ ç¨‹åºå‘˜ï¼šæˆ‘TMå¥½éš¾å•Šï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:2","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#è¶…å–"},{"categories":null,"content":"é—®é¢˜é«˜å¹¶å‘ï¼šæ˜¯çš„é«˜å¹¶å‘è¿™ä¸ªæ˜¯æˆ‘ä»¬æƒ³éƒ½ä¸ç”¨æƒ³çš„ä¸€ä¸ªç‚¹ï¼Œä¸€ç¬é—´è¿™ä¹ˆå¤šäººè¿›æ¥è¿™ä¸æ˜¯é«˜å¹¶å‘ä»€ä¹ˆæ—¶å€™æ˜¯å‘¢ï¼Ÿ æ˜¯å§ï¼Œç§’æ€çš„ç‰¹ç‚¹å°±æ˜¯è¿™æ ·æ—¶é—´æçŸ­ã€ ç¬é—´ç”¨æˆ·é‡å¤§ã€‚ æ­£å¸¸çš„åº—é“ºè¥é”€éƒ½æ˜¯ç”¨æä½çš„ä»·æ ¼é…åˆä¸ŠçŸ­ä¿¡ã€APPçš„ç²¾å‡†æ¨é€ï¼Œå¸å¼•ç‰¹åˆ«å¤šçš„ç”¨æˆ·æ¥å‚ä¸è¿™åœºç§’æ€ï¼Œçˆ½äº†å•†å®¶è‹¦äº†å¼€å‘å‘€ã€‚ ç§’æ€å¤§å®¶éƒ½çŸ¥é“å¦‚æœçœŸçš„è¥é”€åˆ°ä½ï¼Œä»·æ ¼è¯±äººï¼Œå‡ åä¸‡çš„æµé‡æˆ‘è§‰å¾—å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œé‚£å•æœºçš„Redisæˆ‘æ„Ÿè§‰3-4Wçš„QPSè¿˜æ˜¯èƒ½é¡¶å¾—ä½çš„ï¼Œä½†æ˜¯å†é«˜äº†å°±æ²¡åŠæ³•äº†ï¼Œé‚£è¿™ä¸ªæ•°æ®éšä¾¿æä¸ªçƒ­é”€å•†å“çš„ç§’æ€å¯èƒ½éƒ½ä¸æ­¢äº†ã€‚ å¤§é‡çš„è¯·æ±‚è¿›æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„ç‚¹å°±å¾ˆå¤šäº†ï¼Œç¼“å­˜é›ªå´©ï¼Œç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜ç©¿é€è¿™äº›æˆ‘ä¹‹å‰æåˆ°çš„ç‚¹éƒ½æ˜¯æœ‰å¯èƒ½å‘ç”Ÿçš„ï¼Œå‡ºç°é—®é¢˜æ‰“æŒ‚DBé‚£å°±å¾ˆéš¾å—äº†ï¼Œæ´»åŠ¨å¤±è´¥ç”¨æˆ·ä½“éªŒå·®ï¼Œæ´»åŠ¨äººæ°”æ²¡äº†ï¼Œæœ€åèƒŒé”…çš„è¿˜æ˜¯å¼€å‘ã€‚ è¶…å–ï¼šä½†å‡¡æ˜¯ä¸ªç§’æ€ï¼Œéƒ½æ€•è¶…å–ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹çš„åªæ˜¯å°¿ä¸æ¹¿ï¼Œè¦æ˜¯æ¢æˆ100ä¸ªåä¸ºMatePro30ï¼Œå•†å®¶çš„é¢„ç®—ç»è´¹å–100ä¸ªå¯ä»¥èµšç‚¹è¿˜å¯ä»¥é€ åŠ¿ï¼Œç»“æœä½ å†™é”™ç¨‹åºå¤šå–å‡ºå»200ä¸ªï¼Œä½ ä¸å‘è´§ç”¨æˆ·æŠ•è¯‰ä½ ï¼Œå¹³å°å°ä½ åº—ï¼Œä½ å‘è´§å°±è¡€äºï¼Œä½ æ€ä¹ˆåŠï¼Ÿ ï¼ˆæ²¡äº‹çœ‹äº†æ•–ä¸™çš„æ–‡ç« ç›´æ¥ä¸æ€•ï¼‰ é‚£æœ€ååªèƒ½æ€ä¸ªå¼€å‘ç¥­å¤©è§£æ°”äº†ï¼Œç§’æ€çš„ä»·æ ¼æœ¬æ¥å°±ä½äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸æ€ä¹ˆèµšé’±çš„ï¼Œè¶…å–äº†å°±ææ€–äº†å‘€ï¼Œæ‰€ä»¥è¶…å–ä¹Ÿæ˜¯å¾ˆå…³é”®çš„ä¸€ä¸ªç‚¹ã€‚ æ¶æ„è¯·æ±‚ï¼šä½ è¿™ä¹ˆä½çš„ä»·æ ¼ï¼Œå‡å¦‚æˆ‘æŠ¢åˆ°äº†ï¼Œæˆ‘è½¬æ‰‹å–æ‰æˆ‘ä¸æ˜¯è¡€èµšï¼Ÿå°±ç®—æˆ‘ä¸å–æˆ‘ä¹Ÿä¸äºå•Šï¼Œé‚£ç”¨æˆ·çŸ¥é“ï¼Œä½ çŸ¥é“ï¼Œåˆ«çš„åˆ«æœ‰ç”¨å¿ƒçš„äººï¼ˆé»‘å®¢ã€é»„ç‰›â€¦ï¼‰è‚¯å®šä¹ŸçŸ¥é“çš„ã€‚ é‚£ç®€å•å•Šï¼Œæˆ‘çŸ¥é“ä½ ä»€ä¹ˆæ—¶å€™æŠ¢ï¼Œæˆ‘æä¸ªå‡ åå°æœºå™¨æç‚¹è„šæœ¬ï¼Œæˆ‘ä¹Ÿæ¨¡æ‹Ÿå‡ºæ¥åå‡ ä¸‡ä¸ªäººå·¦å³çš„è¯·æ±‚ï¼Œé‚£æˆ‘æ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘åŸºæœ¬ä¸Šæœ‰80%çš„æˆåŠŸç‡äº†ã€‚ çœŸå®æƒ…å†µå¯èƒ½è¿œè¿œä¸æ­¢ï¼Œå› ä¸ºæœºå™¨è¯·æ±‚çš„é€Ÿåº¦æ¯”äººçš„æ‰‹é€Ÿå¾€å¾€å¿«å¤ªå¤šäº†ï¼Œåœ¨è´µå·çš„æ•–ä¸™æˆ‘æ¯å¹´å›å®¶æŠ¢é«˜é“ç¥¨éƒ½æ˜¯ç§’å…‰çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰é»„ç‰›çš„åŠŸåŠ³ï¼Œæˆ‘è¦Dissä½ ï¼Œé»„ç‰›ã€‚æ°ä¼¦æ¼”å”±ä¼šé—¨ç¥¨æŠ¢ä¸åˆ°ï¼Œæˆ‘ä¹ŸDissä½ ã€‚ Tipï¼šç§‘æ™®ä¸‹ï¼Œå°é“æ¶ˆæ¯äº†è§£åˆ°çš„ï¼Œé»„ç‰›çš„æŠ¢ç¥¨ç³»ç»Ÿï¼Œæ¯”å›½å†…å¾ˆå¤šå°å…¬å¸çš„ç³»ç»Ÿè¿˜åŠå¾ˆå¤šï¼Œæ¶æ„è®¾è®¡éƒ½æ˜¯é¡¶çº§çš„ï¼Œæˆ‘ç”¨é¡¶é…çš„æœåŠ¡åŠ ä¸Šé¡¶é…çš„æ¶æ„è®¾è®¡ï¼Œä½ è¿˜æƒ³çœ‹æ¼”å”±ä¼šï¼Ÿè¿˜æƒ³å›å®¶ï¼Ÿ ä¸è¿‡ä¸ç”¨é»„ç‰›æˆ‘å›å®¶éƒ½éš¾ï¼Œæˆ‘ä»¬äº‘è´µå·è·Ÿæˆ‘ä¸€æ ·è¦å›å®¶è¿‡å¹´çš„ä»”å¤ªå¤šäº†555ï¼ é“¾æ¥æš´éœ²ï¼šå‰é¢å‡ ä¸ªé—®é¢˜å¤§å®¶å¯èƒ½éƒ½å¾ˆå¥½ç†è§£ï¼Œä¸€çœ‹åˆ°è¿™ä¸ªæœ‰çš„å°ä¼™ä¼´å¯èƒ½ä¼šæ¯”è¾ƒç–‘æƒ‘ï¼Œå•¥æ˜¯é“¾æ¥æš´éœ²å‘€ï¼Ÿ ç›¸ä¿¡æ˜¯ä¸ªå¼€å‘åŒå­¦éƒ½å¯¹è¿™ä¸ªç”»é¢ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿå§ï¼Œæ‡‚ç‚¹è¡Œçš„ä»”éƒ½å¯ä»¥æ‰“å¼€è°·æ­Œçš„å¼€å‘è€…æ¨¡å¼ï¼Œç„¶åçœ‹çœ‹ä½ çš„ç½‘é¡µä»£ç ï¼Œæœ‰çš„å°±æœ‰URLï¼Œä½†æ˜¯æˆ‘å†™VUEçš„æ—¶å€™æ˜¯äº‹ä»¶è§¦å‘ç„¶åå»è°ƒç”¨æ–‡ä»¶é‡Œé¢çš„æ¥å£çœ‹æºç çœ‹ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ç‚¹å‡»ä¸€ä¸‹æŸ¥çœ‹ä½ çš„è¯·æ±‚åœ°å€å•Šï¼Œä¸è¿‡ä½ å¥½åƒå¯ä»¥å¯¹æŒ‰é’®åœ¨ç§’æ€å‰ç½®ç°ã€‚ ä¸ç®¡æ€ä¹ˆæ ·å­éƒ½æœ‰å±é™©ï¼Œæ’‡å¼€å¤–é¢çš„æ‰€æœ‰çš„ä¸œè¥¿ä½ éƒ½æŒ¡ä½äº†ï¼Œä½ å–è¿™ä¸ªä¸œè¥¿å®åœ¨ä¾¿å®œå¾—è¿‡åˆ†ï¼Œæœ‰è¯±æƒ‘åŠ›ï¼Œä½ èƒ½ä¿è¯å¼€å‘ä¸åŠ¨å¿ƒï¼Ÿå¼€å‘çŸ¥é“åœ°å€ï¼Œåœ¨ç§’æ€çš„æ—¶å€™è‡ªå·±æå‰è¯·æ±‚ã€‚ã€‚ã€‚ï¼ˆå¼€å‘ï¼šæ€ä¹ˆTMåˆæ˜¯æˆ‘ï¼‰ æ•°æ®åº“ï¼šæ¯ç§’ä¸Šä¸‡ç”šè‡³åå‡ ä¸‡çš„QPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰ç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦æŠŠåº“æ‰“æŒ‚æ‰ï¼Œè€Œä¸”ä½ æœåŠ¡ä¸å•å•æ˜¯åšç§’æ€çš„è¿˜æ¶‰åŠå…¶ä»–çš„ä¸šåŠ¡ï¼Œä½ æ²¡åšé™çº§ã€é™æµã€ç†”æ–­å•¥çš„ï¼Œåˆ«çš„ä¸€èµ·æŒ‚ï¼Œå°å…¬å¸çš„è¯å¯èƒ½å…¨ç«™å´©æºƒ404ã€‚ åæ­£ä¸ç®¡ä½ ç§’æ€æ€ä¹ˆæŒ‚ï¼Œä½ åˆ«æŠŠåˆ«çš„ææŒ‚äº†å¯¹å§ï¼ŒææŒ‚äº†å°±ä¸æ˜¯æ€ä¸€ä¸ªç¨‹åºå‘˜èƒ½æå®šçš„ã€‚ ç¨‹åºå‘˜ï¼šæˆ‘TMå¥½éš¾å•Šï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:2","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æ¶æ„è¯·æ±‚"},{"categories":null,"content":"é—®é¢˜é«˜å¹¶å‘ï¼šæ˜¯çš„é«˜å¹¶å‘è¿™ä¸ªæ˜¯æˆ‘ä»¬æƒ³éƒ½ä¸ç”¨æƒ³çš„ä¸€ä¸ªç‚¹ï¼Œä¸€ç¬é—´è¿™ä¹ˆå¤šäººè¿›æ¥è¿™ä¸æ˜¯é«˜å¹¶å‘ä»€ä¹ˆæ—¶å€™æ˜¯å‘¢ï¼Ÿ æ˜¯å§ï¼Œç§’æ€çš„ç‰¹ç‚¹å°±æ˜¯è¿™æ ·æ—¶é—´æçŸ­ã€ ç¬é—´ç”¨æˆ·é‡å¤§ã€‚ æ­£å¸¸çš„åº—é“ºè¥é”€éƒ½æ˜¯ç”¨æä½çš„ä»·æ ¼é…åˆä¸ŠçŸ­ä¿¡ã€APPçš„ç²¾å‡†æ¨é€ï¼Œå¸å¼•ç‰¹åˆ«å¤šçš„ç”¨æˆ·æ¥å‚ä¸è¿™åœºç§’æ€ï¼Œçˆ½äº†å•†å®¶è‹¦äº†å¼€å‘å‘€ã€‚ ç§’æ€å¤§å®¶éƒ½çŸ¥é“å¦‚æœçœŸçš„è¥é”€åˆ°ä½ï¼Œä»·æ ¼è¯±äººï¼Œå‡ åä¸‡çš„æµé‡æˆ‘è§‰å¾—å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œé‚£å•æœºçš„Redisæˆ‘æ„Ÿè§‰3-4Wçš„QPSè¿˜æ˜¯èƒ½é¡¶å¾—ä½çš„ï¼Œä½†æ˜¯å†é«˜äº†å°±æ²¡åŠæ³•äº†ï¼Œé‚£è¿™ä¸ªæ•°æ®éšä¾¿æä¸ªçƒ­é”€å•†å“çš„ç§’æ€å¯èƒ½éƒ½ä¸æ­¢äº†ã€‚ å¤§é‡çš„è¯·æ±‚è¿›æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„ç‚¹å°±å¾ˆå¤šäº†ï¼Œç¼“å­˜é›ªå´©ï¼Œç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜ç©¿é€è¿™äº›æˆ‘ä¹‹å‰æåˆ°çš„ç‚¹éƒ½æ˜¯æœ‰å¯èƒ½å‘ç”Ÿçš„ï¼Œå‡ºç°é—®é¢˜æ‰“æŒ‚DBé‚£å°±å¾ˆéš¾å—äº†ï¼Œæ´»åŠ¨å¤±è´¥ç”¨æˆ·ä½“éªŒå·®ï¼Œæ´»åŠ¨äººæ°”æ²¡äº†ï¼Œæœ€åèƒŒé”…çš„è¿˜æ˜¯å¼€å‘ã€‚ è¶…å–ï¼šä½†å‡¡æ˜¯ä¸ªç§’æ€ï¼Œéƒ½æ€•è¶…å–ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹çš„åªæ˜¯å°¿ä¸æ¹¿ï¼Œè¦æ˜¯æ¢æˆ100ä¸ªåä¸ºMatePro30ï¼Œå•†å®¶çš„é¢„ç®—ç»è´¹å–100ä¸ªå¯ä»¥èµšç‚¹è¿˜å¯ä»¥é€ åŠ¿ï¼Œç»“æœä½ å†™é”™ç¨‹åºå¤šå–å‡ºå»200ä¸ªï¼Œä½ ä¸å‘è´§ç”¨æˆ·æŠ•è¯‰ä½ ï¼Œå¹³å°å°ä½ åº—ï¼Œä½ å‘è´§å°±è¡€äºï¼Œä½ æ€ä¹ˆåŠï¼Ÿ ï¼ˆæ²¡äº‹çœ‹äº†æ•–ä¸™çš„æ–‡ç« ç›´æ¥ä¸æ€•ï¼‰ é‚£æœ€ååªèƒ½æ€ä¸ªå¼€å‘ç¥­å¤©è§£æ°”äº†ï¼Œç§’æ€çš„ä»·æ ¼æœ¬æ¥å°±ä½äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸æ€ä¹ˆèµšé’±çš„ï¼Œè¶…å–äº†å°±ææ€–äº†å‘€ï¼Œæ‰€ä»¥è¶…å–ä¹Ÿæ˜¯å¾ˆå…³é”®çš„ä¸€ä¸ªç‚¹ã€‚ æ¶æ„è¯·æ±‚ï¼šä½ è¿™ä¹ˆä½çš„ä»·æ ¼ï¼Œå‡å¦‚æˆ‘æŠ¢åˆ°äº†ï¼Œæˆ‘è½¬æ‰‹å–æ‰æˆ‘ä¸æ˜¯è¡€èµšï¼Ÿå°±ç®—æˆ‘ä¸å–æˆ‘ä¹Ÿä¸äºå•Šï¼Œé‚£ç”¨æˆ·çŸ¥é“ï¼Œä½ çŸ¥é“ï¼Œåˆ«çš„åˆ«æœ‰ç”¨å¿ƒçš„äººï¼ˆé»‘å®¢ã€é»„ç‰›â€¦ï¼‰è‚¯å®šä¹ŸçŸ¥é“çš„ã€‚ é‚£ç®€å•å•Šï¼Œæˆ‘çŸ¥é“ä½ ä»€ä¹ˆæ—¶å€™æŠ¢ï¼Œæˆ‘æä¸ªå‡ åå°æœºå™¨æç‚¹è„šæœ¬ï¼Œæˆ‘ä¹Ÿæ¨¡æ‹Ÿå‡ºæ¥åå‡ ä¸‡ä¸ªäººå·¦å³çš„è¯·æ±‚ï¼Œé‚£æˆ‘æ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘åŸºæœ¬ä¸Šæœ‰80%çš„æˆåŠŸç‡äº†ã€‚ çœŸå®æƒ…å†µå¯èƒ½è¿œè¿œä¸æ­¢ï¼Œå› ä¸ºæœºå™¨è¯·æ±‚çš„é€Ÿåº¦æ¯”äººçš„æ‰‹é€Ÿå¾€å¾€å¿«å¤ªå¤šäº†ï¼Œåœ¨è´µå·çš„æ•–ä¸™æˆ‘æ¯å¹´å›å®¶æŠ¢é«˜é“ç¥¨éƒ½æ˜¯ç§’å…‰çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰é»„ç‰›çš„åŠŸåŠ³ï¼Œæˆ‘è¦Dissä½ ï¼Œé»„ç‰›ã€‚æ°ä¼¦æ¼”å”±ä¼šé—¨ç¥¨æŠ¢ä¸åˆ°ï¼Œæˆ‘ä¹ŸDissä½ ã€‚ Tipï¼šç§‘æ™®ä¸‹ï¼Œå°é“æ¶ˆæ¯äº†è§£åˆ°çš„ï¼Œé»„ç‰›çš„æŠ¢ç¥¨ç³»ç»Ÿï¼Œæ¯”å›½å†…å¾ˆå¤šå°å…¬å¸çš„ç³»ç»Ÿè¿˜åŠå¾ˆå¤šï¼Œæ¶æ„è®¾è®¡éƒ½æ˜¯é¡¶çº§çš„ï¼Œæˆ‘ç”¨é¡¶é…çš„æœåŠ¡åŠ ä¸Šé¡¶é…çš„æ¶æ„è®¾è®¡ï¼Œä½ è¿˜æƒ³çœ‹æ¼”å”±ä¼šï¼Ÿè¿˜æƒ³å›å®¶ï¼Ÿ ä¸è¿‡ä¸ç”¨é»„ç‰›æˆ‘å›å®¶éƒ½éš¾ï¼Œæˆ‘ä»¬äº‘è´µå·è·Ÿæˆ‘ä¸€æ ·è¦å›å®¶è¿‡å¹´çš„ä»”å¤ªå¤šäº†555ï¼ é“¾æ¥æš´éœ²ï¼šå‰é¢å‡ ä¸ªé—®é¢˜å¤§å®¶å¯èƒ½éƒ½å¾ˆå¥½ç†è§£ï¼Œä¸€çœ‹åˆ°è¿™ä¸ªæœ‰çš„å°ä¼™ä¼´å¯èƒ½ä¼šæ¯”è¾ƒç–‘æƒ‘ï¼Œå•¥æ˜¯é“¾æ¥æš´éœ²å‘€ï¼Ÿ ç›¸ä¿¡æ˜¯ä¸ªå¼€å‘åŒå­¦éƒ½å¯¹è¿™ä¸ªç”»é¢ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿå§ï¼Œæ‡‚ç‚¹è¡Œçš„ä»”éƒ½å¯ä»¥æ‰“å¼€è°·æ­Œçš„å¼€å‘è€…æ¨¡å¼ï¼Œç„¶åçœ‹çœ‹ä½ çš„ç½‘é¡µä»£ç ï¼Œæœ‰çš„å°±æœ‰URLï¼Œä½†æ˜¯æˆ‘å†™VUEçš„æ—¶å€™æ˜¯äº‹ä»¶è§¦å‘ç„¶åå»è°ƒç”¨æ–‡ä»¶é‡Œé¢çš„æ¥å£çœ‹æºç çœ‹ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ç‚¹å‡»ä¸€ä¸‹æŸ¥çœ‹ä½ çš„è¯·æ±‚åœ°å€å•Šï¼Œä¸è¿‡ä½ å¥½åƒå¯ä»¥å¯¹æŒ‰é’®åœ¨ç§’æ€å‰ç½®ç°ã€‚ ä¸ç®¡æ€ä¹ˆæ ·å­éƒ½æœ‰å±é™©ï¼Œæ’‡å¼€å¤–é¢çš„æ‰€æœ‰çš„ä¸œè¥¿ä½ éƒ½æŒ¡ä½äº†ï¼Œä½ å–è¿™ä¸ªä¸œè¥¿å®åœ¨ä¾¿å®œå¾—è¿‡åˆ†ï¼Œæœ‰è¯±æƒ‘åŠ›ï¼Œä½ èƒ½ä¿è¯å¼€å‘ä¸åŠ¨å¿ƒï¼Ÿå¼€å‘çŸ¥é“åœ°å€ï¼Œåœ¨ç§’æ€çš„æ—¶å€™è‡ªå·±æå‰è¯·æ±‚ã€‚ã€‚ã€‚ï¼ˆå¼€å‘ï¼šæ€ä¹ˆTMåˆæ˜¯æˆ‘ï¼‰ æ•°æ®åº“ï¼šæ¯ç§’ä¸Šä¸‡ç”šè‡³åå‡ ä¸‡çš„QPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰ç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦æŠŠåº“æ‰“æŒ‚æ‰ï¼Œè€Œä¸”ä½ æœåŠ¡ä¸å•å•æ˜¯åšç§’æ€çš„è¿˜æ¶‰åŠå…¶ä»–çš„ä¸šåŠ¡ï¼Œä½ æ²¡åšé™çº§ã€é™æµã€ç†”æ–­å•¥çš„ï¼Œåˆ«çš„ä¸€èµ·æŒ‚ï¼Œå°å…¬å¸çš„è¯å¯èƒ½å…¨ç«™å´©æºƒ404ã€‚ åæ­£ä¸ç®¡ä½ ç§’æ€æ€ä¹ˆæŒ‚ï¼Œä½ åˆ«æŠŠåˆ«çš„ææŒ‚äº†å¯¹å§ï¼ŒææŒ‚äº†å°±ä¸æ˜¯æ€ä¸€ä¸ªç¨‹åºå‘˜èƒ½æå®šçš„ã€‚ ç¨‹åºå‘˜ï¼šæˆ‘TMå¥½éš¾å•Šï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:2","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#é“¾æ¥æš´éœ²"},{"categories":null,"content":"é—®é¢˜é«˜å¹¶å‘ï¼šæ˜¯çš„é«˜å¹¶å‘è¿™ä¸ªæ˜¯æˆ‘ä»¬æƒ³éƒ½ä¸ç”¨æƒ³çš„ä¸€ä¸ªç‚¹ï¼Œä¸€ç¬é—´è¿™ä¹ˆå¤šäººè¿›æ¥è¿™ä¸æ˜¯é«˜å¹¶å‘ä»€ä¹ˆæ—¶å€™æ˜¯å‘¢ï¼Ÿ æ˜¯å§ï¼Œç§’æ€çš„ç‰¹ç‚¹å°±æ˜¯è¿™æ ·æ—¶é—´æçŸ­ã€ ç¬é—´ç”¨æˆ·é‡å¤§ã€‚ æ­£å¸¸çš„åº—é“ºè¥é”€éƒ½æ˜¯ç”¨æä½çš„ä»·æ ¼é…åˆä¸ŠçŸ­ä¿¡ã€APPçš„ç²¾å‡†æ¨é€ï¼Œå¸å¼•ç‰¹åˆ«å¤šçš„ç”¨æˆ·æ¥å‚ä¸è¿™åœºç§’æ€ï¼Œçˆ½äº†å•†å®¶è‹¦äº†å¼€å‘å‘€ã€‚ ç§’æ€å¤§å®¶éƒ½çŸ¥é“å¦‚æœçœŸçš„è¥é”€åˆ°ä½ï¼Œä»·æ ¼è¯±äººï¼Œå‡ åä¸‡çš„æµé‡æˆ‘è§‰å¾—å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œé‚£å•æœºçš„Redisæˆ‘æ„Ÿè§‰3-4Wçš„QPSè¿˜æ˜¯èƒ½é¡¶å¾—ä½çš„ï¼Œä½†æ˜¯å†é«˜äº†å°±æ²¡åŠæ³•äº†ï¼Œé‚£è¿™ä¸ªæ•°æ®éšä¾¿æä¸ªçƒ­é”€å•†å“çš„ç§’æ€å¯èƒ½éƒ½ä¸æ­¢äº†ã€‚ å¤§é‡çš„è¯·æ±‚è¿›æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„ç‚¹å°±å¾ˆå¤šäº†ï¼Œç¼“å­˜é›ªå´©ï¼Œç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜ç©¿é€è¿™äº›æˆ‘ä¹‹å‰æåˆ°çš„ç‚¹éƒ½æ˜¯æœ‰å¯èƒ½å‘ç”Ÿçš„ï¼Œå‡ºç°é—®é¢˜æ‰“æŒ‚DBé‚£å°±å¾ˆéš¾å—äº†ï¼Œæ´»åŠ¨å¤±è´¥ç”¨æˆ·ä½“éªŒå·®ï¼Œæ´»åŠ¨äººæ°”æ²¡äº†ï¼Œæœ€åèƒŒé”…çš„è¿˜æ˜¯å¼€å‘ã€‚ è¶…å–ï¼šä½†å‡¡æ˜¯ä¸ªç§’æ€ï¼Œéƒ½æ€•è¶…å–ï¼Œæˆ‘è¿™é‡Œä¸¾ä¾‹çš„åªæ˜¯å°¿ä¸æ¹¿ï¼Œè¦æ˜¯æ¢æˆ100ä¸ªåä¸ºMatePro30ï¼Œå•†å®¶çš„é¢„ç®—ç»è´¹å–100ä¸ªå¯ä»¥èµšç‚¹è¿˜å¯ä»¥é€ åŠ¿ï¼Œç»“æœä½ å†™é”™ç¨‹åºå¤šå–å‡ºå»200ä¸ªï¼Œä½ ä¸å‘è´§ç”¨æˆ·æŠ•è¯‰ä½ ï¼Œå¹³å°å°ä½ åº—ï¼Œä½ å‘è´§å°±è¡€äºï¼Œä½ æ€ä¹ˆåŠï¼Ÿ ï¼ˆæ²¡äº‹çœ‹äº†æ•–ä¸™çš„æ–‡ç« ç›´æ¥ä¸æ€•ï¼‰ é‚£æœ€ååªèƒ½æ€ä¸ªå¼€å‘ç¥­å¤©è§£æ°”äº†ï¼Œç§’æ€çš„ä»·æ ¼æœ¬æ¥å°±ä½äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä¸æ€ä¹ˆèµšé’±çš„ï¼Œè¶…å–äº†å°±ææ€–äº†å‘€ï¼Œæ‰€ä»¥è¶…å–ä¹Ÿæ˜¯å¾ˆå…³é”®çš„ä¸€ä¸ªç‚¹ã€‚ æ¶æ„è¯·æ±‚ï¼šä½ è¿™ä¹ˆä½çš„ä»·æ ¼ï¼Œå‡å¦‚æˆ‘æŠ¢åˆ°äº†ï¼Œæˆ‘è½¬æ‰‹å–æ‰æˆ‘ä¸æ˜¯è¡€èµšï¼Ÿå°±ç®—æˆ‘ä¸å–æˆ‘ä¹Ÿä¸äºå•Šï¼Œé‚£ç”¨æˆ·çŸ¥é“ï¼Œä½ çŸ¥é“ï¼Œåˆ«çš„åˆ«æœ‰ç”¨å¿ƒçš„äººï¼ˆé»‘å®¢ã€é»„ç‰›â€¦ï¼‰è‚¯å®šä¹ŸçŸ¥é“çš„ã€‚ é‚£ç®€å•å•Šï¼Œæˆ‘çŸ¥é“ä½ ä»€ä¹ˆæ—¶å€™æŠ¢ï¼Œæˆ‘æä¸ªå‡ åå°æœºå™¨æç‚¹è„šæœ¬ï¼Œæˆ‘ä¹Ÿæ¨¡æ‹Ÿå‡ºæ¥åå‡ ä¸‡ä¸ªäººå·¦å³çš„è¯·æ±‚ï¼Œé‚£æˆ‘æ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘åŸºæœ¬ä¸Šæœ‰80%çš„æˆåŠŸç‡äº†ã€‚ çœŸå®æƒ…å†µå¯èƒ½è¿œè¿œä¸æ­¢ï¼Œå› ä¸ºæœºå™¨è¯·æ±‚çš„é€Ÿåº¦æ¯”äººçš„æ‰‹é€Ÿå¾€å¾€å¿«å¤ªå¤šäº†ï¼Œåœ¨è´µå·çš„æ•–ä¸™æˆ‘æ¯å¹´å›å®¶æŠ¢é«˜é“ç¥¨éƒ½æ˜¯ç§’å…‰çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰é»„ç‰›çš„åŠŸåŠ³ï¼Œæˆ‘è¦Dissä½ ï¼Œé»„ç‰›ã€‚æ°ä¼¦æ¼”å”±ä¼šé—¨ç¥¨æŠ¢ä¸åˆ°ï¼Œæˆ‘ä¹ŸDissä½ ã€‚ Tipï¼šç§‘æ™®ä¸‹ï¼Œå°é“æ¶ˆæ¯äº†è§£åˆ°çš„ï¼Œé»„ç‰›çš„æŠ¢ç¥¨ç³»ç»Ÿï¼Œæ¯”å›½å†…å¾ˆå¤šå°å…¬å¸çš„ç³»ç»Ÿè¿˜åŠå¾ˆå¤šï¼Œæ¶æ„è®¾è®¡éƒ½æ˜¯é¡¶çº§çš„ï¼Œæˆ‘ç”¨é¡¶é…çš„æœåŠ¡åŠ ä¸Šé¡¶é…çš„æ¶æ„è®¾è®¡ï¼Œä½ è¿˜æƒ³çœ‹æ¼”å”±ä¼šï¼Ÿè¿˜æƒ³å›å®¶ï¼Ÿ ä¸è¿‡ä¸ç”¨é»„ç‰›æˆ‘å›å®¶éƒ½éš¾ï¼Œæˆ‘ä»¬äº‘è´µå·è·Ÿæˆ‘ä¸€æ ·è¦å›å®¶è¿‡å¹´çš„ä»”å¤ªå¤šäº†555ï¼ é“¾æ¥æš´éœ²ï¼šå‰é¢å‡ ä¸ªé—®é¢˜å¤§å®¶å¯èƒ½éƒ½å¾ˆå¥½ç†è§£ï¼Œä¸€çœ‹åˆ°è¿™ä¸ªæœ‰çš„å°ä¼™ä¼´å¯èƒ½ä¼šæ¯”è¾ƒç–‘æƒ‘ï¼Œå•¥æ˜¯é“¾æ¥æš´éœ²å‘€ï¼Ÿ ç›¸ä¿¡æ˜¯ä¸ªå¼€å‘åŒå­¦éƒ½å¯¹è¿™ä¸ªç”»é¢ä¸€ç‚¹éƒ½ä¸é™Œç”Ÿå§ï¼Œæ‡‚ç‚¹è¡Œçš„ä»”éƒ½å¯ä»¥æ‰“å¼€è°·æ­Œçš„å¼€å‘è€…æ¨¡å¼ï¼Œç„¶åçœ‹çœ‹ä½ çš„ç½‘é¡µä»£ç ï¼Œæœ‰çš„å°±æœ‰URLï¼Œä½†æ˜¯æˆ‘å†™VUEçš„æ—¶å€™æ˜¯äº‹ä»¶è§¦å‘ç„¶åå»è°ƒç”¨æ–‡ä»¶é‡Œé¢çš„æ¥å£çœ‹æºç çœ‹ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ç‚¹å‡»ä¸€ä¸‹æŸ¥çœ‹ä½ çš„è¯·æ±‚åœ°å€å•Šï¼Œä¸è¿‡ä½ å¥½åƒå¯ä»¥å¯¹æŒ‰é’®åœ¨ç§’æ€å‰ç½®ç°ã€‚ ä¸ç®¡æ€ä¹ˆæ ·å­éƒ½æœ‰å±é™©ï¼Œæ’‡å¼€å¤–é¢çš„æ‰€æœ‰çš„ä¸œè¥¿ä½ éƒ½æŒ¡ä½äº†ï¼Œä½ å–è¿™ä¸ªä¸œè¥¿å®åœ¨ä¾¿å®œå¾—è¿‡åˆ†ï¼Œæœ‰è¯±æƒ‘åŠ›ï¼Œä½ èƒ½ä¿è¯å¼€å‘ä¸åŠ¨å¿ƒï¼Ÿå¼€å‘çŸ¥é“åœ°å€ï¼Œåœ¨ç§’æ€çš„æ—¶å€™è‡ªå·±æå‰è¯·æ±‚ã€‚ã€‚ã€‚ï¼ˆå¼€å‘ï¼šæ€ä¹ˆTMåˆæ˜¯æˆ‘ï¼‰ æ•°æ®åº“ï¼šæ¯ç§’ä¸Šä¸‡ç”šè‡³åå‡ ä¸‡çš„QPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰ç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦æŠŠåº“æ‰“æŒ‚æ‰ï¼Œè€Œä¸”ä½ æœåŠ¡ä¸å•å•æ˜¯åšç§’æ€çš„è¿˜æ¶‰åŠå…¶ä»–çš„ä¸šåŠ¡ï¼Œä½ æ²¡åšé™çº§ã€é™æµã€ç†”æ–­å•¥çš„ï¼Œåˆ«çš„ä¸€èµ·æŒ‚ï¼Œå°å…¬å¸çš„è¯å¯èƒ½å…¨ç«™å´©æºƒ404ã€‚ åæ­£ä¸ç®¡ä½ ç§’æ€æ€ä¹ˆæŒ‚ï¼Œä½ åˆ«æŠŠåˆ«çš„ææŒ‚äº†å¯¹å§ï¼ŒææŒ‚äº†å°±ä¸æ˜¯æ€ä¸€ä¸ªç¨‹åºå‘˜èƒ½æå®šçš„ã€‚ ç¨‹åºå‘˜ï¼šæˆ‘TMå¥½éš¾å•Šï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:2","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æ•°æ®åº“"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†é‚£æ€ä¹ˆè®¾è®¡æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†æˆ‘ä»¬å¯¹ç—‡ä¸‹è¯"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æœåŠ¡å•ä¸€èŒè´£"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#ç§’æ€é“¾æ¥åŠ ç›"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#redisé›†ç¾¤"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#nginx"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#èµ„æºé™æ€åŒ–"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æŒ‰é’®æ§åˆ¶"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#é™æµ"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#åº“å­˜é¢„çƒ­"},{"categories":null,"content":"é—®é¢˜éƒ½åˆ—å‡ºæ¥äº†ï¼Œé‚£æ€ä¹ˆè®¾è®¡ï¼Œæ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜å°±æ˜¯æ¥ä¸‹å»è¦è€ƒè™‘çš„äº†ï¼Œæˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ã€‚æœåŠ¡å•ä¸€èŒè´£ï¼šè®¾è®¡ä¸ªèƒ½æŠ—ä½é«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¾—å•ä¸€èŒè´£ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Œå¤§å®¶éƒ½çŸ¥é“ç°åœ¨è®¾è®¡éƒ½æ˜¯å¾®æœåŠ¡çš„è®¾è®¡æ€æƒ³ï¼Œç„¶åå†ç”¨åˆ†å¸ƒå¼çš„éƒ¨ç½²æ–¹å¼ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸‹å•æ˜¯æœ‰ä¸ªè®¢å•æœåŠ¡ï¼Œç”¨æˆ·ç™»å½•ç®¡ç†ç­‰æœ‰ä¸ªç”¨æˆ·æœåŠ¡ç­‰ç­‰ï¼Œé‚£ä¸ºå•¥æˆ‘ä»¬ä¸ç»™ç§’æ€ä¹Ÿå¼€ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬æŠŠç§’æ€çš„ä»£ç ä¸šåŠ¡é€»è¾‘æ”¾ä¸€èµ·ã€‚ å•ç‹¬ç»™ä»–å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼Œç°åœ¨çš„äº’è”ç½‘æ¶æ„éƒ¨ç½²éƒ½æ˜¯åˆ†åº“çš„ï¼Œä¸€æ ·çš„å°±æ˜¯è®¢å•æœåŠ¡å¯¹åº”è®¢å•åº“ï¼Œç§’æ€æˆ‘ä»¬ä¹Ÿç»™ä»–å»ºç«‹è‡ªå·±çš„ç§’æ€åº“ã€‚ è‡³äºè¡¨å°±çœ‹å¤§å®¶æ€ä¹ˆè®¾è®¡äº†ï¼Œè¯¥è®¾ç½®ç´¢å¼•çš„åœ°æ–¹è¿˜æ˜¯è¦è®¾ç½®ç´¢å¼•çš„ï¼Œå»ºå®Œåè®°å¾—ç”¨explainçœ‹çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ã€‚ï¼ˆä¸äº†è§£çš„å°ä¼™ä¼´ä¹Ÿæ²¡äº‹ï¼ŒMySQLç« èŠ‚æˆ‘ä¼šè¯´çš„ï¼‰ å•ä¸€èŒè´£çš„å¥½å¤„å°±æ˜¯å°±ç®—ç§’æ€æ²¡æŠ—ä½ï¼Œç§’æ€åº“å´©äº†ï¼ŒæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–çš„æœåŠ¡ã€‚ï¼ˆå¼ºè¡Œé«˜å¯ç”¨ï¼‰ ç§’æ€é“¾æ¥åŠ ç›ï¼šæˆ‘ä»¬ä¸Šé¢è¯´äº†é“¾æ¥è¦æ˜¯æå‰æš´éœ²å‡ºå»å¯èƒ½æœ‰äººç›´æ¥è®¿é—®urlå°±æå‰ç§’æ€äº†ï¼Œé‚£åˆæœ‰å°ä¼™ä¼´è¦è¯´äº†æˆ‘åšä¸ªæ—¶é—´çš„æ ¡éªŒå°±å¥½äº†å‘€ï¼Œé‚£æˆ‘å‘Šè¯‰ä½ ï¼ŒçŸ¥é“é“¾æ¥çš„åœ°å€æ¯”èµ·é¡µé¢äººå·¥ç‚¹å‡»çš„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¼˜åŠ¿ã€‚ æˆ‘çŸ¥é“urläº†ï¼Œé‚£æˆ‘é€šè¿‡ç¨‹åºä¸æ–­è·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥è¾¾åˆ°æ¯«ç§’çº§åˆ«çš„ï¼Œæˆ‘å°±åœ¨00æ¯«ç§’çš„æ—¶å€™è¯·æ±‚ï¼Œæˆ‘æ•¢è¯´ç»å¯¹æ¯”ä½ äººå·¥ç‚¹çš„æˆåŠŸç‡å¤§å¤ªå¤šäº†ï¼Œè€Œä¸”æˆ‘å¯ä»¥ä¸€æ¯«ç§’å‘é€Næ¬¡è¯·æ±‚ï¼Œæä¸å¥½ä½ å–100ä¸ªäº§å“æˆ‘å…¨æ‹¿äº†ã€‚ é‚£è¿™ç§æƒ…å†µæ€ä¹ˆé¿å…ï¼Ÿ ç®€å•ï¼ŒæŠŠURLåŠ¨æ€åŒ–ï¼Œå°±è¿å†™ä»£ç çš„äººéƒ½ä¸çŸ¥é“ï¼Œä½ å°±é€šè¿‡MD5ä¹‹ç±»çš„åŠ å¯†ç®—æ³•åŠ å¯†éšæœºçš„å­—ç¬¦ä¸²å»åšurlï¼Œç„¶åé€šè¿‡å‰ç«¯ä»£ç è·å–urlåå°æ ¡éªŒæ‰èƒ½é€šè¿‡ã€‚ æš–ç”·æˆ‘å‘¢ï¼Œåˆå‡†å¤‡äº†ä¸€ä¸ªç®€å•çš„urlåŠ å¯†ç»™å¤§å®¶å°å°é²œï¼Œè¿˜ä¸ç‚¹ä¸ªèµï¼Ÿ Redisé›†ç¾¤ï¼šä¹‹å‰ä¸æ˜¯è¯´å•æœºçš„Redisé¡¶ä¸ä½å˜›ï¼Œé‚£ç®€å•å¤šæ‰¾å‡ ä¸ªå…„å¼Ÿå•Šï¼Œç§’æ€æœ¬æ¥å°±æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ ä»¬æ˜¯ä¸æ˜¯ç¬é—´æƒ³èµ·æ¥æˆ‘ä¹‹å‰è·Ÿä½ ä»¬æåˆ°è¿‡çš„ï¼ŒRedisé›†ç¾¤ï¼Œä¸»ä»åŒæ­¥ã€è¯»å†™åˆ†ç¦»ï¼Œæˆ‘ä»¬è¿˜æç‚¹å“¨å…µï¼Œå¼€å¯æŒä¹…åŒ–ç›´æ¥æ— æ•Œé«˜å¯ç”¨ï¼ Nginxï¼šNginxå¤§å®¶æƒ³å¿…éƒ½ä¸é™Œç”Ÿäº†å§ï¼Œè¿™ç©æ„æ˜¯é«˜æ€§èƒ½çš„webæœåŠ¡å™¨ï¼Œå¹¶å‘ä¹Ÿéšä¾¿é¡¶å‡ ä¸‡ä¸æ˜¯æ¢¦ï¼Œä½†æ˜¯æˆ‘ä»¬çš„Tomcatåªèƒ½é¡¶å‡ ç™¾çš„å¹¶å‘å‘€ï¼Œé‚£ç®€å•å‘€è´Ÿè½½å‡è¡¡å˜›ï¼Œä¸€å°æœåŠ¡å‡ ç™¾ï¼Œé‚£å°±å¤šæç‚¹ï¼Œåœ¨ç§’æ€çš„æ—¶å€™å¤šç§Ÿç‚¹æµé‡æœºã€‚ Tipï¼šæ®æˆ‘æ‰€çŸ¥å›½å†…æŸå¤§å‚å°±æ˜¯åœ¨å»å¹´æ˜¥èŠ‚æ´»åŠ¨æœŸé—´ç§Ÿå…‰äº†äºšæ´²æ‰€æœ‰çš„æœåŠ¡å™¨ï¼Œå°å…¬å¸ä¹Ÿå¾ˆå–œæ¬¢åœ¨åŒåä¸€æœŸé—´ä¹°æµé‡æœºæ¥é¡¶ä½å‹åŠ›ã€‚ è¿™æ ·ä¸€å¯¹æ¯”æ˜¯ä¸æ˜¯è§‰å¾—ä½ çš„é›†ç¾¤èƒ½é¡¶å¾ˆå¤šäº†ã€‚ æ¶æ„è¯·æ±‚æ‹¦æˆªä¹Ÿéœ€è¦ç”¨åˆ°å®ƒï¼Œä¸€èˆ¬å•ä¸ªç”¨æˆ·è¯·æ±‚æ¬¡æ•°å¤ªå¤¸å¼ ï¼Œä¸åƒäººä¸ºçš„è¯·æ±‚åœ¨ç½‘å…³é‚£ä¸€å±‚å°±å¾—æ‹¦æˆªæ‰äº†ï¼Œä¸ç„¶è¯·æ±‚å¤šäº†ä»–æŠ¢ä¸æŠ¢å¾—åˆ°æ˜¯ä¸€å›äº‹ï¼ŒæœåŠ¡å™¨å‹åŠ›ä¸Šå»äº†ï¼Œå¯èƒ½å ç”¨ç½‘ç»œå¸¦å®½æˆ–è€…æŠŠæœåŠ¡å™¨æ‰“å´©ã€ç¼“å­˜å‡»ç©¿ç­‰ç­‰ã€‚ èµ„æºé™æ€åŒ–ï¼šç§’æ€ä¸€èˆ¬éƒ½æ˜¯ç‰¹å®šçš„å•†å“è¿˜æœ‰é¡µé¢æ¨¡æ¿ï¼Œç°åœ¨ä¸€èˆ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸€èˆ¬éƒ½æ˜¯ä¸ä¼šç»è¿‡åç«¯çš„ï¼Œä½†æ˜¯å‰ç«¯ä¹Ÿè¦è‡ªå·±çš„æœåŠ¡å™¨å•Šï¼Œé‚£å°±æŠŠèƒ½æå‰æ”¾å…¥cdnæœåŠ¡å™¨çš„ä¸œè¥¿éƒ½æ”¾è¿›å»ï¼Œåæ­£æŠŠæ‰€æœ‰èƒ½æå‡æ•ˆç‡çš„æ­¥éª¤éƒ½åšä¸€ä¸‹ï¼Œå‡å°‘çœŸæ­£ç§’æ€æ—¶å€™æœåŠ¡å™¨çš„å‹åŠ›ã€‚ æŒ‰é’®æ§åˆ¶ï¼šå¤§å®¶æœ‰æ²¡æœ‰å‘ç°æ²¡åˆ°ç§’æ€å‰ï¼Œä¸€èˆ¬æŒ‰é’®éƒ½æ˜¯ç½®ç°çš„ï¼Œåªæœ‰æ—¶é—´åˆ°äº†ï¼Œæ‰èƒ½ç‚¹å‡»ã€‚ è¿™æ˜¯å› ä¸ºæ€•å¤§å®¶åœ¨æ—¶é—´å¿«åˆ°çš„æœ€åå‡ ç§’ç§’ç–¯ç‹‚è¯·æ±‚æœåŠ¡å™¨ï¼Œç„¶åè¿˜æ²¡åˆ°ç§’æ€çš„æ—¶å€™åŸºæœ¬ä¸ŠæœåŠ¡å™¨å°±æŒ‚äº†ã€‚ è¿™ä¸ªæ—¶å€™å°±éœ€è¦å‰ç«¯çš„é…åˆï¼Œå®šæ—¶å»è¯·æ±‚ä½ çš„åç«¯æœåŠ¡å™¨ï¼Œè·å–æœ€æ–°çš„åŒ—äº¬æ—¶é—´ï¼Œåˆ°æ—¶é—´ç‚¹å†ç»™æŒ‰é’®å¯ç”¨çŠ¶æ€ã€‚ æŒ‰é’®å¯ä»¥ç‚¹å‡»ä¹‹åä¹Ÿå¾—ç»™ä»–ç½®ç°å‡ ç§’ï¼Œä¸ç„¶ä»–ä¸€æ ·åœ¨å¼€å§‹ä¹‹åä¸€ç›´ç‚¹çš„ã€‚ä½ æ•¢è¯´ä½ ä»¬ç§’æ€çš„æ—¶å€™ä¸æ˜¯è¿™æ ·çš„ï¼Ÿ é™æµï¼šé™æµè¿™é‡Œæˆ‘è§‰å¾—åº”è¯¥åˆ†ä¸ºå‰ç«¯é™æµå’Œåç«¯é™æµã€‚ å‰ç«¯é™æµï¼šè¿™ä¸ªå¾ˆç®€å•ï¼Œä¸€èˆ¬ç§’æ€ä¸ä¼šè®©ä½ ä¸€ç›´ç‚¹çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ç‚¹å‡»ä¸€ä¸‹æˆ–è€…ä¸¤ä¸‹ç„¶åå‡ ç§’ä¹‹åæ‰å¯ä»¥ç»§ç»­ç‚¹å‡»ï¼Œè¿™ä¹Ÿæ˜¯ä¿æŠ¤æœåŠ¡å™¨çš„ä¸€ç§æ‰‹æ®µã€‚ åç«¯é™æµï¼šç§’æ€çš„æ—¶å€™è‚¯å®šæ˜¯æ¶‰åŠåˆ°åç»­çš„è®¢å•ç”Ÿæˆå’Œæ”¯ä»˜ç­‰æ“ä½œï¼Œä½†æ˜¯éƒ½åªæ˜¯æˆåŠŸçš„å¹¸è¿å„¿æ‰ä¼šèµ°åˆ°é‚£ä¸€æ­¥ï¼Œé‚£ä¸€æ—¦100ä¸ªäº§å“å–å…‰äº†ï¼Œreturnäº†ä¸€ä¸ªfalseï¼Œå‰ç«¯ç›´æ¥ç§’æ€ç»“æŸï¼Œç„¶åä½ åç«¯ä¹Ÿå…³é—­åç»­æ— æ•ˆè¯·æ±‚çš„ä»‹å…¥äº†ã€‚ Tipï¼šçœŸæ­£çš„é™æµè¿˜ä¼šæœ‰é™æµç»„ä»¶çš„åŠ å…¥ä¾‹å¦‚ï¼šé˜¿é‡Œçš„Sentinelã€Hystrixç­‰ã€‚æˆ‘è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå°±è¯´ä¸€ä¸‹ç‰©ç†çš„é™æµã€‚ åº“å­˜é¢„çƒ­ï¼šç§’æ€çš„æœ¬è´¨ï¼Œå°±æ˜¯å¯¹åº“å­˜çš„æŠ¢å¤ºï¼Œæ¯ä¸ªç§’æ€çš„ç”¨æˆ·æ¥ä½ éƒ½å»æ•°æ®åº“æŸ¥è¯¢åº“å­˜æ ¡éªŒåº“å­˜ï¼Œç„¶åæ‰£å‡åº“å­˜ï¼Œæ’‡å¼€æ€§èƒ½å› æ•°ï¼Œä½ ä¸è§‰å¾—è¿™æ ·å¥½ç¹çï¼Œå¯¹ä¸šåŠ¡å¼€å‘äººå‘˜éƒ½ä¸å‹å¥½ï¼Œè€Œä¸”æ•°æ®åº“é¡¶ä¸ä½å•Šã€‚ å¼€å‘ï¼šä½ tmæ€»ç®—ä¸ºæˆ‘ç€æƒ³ä¸€æ¬¡äº†ã€‚ é‚£æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åº“é¡¶ä¸ä½ä½†æ˜¯ä»–çš„å…„å¼Ÿéå…³ç³»å‹çš„æ•°æ®åº“Redisèƒ½é¡¶å•Šï¼ é‚£ä¸ç®€å•äº†ï¼Œæˆ‘ä»¬è¦å¼€å§‹ç§’æ€å‰ä½ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–è€…è¿ç»´åŒå­¦æå‰æŠŠå•†å“çš„åº“å­˜åŠ è½½åˆ°Redisä¸­å»ï¼Œè®©æ•´ä¸ªæµç¨‹éƒ½åœ¨Redisé‡Œé¢å»åšï¼Œç„¶åç­‰ç§’æ€ä»‹ç»äº†ï¼Œå†å¼‚æ­¥çš„å»ä¿®æ”¹åº“å­˜å°±å¥½äº†ã€‚ ä½†æ˜¯ç”¨äº†Rediså°±æœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä¸Šé¢è¯´äº†æˆ‘ä»¬é‡‡ç”¨ä¸»ä»ï¼Œå°±æ˜¯æˆ‘ä»¬ä¼šå»è¯»å–åº“å­˜ç„¶åå†åˆ¤æ–­ç„¶åæœ‰åº“å­˜æ‰å»å‡åº“å­˜ï¼Œæ­£å¸¸æƒ…å†µæ²¡é—®é¢˜ï¼Œä½†æ˜¯é«˜å¹¶å‘çš„æƒ…å†µé—®é¢˜å°±å¾ˆå¤§äº†ã€‚ è¿™é‡Œæˆ‘å°±ä¸ç”»å›¾äº†ï¼Œæˆ‘æœ¬æ¥æƒ³ç”»å›¾çš„ï¼Œæƒ³äº†åŠå¤©æˆ‘è§‰å¾—è¯­è¨€å¯èƒ½æ›´å¥½è¡¨è¾¾ä¸€ç‚¹ã€‚ **å¤šå“å‡ éï¼ï¼ï¼**å°±æ¯”å¦‚ç°åœ¨åº“å­˜åªå‰©ä¸‹1ä¸ªäº†ï¼Œæˆ‘ä»¬é«˜å¹¶å‘å˜›ï¼Œ4ä¸ªæœåŠ¡å™¨ä¸€èµ·æŸ¥è¯¢äº†å‘ç°éƒ½æ˜¯è¿˜æœ‰1ä¸ªï¼Œé‚£å¤§å®¶éƒ½è§‰å¾—æ˜¯è‡ªå·±æŠ¢åˆ°äº†ï¼Œå°±éƒ½å»æ‰£åº“å­˜ï¼Œé‚£ç»“æœå°±å˜æˆäº†-3ï¼Œæ˜¯çš„åªæœ‰ä¸€ä¸ªæ˜¯çœŸçš„æŠ¢åˆ°äº†ï¼Œåˆ«çš„éƒ½æ˜¯è¶…å–çš„ã€‚å’‹åŠï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:3","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#é‚£æ€ä¹ˆåŠ"},{"categories":null,"content":"Luaï¼šä¹‹å‰çš„æ–‡ç« å°±ç®€å•çš„æåˆ°äº†ä»–ï¼Œæˆ‘ä»Šå¤©å°±å¤šä¸€å®šç‚¹ç¯‡å¹…è¯´ä¸€ä¸‹å§ã€‚ Lua è„šæœ¬åŠŸèƒ½æ˜¯ Reidsåœ¨ 2.6 ç‰ˆæœ¬çš„æœ€å¤§äº®ç‚¹ï¼Œ é€šè¿‡å†…åµŒå¯¹ Lua ç¯å¢ƒçš„æ”¯æŒï¼Œ Redis è§£å†³äº†é•¿ä¹…ä»¥æ¥ä¸èƒ½é«˜æ•ˆåœ°å¤„ç† CAS ï¼ˆcheck-and-setï¼‰å‘½ä»¤çš„ç¼ºç‚¹ï¼Œ å¹¶ä¸”å¯ä»¥é€šè¿‡ç»„åˆä½¿ç”¨å¤šä¸ªå‘½ä»¤ï¼Œ è½»æ¾å®ç°ä»¥å‰å¾ˆéš¾å®ç°æˆ–è€…ä¸èƒ½é«˜æ•ˆå®ç°çš„æ¨¡å¼ã€‚ **Luaè„šæœ¬æ˜¯ç±»ä¼¼Redisäº‹åŠ¡ï¼Œæœ‰ä¸€å®šçš„åŸå­æ€§ï¼Œä¸ä¼šè¢«å…¶ä»–å‘½ä»¤æ’é˜Ÿï¼Œå¯ä»¥å®Œæˆä¸€äº›Redisäº‹åŠ¡æ€§çš„æ“ä½œã€‚**è¿™ç‚¹æ˜¯å…³é”®ã€‚ çŸ¥é“åŸç†äº†ï¼Œæˆ‘ä»¬å°±å†™ä¸€ä¸ªè„šæœ¬æŠŠåˆ¤æ–­åº“å­˜æ‰£å‡åº“å­˜çš„æ“ä½œéƒ½å†™åœ¨ä¸€ä¸ªè„šæœ¬ä¸¢ç»™Rediså»åšï¼Œé‚£åˆ°0äº†åé¢çš„éƒ½Return Falseäº†æ˜¯å§ï¼Œä¸€ä¸ªå¤±è´¥äº†ä½ ä¿®æ”¹ä¸€ä¸ªå¼€å…³ï¼Œç›´æ¥æŒ¡ä½æ‰€æœ‰çš„è¯·æ±‚ï¼Œç„¶åå†åšåé¢çš„äº‹æƒ…å˜›ã€‚ é™æµ\u0026é™çº§\u0026ç†”æ–­\u0026éš”ç¦»ï¼šè¿™ä¸ªä¸ºå•¥è¦åšå‘¢ï¼Œä¸æ€•ä¸€ä¸‡å°±æ€•ä¸‡ä¸€ï¼Œä¸‡ä¸€ä½ çœŸçš„é¡¶ä¸ä½äº†ï¼Œé™æµï¼Œé¡¶ä¸ä½å°±æŒ¡ä¸€éƒ¨åˆ†å‡ºå»ä½†æ˜¯ä¸èƒ½è¯´ä¸è¡Œï¼Œé™çº§ï¼Œé™çº§äº†è¿˜æ˜¯è¢«æ‰“æŒ‚äº†ï¼Œç†”æ–­ï¼Œè‡³å°‘ä¸è¦å½±å“åˆ«çš„ç³»ç»Ÿï¼Œéš”ç¦»ï¼Œä½ æœ¬èº«å°±ç‹¬ç«‹çš„ï¼Œä½†æ˜¯ä½ ä¼šè°ƒç”¨å…¶ä»–çš„ç³»ç»Ÿå˜›ï¼Œä½ å¿«ä¸è¡Œäº†ä½ åˆ«æ‹–ç´¯å…„å¼Ÿä»¬å•Šã€‚ å‰Šå³°å¡«è°·ï¼šä¸€è¯´åˆ°è¿™ä¸ªåè¯ï¼Œå¾ˆå¤šå°ä¼™ä¼´å°±çŸ¥é“äº†ï¼Œå¯¹çš„MQï¼Œä½ ä¹°ä¸œè¥¿å°‘äº†ä½ ç›´æ¥100ä¸ªè¯·æ±‚æ”¹åº“æˆ‘è§‰å¾—æ²¡é—®é¢˜ï¼Œä½†æ˜¯ä¸‡ä¸€ç§’æ€ä¸€ä¸‡ä¸ªï¼Œ10ä¸‡ä¸ªå‘¢ï¼ŸæœåŠ¡å™¨æŒ‚äº†ï¼Œç¨‹åºå‘˜åˆè¦èƒŒé”…çš„ã€‚ Tipï¼šå¯èƒ½å°ä¼™ä¼´è¯´æˆ‘ä»¬ä¸šåŠ¡è¾¾ä¸åˆ°è¿™ä¸ªé‡çº§ï¼Œæ²¡å¿…è¦ã€‚ä½†æ˜¯æˆ‘æƒ³è¯´æˆ‘ä»¬å†™ä»£ç ï¼Œå°±ä¸åº”è¯¥å†™å‡ºæœ‰é€»è¾‘æ¼æ´çš„ä»£ç ï¼Œè‡³å°‘ä»¥åå…¬å¸ä½“é‡ä¸Šå»äº†ï¼Œåˆ«äººä¸€çœ‹å±…ç„¶ä¸ç”¨æ”¹ä»£ç ï¼Œä¸€çœ‹ä»£ç ä½œè€…æ˜¯æ•–ä¸™ï¼Ÿæœ‰ç‚¹ä¸œè¥¿ï¼ ä½ å¯ä»¥æŠŠå®ƒæ”¾æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç„¶åä¸€ç‚¹ç‚¹æ¶ˆè´¹å»æ”¹åº“å­˜å°±å¥½äº†å˜›ï¼Œä¸è¿‡å•ä¸ªå•†å“å…¶å®ä¸€æ¬¡ä¿®æ”¹å°±å¤Ÿäº†ï¼Œæˆ‘è¿™é‡Œè¯´çš„æ˜¯æŸä¸ªç‚¹å¤šä¸ªå•†å“ä¸€èµ·ç§’æ€çš„åœºæ™¯ï¼Œåƒæäº†åŒåä¸€é›¶ç‚¹ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:4","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#lua"},{"categories":null,"content":"Luaï¼šä¹‹å‰çš„æ–‡ç« å°±ç®€å•çš„æåˆ°äº†ä»–ï¼Œæˆ‘ä»Šå¤©å°±å¤šä¸€å®šç‚¹ç¯‡å¹…è¯´ä¸€ä¸‹å§ã€‚ Lua è„šæœ¬åŠŸèƒ½æ˜¯ Reidsåœ¨ 2.6 ç‰ˆæœ¬çš„æœ€å¤§äº®ç‚¹ï¼Œ é€šè¿‡å†…åµŒå¯¹ Lua ç¯å¢ƒçš„æ”¯æŒï¼Œ Redis è§£å†³äº†é•¿ä¹…ä»¥æ¥ä¸èƒ½é«˜æ•ˆåœ°å¤„ç† CAS ï¼ˆcheck-and-setï¼‰å‘½ä»¤çš„ç¼ºç‚¹ï¼Œ å¹¶ä¸”å¯ä»¥é€šè¿‡ç»„åˆä½¿ç”¨å¤šä¸ªå‘½ä»¤ï¼Œ è½»æ¾å®ç°ä»¥å‰å¾ˆéš¾å®ç°æˆ–è€…ä¸èƒ½é«˜æ•ˆå®ç°çš„æ¨¡å¼ã€‚ **Luaè„šæœ¬æ˜¯ç±»ä¼¼Redisäº‹åŠ¡ï¼Œæœ‰ä¸€å®šçš„åŸå­æ€§ï¼Œä¸ä¼šè¢«å…¶ä»–å‘½ä»¤æ’é˜Ÿï¼Œå¯ä»¥å®Œæˆä¸€äº›Redisäº‹åŠ¡æ€§çš„æ“ä½œã€‚**è¿™ç‚¹æ˜¯å…³é”®ã€‚ çŸ¥é“åŸç†äº†ï¼Œæˆ‘ä»¬å°±å†™ä¸€ä¸ªè„šæœ¬æŠŠåˆ¤æ–­åº“å­˜æ‰£å‡åº“å­˜çš„æ“ä½œéƒ½å†™åœ¨ä¸€ä¸ªè„šæœ¬ä¸¢ç»™Rediså»åšï¼Œé‚£åˆ°0äº†åé¢çš„éƒ½Return Falseäº†æ˜¯å§ï¼Œä¸€ä¸ªå¤±è´¥äº†ä½ ä¿®æ”¹ä¸€ä¸ªå¼€å…³ï¼Œç›´æ¥æŒ¡ä½æ‰€æœ‰çš„è¯·æ±‚ï¼Œç„¶åå†åšåé¢çš„äº‹æƒ…å˜›ã€‚ é™æµ\u0026é™çº§\u0026ç†”æ–­\u0026éš”ç¦»ï¼šè¿™ä¸ªä¸ºå•¥è¦åšå‘¢ï¼Œä¸æ€•ä¸€ä¸‡å°±æ€•ä¸‡ä¸€ï¼Œä¸‡ä¸€ä½ çœŸçš„é¡¶ä¸ä½äº†ï¼Œé™æµï¼Œé¡¶ä¸ä½å°±æŒ¡ä¸€éƒ¨åˆ†å‡ºå»ä½†æ˜¯ä¸èƒ½è¯´ä¸è¡Œï¼Œé™çº§ï¼Œé™çº§äº†è¿˜æ˜¯è¢«æ‰“æŒ‚äº†ï¼Œç†”æ–­ï¼Œè‡³å°‘ä¸è¦å½±å“åˆ«çš„ç³»ç»Ÿï¼Œéš”ç¦»ï¼Œä½ æœ¬èº«å°±ç‹¬ç«‹çš„ï¼Œä½†æ˜¯ä½ ä¼šè°ƒç”¨å…¶ä»–çš„ç³»ç»Ÿå˜›ï¼Œä½ å¿«ä¸è¡Œäº†ä½ åˆ«æ‹–ç´¯å…„å¼Ÿä»¬å•Šã€‚ å‰Šå³°å¡«è°·ï¼šä¸€è¯´åˆ°è¿™ä¸ªåè¯ï¼Œå¾ˆå¤šå°ä¼™ä¼´å°±çŸ¥é“äº†ï¼Œå¯¹çš„MQï¼Œä½ ä¹°ä¸œè¥¿å°‘äº†ä½ ç›´æ¥100ä¸ªè¯·æ±‚æ”¹åº“æˆ‘è§‰å¾—æ²¡é—®é¢˜ï¼Œä½†æ˜¯ä¸‡ä¸€ç§’æ€ä¸€ä¸‡ä¸ªï¼Œ10ä¸‡ä¸ªå‘¢ï¼ŸæœåŠ¡å™¨æŒ‚äº†ï¼Œç¨‹åºå‘˜åˆè¦èƒŒé”…çš„ã€‚ Tipï¼šå¯èƒ½å°ä¼™ä¼´è¯´æˆ‘ä»¬ä¸šåŠ¡è¾¾ä¸åˆ°è¿™ä¸ªé‡çº§ï¼Œæ²¡å¿…è¦ã€‚ä½†æ˜¯æˆ‘æƒ³è¯´æˆ‘ä»¬å†™ä»£ç ï¼Œå°±ä¸åº”è¯¥å†™å‡ºæœ‰é€»è¾‘æ¼æ´çš„ä»£ç ï¼Œè‡³å°‘ä»¥åå…¬å¸ä½“é‡ä¸Šå»äº†ï¼Œåˆ«äººä¸€çœ‹å±…ç„¶ä¸ç”¨æ”¹ä»£ç ï¼Œä¸€çœ‹ä»£ç ä½œè€…æ˜¯æ•–ä¸™ï¼Ÿæœ‰ç‚¹ä¸œè¥¿ï¼ ä½ å¯ä»¥æŠŠå®ƒæ”¾æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç„¶åä¸€ç‚¹ç‚¹æ¶ˆè´¹å»æ”¹åº“å­˜å°±å¥½äº†å˜›ï¼Œä¸è¿‡å•ä¸ªå•†å“å…¶å®ä¸€æ¬¡ä¿®æ”¹å°±å¤Ÿäº†ï¼Œæˆ‘è¿™é‡Œè¯´çš„æ˜¯æŸä¸ªç‚¹å¤šä¸ªå•†å“ä¸€èµ·ç§’æ€çš„åœºæ™¯ï¼Œåƒæäº†åŒåä¸€é›¶ç‚¹ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:4","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#é™æµé™çº§ç†”æ–­éš”ç¦»"},{"categories":null,"content":"Luaï¼šä¹‹å‰çš„æ–‡ç« å°±ç®€å•çš„æåˆ°äº†ä»–ï¼Œæˆ‘ä»Šå¤©å°±å¤šä¸€å®šç‚¹ç¯‡å¹…è¯´ä¸€ä¸‹å§ã€‚ Lua è„šæœ¬åŠŸèƒ½æ˜¯ Reidsåœ¨ 2.6 ç‰ˆæœ¬çš„æœ€å¤§äº®ç‚¹ï¼Œ é€šè¿‡å†…åµŒå¯¹ Lua ç¯å¢ƒçš„æ”¯æŒï¼Œ Redis è§£å†³äº†é•¿ä¹…ä»¥æ¥ä¸èƒ½é«˜æ•ˆåœ°å¤„ç† CAS ï¼ˆcheck-and-setï¼‰å‘½ä»¤çš„ç¼ºç‚¹ï¼Œ å¹¶ä¸”å¯ä»¥é€šè¿‡ç»„åˆä½¿ç”¨å¤šä¸ªå‘½ä»¤ï¼Œ è½»æ¾å®ç°ä»¥å‰å¾ˆéš¾å®ç°æˆ–è€…ä¸èƒ½é«˜æ•ˆå®ç°çš„æ¨¡å¼ã€‚ **Luaè„šæœ¬æ˜¯ç±»ä¼¼Redisäº‹åŠ¡ï¼Œæœ‰ä¸€å®šçš„åŸå­æ€§ï¼Œä¸ä¼šè¢«å…¶ä»–å‘½ä»¤æ’é˜Ÿï¼Œå¯ä»¥å®Œæˆä¸€äº›Redisäº‹åŠ¡æ€§çš„æ“ä½œã€‚**è¿™ç‚¹æ˜¯å…³é”®ã€‚ çŸ¥é“åŸç†äº†ï¼Œæˆ‘ä»¬å°±å†™ä¸€ä¸ªè„šæœ¬æŠŠåˆ¤æ–­åº“å­˜æ‰£å‡åº“å­˜çš„æ“ä½œéƒ½å†™åœ¨ä¸€ä¸ªè„šæœ¬ä¸¢ç»™Rediså»åšï¼Œé‚£åˆ°0äº†åé¢çš„éƒ½Return Falseäº†æ˜¯å§ï¼Œä¸€ä¸ªå¤±è´¥äº†ä½ ä¿®æ”¹ä¸€ä¸ªå¼€å…³ï¼Œç›´æ¥æŒ¡ä½æ‰€æœ‰çš„è¯·æ±‚ï¼Œç„¶åå†åšåé¢çš„äº‹æƒ…å˜›ã€‚ é™æµ\u0026é™çº§\u0026ç†”æ–­\u0026éš”ç¦»ï¼šè¿™ä¸ªä¸ºå•¥è¦åšå‘¢ï¼Œä¸æ€•ä¸€ä¸‡å°±æ€•ä¸‡ä¸€ï¼Œä¸‡ä¸€ä½ çœŸçš„é¡¶ä¸ä½äº†ï¼Œé™æµï¼Œé¡¶ä¸ä½å°±æŒ¡ä¸€éƒ¨åˆ†å‡ºå»ä½†æ˜¯ä¸èƒ½è¯´ä¸è¡Œï¼Œé™çº§ï¼Œé™çº§äº†è¿˜æ˜¯è¢«æ‰“æŒ‚äº†ï¼Œç†”æ–­ï¼Œè‡³å°‘ä¸è¦å½±å“åˆ«çš„ç³»ç»Ÿï¼Œéš”ç¦»ï¼Œä½ æœ¬èº«å°±ç‹¬ç«‹çš„ï¼Œä½†æ˜¯ä½ ä¼šè°ƒç”¨å…¶ä»–çš„ç³»ç»Ÿå˜›ï¼Œä½ å¿«ä¸è¡Œäº†ä½ åˆ«æ‹–ç´¯å…„å¼Ÿä»¬å•Šã€‚ å‰Šå³°å¡«è°·ï¼šä¸€è¯´åˆ°è¿™ä¸ªåè¯ï¼Œå¾ˆå¤šå°ä¼™ä¼´å°±çŸ¥é“äº†ï¼Œå¯¹çš„MQï¼Œä½ ä¹°ä¸œè¥¿å°‘äº†ä½ ç›´æ¥100ä¸ªè¯·æ±‚æ”¹åº“æˆ‘è§‰å¾—æ²¡é—®é¢˜ï¼Œä½†æ˜¯ä¸‡ä¸€ç§’æ€ä¸€ä¸‡ä¸ªï¼Œ10ä¸‡ä¸ªå‘¢ï¼ŸæœåŠ¡å™¨æŒ‚äº†ï¼Œç¨‹åºå‘˜åˆè¦èƒŒé”…çš„ã€‚ Tipï¼šå¯èƒ½å°ä¼™ä¼´è¯´æˆ‘ä»¬ä¸šåŠ¡è¾¾ä¸åˆ°è¿™ä¸ªé‡çº§ï¼Œæ²¡å¿…è¦ã€‚ä½†æ˜¯æˆ‘æƒ³è¯´æˆ‘ä»¬å†™ä»£ç ï¼Œå°±ä¸åº”è¯¥å†™å‡ºæœ‰é€»è¾‘æ¼æ´çš„ä»£ç ï¼Œè‡³å°‘ä»¥åå…¬å¸ä½“é‡ä¸Šå»äº†ï¼Œåˆ«äººä¸€çœ‹å±…ç„¶ä¸ç”¨æ”¹ä»£ç ï¼Œä¸€çœ‹ä»£ç ä½œè€…æ˜¯æ•–ä¸™ï¼Ÿæœ‰ç‚¹ä¸œè¥¿ï¼ ä½ å¯ä»¥æŠŠå®ƒæ”¾æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç„¶åä¸€ç‚¹ç‚¹æ¶ˆè´¹å»æ”¹åº“å­˜å°±å¥½äº†å˜›ï¼Œä¸è¿‡å•ä¸ªå•†å“å…¶å®ä¸€æ¬¡ä¿®æ”¹å°±å¤Ÿäº†ï¼Œæˆ‘è¿™é‡Œè¯´çš„æ˜¯æŸä¸ªç‚¹å¤šä¸ªå•†å“ä¸€èµ·ç§’æ€çš„åœºæ™¯ï¼Œåƒæäº†åŒåä¸€é›¶ç‚¹ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:4:4","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#å‰Šå³°å¡«è°·"},{"categories":null,"content":"æ€»ç»“åˆ°è¿™é‡Œæˆ‘æƒ³æˆ‘å·²ç»åŸºæœ¬ä¸ŠæŠŠè¯¥è€ƒè™‘çš„ç‚¹è¿˜æœ‰å¯¹åº”çš„è§£å†³æ–¹æ¡ˆä¹Ÿéƒ½è¯´äº†ä¸€ä¸‹ï¼Œä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰æ²¡è€ƒè™‘åˆ°çš„ï¼Œä½†æ˜¯å°±ç®—æ²¡è€ƒè™‘åˆ°æˆ‘æƒ³æˆ‘è¿™ä¸ªè®¾è®¡ï¼Œåº”è¯¥ä¹Ÿèƒ½æ’‘ä½ä¸€ä¸ªå®Œæ•´çš„ç§’æ€æµç¨‹ã€‚ ï¼ˆæœ‰å¤§ä½¬çš„è¯ç»™æ•–ä¸™ç‚¹å¤šçš„æ€è·¯ï¼Œå»GitHub https://github.com/JavaFamily ä¸Šç»™æˆ‘æï¼Œä¹Ÿæœ‰æˆ‘çš„è”ç³»ï¼‰ æœ€åæˆ‘å°±ç”»ä¸ªå®Œæ•´çš„æµç¨‹å›¾ç»™å¤§å®¶æ”¶ä¸ªå°¾å§ï¼ Tipï¼šè¿™ä¸ªé“¾è·¯è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¾ˆå¤šç»†èŠ‚çš„ç‚¹å…¨éƒ¨ç”»å‡ºæ¥å°±å¤ªå¤æ‚äº†ï¼Œæˆ‘ä¸Šé¢å·²ç»æåˆ°äº†æ‰€æœ‰çš„æ³¨æ„ç‚¹äº†ï¼Œå¤§å®¶éƒ½çœ‹çœ‹ï¼ŒçœŸæ­£çš„ç§’æ€æœ‰æ¯”æˆ‘è¿™ä¸ªç®€å•çš„ï¼Œä¹Ÿæœ‰æ¯”æˆ‘è¿™ä¸ªå¤æ‚Nå€çš„ï¼Œä¹‹å‰çš„ç”µå•†è€ä¸œå®¶å°±åšçš„å¾ˆé«˜çº§ï¼Œæœ‰æœºä¼šä¹Ÿå¯ä»¥è·Ÿä½ ä»¬æ¢è®¨ï¼Œä¸è¿‡æ˜¯é¢è¯•å˜›ï¼Œæˆ‘å°±ç»™æ€è·¯ï¼Œè®©ä½ ç†è§£æ¯”è¾ƒå…³é”®çš„ç‚¹ã€‚ ç§’æ€è¿™ç« æˆ‘è„‘ç»†èƒæ­»äº†å¾ˆå¤šï¼Œè€ƒè™‘äº†å¾ˆå¤šä¸ªç‚¹ï¼Œæœ€åè¿˜æ˜¯å‡ºæ¥äº†ï¼Œå¿ä¸ä½ç»™è‡ªå·±ç‚¹èµï¼ ï¼ˆè¿™ç« æ˜¯çœŸçš„ä¸è¦ç™½å«–ï¼Œæ¯æ¬¡éƒ½çœ‹äº†ä¸ç‚¹èµï¼Œä½ ä»¬æƒ³ç™½å«–æˆ‘ä¹ˆï¼Ÿä½ ä»¬å¥½åå–²ï¼Œä¸è¿‡æˆ‘å¥½å–œæ¬¢ï¼‰ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:5:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æ€»ç»“"},{"categories":null,"content":"æ€»ç»“æˆ‘ä»¬ç©å½’ç©ï¼Œé—¹å½’é—¹ï¼Œåˆ«æ‹¿é¢è¯•å¼€ç©ç¬‘ã€‚ ç§’æ€ä¸ä¸€å®šæ˜¯æ¯ä¸ªåŒå­¦éƒ½ä¼šé—®åˆ°çš„ï¼Œè‡³å°‘è‚¯å®šæ²¡RedisåŸºç¡€é‚£æ ·å¸¸é—®ï¼Œä½†æ˜¯ä¸€æ—¦é—®åˆ°ï¼Œå¤§å®¶ä¸€å®šè¦å›ç­”åˆ°ç‚¹ä¸Šã€‚ è‡³å°‘ä½ å¾—è¯´å‡ºå¯èƒ½å‡ºç°çš„æƒ…å†µï¼Œéœ€è¦æ³¨æ„çš„æƒ…å†µï¼Œä»¥åŠå¯¹äºçš„è§£å†³æ€è·¯å’Œæ–¹æ¡ˆã€‚ æœ€åå°±æ˜¯éœ€è¦å¯¹æ•´ä¸ªé“¾è·¯æ¯”è¾ƒç†Ÿæ‚‰ï¼Œæ³¨æ„æ˜¯ä¸€ä¸ªå®Œæ•´çš„é“¾è·¯ï¼Œå‰ç«¯æ€ä¹ˆè®¾è®¡çš„å‘€ï¼Œç½‘å…³çš„ä½œç”¨å‘€ï¼Œæ€ä¹ˆè§£å†³Redisçš„å¹¶å‘ç«äº‰å•Šï¼Œæ•°æ®çš„åŒæ­¥æ–¹å¼å‘€ï¼ŒMQçš„ä½œç”¨å•Šã€‚ ï¼ˆæåˆ°MQåˆæ˜¯ä¸€æ•´æ¡çš„çŸ¥è¯†é“¾è·¯ï¼Œä»€ä¹ˆå¼‚æ­¥ã€å‰Šå³°ã€è§£è€¦ç­‰ç­‰ï¼Œæ‰€ä»¥é¢è¯•ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä¸æ‰“æ²¡æœ‰æŠŠæ¡çš„èƒœä»—ï¼‰ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:6:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æ€»ç»“-1"},{"categories":null,"content":"æµç€æ³ªè¯´å†è§Redisç³»åˆ—åˆ°æ­¤æ˜¯çœŸçš„è¦è·Ÿå¤§å®¶è¯´å†è§äº†ï¼Œå†™äº†7ç¯‡æ–‡ç« ï¼Œå…¶å®å¾ˆå¤šå¤§ä½¬çš„æ€è·¯å’Œç‰‡æ®µçœŸå¿ƒèµï¼Œå…¶å®å¤§å®¶çœ‹å‡ºæ¥äº†æˆ‘çš„æ–‡ç« ä¸ªäººé£æ ¼è‰²å½©ç‰¹åˆ«æµ“åšï¼Œæˆ‘ä¸ªäººåœ¨ç”Ÿæ´»ä¸­å°±æ˜¯è¿™ä¹ˆè¯´è¯çš„ï¼Œä¹Ÿå¸Œæœ›ç”¨è¿™ç§é£æ ¼æŠŠåŸæœ¬æ¯ç‡¥ä¹å‘³çš„çŸ¥è¯†ç‚¹è®©å¤§å®¶éƒ½åƒçœ‹å°è¯´ä¸€æ ·æ´¥æ´¥æœ‰å‘³çš„çœ‹ä¸‹å»ï¼Œä¸çŸ¥é“å¤§å®¶ä»€ä¹ˆæ„Ÿå—ï¼Œå¥½çš„ä¸å¥½çš„éƒ½è¯·ç»™æˆ‘ç•™è¨€ã€‚ æˆ‘è¿™ä¸ªç³»åˆ—çš„æˆ‘ä¼šå†™åˆ°æˆ‘GitHub https://github.com/JavaFamily å›¾ä¸­æ‰€æœ‰çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åå°±éº»çƒ¦å¤§å®¶å¤šå¤šå…³ç…§äº†ï¼Œæˆ‘å†™ä½œçš„æ—¶é—´éƒ½æ˜¯ä¸šä½™æ—¶é—´ï¼ŒåŸºæœ¬ä¸Šå‘¨æœ«å’Œæ™šä¸Šçš„æ—¶é—´éƒ½è´¡çŒ®å‡ºæ¥äº†ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸ªæ–°äººå¾ˆå¤šç‚¹ä¹Ÿæ²¡æ¥è§¦åˆ°ï¼Œä¹Ÿè¦çœ‹ä¹¦çœ‹èµ„æ–™æ‰èƒ½å†™å‡ºæ¥ï¼Œæ‰€ä»¥æœ‰æ—¶å€™è¿˜æ˜¯å¸Œæœ›å¤§å®¶å¤šå¤šåŒ…æ¶µã€‚ é‚£æˆ‘ä»¬ä¸‹æœŸè§ï¼ ä¸‹æœŸå†™________________ï¼Ÿ ä¸å‘Šè¯‰ä½ ï¼Œå“ˆå“ˆï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:6:1","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æµç€æ³ªè¯´å†è§"},{"categories":null,"content":"æ—¥å¸¸æ±‚èµå¥½äº†å„ä½ï¼Œä»¥ä¸Šå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨å†…å®¹äº†ï¼Œèƒ½çœ‹åˆ°è¿™é‡Œçš„äººå‘€ï¼Œéƒ½æ˜¯äººæ‰ã€‚ æˆ‘åé¢ä¼šæ¯å‘¨éƒ½æ›´æ–°å‡ ç¯‡ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å’Œäº’è”ç½‘å¸¸ç”¨æŠ€æœ¯æ ˆç›¸å…³çš„æ–‡ç« ï¼Œéå¸¸æ„Ÿè°¢äººæ‰ä»¬èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè¿™ä¸ªæ–‡ç« å†™å¾—è¿˜ä¸é”™ï¼Œè§‰å¾—ã€Œæ•–ä¸™ã€æˆ‘æœ‰ç‚¹ä¸œè¥¿çš„è¯ æ±‚ç‚¹èµğŸ‘ æ±‚å…³æ³¨â¤ï¸ æ±‚åˆ†äº«ğŸ‘¥ å¯¹æš–ç”·æˆ‘æ¥è¯´çœŸçš„ éå¸¸æœ‰ç”¨ï¼ï¼ï¼ åˆ›ä½œä¸æ˜“ï¼Œå„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼ æ•–ä¸™ | æ–‡ ã€åŸåˆ›ã€‘ã€è½¬è½½è¯·è”ç³»æœ¬äººã€‘ å¦‚æœæœ¬ç¯‡åšå®¢æœ‰ä»»ä½•é”™è¯¯ï¼Œè¯·æ‰¹è¯„æŒ‡æ•™ï¼Œä¸èƒœæ„Ÿæ¿€ ï¼ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—æ¯å‘¨æŒç»­æ›´æ–°ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€ŒJavaFamilyã€ç¬¬ä¸€æ—¶é—´é˜…è¯»å’Œå‚¬æ›´ï¼ˆå…¬ä¼—å·æ¯”åšå®¢æ—©ä¸€åˆ°ä¸¤ç¯‡å“Ÿï¼‰ï¼Œæœ¬æ–‡GitHubä¸Šå·²ç»æ”¶å½•https://github.com/JavaFamilyï¼Œæœ‰ä¸€çº¿å¤§å‚é¢è¯•ç‚¹æ€ç»´å¯¼å›¾ï¼Œæ¬¢è¿Starå’Œå®Œå–„ï¼Œé‡Œé¢ä¹Ÿæœ‰æˆ‘ä¸ªäººè”ç³»æ–¹å¼æœ‰ä»€ä¹ˆé—®é¢˜ä¹Ÿå¯ä»¥ç›´æ¥æ‰¾æˆ‘ï¼Œä¹Ÿæœ‰äººæ‰äº¤æµç¾¤ï¼Œæˆ‘ä»¬ä¸€èµ·æœ‰ç‚¹ä¸œè¥¿ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/:7:0","series":null,"tags":["redis"],"title":"ç§’æ€ç³»ç»Ÿè®¾è®¡","uri":"/posts/middleware/redis/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/#æ—¥å¸¸æ±‚èµ"},{"categories":null,"content":" ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:0:0","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#"},{"categories":null,"content":"å‰è¨€Redisåœ¨äº’è”ç½‘æŠ€æœ¯å­˜å‚¨æ–¹é¢ä½¿ç”¨å¦‚æ­¤å¹¿æ³›ï¼Œå‡ ä¹æ‰€æœ‰çš„åç«¯æŠ€æœ¯é¢è¯•å®˜éƒ½è¦åœ¨Redisçš„ä½¿ç”¨å’ŒåŸç†æ–¹é¢å¯¹å°ä¼™ä¼´ä»¬è¿›è¡Œ360Â°çš„åˆéš¾ã€‚ä½œä¸ºä¸€ä¸ªåœ¨äº’è”ç½‘å…¬å¸é¢ä¸€æ¬¡æ‹¿ä¸€æ¬¡offerçš„é¢éœ¸ï¼ˆè¯·å…è®¸æˆ‘ä½¿ç”¨ä¸€ä¸‹å¤¸å¼ çš„ä¿®è¾æ‰‹æ³•ï¼‰ï¼Œæ‰“è´¥äº†æ— æ•°ç«äº‰å¯¹æ‰‹ï¼Œæ¯æ¬¡éƒ½åªèƒ½çœ‹åˆ°æ— æ•°è½å¯çš„èº«å½±å¤±æœ›çš„ç¦»å¼€ï¼Œç•¥æ„Ÿæ„§ç–šï¼Œåœ¨ä¸€ä¸ªå¯‚å¯éš¾è€çš„å¤œæ™šï¼Œæˆ‘ç—›å®šæ€ç—›ï¼Œå†³å®šå¼€å§‹å†™**ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹**ç³»åˆ—ï¼Œå¸Œæœ›èƒ½å¸®åŠ©å„ä½è¯»è€…ä»¥åé¢è¯•åŠ¿å¦‚ç ´ç«¹ï¼Œå¯¹é¢è¯•å®˜è¿›è¡Œ360Â°çš„åå‡»ï¼ŒåŠæ‰“é—®ä½ çš„é¢è¯•å®˜ï¼Œè®©ä¸€åŒé¢è¯•çš„åŒåƒšç ç›®ç»“èˆŒï¼Œç–¯ç‹‚æ”¶å‰²å¤§å‚offerï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:1:0","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#å‰è¨€"},{"categories":null,"content":"ä¸€ç‚¹æ„Ÿæ…¨æœ¬æ¥éƒ½æŠŠç¨¿å­æ”¾åˆ°å…¬ä¼—å·ä¿å­˜äº†ï¼Œæ´—æ¾¡çš„æ—¶å€™æƒ³äº†ä¸€ä¸‹æ™šä¸Šçš„æ¯”èµ›ï¼Œè§‰å¾—è¿˜æ˜¯æ‰“å¼€ç”µè„‘å†™ç‚¹ä¸œè¥¿ï¼Œè·Ÿæ–‡ç« å†…å®¹æ²¡å…³ç³»ï¼Œåªæ˜¯ä¸€ç‚¹ä¸ªäººçš„æ„Ÿæ…¨ï¼Œä¸çŸ¥é“å¤šå°‘å°ä¼™ä¼´çœ‹äº†æ˜¨å¤©SKT VS G2çš„æ¯”èµ›ï¼Œåˆä¸çŸ¥é“å¤šå°‘å°ä¼™ä¼´è¿˜è®°å¾—Fakeræ‰‹æŠ–çš„é‚£ä¸€å¹•ã€‚ ä¸çŸ¥é“ä½ ä»¬çœ‹äº†æ˜¯ä»€ä¹ˆæ„Ÿå—ï¼Œæˆ‘çœ‹åˆ°ä»–æ‰‹æŠ–çš„æ—¶å€™æˆ‘å†…å¿ƒä¹ŸæŠ–äº†ï¼Œä¸–ç•Œèµ›æˆ‘æ”¯æŒçš„éƒ½æ˜¯LPLçš„é˜Ÿä¼ï¼Œä½†æ˜¯æˆ‘å–œæ¬¢æå“¥è¿™ä¸ªäººï¼Œé‚£ç§å¯¹èƒœåˆ©çš„æ‰§è‘—ï¼Œè¿™ä¹ˆå¤šå¹´äº†é‚£ç§åšæŒè‡ªå·±çš„åšæŒï¼Œè¿™ä¹ˆå¤šåˆ©ç›Šè¯±æƒ‘åœ¨é¢å‰å´åªæƒ³è¦èƒœåˆ©ï¼Œè¿™æ ·çš„äººæˆ‘å¥½å–œæ¬¢å•Šï¼Œæˆ‘æƒ³å¾ˆå¤šäººä¹Ÿå–œæ¬¢ã€‚ å¯èƒ½å°±åƒå¾ˆå¤šç½‘å‹è¯´çš„é‚£æ ·ï¼Œè‹±é›„è¿Ÿæš®ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä»–è¿˜æ˜¯æœ‰ç‚¹ä¸œè¥¿ï¼Œå°±åƒå¾ˆå¤šäººè¯´æˆ‘ä»¬ç¨‹åºå‘˜åªèƒ½åƒå¹´è½»é¥­ä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœä½ åšæŒè‡ªå·±çš„åšæŒï¼Œåšä¸ªè…¹æœ‰è¯—ä¹¦æ°”è‡ªåçš„ä»”ï¼Œæˆ‘æƒ³æœ€åè‚¯å®šä¼šå¾—åˆ°è‡ªå·±çš„å¾—åˆ°ã€‚ å¥½äº†æˆ‘ä¹Ÿä¸ç…½æƒ…äº†ï¼Œæˆ‘ä»¬å¼€å§‹è®²æŠ€æœ¯å§ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:2:0","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#ä¸€ç‚¹æ„Ÿæ…¨"},{"categories":null,"content":"æ­£æ–‡ä¸Šä¸€æœŸåŠæ‰“ç³»åˆ—æˆ‘ä»¬æåˆ°äº†Redisçš„åŸºç¡€çŸ¥è¯†ï¼Œè¿˜æ²¡çœ‹çš„å°ä¼™ä¼´å¯ä»¥å›é¡¾ä¸€ä¸‹ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ é‚£æåˆ°Redisæˆ‘ç›¸ä¿¡å„ä½åœ¨é¢è¯•ï¼Œæˆ–è€…å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¯¹ç¼“å­˜é›ªå´©ï¼Œç©¿é€ï¼Œå‡»ç©¿ä¹Ÿä¸é™Œç”Ÿå§ï¼Œå°±ç®—æ²¡é‡åˆ°è¿‡ä½†æ˜¯ä½ è‚¯å®šå¬è¿‡ï¼Œé‚£ä¸‰è€…åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæˆ‘ä»¬åˆåº”è¯¥æ€ä¹ˆå»é˜²æ­¢è¿™æ ·çš„æƒ…å†µå‘ç”Ÿå‘¢ï¼Œæˆ‘ä»¬æœ‰è¯·ä¸‹ä¸€ä½å—å®³è€…ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:3:0","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#æ­£æ–‡"},{"categories":null,"content":"é¢è¯•å¼€å§‹ ä¸€ä¸ªå¤§è…¹ä¾¿ä¾¿ï¼Œç©¿ç€æ ¼å­è¡¬è¡£çš„ä¸­å¹´ç”·å­ï¼Œæ‹¿ç€ä¸€ä¸ªæ»¡æ˜¯åˆ’ç—•çš„macå‘ä½ èµ°æ¥ï¼Œçœ‹ç€å¿«ç§ƒé¡¶çš„å¤´å‘ï¼Œå¿ƒæƒ³ç€è‚¯å®šæ˜¯å°¼ç›é¡¶çº§æ¶æ„å¸ˆå§ï¼ä½†æ˜¯æˆ‘ä»¬è…¹æœ‰è¯—ä¹¦æ°”è‡ªåï¼Œè™šéƒ½ä¸è™šã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:4:0","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#é¢è¯•å¼€å§‹"},{"categories":null,"content":"å°ä¼™å­æˆ‘çœ‹ä½ çš„ç®€å†ä¸Šå†™åˆ°äº†Redisï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥å¼€é—¨è§å±±ï¼Œç›´æ¥æ€¼å¸¸è§çš„å‡ ä¸ªå¤§é—®é¢˜ï¼ŒRedisé›ªå´©äº†è§£ä¹ˆï¼Ÿå¸…æ°”è¿·äººçš„é¢è¯•å®˜æ‚¨å¥½ï¼Œæˆ‘äº†è§£çš„ï¼Œç›®å‰ç”µå•†é¦–é¡µä»¥åŠçƒ­ç‚¹æ•°æ®éƒ½ä¼šå»åšç¼“å­˜ ï¼Œä¸€èˆ¬ç¼“å­˜éƒ½æ˜¯å®šæ—¶ä»»åŠ¡å»åˆ·æ–°ï¼Œæˆ–è€…æ˜¯æŸ¥ä¸åˆ°ä¹‹åå»æ›´æ–°çš„ï¼Œå®šæ—¶ä»»åŠ¡åˆ·æ–°å°±æœ‰ä¸€ä¸ªé—®é¢˜ã€‚ ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šå¦‚æœæ‰€æœ‰é¦–é¡µçš„Keyå¤±æ•ˆæ—¶é—´éƒ½æ˜¯12å°æ—¶ï¼Œä¸­åˆ12ç‚¹åˆ·æ–°çš„ï¼Œæˆ‘é›¶ç‚¹æœ‰ä¸ªç§’æ€æ´»åŠ¨å¤§é‡ç”¨æˆ·æ¶Œå…¥ï¼Œå‡è®¾å½“æ—¶æ¯ç§’ 6000 ä¸ªè¯·æ±‚ï¼Œæœ¬æ¥ç¼“å­˜åœ¨å¯ä»¥æ‰›ä½æ¯ç§’ 5000 ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯ç¼“å­˜å½“æ—¶æ‰€æœ‰çš„Keyéƒ½å¤±æ•ˆäº†ã€‚æ­¤æ—¶ 1 ç§’ 6000 ä¸ªè¯·æ±‚å…¨éƒ¨è½æ•°æ®åº“ï¼Œæ•°æ®åº“å¿…ç„¶æ‰›ä¸ä½ï¼Œå®ƒä¼šæŠ¥ä¸€ä¸‹è­¦ï¼ŒçœŸå®æƒ…å†µå¯èƒ½DBAéƒ½æ²¡ååº”è¿‡æ¥å°±ç›´æ¥æŒ‚äº†ã€‚æ­¤æ—¶ï¼Œå¦‚æœæ²¡ç”¨ä»€ä¹ˆç‰¹åˆ«çš„æ–¹æ¡ˆæ¥å¤„ç†è¿™ä¸ªæ•…éšœï¼ŒDBA å¾ˆç€æ€¥ï¼Œé‡å¯æ•°æ®åº“ï¼Œä½†æ˜¯æ•°æ®åº“ç«‹é©¬åˆè¢«æ–°çš„æµé‡ç»™æ‰“æ­»äº†ã€‚è¿™å°±æ˜¯æˆ‘ç†è§£çš„ç¼“å­˜é›ªå´©ã€‚ æˆ‘åˆ»æ„çœ‹äº†ä¸‹æˆ‘åšè¿‡çš„é¡¹ç›®æ„Ÿè§‰å†åŠçš„éƒ½ä¸å…è®¸è¿™ä¹ˆå¤§çš„QPSç›´æ¥æ‰“DBå»ï¼Œä¸è¿‡æ²¡æ…¢SQLåŠ ä¸Šåˆ†åº“ï¼Œå¤§è¡¨åˆ†è¡¨å¯èƒ½è¿˜è¿˜ç®—èƒ½é¡¶ï¼Œä½†æ˜¯è·Ÿç”¨äº†Redisçš„å·®è·è¿˜æ˜¯å¾ˆå¤§ åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆï¼Œé‚£ä¸€ç¬é—´Redisè·Ÿæ²¡æœ‰ä¸€æ ·ï¼Œé‚£è¿™ä¸ªæ•°é‡çº§åˆ«çš„è¯·æ±‚ç›´æ¥æ‰“åˆ°æ•°æ®åº“å‡ ä¹æ˜¯ç¾éš¾æ€§çš„ï¼Œä½ æƒ³æƒ³å¦‚æœæ‰“æŒ‚çš„æ˜¯ä¸€ä¸ªç”¨æˆ·æœåŠ¡çš„åº“ï¼Œé‚£å…¶ä»–ä¾èµ–ä»–çš„åº“æ‰€æœ‰çš„æ¥å£å‡ ä¹éƒ½ä¼šæŠ¥é”™ï¼Œå¦‚æœæ²¡åšç†”æ–­ç­‰ç­–ç•¥åŸºæœ¬ä¸Šå°±æ˜¯ç¬é—´æŒ‚ä¸€ç‰‡çš„èŠ‚å¥ï¼Œä½ æ€ä¹ˆé‡å¯ç”¨æˆ·éƒ½ä¼šæŠŠä½ æ‰“æŒ‚ï¼Œç­‰ä½ èƒ½é‡å¯çš„æ—¶å€™ï¼Œç”¨æˆ·æ—©å°±ç¡è§‰å»äº†ï¼Œå¹¶ä¸”å¯¹ä½ çš„äº§å“å¤±å»äº†ä¿¡å¿ƒï¼Œä»€ä¹ˆåƒåœ¾äº§å“ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:4:1","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#å°ä¼™å­æˆ‘çœ‹ä½ çš„ç®€å†ä¸Šå†™åˆ°äº†redisé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥å¼€é—¨è§å±±ç›´æ¥æ€¼å¸¸è§çš„å‡ ä¸ªå¤§é—®é¢˜redisé›ªå´©äº†è§£ä¹ˆ"},{"categories":null,"content":"é¢è¯•å®˜æ‘¸äº†æ‘¸è‡ªå·±çš„å¤´å‘ï¼Œå—¯è¿˜ä¸é”™ï¼Œé‚£è¿™ç§æƒ…å†µå’‹æ•´ï¼Ÿä½ éƒ½æ˜¯æ€ä¹ˆå»åº”å¯¹çš„ï¼Ÿå¤„ç†ç¼“å­˜é›ªå´©ç®€å•ï¼Œåœ¨æ‰¹é‡å¾€Rediså­˜æ•°æ®çš„æ—¶å€™ï¼ŒæŠŠæ¯ä¸ªKeyçš„å¤±æ•ˆæ—¶é—´éƒ½åŠ ä¸ªéšæœºå€¼å°±å¥½äº†ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ•°æ®ä¸ä¼šåœ¨åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆï¼Œæˆ‘ç›¸ä¿¡ï¼ŒRedisè¿™ç‚¹æµé‡è¿˜æ˜¯é¡¶å¾—ä½çš„ã€‚ setRedisï¼ˆKeyï¼Œvalueï¼Œtime + Math.random() * 10000ï¼‰ï¼› å¦‚æœRedisæ˜¯é›†ç¾¤éƒ¨ç½²ï¼Œå°†çƒ­ç‚¹æ•°æ®å‡åŒ€åˆ†å¸ƒåœ¨ä¸åŒçš„Redisåº“ä¸­ä¹Ÿèƒ½é¿å…å…¨éƒ¨å¤±æ•ˆçš„é—®é¢˜ï¼Œä¸è¿‡æœ¬æ¸£æˆ‘åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ“ä½œé›†ç¾¤çš„æ—¶å€™ï¼Œå•ä¸ªæœåŠ¡éƒ½æ˜¯å¯¹åº”çš„å•ä¸ªRedisåˆ†ç‰‡ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿æ•°æ®çš„ç®¡ç†ï¼Œä½†æ˜¯ä¹ŸåŒæ ·æœ‰äº†å¯èƒ½ä¼šå¤±æ•ˆè¿™æ ·çš„å¼Šç«¯ï¼Œå¤±æ•ˆæ—¶é—´éšæœºæ˜¯ä¸ªå¥½ç­–ç•¥ã€‚ æˆ–è€…è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸è¿œä¸è¿‡æœŸï¼Œæœ‰æ›´æ–°æ“ä½œå°±æ›´æ–°ç¼“å­˜å°±å¥½äº†ï¼ˆæ¯”å¦‚è¿ç»´æ›´æ–°äº†é¦–é¡µå•†å“ï¼Œé‚£ä½ åˆ·ä¸‹ç¼“å­˜å°±å®Œäº‹äº†ï¼Œä¸è¦è®¾ç½®è¿‡æœŸæ—¶é—´ï¼‰ï¼Œç”µå•†é¦–é¡µçš„æ•°æ®ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ“ä½œï¼Œä¿é™©ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:4:2","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#é¢è¯•å®˜æ‘¸äº†æ‘¸è‡ªå·±çš„å¤´å‘å—¯è¿˜ä¸é”™é‚£è¿™ç§æƒ…å†µå’‹æ•´ä½ éƒ½æ˜¯æ€ä¹ˆå»åº”å¯¹çš„"},{"categories":null,"content":"é‚£ä½ äº†è§£ç¼“å­˜ç©¿é€å’Œå‡»ç©¿ä¹ˆï¼Œå¯ä»¥è¯´è¯´ä»–ä»¬è·Ÿé›ªå´©çš„åŒºåˆ«ä¹ˆï¼Ÿå—¯ï¼Œäº†è§£ï¼Œæˆ‘å…ˆè¯´ä¸€ä¸‹ç¼“å­˜ç©¿é€å§ï¼Œç¼“å­˜ç©¿é€æ˜¯æŒ‡ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½æ²¡æœ‰çš„æ•°æ®ï¼Œè€Œç”¨æˆ·ä¸æ–­å‘èµ·è¯·æ±‚ï¼Œæˆ‘ä»¬æ•°æ®åº“çš„ id éƒ½æ˜¯1å¼€å§‹è‡ªå¢ä¸Šå»çš„ï¼Œå¦‚å‘èµ·ä¸ºidå€¼ä¸º -1 çš„æ•°æ®æˆ– id ä¸ºç‰¹åˆ«å¤§ä¸å­˜åœ¨çš„æ•°æ®ã€‚è¿™æ—¶çš„ç”¨æˆ·å¾ˆå¯èƒ½æ˜¯æ”»å‡»è€…ï¼Œæ”»å‡»ä¼šå¯¼è‡´æ•°æ®åº“å‹åŠ›è¿‡å¤§ï¼Œä¸¥é‡ä¼šå‡»å®æ•°æ®åº“ã€‚ å°ç‚¹çš„å•æœºç³»ç»Ÿï¼ŒåŸºæœ¬ä¸Šç”¨postmanå°±èƒ½ææ­»ï¼Œæ¯”å¦‚æˆ‘è‡ªå·±ä¹°çš„é˜¿é‡Œäº‘æœåŠ¡ åƒè¿™ç§ä½ å¦‚æœä¸å¯¹å‚æ•°åšæ ¡éªŒï¼Œæ•°æ®åº“idéƒ½æ˜¯å¤§äº0çš„ï¼Œæˆ‘ä¸€ç›´ç”¨å°äº0çš„å‚æ•°å»è¯·æ±‚ä½ ï¼Œæ¯æ¬¡éƒ½èƒ½ç»•å¼€Redisç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼Œæ•°æ®åº“ä¹ŸæŸ¥ä¸åˆ°ï¼Œæ¯æ¬¡éƒ½è¿™æ ·ï¼Œå¹¶å‘é«˜ç‚¹å°±å®¹æ˜“å´©æ‰äº†ã€‚ è‡³äºç¼“å­˜å‡»ç©¿å˜›ï¼Œè¿™ä¸ªè·Ÿç¼“å­˜é›ªå´©æœ‰ç‚¹åƒï¼Œä½†æ˜¯åˆæœ‰ä¸€ç‚¹ä¸ä¸€æ ·ï¼Œç¼“å­˜é›ªå´©æ˜¯å› ä¸ºå¤§é¢ç§¯çš„ç¼“å­˜å¤±æ•ˆï¼Œæ‰“å´©äº†DBï¼Œè€Œç¼“å­˜å‡»ç©¿ä¸åŒçš„æ˜¯ç¼“å­˜å‡»ç©¿æ˜¯æŒ‡ä¸€ä¸ªKeyéå¸¸çƒ­ç‚¹ï¼Œåœ¨ä¸åœçš„æ‰›ç€å¤§å¹¶å‘ï¼Œå¤§å¹¶å‘é›†ä¸­å¯¹è¿™ä¸€ä¸ªç‚¹è¿›è¡Œè®¿é—®ï¼Œå½“è¿™ä¸ªKeyåœ¨å¤±æ•ˆçš„ç¬é—´ï¼ŒæŒç»­çš„å¤§å¹¶å‘å°±ç©¿ç ´ç¼“å­˜ï¼Œç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œå°±åƒåœ¨ä¸€ä¸ªå®Œå¥½æ— æŸçš„æ¡¶ä¸Šå‡¿å¼€äº†ä¸€ä¸ªæ´ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:4:3","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#é‚£ä½ äº†è§£ç¼“å­˜ç©¿é€å’Œå‡»ç©¿ä¹ˆå¯ä»¥è¯´è¯´ä»–ä»¬è·Ÿé›ªå´©çš„åŒºåˆ«ä¹ˆ"},{"categories":null,"content":"é¢è¯•å®˜éœ²å‡ºæ¬£æ…°çš„çœ¼å…‰ï¼Œé‚£ä»–ä»¬åˆ†åˆ«æ€ä¹ˆè§£å†³ç¼“å­˜ç©¿é€æˆ‘ä¼šåœ¨æ¥å£å±‚å¢åŠ æ ¡éªŒï¼Œæ¯”å¦‚ç”¨æˆ·é‰´æƒæ ¡éªŒï¼Œå‚æ•°åšæ ¡éªŒï¼Œä¸åˆæ³•çš„å‚æ•°ç›´æ¥ä»£ç Returnï¼Œæ¯”å¦‚ï¼šid åšåŸºç¡€æ ¡éªŒï¼Œid \u003c=0çš„ç›´æ¥æ‹¦æˆªç­‰ã€‚ è¿™é‡Œæˆ‘æƒ³æçš„ä¸€ç‚¹å°±æ˜¯ï¼Œæˆ‘ä»¬åœ¨å¼€å‘ç¨‹åºçš„æ—¶å€™éƒ½è¦æœ‰ä¸€é¢—â€œä¸ä¿¡ä»»â€çš„å¿ƒï¼Œå°±æ˜¯ä¸è¦ç›¸ä¿¡ä»»ä½•è°ƒç”¨æ–¹ï¼Œæ¯”å¦‚ä½ æä¾›äº†APIæ¥å£å‡ºå»ï¼Œä½ æœ‰è¿™å‡ ä¸ªå‚æ•°ï¼Œé‚£æˆ‘è§‰å¾—ä½œä¸ºè¢«è°ƒç”¨æ–¹ï¼Œä»»ä½•å¯èƒ½çš„å‚æ•°æƒ…å†µéƒ½åº”è¯¥è¢«è€ƒè™‘åˆ°ï¼Œåšæ ¡éªŒï¼Œå› ä¸ºä½ ä¸ç›¸ä¿¡è°ƒç”¨ä½ çš„äººï¼Œä½ ä¸çŸ¥é“ä»–ä¼šä¼ ä»€ä¹ˆå‚æ•°ç»™ä½ ã€‚ ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½ è¿™ä¸ªæ¥å£æ˜¯åˆ†é¡µæŸ¥è¯¢çš„ï¼Œä½†æ˜¯ä½ æ²¡å¯¹åˆ†é¡µå‚æ•°çš„å¤§å°åšé™åˆ¶ï¼Œè°ƒç”¨çš„äººä¸‡ä¸€ä¸€å£æ°”æŸ¥ Integer.MAX_VALUE ä¸€æ¬¡è¯·æ±‚å°±è¦ä½ å‡ ç§’ï¼Œå¤šå‡ ä¸ªå¹¶å‘ä½ ä¸å°±æŒ‚äº†ä¹ˆï¼Ÿæ˜¯å…¬å¸åŒäº‹è°ƒç”¨è¿˜å¥½å¤§ä¸äº†å‘ç°äº†æ”¹æ‰ï¼Œä½†æ˜¯å¦‚æœæ˜¯é»‘å®¢æˆ–è€…ç«äº‰å¯¹æ‰‹å‘¢ï¼Ÿåœ¨ä½ åŒåä¸€å½“å¤©å°±è°ƒä½ è¿™ä¸ªæ¥å£ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå°±ä¸ç”¨æˆ‘è¯´äº†å§ã€‚è¿™æ˜¯ä¹‹å‰çš„Leaderè·Ÿæˆ‘è¯´çš„ï¼Œæˆ‘è§‰å¾—å¤§å®¶ä¹Ÿéƒ½åº”è¯¥äº†è§£ä¸‹ã€‚ ä»ç¼“å­˜å–ä¸åˆ°çš„æ•°æ®ï¼Œåœ¨æ•°æ®åº“ä¸­ä¹Ÿæ²¡æœ‰å–åˆ°ï¼Œè¿™æ—¶ä¹Ÿå¯ä»¥å°†å¯¹åº”Keyçš„Valueå¯¹å†™ä¸ºnullã€ä½ç½®é”™è¯¯ã€ç¨åé‡è¯•è¿™æ ·çš„å€¼å…·ä½“å–å•¥é—®äº§å“ï¼Œæˆ–è€…çœ‹å…·ä½“çš„åœºæ™¯ï¼Œç¼“å­˜æœ‰æ•ˆæ—¶é—´å¯ä»¥è®¾ç½®çŸ­ç‚¹ï¼Œå¦‚30ç§’ï¼ˆè®¾ç½®å¤ªé•¿ä¼šå¯¼è‡´æ­£å¸¸æƒ…å†µä¹Ÿæ²¡æ³•ä½¿ç”¨ï¼‰ã€‚ è¿™æ ·å¯ä»¥é˜²æ­¢æ”»å‡»ç”¨æˆ·åå¤ç”¨åŒä¸€ä¸ªidæš´åŠ›æ”»å‡»ï¼Œä½†æ˜¯æˆ‘ä»¬è¦çŸ¥é“æ­£å¸¸ç”¨æˆ·æ˜¯ä¸ä¼šåœ¨å•ç§’å†…å‘èµ·è¿™ä¹ˆå¤šæ¬¡è¯·æ±‚çš„ï¼Œé‚£ç½‘å…³å±‚Nginxæœ¬æ¸£æˆ‘ä¹Ÿè®°å¾—æœ‰é…ç½®é¡¹ï¼Œå¯ä»¥è®©è¿ç»´å¤§å¤§å¯¹å•ä¸ªIPæ¯ç§’è®¿é—®æ¬¡æ•°è¶…å‡ºé˜ˆå€¼çš„IPéƒ½æ‹‰é»‘ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:4:4","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#é¢è¯•å®˜éœ²å‡ºæ¬£æ…°çš„çœ¼å…‰é‚£ä»–ä»¬åˆ†åˆ«æ€ä¹ˆè§£å†³"},{"categories":null,"content":"é‚£ä½ è¿˜æœ‰åˆ«çš„åŠæ³•ä¹ˆï¼Ÿè¿˜æœ‰æˆ‘è®°å¾—Redisè¿˜æœ‰ä¸€ä¸ªé«˜çº§ç”¨æ³•**å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆBloom Filterï¼‰**è¿™ä¸ªä¹Ÿèƒ½å¾ˆå¥½çš„é˜²æ­¢ç¼“å­˜ç©¿é€çš„å‘ç”Ÿï¼Œä»–çš„åŸç†ä¹Ÿå¾ˆç®€å•å°±æ˜¯åˆ©ç”¨é«˜æ•ˆçš„æ•°æ®ç»“æ„å’Œç®—æ³•å¿«é€Ÿåˆ¤æ–­å‡ºä½ è¿™ä¸ªKeyæ˜¯å¦åœ¨æ•°æ®åº“ä¸­å­˜åœ¨ï¼Œä¸å­˜åœ¨ä½ returnå°±å¥½äº†ï¼Œå­˜åœ¨ä½ å°±å»æŸ¥äº†DBåˆ·æ–°KVå†returnã€‚ é‚£åˆæœ‰å°ä¼™ä¼´è¯´äº†å¦‚æœé»‘å®¢æœ‰å¾ˆå¤šä¸ªIPåŒæ—¶å‘èµ·æ”»å‡»å‘¢ï¼Ÿè¿™ç‚¹æˆ‘ä¸€ç›´ä¹Ÿä¸æ˜¯å¾ˆæƒ³å¾—é€šï¼Œä½†æ˜¯ä¸€èˆ¬çº§åˆ«çš„é»‘å®¢æ²¡è¿™ä¹ˆå¤šè‚‰é¸¡ï¼Œå†è€…æ­£å¸¸çº§åˆ«çš„Redisé›†ç¾¤éƒ½èƒ½æŠ—ä½è¿™ç§çº§åˆ«çš„è®¿é—®çš„ï¼Œå°å…¬å¸æˆ‘æƒ³ä»–ä»¬ä¸ä¼šæ„Ÿå…´è¶£çš„ã€‚æŠŠç³»ç»Ÿçš„é«˜å¯ç”¨åšå¥½äº†ï¼Œé›†ç¾¤è¿˜æ˜¯å¾ˆèƒ½é¡¶çš„ã€‚ ç¼“å­˜å‡»ç©¿çš„è¯ï¼Œè®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸è¿œä¸è¿‡æœŸã€‚æˆ–è€…åŠ ä¸Šäº’æ–¥é”å°±èƒ½æå®šäº† ä½œä¸ºæš–ç”·ï¼Œä»£ç æˆ‘è‚¯å®šå¸®ä½ ä»¬å‡†å¤‡å¥½äº† ##é¢è¯•ç»“æŸ ### å—¯å—¯è¿˜ä¸é”™ï¼Œä¸‰ä¸ªç‚¹éƒ½å›ç­”å¾—å¾ˆå¥½ï¼Œä»Šå¤©ä¹Ÿä¸æ—©äº†ï¼Œé¢è¯•å°±å…ˆåˆ°è¿™é‡Œï¼Œæ˜å¤©ä½ å†è¿‡æ¥äºŒé¢æˆ‘ç»§ç»­é—®ä¸€ä¸‹ä½ å…³äºRedisé›†ç¾¤é«˜å¯ç”¨ï¼Œä¸»ä»åŒæ­¥ï¼Œå“¨å…µç­‰çŸ¥è¯†ç‚¹çš„é—®é¢˜ã€‚ æ™•å±…ç„¶è¿˜æœ‰ä¸‹ä¸€è½®é¢è¯•ï¼ï¼ˆå¼ºè¡Œä¸‹ä¸€æœŸçš„ä¼ç¬”å“ˆå“ˆï¼‰ä½†æ˜¯ä¸ºäº†offerè¿˜æ˜¯å¾—èˆ”ï¼Œå—¯å—¯ï¼Œå¥½çš„å¸…æ°”é¢è¯•å®˜ã€‚ èƒ½å›ç­”å¾—è¿™ä¹ˆå…¨é¢è¿™ä¹ˆç»†èŠ‚è¿˜æ˜¯å¿ä¸ä½ç‚¹èµ ï¼ˆ**æš—ç¤ºç‚¹èµï¼Œæ¯æ¬¡éƒ½çœ‹äº†ä¸ç‚¹èµï¼Œä½ ä»¬æƒ³ç™½å«–æˆ‘ä¹ˆï¼Ÿä½ ä»¬å¥½åå–²ï¼Œä¸è¿‡æˆ‘å–œæ¬¢**ï¼‰ ## æ€»ç»“ æˆ‘ä»¬ç©å½’ç©ï¼Œé—¹å½’é—¹ï¼Œåˆ«æ‹¿é¢è¯•å¼€ç©ç¬‘ã€‚ æœ¬æ–‡ç®€å•çš„ä»‹ç»äº†ï¼Œ**Redis**çš„**é›ªå´©**ï¼Œ**å‡»ç©¿**ï¼Œ**ç©¿é€**ï¼Œä¸‰è€…å…¶å®éƒ½å·®ä¸å¤šï¼Œä½†æ˜¯åˆæœ‰ä¸€äº›åŒºåˆ«ï¼Œåœ¨é¢è¯•ä¸­å…¶å®è¿™æ˜¯é—®åˆ°ç¼“å­˜å¿…é—®çš„ï¼Œå¤§å®¶ä¸è¦æŠŠä¸‰è€…ææ··äº†ï¼Œå› ä¸ºç¼“å­˜é›ªå´©ã€ç©¿é€å’Œå‡»ç©¿ï¼Œæ˜¯ç¼“å­˜æœ€å¤§çš„é—®é¢˜ï¼Œè¦ä¹ˆä¸å‡ºç°ï¼Œä¸€æ—¦å‡ºç°å°±æ˜¯è‡´å‘½æ€§çš„é—®é¢˜ï¼Œæ‰€ä»¥é¢è¯•å®˜ä¸€å®šä¼šé—®ä½ ã€‚ å¤§å®¶ä¸€å®šè¦ç†è§£æ˜¯**æ€ä¹ˆå‘ç”Ÿçš„**ï¼Œä»¥åŠæ˜¯æ€ä¹ˆå»**é¿å…**çš„ï¼Œå‘ç”Ÿä¹‹ååˆæ€ä¹ˆå»**æŠ¢æ•‘**ï¼Œä½ å¯ä»¥ä¸æ˜¯çŸ¥é“å¾ˆæ·±å…¥ï¼Œä½†æ˜¯ä½ ä¸èƒ½ä¸€ç‚¹éƒ½ä¸å»æƒ³ï¼Œé¢è¯•æœ‰æ—¶å€™ä¸ä¸€å®šæ˜¯å¯¹çŸ¥è¯†é¢çš„æ‹·é—®ï¼Œæˆ–è®¸æ˜¯å¯¹ä½ çš„æ€åº¦çš„æ‹·é—®ï¼Œå¦‚æœä½ æ€è·¯æ¸…æ™°ï¼Œç„¶å**çŸ¥å…¶ç„¶è¿˜çŸ¥å…¶æ‰€ä»¥ç„¶**é‚£å°±å¾ˆèµï¼Œè¿˜çŸ¥é“æ€ä¹ˆé¢„é˜²é‚£æ¥ä¸Šç­å§ã€‚ ### æœ€åæš–ç”·æˆ‘ç»§ç»­ç»™ä½ ä»¬åšä¸ªå°çš„æŠ€æœ¯æ€»ç»“ï¼š ä¸€èˆ¬é¿å…ä»¥ä¸Šæƒ…å†µå‘ç”Ÿæˆ‘ä»¬ä»ä¸‰ä¸ªæ—¶é—´æ®µå»åˆ†æä¸‹ï¼š - äº‹å‰ï¼š**Redis** é«˜å¯ç”¨ï¼Œä¸»ä»+å“¨å…µï¼Œ**Redis cluster**ï¼Œé¿å…å…¨ç›˜å´©æºƒã€‚ - äº‹ä¸­ï¼šæœ¬åœ° **ehcache** ç¼“å­˜ + **Hystrix** é™æµ+é™çº§ï¼Œé¿å…** MySQL** è¢«æ‰“æ­»ã€‚ äº‹åï¼šRedis æŒä¹…åŒ– RDB+AOFï¼Œä¸€æ—¦é‡å¯ï¼Œè‡ªåŠ¨ä»ç£ç›˜ä¸ŠåŠ è½½æ•°æ®ï¼Œå¿«é€Ÿæ¢å¤ç¼“å­˜æ•°æ®ã€‚ ä¸Šé¢çš„å‡ ç‚¹æˆ‘ä¼šåœ¨åŠæ‰“ç³»åˆ—Redisç¯‡å…¨éƒ¨è®²ä¸€ä¸‹è¿™ä¸ªæœˆåº”è¯¥å¯ä»¥å§Redisæ›´å®Œï¼Œé™æµç»„ä»¶ï¼Œå¯ä»¥è®¾ç½®æ¯ç§’çš„è¯·æ±‚ï¼Œæœ‰å¤šå°‘èƒ½é€šè¿‡ç»„ä»¶ï¼Œå‰©ä½™çš„æœªé€šè¿‡çš„è¯·æ±‚ï¼Œæ€ä¹ˆåŠï¼Ÿèµ°é™çº§ï¼å¯ä»¥è¿”å›ä¸€äº›é»˜è®¤çš„å€¼ï¼Œæˆ–è€…å‹æƒ…æç¤ºï¼Œæˆ–è€…ç©ºç™½çš„å€¼ã€‚ å¥½å¤„ï¼š æ•°æ®åº“ç»å¯¹ä¸ä¼šæ­»ï¼Œé™æµç»„ä»¶ç¡®ä¿äº†æ¯ç§’åªæœ‰å¤šå°‘ä¸ªè¯·æ±‚èƒ½é€šè¿‡ã€‚ åªè¦æ•°æ®åº“ä¸æ­»ï¼Œå°±æ˜¯è¯´ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ï¼Œ3/5 çš„è¯·æ±‚éƒ½æ˜¯å¯ä»¥è¢«å¤„ç†çš„ã€‚ åªè¦æœ‰ 3/5 çš„è¯·æ±‚å¯ä»¥è¢«å¤„ç†ï¼Œå°±æ„å‘³ç€ä½ çš„ç³»ç»Ÿæ²¡æ­»ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ï¼Œå¯èƒ½å°±æ˜¯ç‚¹å‡»å‡ æ¬¡åˆ·ä¸å‡ºæ¥é¡µé¢ï¼Œä½†æ˜¯å¤šç‚¹å‡ æ¬¡ï¼Œå°±å¯ä»¥åˆ·å‡ºæ¥ä¸€æ¬¡ã€‚ è¿™ä¸ªåœ¨ç›®å‰ä¸»æµçš„äº’è”ç½‘å¤§å‚é‡Œé¢æ˜¯æœ€å¸¸è§çš„ï¼Œä½ æ˜¯ä¸æ˜¯å¥½å¥‡ï¼ŒæŸæ˜æ˜Ÿçˆ†å‡ºä»€ä¹ˆäº‹æƒ…ï¼Œä½ å‘ç°ä½ å»å¾®åšæ€ä¹ˆåˆ·éƒ½ç©ºç™½ç•Œé¢ï¼Œä½†æ˜¯æœ‰çš„äººåˆç›´æ¥è¿›äº†ï¼Œä½ å¤šåˆ·å‡ æ¬¡ä¹Ÿå‡ºæ¥äº†ï¼Œç°åœ¨çŸ¥é“äº†å§ï¼Œé‚£æ˜¯åšäº†é™çº§ï¼Œç‰ºç‰²éƒ¨åˆ†ç”¨æˆ·çš„ä½“éªŒæ¢æ¥æœåŠ¡å™¨çš„å®‰å…¨ï¼Œå¯è¿˜è¡Œï¼Ÿ å¥½äº†å„ä½ï¼Œä»¥ä¸Šå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨å†…å®¹äº†ï¼Œèƒ½çœ‹åˆ°è¿™é‡Œçš„äººå‘€ï¼Œéƒ½æ˜¯äººæ‰ï¼Œæˆ‘åé¢ä¼šæ¯å‘¨éƒ½æ›´æ–°å‡ ç¯‡ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å’ŒJavaæŠ€æœ¯æ ˆç›¸å…³çš„æ–‡ç« ã€‚å¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„ï¼Œä¹Ÿå¯ä»¥ç•™è¨€ç»™æˆ‘ï¼Œæˆ‘ä¸€æœ‰æ—¶é—´å°±ä¼šå†™å‡ºæ¥ï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚ éå¸¸æ„Ÿè°¢é“ä»”/é“å¥³æ‚¨èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè¿™ä¸ªæ–‡ç« å†™å¾—è¿˜ä¸é”™çš„è¯ æ±‚ç‚¹èµ æ±‚å…³æ³¨ æ±‚åˆ†äº« æ±‚ç•™è¨€ **ï¼ˆå¯¹æˆ‘éå¸¸æœ‰ç”¨ï¼‰**å„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼Œæ‹œäº†ä¸ªæ‹œï¼ æ•–ä¸™ | æ–‡ ã€åŸåˆ›ã€‘ æ¯å‘¨éƒ½ä¼šæŒç»­æ›´æ–°ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ç¬¬ä¸€æ—¶é—´é˜…è¯»å’Œå‚¬æ›´ï¼Œä¹Ÿå¯ä»¥åœ¨å…¬ä¼—å·å›å¤ã€äººæ‰ã€‘åŠ å…¥äººæ‰äº¤æµç¾¤ä¸€èµ·è®¨è®ºé¢è¯•é¢˜ï¼Œå°±ä¸šå’Œå·¥ä½œä¸Šæœ‰ä»€ä¹ˆé—®é¢˜ä¹Ÿå¯ä»¥ç›´æ¥æ»´æ»´æˆ‘ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸ªæ–°äººï¼Œä¸è¿‡ä¸å½±å“æˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼Œä½œä¸ºæ¸£ç”·ï¼Œæˆ‘ç»™ä¸äº†ä½ å·¥ä½œï¼Œè¿˜ç»™ä¸äº†ä½ æ¸©æš–å˜›ï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/:4:5","series":null,"tags":["redis"],"title":"ç¼“å­˜å‡»ç©¿ã€é›ªå´©ã€ç©¿é€","uri":"/posts/middleware/redis/%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E9%9B%AA%E5%B4%A9%E7%A9%BF%E9%80%8F/#é‚£ä½ è¿˜æœ‰åˆ«çš„åŠæ³•ä¹ˆ"},{"categories":null,"content":" ä½ çŸ¥é“çš„è¶Šå¤šï¼Œä½ ä¸çŸ¥é“çš„è¶Šå¤š ç‚¹èµå†çœ‹ï¼Œå…»æˆä¹ æƒ¯ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:0:0","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#"},{"categories":null,"content":"å‰è¨€Redisåœ¨äº’è”ç½‘æŠ€æœ¯å­˜å‚¨æ–¹é¢ä½¿ç”¨å¦‚æ­¤å¹¿æ³›ï¼Œå‡ ä¹æ‰€æœ‰çš„åç«¯æŠ€æœ¯é¢è¯•å®˜éƒ½è¦åœ¨Redisçš„ä½¿ç”¨å’ŒåŸç†æ–¹é¢å¯¹å°ä¼™ä¼´ä»¬è¿›è¡Œ360Â°çš„åˆéš¾ã€‚ä½œä¸ºä¸€ä¸ªåœ¨äº’è”ç½‘å…¬å¸é¢ä¸€æ¬¡æ‹¿ä¸€æ¬¡offerçš„é¢éœ¸ï¼ˆè¯·å…è®¸æˆ‘ä½¿ç”¨ä¸€ä¸‹å¤¸å¼ çš„ä¿®è¾æ‰‹æ³•ï¼‰ï¼Œæ‰“è´¥äº†æ— æ•°ç«äº‰å¯¹æ‰‹ï¼Œæ¯æ¬¡éƒ½åªèƒ½çœ‹åˆ°æ— æ•°è½å¯çš„èº«å½±å¤±æœ›çš„ç¦»å¼€ï¼Œç•¥æ„Ÿæ„§ç–šï¼Œåœ¨ä¸€ä¸ªå¯‚å¯éš¾è€çš„å¤œæ™šï¼Œæˆ‘ç—›å®šæ€ç—›ï¼Œå†³å®šå¼€å§‹å†™**ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—ï¼Œå¸Œæœ›èƒ½å¸®åŠ©å„ä½è¯»è€…ä»¥åé¢è¯•åŠ¿å¦‚ç ´ç«¹ï¼Œå¯¹é¢è¯•å®˜è¿›è¡Œ360Â°çš„åå‡»ï¼ŒåŠæ‰“é—®ä½ çš„é¢è¯•å®˜ï¼Œè®©ä¸€åŒé¢è¯•çš„åŒåƒšç ç›®ç»“èˆŒï¼Œç–¯ç‹‚æ”¶å‰²å¤§å‚Offer**ï¼ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:1:0","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#å‰è¨€"},{"categories":null,"content":"çµ®å¨å†™è¿™æœŸå…¶å®æ¯”è¾ƒçº ç»“ï¼Œæˆ‘ä¹‹å‰çš„å†™çš„æ¯”è¾ƒé€šä¿—æ˜“æ‡‚ï¼Œä¸€æ˜¯æˆ‘éƒ½çŸ¥é“è¿™äº›ç‚¹ï¼ŒäºŒæ˜¯ä¹‹å‰æˆ‘åœ¨æ‰€åœ¨çš„ç”µå•†å…¬å¸å¯¹é›ªå´©ï¼Œå‡»ç©¿å•¥çš„è¿˜ç®—æœ‰åœºæ™¯å»æ¥è§¦ã€‚ä½†æ˜¯çº¿ä¸Šçš„Redisé›†ç¾¤æˆ‘å®é™…æ“ä½œç»éªŒå¾ˆå°‘ï¼Œæ€»ä¸èƒ½åœ¨å…¬å¸çº¿ä¸Šç¯å¢ƒå®è·µé‚£äº›æ“ä½œå§ï¼Œæ‰€ä»¥æœ€åçœ‹äº†ä¸‹å®˜ç½‘ï¼Œè¿˜æœ‰ä¸€äº›èµ„æ–™ï¼ˆæ–‡ç« åé¢æˆ‘éƒ½ä¼šè´´å‡ºæ¥ï¼‰ï¼Œå¼ºè¡Œæ€¼äº†è¿™ä¹ˆç¯‡å‡ºæ¥ã€‚ æœ€è¿‘åŒåä¸€å°å¿™ï¼Œå‘¨æœ«åŒåä¸€å€¼ç­ç›®æµ‹æ²¡æ—¶é—´å†™ï¼Œé‚£æˆ‘æ˜¯æš–ç”·å‘€ï¼Œæˆ‘ä¸èƒ½é¸½å•Šï¼Œå°±æœ‰äº†è¿™ä¸€ç¯‡ï¼Œä¸‹ä¸€ç¯‡è¿Ÿåˆ°ä½ ä»¬ä¸è¦å–·æˆ‘å“ˆï¼Œè€Œä¸”ä¸‹ä¸€ç¯‡è¿˜æ˜¯Redisçš„ç»ˆç« è¿˜æ˜¯å¾—æ„æ€ä¸‹ï¼Œä¸ç†Ÿæ‚‰çš„çŸ¥è¯†ç‚¹æˆ‘æ€•æ¼æ´å¤šï¼Œç‰¹æ„è®©ä»¥å‰çš„å¤§ç‰›åŒäº‹çœ‹äº†ä¸‹ï¼Œæ‰€ä»¥æœ‰å•¥ä¸å¯¹çš„åœ°æ–¹å¤§å®¶åŠæ—¶ç•™è¨€Dissæˆ‘ï¼Œå†™è¿™ç¯‡æ˜¯çœŸçš„éš¾ï¼Œè¯ºä¸‹é¢å°±æ˜¯æˆ‘æœ¬äººæŸå¤©å‡Œæ™¨ä¸¤ç‚¹çš„æ‹çš„è§†é¢‘ï¼Œå¤šåŠ¨ç—‡çš„ä»”ã€‚ ä¹‹å‰è¯´è¿‡ç³»åˆ—ç¬¬äºŒç¯‡åˆ°300èµæˆ‘å°±å‘ç¬¬ä¸‰ç¯‡ å’‹æ ·æ²¡éª—ä½ ä»¬å§ï¼Œå°±å¾ˆæ¯ç«­ï¼Œä¸BBäº†ï¼Œå¼€æã€‚ ä¸ç‚¹ä¸ªèµå¯¹ä¸èµ·æˆ‘ï¼Œè¿™æ¬¡ä¸è¦ç™½å«–æˆ‘ï¼ ##æ­£æ–‡ ä¸Šå‡ æœŸ**ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹**è¿˜æ²¡çœ‹çš„å°ä¼™ä¼´å¯ä»¥å›é¡¾ä¸€ä¸‹ï¼ˆæ˜æ˜å°±å†™äº†ä¸¤æœŸè¯´çš„å¥½åƒå¾ˆå¤šä¸€æ ·ï¼‰ï¼ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-RedisåŸºç¡€ ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—-ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€ å¤§å®¶éƒ½çŸ¥é“ä¸€ä¸ªæŠ€æœ¯çš„å¼•å…¥æ–¹ä¾¿äº†å¼€å‘ï¼Œè§£å†³äº†å„ç§é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿä¼šå¸¦æ¥å¯¹åº”çš„é—®é¢˜ï¼ŒæŠ€æœ¯æ˜¯æŠŠåŒåˆƒå‰‘å˜›ï¼Œé›†ç¾¤çš„å¼•å…¥ä¹Ÿä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ï¼Œå¦‚ï¼šé›†ç¾¤çš„é«˜å¯ç”¨æ€ä¹ˆä¿è¯ï¼Œæ•°æ®æ€ä¹ˆåŒæ­¥ç­‰ç­‰ï¼Œæˆ‘ä»¬è¯ä¸å¤šè¯´ï¼Œæœ‰è¯·ä¸‹ä¸€ä½å—å®³è€…ä¸ºæˆ‘ä»¬å±•ç¤ºã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:0","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#çµ®å¨"},{"categories":null,"content":"é¢è¯•å¼€å§‹ ä¸‰ä¸ªå¤§è…¹ä¾¿ä¾¿ï¼Œç©¿ç€æ ¼å­è¡¬è¡£çš„ä¸­å¹´ç”·å­ï¼Œæ‹¿ç€ä¸‰ä¸ªæ»¡æ˜¯åˆ’ç—•çš„macå‘ä½ èµ°æ¥ï¼Œçœ‹ç€å¿«ç§ƒé¡¶çš„å¤´å‘ï¼Œå¿ƒæƒ³ç€è‚¯å®šæ˜¯å°¼ç›é¡¶çº§æ¶æ„å¸ˆå§ï¼è€Œä¸”è¿˜æ˜¯ä¸‰ä¸ªï¼Œä½†æ˜¯è¿˜å¥½æˆ‘çœ‹è¿‡æ•–ä¸™å†™çš„ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—ï¼Œè…¹æœ‰è¯—ä¹¦æ°”è‡ªåï¼Œæ ¹æœ¬è™šéƒ½ä¸è™šå¥½ä¼ã€‚ å°ä¼™å­ä½ å¥½ï¼Œä¹‹å‰é—®è¿‡äº†ä½ åŸºç¡€çŸ¥è¯†ä»¥åŠä¸€äº›ç¼“å­˜çš„å¸¸è§å‡ ä¸ªå¤§é—®é¢˜äº†ï¼Œé‚£ä½ èƒ½è·Ÿæˆ‘èŠèŠä¸ºå•¥Redisé‚£ä¹ˆå¿«ä¹ˆï¼Ÿå“¦ï¼Œå¸…æ°”è¿·äººçš„é¢è¯•å®˜æ‚¨å¥½ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸€ä¸‹å…³ç³»å‹æ•°æ®åº“è·ŸRedisæœ¬è´¨ä¸Šçš„åŒºåˆ«ã€‚ Redisé‡‡ç”¨çš„æ˜¯åŸºäºå†…å­˜çš„é‡‡ç”¨çš„æ˜¯å•è¿›ç¨‹å•çº¿ç¨‹æ¨¡å‹çš„ KV æ•°æ®åº“ï¼Œç”±Cè¯­è¨€ç¼–å†™ï¼Œå®˜æ–¹æä¾›çš„æ•°æ®æ˜¯å¯ä»¥è¾¾åˆ°100000+çš„QPSï¼ˆæ¯ç§’å†…æŸ¥è¯¢æ¬¡æ•°ï¼‰ã€‚ å®Œå…¨åŸºäºå†…å­˜ï¼Œç»å¤§éƒ¨åˆ†è¯·æ±‚æ˜¯çº¯ç²¹çš„å†…å­˜æ“ä½œï¼Œéå¸¸å¿«é€Ÿã€‚å®ƒçš„ï¼Œæ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œç±»ä¼¼äºHashMapï¼ŒHashMapçš„ä¼˜åŠ¿å°±æ˜¯æŸ¥æ‰¾å’Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼› æ•°æ®ç»“æ„ç®€å•ï¼Œå¯¹æ•°æ®æ“ä½œä¹Ÿç®€å•ï¼ŒRedisä¸­çš„æ•°æ®ç»“æ„æ˜¯ä¸“é—¨è¿›è¡Œè®¾è®¡çš„ï¼› é‡‡ç”¨å•çº¿ç¨‹ï¼Œé¿å…äº†ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰æ¡ä»¶ï¼Œä¹Ÿä¸å­˜åœ¨å¤šè¿›ç¨‹æˆ–è€…å¤šçº¿ç¨‹å¯¼è‡´çš„åˆ‡æ¢è€Œæ¶ˆè€— CPUï¼Œä¸ç”¨å»è€ƒè™‘å„ç§é”çš„é—®é¢˜ï¼Œä¸å­˜åœ¨åŠ é”é‡Šæ”¾é”æ“ä½œï¼Œæ²¡æœ‰å› ä¸ºå¯èƒ½å‡ºç°æ­»é”è€Œå¯¼è‡´çš„æ€§èƒ½æ¶ˆè€—ï¼› ä½¿ç”¨å¤šè·¯I/Oå¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡IOï¼› ä½¿ç”¨åº•å±‚æ¨¡å‹ä¸åŒï¼Œå®ƒä»¬ä¹‹é—´åº•å±‚å®ç°æ–¹å¼ä»¥åŠä¸å®¢æˆ·ç«¯ä¹‹é—´é€šä¿¡çš„åº”ç”¨åè®®ä¸ä¸€æ ·ï¼ŒRedisç›´æ¥è‡ªå·±æ„å»ºäº†VM æœºåˆ¶ ï¼Œå› ä¸ºä¸€èˆ¬çš„ç³»ç»Ÿè°ƒç”¨ç³»ç»Ÿå‡½æ•°çš„è¯ï¼Œä¼šæµªè´¹ä¸€å®šçš„æ—¶é—´å»ç§»åŠ¨å’Œè¯·æ±‚ï¼› ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:1","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#é¢è¯•å¼€å§‹"},{"categories":null,"content":"é¢è¯•å¼€å§‹ ä¸‰ä¸ªå¤§è…¹ä¾¿ä¾¿ï¼Œç©¿ç€æ ¼å­è¡¬è¡£çš„ä¸­å¹´ç”·å­ï¼Œæ‹¿ç€ä¸‰ä¸ªæ»¡æ˜¯åˆ’ç—•çš„macå‘ä½ èµ°æ¥ï¼Œçœ‹ç€å¿«ç§ƒé¡¶çš„å¤´å‘ï¼Œå¿ƒæƒ³ç€è‚¯å®šæ˜¯å°¼ç›é¡¶çº§æ¶æ„å¸ˆå§ï¼è€Œä¸”è¿˜æ˜¯ä¸‰ä¸ªï¼Œä½†æ˜¯è¿˜å¥½æˆ‘çœ‹è¿‡æ•–ä¸™å†™çš„ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—ï¼Œè…¹æœ‰è¯—ä¹¦æ°”è‡ªåï¼Œæ ¹æœ¬è™šéƒ½ä¸è™šå¥½ä¼ã€‚ å°ä¼™å­ä½ å¥½ï¼Œä¹‹å‰é—®è¿‡äº†ä½ åŸºç¡€çŸ¥è¯†ä»¥åŠä¸€äº›ç¼“å­˜çš„å¸¸è§å‡ ä¸ªå¤§é—®é¢˜äº†ï¼Œé‚£ä½ èƒ½è·Ÿæˆ‘èŠèŠä¸ºå•¥Redisé‚£ä¹ˆå¿«ä¹ˆï¼Ÿå“¦ï¼Œå¸…æ°”è¿·äººçš„é¢è¯•å®˜æ‚¨å¥½ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸€ä¸‹å…³ç³»å‹æ•°æ®åº“è·ŸRedisæœ¬è´¨ä¸Šçš„åŒºåˆ«ã€‚ Redisé‡‡ç”¨çš„æ˜¯åŸºäºå†…å­˜çš„é‡‡ç”¨çš„æ˜¯å•è¿›ç¨‹å•çº¿ç¨‹æ¨¡å‹çš„ KV æ•°æ®åº“ï¼Œç”±Cè¯­è¨€ç¼–å†™ï¼Œå®˜æ–¹æä¾›çš„æ•°æ®æ˜¯å¯ä»¥è¾¾åˆ°100000+çš„QPSï¼ˆæ¯ç§’å†…æŸ¥è¯¢æ¬¡æ•°ï¼‰ã€‚ å®Œå…¨åŸºäºå†…å­˜ï¼Œç»å¤§éƒ¨åˆ†è¯·æ±‚æ˜¯çº¯ç²¹çš„å†…å­˜æ“ä½œï¼Œéå¸¸å¿«é€Ÿã€‚å®ƒçš„ï¼Œæ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œç±»ä¼¼äºHashMapï¼ŒHashMapçš„ä¼˜åŠ¿å°±æ˜¯æŸ¥æ‰¾å’Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼› æ•°æ®ç»“æ„ç®€å•ï¼Œå¯¹æ•°æ®æ“ä½œä¹Ÿç®€å•ï¼ŒRedisä¸­çš„æ•°æ®ç»“æ„æ˜¯ä¸“é—¨è¿›è¡Œè®¾è®¡çš„ï¼› é‡‡ç”¨å•çº¿ç¨‹ï¼Œé¿å…äº†ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰æ¡ä»¶ï¼Œä¹Ÿä¸å­˜åœ¨å¤šè¿›ç¨‹æˆ–è€…å¤šçº¿ç¨‹å¯¼è‡´çš„åˆ‡æ¢è€Œæ¶ˆè€— CPUï¼Œä¸ç”¨å»è€ƒè™‘å„ç§é”çš„é—®é¢˜ï¼Œä¸å­˜åœ¨åŠ é”é‡Šæ”¾é”æ“ä½œï¼Œæ²¡æœ‰å› ä¸ºå¯èƒ½å‡ºç°æ­»é”è€Œå¯¼è‡´çš„æ€§èƒ½æ¶ˆè€—ï¼› ä½¿ç”¨å¤šè·¯I/Oå¤ç”¨æ¨¡å‹ï¼Œéé˜»å¡IOï¼› ä½¿ç”¨åº•å±‚æ¨¡å‹ä¸åŒï¼Œå®ƒä»¬ä¹‹é—´åº•å±‚å®ç°æ–¹å¼ä»¥åŠä¸å®¢æˆ·ç«¯ä¹‹é—´é€šä¿¡çš„åº”ç”¨åè®®ä¸ä¸€æ ·ï¼ŒRedisç›´æ¥è‡ªå·±æ„å»ºäº†VM æœºåˆ¶ ï¼Œå› ä¸ºä¸€èˆ¬çš„ç³»ç»Ÿè°ƒç”¨ç³»ç»Ÿå‡½æ•°çš„è¯ï¼Œä¼šæµªè´¹ä¸€å®šçš„æ—¶é—´å»ç§»åŠ¨å’Œè¯·æ±‚ï¼› ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:1","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#å°ä¼™å­ä½ å¥½ä¹‹å‰é—®è¿‡äº†ä½ åŸºç¡€çŸ¥è¯†ä»¥åŠä¸€äº›ç¼“å­˜çš„å¸¸è§å‡ ä¸ªå¤§é—®é¢˜äº†é‚£ä½ èƒ½è·Ÿæˆ‘èŠèŠä¸ºå•¥redisé‚£ä¹ˆå¿«ä¹ˆ"},{"categories":null,"content":"æˆ‘å¯ä»¥é—®ä¸€ä¸‹å•¥æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹ˆï¼Ÿæˆ‘å¯ä»¥æ‰“ä¸ªæ¯”æ–¹ä¹ˆï¼šæˆ‘è®°å¾—æœ‰è¿‡ä¸€ä¸ªå°ä¼™ä¼´å¾®ä¿¡é—®è¿‡æˆ‘ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯å•¥ï¼Œä¸ºå•¥å¯èƒ½ä¼šçº¿ç¨‹ä¸å®‰å…¨ï¼Œæˆ‘æ˜¯è¿™ä¹ˆè¯´çš„ï¼Œå°±å¥½æ¯”ä½ çœ‹ä¸€æœ¬è‹±æ–‡ä¹¦ï¼Œä½ çœ‹åˆ°ç¬¬åé¡µå‘ç°æœ‰ä¸ªå•è¯ä¸ä¼šè¯»ï¼Œä½ åŠ äº†ä¸ªä¹¦ç­¾ï¼Œç„¶åå»æŸ¥å­—å…¸ï¼Œè¿‡äº†ä¸€ä¼šä½ åˆå›æ¥ç»§ç»­ä»ä¹¦ç­¾é‚£é‡Œè¯»ï¼Œokåˆ°ç›®å‰ä¸ºæ­¢æ²¡å•¥é—®é¢˜ã€‚ å¦‚æœæ˜¯ä½ ä¸€ä¸ªäººè¯»è‚¯å®šæ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯ä½ å»æŸ¥çš„æ—¶å€™ï¼Œåˆ«çš„å°ä¼™ä¼´å¥½å¥‡ä½ åœ¨çœ‹å•¥ä»–å°±ç¿»äº†ä¸€ä¸‹ä½ çš„ä¹¦ï¼Œç„¶åæºœäº†ï¼Œå“¦è±ï¼Œä½ å†çœ‹çš„æ—¶å€™å°±å‘ç°ä¹¦ä¸æ˜¯ä½ çœ‹çš„é‚£ä¸€é¡µäº†ã€‚ä¸çŸ¥é“åˆ°è¿™é‡Œä¸ºæ­¢æˆ‘æœ‰æ²¡æœ‰è§£é‡Šæ¸…æ¥šï¼Œä»¥åŠä¸ºå•¥ä¼šçº¿ç¨‹ä¸å®‰å…¨ï¼Œå°±æ˜¯å› ä¸ºä½ ä¸€ä¸ªäººæ€ä¹ˆçœ‹éƒ½æ²¡äº‹ï¼Œä½†æ˜¯äººå¤šäº†æ¢æ¥æ¢å»çš„æ“ä½œä¸€æœ¬ä¹¦æ•°æ®å°±ä¹±äº†ã€‚å¯èƒ½æˆ‘çš„è§£é‡Šå¾ˆç²—ç³™ï¼Œä½†æ˜¯é“ç†åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:2","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#æˆ‘å¯ä»¥é—®ä¸€ä¸‹å•¥æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹ˆ"},{"categories":null,"content":"é‚£ä»–æ˜¯å•çº¿ç¨‹çš„ï¼Œæˆ‘ä»¬ç°åœ¨æœåŠ¡å™¨éƒ½æ˜¯å¤šæ ¸çš„ï¼Œé‚£ä¸æ˜¯å¾ˆæµªè´¹ï¼Ÿæ˜¯çš„ä»–æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å•æœºå¼€å¤šä¸ªRediså®ä¾‹å˜›ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:3","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#é‚£ä»–æ˜¯å•çº¿ç¨‹çš„æˆ‘ä»¬ç°åœ¨æœåŠ¡å™¨éƒ½æ˜¯å¤šæ ¸çš„é‚£ä¸æ˜¯å¾ˆæµªè´¹"},{"categories":null,"content":"æ—¢ç„¶æåˆ°äº†å•æœºä¼šæœ‰ç“¶é¢ˆï¼Œé‚£ä½ ä»¬æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªç“¶é¢ˆçš„ï¼Ÿæˆ‘ä»¬ç”¨åˆ°äº†é›†ç¾¤çš„éƒ¨ç½²æ–¹å¼ä¹Ÿå°±æ˜¯Redis clusterï¼Œå¹¶ä¸”æ˜¯ä¸»ä»åŒæ­¥è¯»å†™åˆ†ç¦»ï¼Œç±»ä¼¼Mysqlçš„ä¸»ä»åŒæ­¥ï¼ŒRedis cluster æ”¯æ’‘ N ä¸ª Redis master nodeï¼Œæ¯ä¸ªmaster nodeéƒ½å¯ä»¥æŒ‚è½½å¤šä¸ª slave nodeã€‚ è¿™æ ·æ•´ä¸ª Redis å°±å¯ä»¥æ¨ªå‘æ‰©å®¹äº†ã€‚å¦‚æœä½ è¦æ”¯æ’‘æ›´å¤§æ•°æ®é‡çš„ç¼“å­˜ï¼Œé‚£å°±æ¨ªå‘æ‰©å®¹æ›´å¤šçš„ master èŠ‚ç‚¹ï¼Œæ¯ä¸ª master èŠ‚ç‚¹å°±èƒ½å­˜æ”¾æ›´å¤šçš„æ•°æ®äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:4","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#æ—¢ç„¶æåˆ°äº†å•æœºä¼šæœ‰ç“¶é¢ˆé‚£ä½ ä»¬æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªç“¶é¢ˆçš„"},{"categories":null,"content":"å“¦ï¼Ÿé‚£é—®é¢˜å°±æ¥äº†ï¼Œä»–ä»¬ä¹‹é—´æ˜¯æ€ä¹ˆè¿›è¡Œæ•°æ®äº¤äº’çš„ï¼Ÿä»¥åŠRedisæ˜¯æ€ä¹ˆè¿›è¡ŒæŒä¹…åŒ–çš„ï¼ŸRedisæ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œä¸€æ–­ç”µæˆ–è€…é‡å¯ä¸å°±æœ¨æœ‰äº†å˜›ï¼Ÿæ˜¯çš„ï¼ŒæŒä¹…åŒ–çš„è¯æ˜¯Redisé«˜å¯ç”¨ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªç¯èŠ‚ï¼Œå› ä¸ºRedisæ•°æ®åœ¨å†…å­˜çš„ç‰¹æ€§ï¼ŒæŒä¹…åŒ–å¿…é¡»å¾—æœ‰ï¼Œæˆ‘äº†è§£åˆ°çš„æŒä¹…åŒ–æ˜¯æœ‰ä¸¤ç§æ–¹å¼çš„ã€‚ RDBï¼šRDB æŒä¹…åŒ–æœºåˆ¶ï¼Œæ˜¯å¯¹ Redis ä¸­çš„æ•°æ®æ‰§è¡Œå‘¨æœŸæ€§çš„æŒä¹…åŒ–ã€‚ AOFï¼šAOF æœºåˆ¶å¯¹æ¯æ¡å†™å…¥å‘½ä»¤ä½œä¸ºæ—¥å¿—ï¼Œä»¥ append-only çš„æ¨¡å¼å†™å…¥ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå› ä¸ºè¿™ä¸ªæ¨¡å¼æ˜¯åªè¿½åŠ çš„æ–¹å¼ï¼Œæ‰€ä»¥æ²¡æœ‰ä»»ä½•ç£ç›˜å¯»å€çš„å¼€é”€ï¼Œæ‰€ä»¥å¾ˆå¿«ï¼Œæœ‰ç‚¹åƒMysqlä¸­çš„binlogã€‚ ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥æŠŠRediså†…å­˜ä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼Œç„¶åå†å°†è¿™äº›æ•°æ®å¤‡ä»½åˆ°åˆ«çš„åœ°æ–¹å»ï¼ŒRDBæ›´é€‚åˆåšå†·å¤‡ï¼ŒAOFæ›´é€‚åˆåšçƒ­å¤‡ï¼Œæ¯”å¦‚æˆ‘æ­å·çš„æŸç”µå•†å…¬å¸æœ‰è¿™ä¸¤ä¸ªæ•°æ®ï¼Œæˆ‘å¤‡ä»½ä¸€ä»½åˆ°æˆ‘æ­å·çš„èŠ‚ç‚¹ï¼Œå†å¤‡ä»½ä¸€ä¸ªåˆ°ä¸Šæµ·çš„ï¼Œå°±ç®—å‘ç”Ÿæ— æ³•é¿å…çš„è‡ªç„¶ç¾å®³ï¼Œä¹Ÿä¸ä¼šä¸¤ä¸ªåœ°æ–¹éƒ½ä¸€èµ·æŒ‚å§ï¼Œè¿™ç¾å¤‡ä¹Ÿå°±æ˜¯å¼‚åœ°å®¹ç¾ï¼Œåœ°çƒæ¯ç­ä»–æ²¡åŠæ³•ã€‚ tipï¼šä¸¤ç§æœºåˆ¶å…¨éƒ¨å¼€å¯çš„æ—¶å€™ï¼ŒRedisåœ¨é‡å¯çš„æ—¶å€™ä¼šé»˜è®¤ä½¿ç”¨AOFå»é‡æ–°æ„å»ºæ•°æ®ï¼Œå› ä¸ºAOFçš„æ•°æ®æ˜¯æ¯”RDBæ›´å®Œæ•´çš„ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:5","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#å“¦é‚£é—®é¢˜å°±æ¥äº†ä»–ä»¬ä¹‹é—´æ˜¯æ€ä¹ˆè¿›è¡Œæ•°æ®äº¤äº’çš„ä»¥åŠredisæ˜¯æ€ä¹ˆè¿›è¡ŒæŒä¹…åŒ–çš„redisæ•°æ®éƒ½åœ¨å†…å­˜ä¸­ä¸€æ–­ç”µæˆ–è€…é‡å¯ä¸å°±æœ¨æœ‰äº†å˜›"},{"categories":null,"content":"é‚£è¿™ä¸¤ç§æœºåˆ¶å„è‡ªä¼˜ç¼ºç‚¹æ˜¯å•¥ï¼Ÿæˆ‘å…ˆè¯´RDBå§ ä¼˜ç‚¹ï¼šä»–ä¼šç”Ÿæˆå¤šä¸ªæ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°æ®æ–‡ä»¶åˆ†åˆ«éƒ½ä»£è¡¨äº†æŸä¸€æ—¶åˆ»Redisé‡Œé¢çš„æ•°æ®ï¼Œè¿™ç§æ–¹å¼ï¼Œæœ‰æ²¡æœ‰è§‰å¾—å¾ˆé€‚åˆåšå†·å¤‡ï¼Œå®Œæ•´çš„æ•°æ®è¿ç»´è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶åŒæ­¥åˆ°è¿œç«¯çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚é˜¿é‡Œçš„äº‘æœåŠ¡ï¼Œè¿™æ ·ä¸€æ—¦çº¿ä¸ŠæŒ‚äº†ï¼Œä½ æƒ³æ¢å¤å¤šå°‘åˆ†é’Ÿä¹‹å‰çš„æ•°æ®ï¼Œå°±å»è¿œç«¯æ‹·è´ä¸€ä»½ä¹‹å‰çš„æ•°æ®å°±å¥½äº†ã€‚ RDBå¯¹Redisçš„æ€§èƒ½å½±å“éå¸¸å°ï¼Œæ˜¯å› ä¸ºåœ¨åŒæ­¥æ•°æ®çš„æ—¶å€™ä»–åªæ˜¯forkäº†ä¸€ä¸ªå­è¿›ç¨‹å»åšæŒä¹…åŒ–çš„ï¼Œè€Œä¸”ä»–åœ¨æ•°æ®æ¢å¤çš„æ—¶å€™é€Ÿåº¦æ¯”AOFæ¥çš„å¿«ã€‚ ç¼ºç‚¹ï¼šRDBéƒ½æ˜¯å¿«ç…§æ–‡ä»¶ï¼Œéƒ½æ˜¯é»˜è®¤äº”åˆ†é’Ÿç”šè‡³æ›´ä¹…çš„æ—¶é—´æ‰ä¼šç”Ÿæˆä¸€æ¬¡ï¼Œè¿™æ„å‘³ç€ä½ è¿™æ¬¡åŒæ­¥åˆ°ä¸‹æ¬¡åŒæ­¥è¿™ä¸­é—´äº”åˆ†é’Ÿçš„æ•°æ®éƒ½å¾ˆå¯èƒ½å…¨éƒ¨ä¸¢å¤±æ‰ã€‚AOFåˆ™æœ€å¤šä¸¢ä¸€ç§’çš„æ•°æ®ï¼Œæ•°æ®å®Œæ•´æ€§ä¸Šé«˜ä¸‹ç«‹åˆ¤ã€‚ è¿˜æœ‰å°±æ˜¯RDBåœ¨ç”Ÿæˆæ•°æ®å¿«ç…§çš„æ—¶å€™ï¼Œå¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œå®¢æˆ·ç«¯å¯èƒ½ä¼šæš‚åœå‡ æ¯«ç§’ç”šè‡³å‡ ç§’ï¼Œä½ å…¬å¸åœ¨åšç§’æ€çš„æ—¶å€™ä»–åˆšå¥½åœ¨è¿™ä¸ªæ—¶å€™forkäº†ä¸€ä¸ªå­è¿›ç¨‹å»ç”Ÿæˆä¸€ä¸ªå¤§å¿«ç…§ï¼Œå“¦è±ï¼Œå‡ºå¤§é—®é¢˜ã€‚ æˆ‘ä»¬å†æ¥è¯´è¯´AOF ####ä¼˜ç‚¹ï¼š ä¸Šé¢æåˆ°äº†ï¼ŒRDBäº”åˆ†é’Ÿä¸€æ¬¡ç”Ÿæˆå¿«ç…§ï¼Œä½†æ˜¯AOFæ˜¯ä¸€ç§’ä¸€æ¬¡å»é€šè¿‡ä¸€ä¸ªåå°çš„çº¿ç¨‹fsyncæ“ä½œï¼Œé‚£æœ€å¤šä¸¢è¿™ä¸€ç§’çš„æ•°æ®ã€‚ AOFåœ¨å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œæ“ä½œçš„æ—¶å€™æ˜¯ä»¥append-onlyçš„æ–¹å¼å»å†™çš„ï¼Œä»–åªæ˜¯è¿½åŠ çš„æ–¹å¼å†™æ•°æ®ï¼Œè‡ªç„¶å°±å°‘äº†å¾ˆå¤šç£ç›˜å¯»å€çš„å¼€é”€äº†ï¼Œå†™å…¥æ€§èƒ½æƒŠäººï¼Œæ–‡ä»¶ä¹Ÿä¸å®¹æ˜“ç ´æŸã€‚ AOFçš„æ—¥å¿—æ˜¯é€šè¿‡ä¸€ä¸ªå«éå¸¸å¯è¯»çš„æ–¹å¼è®°å½•çš„ï¼Œè¿™æ ·çš„ç‰¹æ€§å°±é€‚åˆåšç¾éš¾æ€§æ•°æ®è¯¯åˆ é™¤çš„ç´§æ€¥æ¢å¤äº†ï¼Œæ¯”å¦‚å…¬å¸çš„å®ä¹ ç”Ÿé€šè¿‡flushallæ¸…ç©ºäº†æ‰€æœ‰çš„æ•°æ®ï¼Œåªè¦è¿™ä¸ªæ—¶å€™åå°é‡å†™è¿˜æ²¡å‘ç”Ÿï¼Œä½ é©¬ä¸Šæ‹·è´ä¸€ä»½AOFæ—¥å¿—æ–‡ä»¶ï¼ŒæŠŠæœ€åä¸€æ¡flushallå‘½ä»¤åˆ äº†å°±å®Œäº‹äº†ã€‚ tipï¼šæˆ‘è¯´çš„å‘½ä»¤ä½ ä»¬åˆ«çœŸå»çº¿ä¸Šç³»ç»Ÿæ“ä½œå•Šï¼Œæƒ³è¯•å»è‡ªå·±ä¹°çš„æœåŠ¡å™¨ä¸Šè£…ä¸ªRedisè¯•ï¼Œåˆ«åˆ°æ—¶å€™æ¥è¯´ï¼Œæ•–ä¸™çœŸæ˜¯ä¸ªæ¸£ç”·ï¼Œå®³æˆ‘æŠŠæœåŠ¡å™¨æå´©äº†ï¼ŒRediså®˜ç½‘ä¸Šçš„å‘½ä»¤éƒ½å»çœ‹çœ‹ï¼Œä¸è¦ä¹±è¯•ï¼ï¼ï¼ ####ç¼ºç‚¹ï¼š ä¸€æ ·çš„æ•°æ®ï¼ŒAOFæ–‡ä»¶æ¯”RDBè¿˜è¦å¤§ã€‚ AOFå¼€å¯åï¼ŒRedisæ”¯æŒå†™çš„QPSä¼šæ¯”RDBæ”¯æŒå†™çš„è¦ä½ï¼Œä»–ä¸æ˜¯æ¯ç§’éƒ½è¦å»å¼‚æ­¥åˆ·æ–°ä¸€æ¬¡æ—¥å¿—å˜›fsyncï¼Œå½“ç„¶å³ä½¿è¿™æ ·æ€§èƒ½è¿˜æ˜¯å¾ˆé«˜ï¼Œæˆ‘è®°å¾—ElasticSearchä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œå¼‚æ­¥åˆ·æ–°ç¼“å­˜åŒºçš„æ•°æ®å»æŒä¹…åŒ–ï¼Œä¸ºå•¥è¿™ä¹ˆåšå‘¢ï¼Œä¸ç›´æ¥æ¥ä¸€æ¡æ€¼ä¸€æ¡å‘¢ï¼Œé‚£æˆ‘ä¼šå‘Šè¯‰ä½ è¿™æ ·æ€§èƒ½å¯èƒ½ä½åˆ°æ²¡åŠæ³•ç”¨çš„ï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸‹ä¸ºå•¥å“Ÿã€‚ ###é‚£ä¸¤è€…æ€ä¹ˆé€‰æ‹©ï¼Ÿ å°å­©å­æ‰åšé€‰æ‹©ï¼Œæˆ‘å…¨éƒ½è¦ï¼Œä½ å•ç‹¬ç”¨RDBä½ ä¼šä¸¢å¤±å¾ˆå¤šæ•°æ®ï¼Œä½ å•ç‹¬ç”¨AOFï¼Œä½ æ•°æ®æ¢å¤æ²¡RDBæ¥çš„å¿«ï¼ŒçœŸå‡ºä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ—¶é—´ç”¨RDBæ¢å¤ï¼Œç„¶åAOFåšæ•°æ®è¡¥å…¨ï¼ŒçœŸé¦™ï¼å†·å¤‡çƒ­å¤‡ä¸€èµ·ä¸Šï¼Œæ‰æ˜¯äº’è”ç½‘æ—¶ä»£ä¸€ä¸ªé«˜å¥å£®æ€§ç³»ç»Ÿçš„ç‹é“ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:6","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#é‚£è¿™ä¸¤ç§æœºåˆ¶å„è‡ªä¼˜ç¼ºç‚¹æ˜¯å•¥"},{"categories":null,"content":"é‚£è¿™ä¸¤ç§æœºåˆ¶å„è‡ªä¼˜ç¼ºç‚¹æ˜¯å•¥ï¼Ÿæˆ‘å…ˆè¯´RDBå§ ä¼˜ç‚¹ï¼šä»–ä¼šç”Ÿæˆå¤šä¸ªæ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°æ®æ–‡ä»¶åˆ†åˆ«éƒ½ä»£è¡¨äº†æŸä¸€æ—¶åˆ»Redisé‡Œé¢çš„æ•°æ®ï¼Œè¿™ç§æ–¹å¼ï¼Œæœ‰æ²¡æœ‰è§‰å¾—å¾ˆé€‚åˆåšå†·å¤‡ï¼Œå®Œæ•´çš„æ•°æ®è¿ç»´è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶åŒæ­¥åˆ°è¿œç«¯çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚é˜¿é‡Œçš„äº‘æœåŠ¡ï¼Œè¿™æ ·ä¸€æ—¦çº¿ä¸ŠæŒ‚äº†ï¼Œä½ æƒ³æ¢å¤å¤šå°‘åˆ†é’Ÿä¹‹å‰çš„æ•°æ®ï¼Œå°±å»è¿œç«¯æ‹·è´ä¸€ä»½ä¹‹å‰çš„æ•°æ®å°±å¥½äº†ã€‚ RDBå¯¹Redisçš„æ€§èƒ½å½±å“éå¸¸å°ï¼Œæ˜¯å› ä¸ºåœ¨åŒæ­¥æ•°æ®çš„æ—¶å€™ä»–åªæ˜¯forkäº†ä¸€ä¸ªå­è¿›ç¨‹å»åšæŒä¹…åŒ–çš„ï¼Œè€Œä¸”ä»–åœ¨æ•°æ®æ¢å¤çš„æ—¶å€™é€Ÿåº¦æ¯”AOFæ¥çš„å¿«ã€‚ ç¼ºç‚¹ï¼šRDBéƒ½æ˜¯å¿«ç…§æ–‡ä»¶ï¼Œéƒ½æ˜¯é»˜è®¤äº”åˆ†é’Ÿç”šè‡³æ›´ä¹…çš„æ—¶é—´æ‰ä¼šç”Ÿæˆä¸€æ¬¡ï¼Œè¿™æ„å‘³ç€ä½ è¿™æ¬¡åŒæ­¥åˆ°ä¸‹æ¬¡åŒæ­¥è¿™ä¸­é—´äº”åˆ†é’Ÿçš„æ•°æ®éƒ½å¾ˆå¯èƒ½å…¨éƒ¨ä¸¢å¤±æ‰ã€‚AOFåˆ™æœ€å¤šä¸¢ä¸€ç§’çš„æ•°æ®ï¼Œæ•°æ®å®Œæ•´æ€§ä¸Šé«˜ä¸‹ç«‹åˆ¤ã€‚ è¿˜æœ‰å°±æ˜¯RDBåœ¨ç”Ÿæˆæ•°æ®å¿«ç…§çš„æ—¶å€™ï¼Œå¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œå®¢æˆ·ç«¯å¯èƒ½ä¼šæš‚åœå‡ æ¯«ç§’ç”šè‡³å‡ ç§’ï¼Œä½ å…¬å¸åœ¨åšç§’æ€çš„æ—¶å€™ä»–åˆšå¥½åœ¨è¿™ä¸ªæ—¶å€™forkäº†ä¸€ä¸ªå­è¿›ç¨‹å»ç”Ÿæˆä¸€ä¸ªå¤§å¿«ç…§ï¼Œå“¦è±ï¼Œå‡ºå¤§é—®é¢˜ã€‚ æˆ‘ä»¬å†æ¥è¯´è¯´AOF ####ä¼˜ç‚¹ï¼š ä¸Šé¢æåˆ°äº†ï¼ŒRDBäº”åˆ†é’Ÿä¸€æ¬¡ç”Ÿæˆå¿«ç…§ï¼Œä½†æ˜¯AOFæ˜¯ä¸€ç§’ä¸€æ¬¡å»é€šè¿‡ä¸€ä¸ªåå°çš„çº¿ç¨‹fsyncæ“ä½œï¼Œé‚£æœ€å¤šä¸¢è¿™ä¸€ç§’çš„æ•°æ®ã€‚ AOFåœ¨å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œæ“ä½œçš„æ—¶å€™æ˜¯ä»¥append-onlyçš„æ–¹å¼å»å†™çš„ï¼Œä»–åªæ˜¯è¿½åŠ çš„æ–¹å¼å†™æ•°æ®ï¼Œè‡ªç„¶å°±å°‘äº†å¾ˆå¤šç£ç›˜å¯»å€çš„å¼€é”€äº†ï¼Œå†™å…¥æ€§èƒ½æƒŠäººï¼Œæ–‡ä»¶ä¹Ÿä¸å®¹æ˜“ç ´æŸã€‚ AOFçš„æ—¥å¿—æ˜¯é€šè¿‡ä¸€ä¸ªå«éå¸¸å¯è¯»çš„æ–¹å¼è®°å½•çš„ï¼Œè¿™æ ·çš„ç‰¹æ€§å°±é€‚åˆåšç¾éš¾æ€§æ•°æ®è¯¯åˆ é™¤çš„ç´§æ€¥æ¢å¤äº†ï¼Œæ¯”å¦‚å…¬å¸çš„å®ä¹ ç”Ÿé€šè¿‡flushallæ¸…ç©ºäº†æ‰€æœ‰çš„æ•°æ®ï¼Œåªè¦è¿™ä¸ªæ—¶å€™åå°é‡å†™è¿˜æ²¡å‘ç”Ÿï¼Œä½ é©¬ä¸Šæ‹·è´ä¸€ä»½AOFæ—¥å¿—æ–‡ä»¶ï¼ŒæŠŠæœ€åä¸€æ¡flushallå‘½ä»¤åˆ äº†å°±å®Œäº‹äº†ã€‚ tipï¼šæˆ‘è¯´çš„å‘½ä»¤ä½ ä»¬åˆ«çœŸå»çº¿ä¸Šç³»ç»Ÿæ“ä½œå•Šï¼Œæƒ³è¯•å»è‡ªå·±ä¹°çš„æœåŠ¡å™¨ä¸Šè£…ä¸ªRedisè¯•ï¼Œåˆ«åˆ°æ—¶å€™æ¥è¯´ï¼Œæ•–ä¸™çœŸæ˜¯ä¸ªæ¸£ç”·ï¼Œå®³æˆ‘æŠŠæœåŠ¡å™¨æå´©äº†ï¼ŒRediså®˜ç½‘ä¸Šçš„å‘½ä»¤éƒ½å»çœ‹çœ‹ï¼Œä¸è¦ä¹±è¯•ï¼ï¼ï¼ ####ç¼ºç‚¹ï¼š ä¸€æ ·çš„æ•°æ®ï¼ŒAOFæ–‡ä»¶æ¯”RDBè¿˜è¦å¤§ã€‚ AOFå¼€å¯åï¼ŒRedisæ”¯æŒå†™çš„QPSä¼šæ¯”RDBæ”¯æŒå†™çš„è¦ä½ï¼Œä»–ä¸æ˜¯æ¯ç§’éƒ½è¦å»å¼‚æ­¥åˆ·æ–°ä¸€æ¬¡æ—¥å¿—å˜›fsyncï¼Œå½“ç„¶å³ä½¿è¿™æ ·æ€§èƒ½è¿˜æ˜¯å¾ˆé«˜ï¼Œæˆ‘è®°å¾—ElasticSearchä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œå¼‚æ­¥åˆ·æ–°ç¼“å­˜åŒºçš„æ•°æ®å»æŒä¹…åŒ–ï¼Œä¸ºå•¥è¿™ä¹ˆåšå‘¢ï¼Œä¸ç›´æ¥æ¥ä¸€æ¡æ€¼ä¸€æ¡å‘¢ï¼Œé‚£æˆ‘ä¼šå‘Šè¯‰ä½ è¿™æ ·æ€§èƒ½å¯èƒ½ä½åˆ°æ²¡åŠæ³•ç”¨çš„ï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸‹ä¸ºå•¥å“Ÿã€‚ ###é‚£ä¸¤è€…æ€ä¹ˆé€‰æ‹©ï¼Ÿ å°å­©å­æ‰åšé€‰æ‹©ï¼Œæˆ‘å…¨éƒ½è¦ï¼Œä½ å•ç‹¬ç”¨RDBä½ ä¼šä¸¢å¤±å¾ˆå¤šæ•°æ®ï¼Œä½ å•ç‹¬ç”¨AOFï¼Œä½ æ•°æ®æ¢å¤æ²¡RDBæ¥çš„å¿«ï¼ŒçœŸå‡ºä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ—¶é—´ç”¨RDBæ¢å¤ï¼Œç„¶åAOFåšæ•°æ®è¡¥å…¨ï¼ŒçœŸé¦™ï¼å†·å¤‡çƒ­å¤‡ä¸€èµ·ä¸Šï¼Œæ‰æ˜¯äº’è”ç½‘æ—¶ä»£ä¸€ä¸ªé«˜å¥å£®æ€§ç³»ç»Ÿçš„ç‹é“ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:6","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#ä¼˜ç‚¹"},{"categories":null,"content":"é‚£è¿™ä¸¤ç§æœºåˆ¶å„è‡ªä¼˜ç¼ºç‚¹æ˜¯å•¥ï¼Ÿæˆ‘å…ˆè¯´RDBå§ ä¼˜ç‚¹ï¼šä»–ä¼šç”Ÿæˆå¤šä¸ªæ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªæ•°æ®æ–‡ä»¶åˆ†åˆ«éƒ½ä»£è¡¨äº†æŸä¸€æ—¶åˆ»Redisé‡Œé¢çš„æ•°æ®ï¼Œè¿™ç§æ–¹å¼ï¼Œæœ‰æ²¡æœ‰è§‰å¾—å¾ˆé€‚åˆåšå†·å¤‡ï¼Œå®Œæ•´çš„æ•°æ®è¿ç»´è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶åŒæ­¥åˆ°è¿œç«¯çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚é˜¿é‡Œçš„äº‘æœåŠ¡ï¼Œè¿™æ ·ä¸€æ—¦çº¿ä¸ŠæŒ‚äº†ï¼Œä½ æƒ³æ¢å¤å¤šå°‘åˆ†é’Ÿä¹‹å‰çš„æ•°æ®ï¼Œå°±å»è¿œç«¯æ‹·è´ä¸€ä»½ä¹‹å‰çš„æ•°æ®å°±å¥½äº†ã€‚ RDBå¯¹Redisçš„æ€§èƒ½å½±å“éå¸¸å°ï¼Œæ˜¯å› ä¸ºåœ¨åŒæ­¥æ•°æ®çš„æ—¶å€™ä»–åªæ˜¯forkäº†ä¸€ä¸ªå­è¿›ç¨‹å»åšæŒä¹…åŒ–çš„ï¼Œè€Œä¸”ä»–åœ¨æ•°æ®æ¢å¤çš„æ—¶å€™é€Ÿåº¦æ¯”AOFæ¥çš„å¿«ã€‚ ç¼ºç‚¹ï¼šRDBéƒ½æ˜¯å¿«ç…§æ–‡ä»¶ï¼Œéƒ½æ˜¯é»˜è®¤äº”åˆ†é’Ÿç”šè‡³æ›´ä¹…çš„æ—¶é—´æ‰ä¼šç”Ÿæˆä¸€æ¬¡ï¼Œè¿™æ„å‘³ç€ä½ è¿™æ¬¡åŒæ­¥åˆ°ä¸‹æ¬¡åŒæ­¥è¿™ä¸­é—´äº”åˆ†é’Ÿçš„æ•°æ®éƒ½å¾ˆå¯èƒ½å…¨éƒ¨ä¸¢å¤±æ‰ã€‚AOFåˆ™æœ€å¤šä¸¢ä¸€ç§’çš„æ•°æ®ï¼Œæ•°æ®å®Œæ•´æ€§ä¸Šé«˜ä¸‹ç«‹åˆ¤ã€‚ è¿˜æœ‰å°±æ˜¯RDBåœ¨ç”Ÿæˆæ•°æ®å¿«ç…§çš„æ—¶å€™ï¼Œå¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œå®¢æˆ·ç«¯å¯èƒ½ä¼šæš‚åœå‡ æ¯«ç§’ç”šè‡³å‡ ç§’ï¼Œä½ å…¬å¸åœ¨åšç§’æ€çš„æ—¶å€™ä»–åˆšå¥½åœ¨è¿™ä¸ªæ—¶å€™forkäº†ä¸€ä¸ªå­è¿›ç¨‹å»ç”Ÿæˆä¸€ä¸ªå¤§å¿«ç…§ï¼Œå“¦è±ï¼Œå‡ºå¤§é—®é¢˜ã€‚ æˆ‘ä»¬å†æ¥è¯´è¯´AOF ####ä¼˜ç‚¹ï¼š ä¸Šé¢æåˆ°äº†ï¼ŒRDBäº”åˆ†é’Ÿä¸€æ¬¡ç”Ÿæˆå¿«ç…§ï¼Œä½†æ˜¯AOFæ˜¯ä¸€ç§’ä¸€æ¬¡å»é€šè¿‡ä¸€ä¸ªåå°çš„çº¿ç¨‹fsyncæ“ä½œï¼Œé‚£æœ€å¤šä¸¢è¿™ä¸€ç§’çš„æ•°æ®ã€‚ AOFåœ¨å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œæ“ä½œçš„æ—¶å€™æ˜¯ä»¥append-onlyçš„æ–¹å¼å»å†™çš„ï¼Œä»–åªæ˜¯è¿½åŠ çš„æ–¹å¼å†™æ•°æ®ï¼Œè‡ªç„¶å°±å°‘äº†å¾ˆå¤šç£ç›˜å¯»å€çš„å¼€é”€äº†ï¼Œå†™å…¥æ€§èƒ½æƒŠäººï¼Œæ–‡ä»¶ä¹Ÿä¸å®¹æ˜“ç ´æŸã€‚ AOFçš„æ—¥å¿—æ˜¯é€šè¿‡ä¸€ä¸ªå«éå¸¸å¯è¯»çš„æ–¹å¼è®°å½•çš„ï¼Œè¿™æ ·çš„ç‰¹æ€§å°±é€‚åˆåšç¾éš¾æ€§æ•°æ®è¯¯åˆ é™¤çš„ç´§æ€¥æ¢å¤äº†ï¼Œæ¯”å¦‚å…¬å¸çš„å®ä¹ ç”Ÿé€šè¿‡flushallæ¸…ç©ºäº†æ‰€æœ‰çš„æ•°æ®ï¼Œåªè¦è¿™ä¸ªæ—¶å€™åå°é‡å†™è¿˜æ²¡å‘ç”Ÿï¼Œä½ é©¬ä¸Šæ‹·è´ä¸€ä»½AOFæ—¥å¿—æ–‡ä»¶ï¼ŒæŠŠæœ€åä¸€æ¡flushallå‘½ä»¤åˆ äº†å°±å®Œäº‹äº†ã€‚ tipï¼šæˆ‘è¯´çš„å‘½ä»¤ä½ ä»¬åˆ«çœŸå»çº¿ä¸Šç³»ç»Ÿæ“ä½œå•Šï¼Œæƒ³è¯•å»è‡ªå·±ä¹°çš„æœåŠ¡å™¨ä¸Šè£…ä¸ªRedisè¯•ï¼Œåˆ«åˆ°æ—¶å€™æ¥è¯´ï¼Œæ•–ä¸™çœŸæ˜¯ä¸ªæ¸£ç”·ï¼Œå®³æˆ‘æŠŠæœåŠ¡å™¨æå´©äº†ï¼ŒRediså®˜ç½‘ä¸Šçš„å‘½ä»¤éƒ½å»çœ‹çœ‹ï¼Œä¸è¦ä¹±è¯•ï¼ï¼ï¼ ####ç¼ºç‚¹ï¼š ä¸€æ ·çš„æ•°æ®ï¼ŒAOFæ–‡ä»¶æ¯”RDBè¿˜è¦å¤§ã€‚ AOFå¼€å¯åï¼ŒRedisæ”¯æŒå†™çš„QPSä¼šæ¯”RDBæ”¯æŒå†™çš„è¦ä½ï¼Œä»–ä¸æ˜¯æ¯ç§’éƒ½è¦å»å¼‚æ­¥åˆ·æ–°ä¸€æ¬¡æ—¥å¿—å˜›fsyncï¼Œå½“ç„¶å³ä½¿è¿™æ ·æ€§èƒ½è¿˜æ˜¯å¾ˆé«˜ï¼Œæˆ‘è®°å¾—ElasticSearchä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œå¼‚æ­¥åˆ·æ–°ç¼“å­˜åŒºçš„æ•°æ®å»æŒä¹…åŒ–ï¼Œä¸ºå•¥è¿™ä¹ˆåšå‘¢ï¼Œä¸ç›´æ¥æ¥ä¸€æ¡æ€¼ä¸€æ¡å‘¢ï¼Œé‚£æˆ‘ä¼šå‘Šè¯‰ä½ è¿™æ ·æ€§èƒ½å¯èƒ½ä½åˆ°æ²¡åŠæ³•ç”¨çš„ï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸‹ä¸ºå•¥å“Ÿã€‚ ###é‚£ä¸¤è€…æ€ä¹ˆé€‰æ‹©ï¼Ÿ å°å­©å­æ‰åšé€‰æ‹©ï¼Œæˆ‘å…¨éƒ½è¦ï¼Œä½ å•ç‹¬ç”¨RDBä½ ä¼šä¸¢å¤±å¾ˆå¤šæ•°æ®ï¼Œä½ å•ç‹¬ç”¨AOFï¼Œä½ æ•°æ®æ¢å¤æ²¡RDBæ¥çš„å¿«ï¼ŒçœŸå‡ºä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ—¶é—´ç”¨RDBæ¢å¤ï¼Œç„¶åAOFåšæ•°æ®è¡¥å…¨ï¼ŒçœŸé¦™ï¼å†·å¤‡çƒ­å¤‡ä¸€èµ·ä¸Šï¼Œæ‰æ˜¯äº’è”ç½‘æ—¶ä»£ä¸€ä¸ªé«˜å¥å£®æ€§ç³»ç»Ÿçš„ç‹é“ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:6","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#ç¼ºç‚¹"},{"categories":null,"content":"çœ‹ä¸å‡ºæ¥å¹´çºªè½»è½»æœ‰ç‚¹ä¸œè¥¿çš„å‘€ï¼Œå¯¹äº†æˆ‘å¬ä½ æåˆ°äº†é«˜å¯ç”¨ï¼ŒRedisè¿˜æœ‰å…¶ä»–ä¿è¯é›†ç¾¤é«˜å¯ç”¨çš„æ–¹å¼ä¹ˆï¼Ÿï¼ï¼ï¼æ™• è‡ªå·±ç»™è‡ªå·±åŸ‹ä¸ªå‘ï¼ˆå…¶å®æ˜¯æ˜æ—©å°±å‡†å¤‡å¥½äº†ï¼Œæ•…æ„æŠ›å‡ºè¿™ä¸ªè¯ç­‰ä»–é—®ï¼Œå°±æ€•ä»–ä¸é—®ï¼‰ã€‚ å‡è£…æ€è€ƒä¸€ä¼šï¼ˆä¸è¦å¤ªä¹…ï¼Œå…å¾—ä»¥ä¸ºä½ çœŸçš„ä¸ä¼šï¼‰ï¼Œå“¦æˆ‘æƒ³èµ·æ¥äº†ï¼Œè¿˜æœ‰å“¨å…µé›†ç¾¤sentinelã€‚ å“¨å…µå¿…é¡»ç”¨ä¸‰ä¸ªå®ä¾‹å»ä¿è¯è‡ªå·±çš„å¥å£®æ€§çš„ï¼Œå“¨å…µ+ä¸»ä»å¹¶ä¸èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œä½†æ˜¯å¯ä»¥ä¿è¯é›†ç¾¤çš„é«˜å¯ç”¨ã€‚ ä¸ºå•¥å¿…é¡»è¦ä¸‰ä¸ªå®ä¾‹å‘¢ï¼Ÿæˆ‘ä»¬å…ˆçœ‹çœ‹ä¸¤ä¸ªå“¨å…µä¼šå’‹æ ·ã€‚ masterå®•æœºäº† s1å’Œs2ä¸¤ä¸ªå“¨å…µåªè¦æœ‰ä¸€ä¸ªè®¤ä¸ºä½ å®•æœºäº†å°±åˆ‡æ¢äº†ï¼Œå¹¶ä¸”ä¼šé€‰ä¸¾å‡ºä¸€ä¸ªå“¨å…µå»æ‰§è¡Œæ•…éšœï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™ä¹Ÿéœ€è¦å¤§å¤šæ•°å“¨å…µéƒ½æ˜¯è¿è¡Œçš„ã€‚ é‚£è¿™æ ·æœ‰å•¥é—®é¢˜å‘¢ï¼ŸM1å®•æœºäº†ï¼ŒS1æ²¡æŒ‚é‚£å…¶å®æ˜¯OKçš„ï¼Œä½†æ˜¯æ•´ä¸ªæœºå™¨éƒ½æŒ‚äº†å‘¢ï¼Ÿå“¨å…µå°±åªå‰©ä¸‹S2ä¸ªè£¸å±Œäº†ï¼Œæ²¡æœ‰å“¨å…µå»å…è®¸æ•…éšœè½¬ç§»äº†ï¼Œè™½ç„¶å¦å¤–ä¸€ä¸ªæœºå™¨ä¸Šè¿˜æœ‰R1ï¼Œä½†æ˜¯æ•…éšœè½¬ç§»å°±æ˜¯ä¸æ‰§è¡Œã€‚ ç»å…¸çš„å“¨å…µé›†ç¾¤æ˜¯è¿™æ ·çš„ï¼š M1æ‰€åœ¨çš„æœºå™¨æŒ‚äº†ï¼Œå“¨å…µè¿˜æœ‰ä¸¤ä¸ªï¼Œä¸¤ä¸ªäººä¸€çœ‹ä»–ä¸æ˜¯æŒ‚äº†å˜›ï¼Œé‚£æˆ‘ä»¬å°±é€‰ä¸¾ä¸€ä¸ªå‡ºæ¥æ‰§è¡Œæ•…éšœè½¬ç§»ä¸å°±å¥½äº†ã€‚ æš–ç”·æˆ‘ï¼Œå°çš„æ€»ç»“ä¸‹å“¨å…µç»„ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼š é›†ç¾¤ç›‘æ§ï¼šè´Ÿè´£ç›‘æ§ Redis master å’Œ slave è¿›ç¨‹æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ æ¶ˆæ¯é€šçŸ¥ï¼šå¦‚æœæŸä¸ª Redis å®ä¾‹æœ‰æ•…éšœï¼Œé‚£ä¹ˆå“¨å…µè´Ÿè´£å‘é€æ¶ˆæ¯ä½œä¸ºæŠ¥è­¦é€šçŸ¥ç»™ç®¡ç†å‘˜ã€‚ æ•…éšœè½¬ç§»ï¼šå¦‚æœ master node æŒ‚æ‰äº†ï¼Œä¼šè‡ªåŠ¨è½¬ç§»åˆ° slave node ä¸Šã€‚ é…ç½®ä¸­å¿ƒï¼šå¦‚æœæ•…éšœè½¬ç§»å‘ç”Ÿäº†ï¼Œé€šçŸ¥ client å®¢æˆ·ç«¯æ–°çš„ master åœ°å€ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:7","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#çœ‹ä¸å‡ºæ¥å¹´çºªè½»è½»æœ‰ç‚¹ä¸œè¥¿çš„å‘€å¯¹äº†æˆ‘å¬ä½ æåˆ°äº†é«˜å¯ç”¨redisè¿˜æœ‰å…¶ä»–ä¿è¯é›†ç¾¤é«˜å¯ç”¨çš„æ–¹å¼ä¹ˆ"},{"categories":null,"content":"æˆ‘è®°å¾—ä½ è¿˜æåˆ°äº†ä¸»ä»åŒæ­¥ï¼Œèƒ½è¯´ä¸€ä¸‹ä¸»ä»ä¹‹é—´çš„æ•°æ®æ€ä¹ˆåŒæ­¥çš„ä¹ˆï¼Ÿé¢è¯•å®˜æ‚¨çš„è®°æ€§å¯çœŸæ˜¯ä¸€çº§æ£’å‘¢ï¼Œæˆ‘éƒ½è¦å¿˜äº†ä½ è¿˜è®°å¾—ï¼Œæˆ‘ç‰¹ä¹ˆè°¢è°¢ä½ ï¼Œæåˆ°è¿™ä¸ªï¼Œå°±è·Ÿæˆ‘å‰é¢æåˆ°çš„æ•°æ®æŒä¹…åŒ–çš„RDBå’ŒAOFæœ‰ç€æ¯”å¯†åˆ‡çš„å…³ç³»äº†ã€‚ æˆ‘å…ˆè¯´ä¸‹ä¸ºå•¥è¦ç”¨ä¸»ä»è¿™æ ·çš„æ¶æ„æ¨¡å¼ï¼Œå‰é¢æåˆ°äº†å•æœºQPSæ˜¯æœ‰ä¸Šé™çš„ï¼Œè€Œä¸”Redisçš„ç‰¹æ€§å°±æ˜¯å¿…é¡»æ”¯æ’‘è¯»é«˜å¹¶å‘çš„ï¼Œé‚£ä½ ä¸€å°æœºå™¨åˆè¯»åˆå†™ï¼Œè¿™è°é¡¶å¾—ä½å•Šï¼Œä¸å½“äººå•Šï¼ä½†æ˜¯ä½ è®©è¿™ä¸ªmasteræœºå™¨å»å†™ï¼Œæ•°æ®åŒæ­¥ç»™åˆ«çš„slaveæœºå™¨ï¼Œä»–ä»¬éƒ½æ‹¿å»è¯»ï¼Œåˆ†å‘æ‰å¤§é‡çš„è¯·æ±‚é‚£æ˜¯ä¸æ˜¯å¥½å¾ˆå¤šï¼Œè€Œä¸”æ‰©å®¹çš„æ—¶å€™è¿˜å¯ä»¥è½»æ¾å®ç°æ°´å¹³æ‰©å®¹ã€‚ å›å½’æ­£é¢˜ï¼Œä»–ä»¬æ•°æ®æ€ä¹ˆåŒæ­¥çš„å‘¢ï¼Ÿ ä½ å¯åŠ¨ä¸€å°slave çš„æ—¶å€™ï¼Œä»–ä¼šå‘é€ä¸€ä¸ªpsyncå‘½ä»¤ç»™master ï¼Œå¦‚æœæ˜¯è¿™ä¸ªslaveç¬¬ä¸€æ¬¡è¿æ¥åˆ°masterï¼Œä»–ä¼šè§¦å‘ä¸€ä¸ªå…¨é‡å¤åˆ¶ã€‚masterå°±ä¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œç”ŸæˆRDBå¿«ç…§ï¼Œè¿˜ä¼šæŠŠæ–°çš„å†™è¯·æ±‚éƒ½ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼ŒRDBæ–‡ä»¶ç”Ÿæˆåï¼Œmasterä¼šå°†è¿™ä¸ªRDBå‘é€ç»™slaveçš„ï¼Œslaveæ‹¿åˆ°ä¹‹ååšçš„ç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯å†™è¿›æœ¬åœ°çš„ç£ç›˜ï¼Œç„¶ååŠ è½½è¿›å†…å­˜ï¼Œç„¶åmasterä¼šæŠŠå†…å­˜é‡Œé¢ç¼“å­˜çš„é‚£äº›æ–°å‘½åéƒ½å‘ç»™slaveã€‚ ###æ•°æ®ä¼ è¾“çš„æ—¶å€™æ–­ç½‘äº†æˆ–è€…æœåŠ¡å™¨æŒ‚äº†æ€ä¹ˆåŠå•Šï¼Ÿ ä¼ è¾“è¿‡ç¨‹ä¸­æœ‰ä»€ä¹ˆç½‘ç»œé—®é¢˜å•¥çš„ï¼Œä¼šè‡ªåŠ¨é‡è¿çš„ï¼Œå¹¶ä¸”è¿æ¥ä¹‹åä¼šæŠŠç¼ºå°‘çš„æ•°æ®è¡¥ä¸Šçš„ã€‚ å¤§å®¶éœ€è¦è®°å¾—çš„å°±æ˜¯ï¼ŒRDBå¿«ç…§çš„æ•°æ®ç”Ÿæˆçš„æ—¶å€™ï¼Œç¼“å­˜åŒºä¹Ÿå¿…é¡»åŒæ—¶å¼€å§‹æ¥å—æ–°è¯·æ±‚ï¼Œä¸ç„¶ä½ æ—§çš„æ•°æ®è¿‡å»äº†ï¼Œä½ åœ¨åŒæ­¥æœŸé—´çš„å¢é‡æ•°æ®å’‹åŠï¼Ÿæ˜¯å§ï¼Ÿ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:8","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#æˆ‘è®°å¾—ä½ è¿˜æåˆ°äº†ä¸»ä»åŒæ­¥èƒ½è¯´ä¸€ä¸‹ä¸»ä»ä¹‹é—´çš„æ•°æ®æ€ä¹ˆåŒæ­¥çš„ä¹ˆ"},{"categories":null,"content":"é‚£è¯´äº†è¿™ä¹ˆå¤šä½ èƒ½è¯´ä¸€ä¸‹ä»–çš„å†…å­˜æ·˜æ±°æœºåˆ¶ä¹ˆï¼Œæ¥æ‰‹å†™ä¸€ä¸‹LRUä»£ç ï¼Ÿ æ‰‹å†™LRUï¼Ÿä½ æ˜¯ä¸æ˜¯æƒ³ç›´æ¥è·³èµ·æ¥è¯´ä¸€å¥ï¼šAre U F**k Kidding meï¼Ÿè¿™ä¸ªé—®é¢˜æ˜¯æˆ‘åœ¨èš‚èšé‡‘æœä¸‰é¢çš„æ—¶å€™äº²èº«è¢«é—®è¿‡çš„é—®é¢˜ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰è¢«æ€¼åˆ°è¿‡è¿™ä¸ªé—®é¢˜ã€‚ Redisçš„è¿‡æœŸç­–ç•¥ï¼Œæ˜¯æœ‰å®šæœŸåˆ é™¤+æƒ°æ€§åˆ é™¤ä¸¤ç§ã€‚ å®šæœŸå¥½ç†è§£ï¼Œé»˜è®¤100så°±éšæœºæŠ½ä¸€äº›è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyï¼Œå»æ£€æŸ¥æ˜¯å¦è¿‡æœŸï¼Œè¿‡æœŸäº†å°±åˆ äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:9","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#é‚£è¯´äº†è¿™ä¹ˆå¤šä½ èƒ½è¯´ä¸€ä¸‹ä»–çš„å†…å­˜æ·˜æ±°æœºåˆ¶ä¹ˆæ¥æ‰‹å†™ä¸€ä¸‹lruä»£ç "},{"categories":null,"content":"é‚£è¯´äº†è¿™ä¹ˆå¤šä½ èƒ½è¯´ä¸€ä¸‹ä»–çš„å†…å­˜æ·˜æ±°æœºåˆ¶ä¹ˆï¼Œæ¥æ‰‹å†™ä¸€ä¸‹LRUä»£ç ï¼Ÿ æ‰‹å†™LRUï¼Ÿä½ æ˜¯ä¸æ˜¯æƒ³ç›´æ¥è·³èµ·æ¥è¯´ä¸€å¥ï¼šAre U F**k Kidding meï¼Ÿè¿™ä¸ªé—®é¢˜æ˜¯æˆ‘åœ¨èš‚èšé‡‘æœä¸‰é¢çš„æ—¶å€™äº²èº«è¢«é—®è¿‡çš„é—®é¢˜ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰è¢«æ€¼åˆ°è¿‡è¿™ä¸ªé—®é¢˜ã€‚ Redisçš„è¿‡æœŸç­–ç•¥ï¼Œæ˜¯æœ‰å®šæœŸåˆ é™¤+æƒ°æ€§åˆ é™¤ä¸¤ç§ã€‚ å®šæœŸå¥½ç†è§£ï¼Œé»˜è®¤100så°±éšæœºæŠ½ä¸€äº›è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyï¼Œå»æ£€æŸ¥æ˜¯å¦è¿‡æœŸï¼Œè¿‡æœŸäº†å°±åˆ äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:9","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#æ‰‹å†™lruä½ æ˜¯ä¸æ˜¯æƒ³ç›´æ¥è·³èµ·æ¥è¯´ä¸€å¥are-u-fk-kidding-me"},{"categories":null,"content":"ä¸ºå•¥ä¸æ‰«æå…¨éƒ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyå‘¢ï¼Ÿå‡å¦‚Redisé‡Œé¢æ‰€æœ‰çš„keyéƒ½æœ‰è¿‡æœŸæ—¶é—´ï¼Œéƒ½æ‰«æä¸€éï¼Ÿé‚£å¤ªææ€–äº†ï¼Œè€Œä¸”æˆ‘ä»¬çº¿ä¸ŠåŸºæœ¬ä¸Šä¹Ÿéƒ½æ˜¯ä¼šè®¾ç½®ä¸€å®šçš„è¿‡æœŸæ—¶é—´çš„ã€‚å…¨æ‰«æè·Ÿä½ å»æŸ¥æ•°æ®åº“ä¸å¸¦whereæ¡ä»¶ä¸èµ°ç´¢å¼•å…¨è¡¨æ‰«æä¸€æ ·ï¼Œ100sä¸€æ¬¡ï¼ŒRedisç´¯éƒ½ç´¯æ­»äº†ã€‚ ###å¦‚æœä¸€ç›´æ²¡éšæœºåˆ°å¾ˆå¤škeyï¼Œé‡Œé¢ä¸å°±å­˜åœ¨å¤§é‡çš„æ— æ•ˆkeyäº†ï¼Ÿ å¥½é—®é¢˜ï¼Œæƒ°æ€§åˆ é™¤ï¼Œè§åçŸ¥æ„ï¼Œæƒ°æ€§å˜›ï¼Œæˆ‘ä¸ä¸»åŠ¨åˆ ï¼Œæˆ‘æ‡’ï¼Œæˆ‘ç­‰ä½ æ¥æŸ¥è¯¢äº†æˆ‘çœ‹çœ‹ä½ è¿‡æœŸæ²¡ï¼Œè¿‡æœŸå°±åˆ äº†è¿˜ä¸ç»™ä½ è¿”å›ï¼Œæ²¡è¿‡æœŸè¯¥æ€ä¹ˆæ ·å°±æ€ä¹ˆæ ·ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:10","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#ä¸ºå•¥ä¸æ‰«æå…¨éƒ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„keyå‘¢"},{"categories":null,"content":"æœ€åå°±æ˜¯å¦‚æœçš„å¦‚æœï¼Œå®šæœŸæ²¡åˆ ï¼Œæˆ‘ä¹Ÿæ²¡æŸ¥è¯¢ï¼Œé‚£å¯å’‹æ•´ï¼Ÿå†…å­˜æ·˜æ±°æœºåˆ¶ï¼ å®˜ç½‘ä¸Šç»™åˆ°çš„å†…å­˜æ·˜æ±°æœºåˆ¶æ˜¯ä»¥ä¸‹å‡ ä¸ªï¼š noeviction:è¿”å›é”™è¯¯å½“å†…å­˜é™åˆ¶è¾¾åˆ°å¹¶ä¸”å®¢æˆ·ç«¯å°è¯•æ‰§è¡Œä¼šè®©æ›´å¤šå†…å­˜è¢«ä½¿ç”¨çš„å‘½ä»¤ï¼ˆå¤§éƒ¨åˆ†çš„å†™å…¥æŒ‡ä»¤ï¼Œä½†DELå’Œå‡ ä¸ªä¾‹å¤–ï¼‰ allkeys-lru: å°è¯•å›æ”¶æœ€å°‘ä½¿ç”¨çš„é”®ï¼ˆLRUï¼‰ï¼Œä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ volatile-lru: å°è¯•å›æ”¶æœ€å°‘ä½¿ç”¨çš„é”®ï¼ˆLRUï¼‰ï¼Œä½†ä»…é™äºåœ¨è¿‡æœŸé›†åˆçš„é”®,ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ allkeys-random: å›æ”¶éšæœºçš„é”®ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ volatile-random: å›æ”¶éšæœºçš„é”®ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ï¼Œä½†ä»…é™äºåœ¨è¿‡æœŸé›†åˆçš„é”®ã€‚ volatile-ttl: å›æ”¶åœ¨è¿‡æœŸé›†åˆçš„é”®ï¼Œå¹¶ä¸”ä¼˜å…ˆå›æ”¶å­˜æ´»æ—¶é—´ï¼ˆTTLï¼‰è¾ƒçŸ­çš„é”®,ä½¿å¾—æ–°æ·»åŠ çš„æ•°æ®æœ‰ç©ºé—´å­˜æ”¾ã€‚ å¦‚æœæ²¡æœ‰é”®æ»¡è¶³å›æ”¶çš„å‰ææ¡ä»¶çš„è¯ï¼Œç­–ç•¥volatile-lru, volatile-randomä»¥åŠvolatile-ttlå°±å’Œnoeviction å·®ä¸å¤šäº†ã€‚ è‡³äºLRUæˆ‘ä¹Ÿç®€å•æä¸€ä¸‹ï¼Œæ‰‹å†™å®åœ¨æ˜¯å¤ªé•¿äº†ï¼Œå¤§å®¶å¯ä»¥å»Rediså®˜ç½‘çœ‹çœ‹ï¼Œæˆ‘æŠŠè¿‘è§†LURæ•ˆæœç»™å¤§å®¶çœ‹çœ‹ tipï¼šRedisä¸ºä»€ä¹ˆä¸ä½¿ç”¨çœŸå®çš„LRUå®ç°æ˜¯å› ä¸ºè¿™éœ€è¦å¤ªå¤šçš„å†…å­˜ã€‚ä¸è¿‡è¿‘ä¼¼çš„LRUç®—æ³•å¯¹äºåº”ç”¨è€Œè¨€åº”è¯¥æ˜¯ç­‰ä»·çš„ã€‚ä½¿ç”¨çœŸå®çš„LRUç®—æ³•ä¸è¿‘ä¼¼çš„ç®—æ³•å¯ä»¥é€šè¿‡ä¸‹é¢çš„å›¾åƒå¯¹æ¯”ã€‚ ä½ å¯ä»¥çœ‹åˆ°ä¸‰ç§ç‚¹åœ¨å›¾ç‰‡ä¸­, å½¢æˆäº†ä¸‰ç§å¸¦. æµ…ç°è‰²å¸¦æ˜¯å·²ç»è¢«å›æ”¶çš„å¯¹è±¡ã€‚ ç°è‰²å¸¦æ˜¯æ²¡æœ‰è¢«å›æ”¶çš„å¯¹è±¡ã€‚ ç»¿è‰²å¸¦æ˜¯è¢«æ·»åŠ çš„å¯¹è±¡ã€‚ åœ¨LRUå®ç°çš„ç†è®ºä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯ï¼Œåœ¨æ—§é”®ä¸­çš„ç¬¬ä¸€åŠå°†ä¼šè¿‡æœŸã€‚Redisçš„LRUç®—æ³•åˆ™æ˜¯æ¦‚ç‡çš„è¿‡æœŸæ—§çš„é”®ã€‚ ä½ å¯ä»¥çœ‹åˆ°ï¼Œåœ¨éƒ½æ˜¯äº”ä¸ªé‡‡æ ·çš„æ—¶å€™Redis 3.0æ¯”Redis 2.8è¦å¥½ï¼ŒRedis2.8ä¸­åœ¨æœ€åä¸€æ¬¡è®¿é—®ä¹‹é—´çš„å¤§å¤šæ•°çš„å¯¹è±¡ä¾ç„¶ä¿ç•™ç€ã€‚ä½¿ç”¨10ä¸ªé‡‡æ ·å¤§å°çš„Redis 3.0çš„è¿‘ä¼¼å€¼å·²ç»éå¸¸æ¥è¿‘ç†è®ºçš„æ€§èƒ½ã€‚ æ³¨æ„LRUåªæ˜¯ä¸ªé¢„æµ‹é”®å°†å¦‚ä½•è¢«è®¿é—®çš„æ¨¡å‹ã€‚å¦å¤–ï¼Œå¦‚æœä½ çš„æ•°æ®è®¿é—®æ¨¡å¼éå¸¸æ¥è¿‘å¹‚å®šå¾‹ï¼Œå¤§éƒ¨åˆ†çš„è®¿é—®å°†é›†ä¸­åœ¨ä¸€ä¸ªé”®çš„é›†åˆä¸­ï¼ŒLRUçš„è¿‘ä¼¼ç®—æ³•å°†å¤„ç†å¾—å¾ˆå¥½ã€‚ å…¶å®åœ¨å¤§å®¶ç†Ÿæ‚‰çš„LinkedHashMapä¸­ä¹Ÿå®ç°äº†Lruç®—æ³•çš„ï¼Œå®ç°å¦‚ä¸‹ï¼š å½“å®¹é‡è¶…è¿‡100æ—¶ï¼Œå¼€å§‹æ‰§è¡ŒLRUç­–ç•¥ï¼šå°†æœ€è¿‘æœ€å°‘æœªä½¿ç”¨çš„ TimeoutInfoHolder å¯¹è±¡ evict æ‰ã€‚ çœŸå®é¢è¯•ä¸­ä¼šè®©ä½ å†™LURç®—æ³•ï¼Œä½ å¯åˆ«æåŸå§‹çš„é‚£ä¸ªï¼Œé‚£çœŸTMå¤šï¼Œå†™ä¸å®Œçš„ï¼Œä½ è¦ä¹ˆæ€¼ä¸Šé¢è¿™ä¸ªï¼Œè¦ä¹ˆæ€¼ä¸‹é¢è¿™ä¸ªï¼Œæ‰¾ä¸€ä¸ªæ•°æ®ç»“æ„å®ç°ä¸‹Javaç‰ˆæœ¬çš„LRUè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼ŒçŸ¥é“å•¥åŸç†å°±å¥½äº†ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:2:11","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#æœ€åå°±æ˜¯å¦‚æœçš„å¦‚æœå®šæœŸæ²¡åˆ æˆ‘ä¹Ÿæ²¡æŸ¥è¯¢é‚£å¯å’‹æ•´"},{"categories":null,"content":"é¢è¯•ç»“æŸ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:3:0","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#é¢è¯•ç»“æŸ"},{"categories":null,"content":"å°ä¼™å­ï¼Œä½ ç¡®å®æœ‰ç‚¹ä¸œè¥¿ï¼ŒHRBPä¼šè”ç³»ä½ çš„ï¼Œè¯·åŠ¡å¿…ä¿æŒä½ çš„æ‰‹æœºç•…é€šå¥½ä¹ˆï¼Ÿå¥½çš„è°¢è°¢é¢è¯•å®˜ï¼Œé¢è¯•å®˜çœŸå¥½ï¼Œæˆ‘è¿˜æƒ³å†é¢å‡ æ¬¡ï¼Œå™—æ­¤ã€‚ èƒ½å›ç­”å¾—è¿™ä¹ˆå…¨é¢è¿™ä¹ˆç»†èŠ‚è¿˜æ˜¯å¿ä¸ä½ç‚¹èµ ï¼ˆæš—ç¤ºç‚¹èµï¼Œæ¯æ¬¡éƒ½çœ‹äº†ä¸ç‚¹èµï¼Œä½ ä»¬æƒ³ç™½å«–æˆ‘ä¹ˆï¼Ÿä½ ä»¬å¥½åå–²ï¼Œä¸è¿‡æˆ‘å¥½å–œæ¬¢ï¼‰ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:3:1","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#å°ä¼™å­ä½ ç¡®å®æœ‰ç‚¹ä¸œè¥¿hrbpä¼šè”ç³»ä½ çš„è¯·åŠ¡å¿…ä¿æŒä½ çš„æ‰‹æœºç•…é€šå¥½ä¹ˆ"},{"categories":null,"content":"æ€»ç»“å¥½äº†ï¼Œæˆ‘ä»¬ç©å½’ç©ï¼Œé—¹å½’é—¹ï¼Œåˆ«æ‹¿é¢è¯•å¼€ç©ç¬‘ï¼Œæˆ‘è¿™ä¹ˆå†™æ˜¯ä¸ºäº†èŠ‚ç›®æ•ˆæœï¼Œå¤§å®¶é¢è¯•è¯·è®¤çœŸå¯¹å¾…ã€‚ è¿™ä¸€æœŸæ˜¯è¿™æœŸæ²¡å‰é¢å¥½ç†è§£äº†å¯¹å§ï¼Œæˆ‘å°±åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šå¯åŠ¨äº†ï¼Œç„¶åå†å»å®˜ç½‘çœ‹çœ‹å‘½ä»¤ä¸€é¡¿çæ“ä½œçš„ï¼ŒæŸ¥é˜…äº†éƒ¨åˆ†èµ„æ–™ï¼Œè¿™é‡Œç»™å¤§å®¶æ¨èå‡ æœ¬ç»å…¸çš„Rediså…¥é—¨çš„ä¹¦ç±å’Œæˆ‘å‚è€ƒçš„èµ„æ–™ã€‚ [Redisä¸­æ–‡å®˜ç½‘](http://www.redis.cn/) ã€ŠRediså…¥é—¨æŒ‡å—(ç¬¬2ç‰ˆ)ã€‹ ã€ŠRediså®æˆ˜ã€‹ ã€ŠRedisè®¾è®¡ä¸å®ç°ã€‹ ã€Šå¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„â€”â€”ææ™ºæ…§ã€‹ ã€ŠRedis è®¾è®¡ä¸å®ç°â€”â€”é»„å¥å®ã€‹ ã€ŠRedis æ·±åº¦å†é™©â€”â€”é’±æ–‡å“ã€‹ ã€Šäº¿çº§æµé‡ç½‘ç«™æ¶æ„æ ¸å¿ƒæŠ€æœ¯â€”â€”å¼ å¼€æ¶›ã€‹ ã€Šä¸­åçŸ³æ‰â€”â€”çŸ³æ‰ã€‹ ä¸å‡ºæ„å¤–çš„è¯è¿™æ˜¯Redisçš„å€’æ•°ç¬¬äºŒæœŸï¼Œæœ€åä¸€æœŸä¸çŸ¥é“å†™å•¥è¿˜æ²¡æƒ³å¥½ï¼Œæˆ‘å¾—å¥½å¥½æƒ³æƒ³ï¼ŒåŠ ä¸Šæœ€è¿‘ä¸æ˜¯åŒåä¸€å˜›å¾—åŠ åŠ ç­ï¼Œä½ çœ‹çœ‹å¼€å¤´çš„æˆ‘ï¼Œå¤šå¯æ€œï¼Œé‚£è¿˜ä¸ç‚¹ä¸ªèµï¼Ÿä¹°ä¸ªæœåŠ¡å™¨ï¼Ÿä¸ç¡®å®šä¸‹ä¸€æœŸå¤šä¹…å‡ºï¼Œæƒ³æ—©ç‚¹çœ‹åˆ°æ›´æ–°çš„å°ä¼™ä¼´å¯ä»¥å»å…¬ä¼—å·å‚¬æ›´ï¼Œå…¬ä¼—å·æå‰ä¸€åˆ°ä¸¤å¤©æ›´æ–°ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:4:0","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#æ€»ç»“"},{"categories":null,"content":"ENDå¥½äº†å„ä½ï¼Œä»¥ä¸Šå°±æ˜¯è¿™ç¯‡æ–‡ç« çš„å…¨éƒ¨å†…å®¹äº†ï¼Œèƒ½çœ‹åˆ°è¿™é‡Œçš„äººå‘€ï¼Œéƒ½æ˜¯äººæ‰ï¼Œæˆ‘åé¢ä¼šæ¯å‘¨éƒ½æ›´æ–°å‡ ç¯‡ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å’ŒJavaæŠ€æœ¯æ ˆç›¸å…³çš„æ–‡ç« ã€‚å¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„ï¼Œä¹Ÿå¯ä»¥ç•™è¨€ç»™æˆ‘ï¼Œæˆ‘ä¸€æœ‰æ—¶é—´å°±ä¼šå†™å‡ºæ¥ï¼Œæˆ‘ä»¬å…±åŒè¿›æ­¥ã€‚ éå¸¸æ„Ÿè°¢é“ä»”/é“å¥³æ‚¨èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè¿™ä¸ªæ–‡ç« å†™å¾—è¿˜ä¸é”™ï¼Œè§‰å¾—æ•–ä¸™æœ‰ç‚¹ä¸œè¥¿ æ±‚ç‚¹èµ æ±‚å…³æ³¨ æ±‚åˆ†äº« æ±‚ç•™è¨€ **ï¼ˆå¯¹æˆ‘éå¸¸æœ‰ç”¨ï¼‰**å„ä½çš„æ”¯æŒå’Œè®¤å¯ï¼Œå°±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼Œæˆ‘ä»¬ä¸‹ç¯‡æ–‡ç« è§ï¼ æ•–ä¸™ | æ–‡ ã€åŸåˆ›ã€‘ æ¯å‘¨éƒ½ä¼šæŒç»­æ›´æ–°ã€ŠåŠæ‰“é¢è¯•å®˜ã€‹ç³»åˆ—å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ç¬¬ä¸€æ—¶é—´é˜…è¯»å’Œå‚¬æ›´ï¼Œå…¬ä¼—å·æ¯”åšå®¢æå‰ä¸€åˆ°ä¸¤å¤©æ›´æ–°ï¼Œä¹Ÿå¯ä»¥åœ¨å…¬ä¼—å·å›å¤ã€äººæ‰ã€‘åŠ å…¥äººæ‰äº¤æµç¾¤ï¼Œé‡Œé¢éƒ½æ˜¯äººæ‰é•¿å¾—å¥½çœ‹è¯´è¯è¿˜å¥½å¬ï¼Œè¿›å»å°±åƒå›å®¶äº†ä¸€æ ·ï¼Œå°±ä¸šå’Œå·¥ä½œä¸Šæœ‰ä»€ä¹ˆé—®é¢˜ä¹Ÿå¯ä»¥ç›´æ¥æ»´æ»´æˆ‘ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸ªæ–°äººï¼Œä¸è¿‡ä¸å½±å“æˆ‘ä»¬ä¸€èµ·è¿›æ­¥ã€‚ ","date":"2022-03-26","objectID":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/:4:1","series":null,"tags":["redis"],"title":"é›†ç¾¤é«˜å¯ç”¨ã€å“¨å…µã€æŒä¹…åŒ–ã€LRU","uri":"/posts/middleware/redis/%E9%9B%86%E7%BE%A4%E9%AB%98%E5%8F%AF%E7%94%A8%E5%93%A8%E5%85%B5%E6%8C%81%E4%B9%85%E5%8C%96lru/#end"},{"categories":null,"content":"ç½‘ç»œåˆ†å±‚ç»“æ„è®¡ç®—æœºç½‘ç»œä½“ç³»å¤§è‡´åˆ†ä¸ºä¸‰ç§ï¼ŒOSIä¸ƒå±‚æ¨¡å‹ã€TCP/IPå››å±‚æ¨¡å‹å’Œäº”å±‚æ¨¡å‹ã€‚ä¸€èˆ¬é¢è¯•çš„æ—¶å€™è€ƒå¯Ÿæ¯”è¾ƒå¤šçš„æ˜¯äº”å±‚æ¨¡å‹ã€‚ TCP/IPäº”å±‚æ¨¡å‹ï¼šåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ã€‚ åº”ç”¨å±‚ï¼šä¸ºåº”ç”¨ç¨‹åºæä¾›äº¤äº’æœåŠ¡ã€‚åœ¨äº’è”ç½‘ä¸­çš„åº”ç”¨å±‚åè®®å¾ˆå¤šï¼Œå¦‚åŸŸåç³»ç»ŸDNSã€HTTPåè®®ã€SMTPåè®®ç­‰ã€‚ ä¼ è¾“å±‚ï¼šè´Ÿè´£å‘ä¸¤å°ä¸»æœºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›æ•°æ®ä¼ è¾“æœåŠ¡ã€‚ä¼ è¾“å±‚çš„åè®®ä¸»è¦æœ‰ä¼ è¾“æ§åˆ¶åè®®TCPå’Œç”¨æˆ·æ•°æ®åè®®UDPã€‚ ç½‘ç»œå±‚ï¼šé€‰æ‹©åˆé€‚çš„è·¯ç”±å’Œäº¤æ¢ç»“ç‚¹ï¼Œç¡®ä¿æ•°æ®åŠæ—¶ä¼ é€ã€‚ä¸»è¦åŒ…æ‹¬IPåè®®ã€‚ æ•°æ®é“¾è·¯å±‚ï¼šåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¹‹é—´ä¼ é€æ•°æ®æ—¶ï¼Œæ•°æ®é“¾è·¯å±‚å°†ç½‘ç»œå±‚äº¤ä¸‹æ¥çš„ IP æ•°æ®æŠ¥ç»„è£…æˆå¸§ï¼Œåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹é—´çš„é“¾è·¯ä¸Šä¼ é€å¸§ã€‚ ç‰©ç†å±‚ï¼šå®ç°ç›¸é‚»èŠ‚ç‚¹é—´æ¯”ç‰¹æµçš„é€æ˜ä¼ è¾“ï¼Œå°½å¯èƒ½å±è”½ä¼ è¾“ä»‹è´¨å’Œç‰©ç†è®¾å¤‡çš„å·®å¼‚ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ç½‘ç»œåˆ†å±‚ç»“æ„"},{"categories":null,"content":"ä¸‰æ¬¡æ¡æ‰‹å‡è®¾å‘é€ç«¯ä¸ºå®¢æˆ·ç«¯ï¼Œæ¥æ”¶ç«¯ä¸ºæœåŠ¡ç«¯ã€‚å¼€å§‹æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„çŠ¶æ€éƒ½æ˜¯CLOSEDã€‚ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘èµ·å»ºç«‹è¿æ¥è¯·æ±‚ï¼Œå®¢æˆ·ç«¯ä¼šéšæœºç”Ÿæˆä¸€ä¸ªèµ·å§‹åºåˆ—å·xï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€çš„å­—æ®µä¸­åŒ…å«æ ‡å¿—ä½SYN=1ï¼Œåºåˆ—å·seq=xã€‚ç¬¬ä¸€æ¬¡æ¡æ‰‹å‰å®¢æˆ·ç«¯çš„çŠ¶æ€ä¸ºCLOSEï¼Œç¬¬ä¸€æ¬¡æ¡æ‰‹åå®¢æˆ·ç«¯çš„çŠ¶æ€ä¸ºSYN-SENTã€‚æ­¤æ—¶æœåŠ¡ç«¯çš„çŠ¶æ€ä¸ºLISTENã€‚ ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯åœ¨æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„æŠ¥æ–‡åï¼Œä¼šéšæœºç”Ÿæˆä¸€ä¸ªæœåŠ¡ç«¯çš„èµ·å§‹åºåˆ—å·yï¼Œç„¶åç»™å®¢æˆ·ç«¯å›å¤ä¸€æ®µæŠ¥æ–‡ï¼Œå…¶ä¸­åŒ…æ‹¬æ ‡å¿—ä½SYN=1ï¼ŒACK=1ï¼Œåºåˆ—å·seq=yï¼Œç¡®è®¤å·ack=x+1ã€‚ç¬¬äºŒæ¬¡æ¡æ‰‹å‰æœåŠ¡ç«¯çš„çŠ¶æ€ä¸ºLISTENï¼Œç¬¬äºŒæ¬¡æ¡æ‰‹åæœåŠ¡ç«¯çš„çŠ¶æ€ä¸ºSYN-RCVDï¼Œæ­¤æ—¶å®¢æˆ·ç«¯çš„çŠ¶æ€ä¸ºSYN-SENTã€‚ï¼ˆå…¶ä¸­SYN=1è¡¨ç¤ºè¦å’Œå®¢æˆ·ç«¯å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼ŒACK=1è¡¨ç¤ºç¡®è®¤åºå·æœ‰æ•ˆï¼‰ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯å‘æ¥çš„æŠ¥æ–‡åï¼Œä¼šå†å‘æœåŠ¡ç«¯å‘é€æŠ¥æ–‡ï¼Œå…¶ä¸­åŒ…å«æ ‡å¿—ä½ACK=1ï¼Œåºåˆ—å·seq=x+1ï¼Œç¡®è®¤å·ack=y+1ã€‚ç¬¬ä¸‰æ¬¡æ¡æ‰‹å‰å®¢æˆ·ç«¯çš„çŠ¶æ€ä¸ºSYN-SENTï¼Œç¬¬ä¸‰æ¬¡æ¡æ‰‹åå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„çŠ¶æ€éƒ½ä¸ºESTABLISHEDã€‚æ­¤æ—¶è¿æ¥å»ºç«‹å®Œæˆã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:2:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ä¸‰æ¬¡æ¡æ‰‹"},{"categories":null,"content":"ä¸¤æ¬¡æ¡æ‰‹å¯ä»¥å—ï¼Ÿç¬¬ä¸‰æ¬¡æ¡æ‰‹ä¸»è¦ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ è¾“åˆ°äº†æœåŠ¡ç«¯ï¼Œå¯¼è‡´äº§ç”Ÿé—®é¢˜ã€‚ æ¯”å¦‚å®¢æˆ·ç«¯Aå‘å‡ºè¿æ¥è¯·æ±‚ï¼Œå¯èƒ½å› ä¸ºç½‘ç»œé˜»å¡åŸå› ï¼ŒAæ²¡æœ‰æ”¶åˆ°ç¡®è®¤æŠ¥æ–‡ï¼Œäºæ˜¯Aå†é‡ä¼ ä¸€æ¬¡è¿æ¥è¯·æ±‚ã€‚ è¿æ¥æˆåŠŸï¼Œç­‰å¾…æ•°æ®ä¼ è¾“å®Œæ¯•åï¼Œå°±é‡Šæ”¾äº†è¿æ¥ã€‚ ç„¶åAå‘å‡ºçš„ç¬¬ä¸€ä¸ªè¿æ¥è¯·æ±‚ç­‰åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾æœåŠ¡ç«¯Bï¼Œæ­¤æ—¶Bè¯¯è®¤ä¸ºAåˆå‘å‡ºä¸€æ¬¡æ–°çš„è¿æ¥è¯·æ±‚ï¼Œäºæ˜¯å°±å‘Aå‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µã€‚ å¦‚æœä¸é‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹ï¼Œåªè¦Bå‘å‡ºç¡®è®¤ï¼Œå°±å»ºç«‹æ–°çš„è¿æ¥äº†ï¼Œæ­¤æ—¶Aä¸ä¼šå“åº”Bçš„ç¡®è®¤ä¸”ä¸å‘é€æ•°æ®ï¼Œåˆ™Bä¸€ç›´ç­‰å¾…Aå‘é€æ•°æ®ï¼Œæµªè´¹èµ„æºã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:3:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ä¸¤æ¬¡æ¡æ‰‹å¯ä»¥å—"},{"categories":null,"content":"å››æ¬¡æŒ¥æ‰‹ Açš„åº”ç”¨è¿›ç¨‹å…ˆå‘å…¶TCPå‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼ˆFIN=1ï¼Œseq=uï¼‰ï¼Œå¹¶åœæ­¢å†å‘é€æ•°æ®ï¼Œä¸»åŠ¨å…³é—­TCPè¿æ¥ï¼Œè¿›å…¥FIN-WAIT-1ï¼ˆç»ˆæ­¢ç­‰å¾…1ï¼‰çŠ¶æ€ï¼Œç­‰å¾…Bçš„ç¡®è®¤ã€‚ Bæ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåå³å‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ˆACK=1ï¼Œack=u+1ï¼Œseq=vï¼‰ï¼ŒBè¿›å…¥CLOSE-WAITï¼ˆå…³é—­ç­‰å¾…ï¼‰çŠ¶æ€ï¼Œæ­¤æ—¶çš„TCPå¤„äºåŠå…³é—­çŠ¶æ€ï¼ŒAåˆ°Bçš„è¿æ¥é‡Šæ”¾ã€‚ Aæ”¶åˆ°Bçš„ç¡®è®¤åï¼Œè¿›å…¥FIN-WAIT-2ï¼ˆç»ˆæ­¢ç­‰å¾…2ï¼‰çŠ¶æ€ï¼Œç­‰å¾…Bå‘å‡ºçš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µã€‚ Bå‘é€å®Œæ•°æ®ï¼Œå°±ä¼šå‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼ˆFIN=1ï¼ŒACK=1ï¼Œseq=wï¼Œack=u+1ï¼‰ï¼ŒBè¿›å…¥LAST-ACKï¼ˆæœ€åç¡®è®¤ï¼‰çŠ¶æ€ï¼Œç­‰å¾…Açš„ç¡®è®¤ã€‚ Aæ”¶åˆ°Bçš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåï¼Œå¯¹æ­¤å‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ˆACK=1ï¼Œseq=u+1ï¼Œack=w+1ï¼‰ï¼ŒAè¿›å…¥TIME-WAITï¼ˆæ—¶é—´ç­‰å¾…ï¼‰çŠ¶æ€ã€‚æ­¤æ—¶TCPæœªé‡Šæ”¾æ‰ï¼Œéœ€è¦ç»è¿‡æ—¶é—´ç­‰å¾…è®¡æ—¶å™¨è®¾ç½®çš„æ—¶é—´2MSLï¼ˆæœ€å¤§æŠ¥æ–‡æ®µç”Ÿå­˜æ—¶é—´ï¼‰åï¼ŒAæ‰è¿›å…¥CLOSEDçŠ¶æ€ã€‚Bæ”¶åˆ°Aå‘å‡ºçš„ç¡®è®¤æŠ¥æ–‡æ®µåå…³é—­è¿æ¥ï¼Œè‹¥æ²¡æ”¶åˆ°Aå‘å‡ºçš„ç¡®è®¤æŠ¥æ–‡æ®µï¼ŒBå°±ä¼šé‡ä¼ è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:4:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#å››æ¬¡æŒ¥æ‰‹"},{"categories":null,"content":"ç¬¬å››æ¬¡æŒ¥æ‰‹ä¸ºä»€ä¹ˆè¦ç­‰å¾…2MSLï¼Ÿ ä¿è¯Aå‘é€çš„æœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µèƒ½å¤Ÿåˆ°è¾¾Bã€‚è¿™ä¸ªACKæŠ¥æ–‡æ®µæœ‰å¯èƒ½ä¸¢å¤±ï¼ŒBæ”¶ä¸åˆ°è¿™ä¸ªç¡®è®¤æŠ¥æ–‡ï¼Œå°±ä¼šè¶…æ—¶é‡ä¼ è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼Œç„¶åAå¯ä»¥åœ¨2MSLæ—¶é—´å†…æ”¶åˆ°è¿™ä¸ªé‡ä¼ çš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼Œæ¥ç€Aé‡ä¼ ä¸€æ¬¡ç¡®è®¤ï¼Œé‡æ–°å¯åŠ¨2MSLè®¡æ—¶å™¨ï¼Œæœ€åAå’ŒBéƒ½è¿›å…¥åˆ°CLOSEDçŠ¶æ€ï¼Œè‹¥Aåœ¨TIME-WAITçŠ¶æ€ä¸ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè€Œæ˜¯å‘é€å®ŒACKæŠ¥æ–‡æ®µåç«‹å³é‡Šæ”¾è¿æ¥ï¼Œåˆ™æ— æ³•æ”¶åˆ°Bé‡ä¼ çš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼Œæ‰€ä»¥ä¸ä¼šå†å‘é€ä¸€æ¬¡ç¡®è®¤æŠ¥æ–‡æ®µï¼ŒBå°±æ— æ³•æ­£å¸¸è¿›å…¥åˆ°CLOSEDçŠ¶æ€ã€‚ é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå‡ºç°åœ¨æœ¬è¿æ¥ä¸­ã€‚Aåœ¨å‘é€å®Œæœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µåï¼Œå†ç»è¿‡2MSLï¼Œå°±å¯ä»¥ä½¿è¿™ä¸ªè¿æ¥æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡æ®µéƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ï¼Œä½¿ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸­ä¸ä¼šå‡ºç°æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:5:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ç¬¬å››æ¬¡æŒ¥æ‰‹ä¸ºä»€ä¹ˆè¦ç­‰å¾…2msl"},{"categories":null,"content":"ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹ï¼Ÿå› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚ä½†æ˜¯åœ¨å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°Clientç«¯å‘å‡ºçš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥Serverç«¯å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯æˆ‘æ”¶åˆ°ä½ çš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡äº†ã€‚åªæœ‰ç­‰åˆ°Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œè¿™æ—¶Serverç«¯æ‰èƒ½å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼Œä¹‹åä¸¤è¾¹æ‰ä¼šçœŸæ­£çš„æ–­å¼€è¿æ¥ã€‚æ•…éœ€è¦å››æ¬¡æŒ¥æ‰‹ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:6:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹"},{"categories":null,"content":"TCPæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ TCPæ˜¯é¢å‘è¿æ¥çš„è¿è¾“å±‚åè®®ã€‚ ï¼Œæ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æœ‰ä¸¤ä¸ªç«¯ç‚¹ã€‚ TCPæä¾›å¯é äº¤ä»˜çš„æœåŠ¡ã€‚ TCPæä¾›å…¨åŒå·¥é€šä¿¡ã€‚ é¢å‘å­—èŠ‚æµã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:7:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#tcpæœ‰å“ªäº›ç‰¹ç‚¹"},{"categories":null,"content":"TCPå’ŒUDPçš„åŒºåˆ«ï¼Ÿ TCPé¢å‘è¿æ¥ï¼›UDPæ˜¯æ— è¿æ¥çš„ï¼Œå³å‘é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ã€‚ TCPæä¾›å¯é çš„æœåŠ¡ï¼›UDPä¸ä¿è¯å¯é äº¤ä»˜ã€‚ TCPé¢å‘å­—èŠ‚æµï¼ŒæŠŠæ•°æ®çœ‹æˆä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµï¼›UDPæ˜¯é¢å‘æŠ¥æ–‡çš„ã€‚ TCPæœ‰æ‹¥å¡æ§åˆ¶ï¼›UDPæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œå› æ­¤ç½‘ç»œå‡ºç°æ‹¥å¡ä¸ä¼šä½¿æºä¸»æœºçš„å‘é€é€Ÿç‡é™ä½ï¼ˆå¯¹å®æ—¶åº”ç”¨å¾ˆæœ‰ç”¨ï¼Œå¦‚å®æ—¶è§†é¢‘ä¼šè®®ç­‰ï¼‰ã€‚ æ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯çš„ï¼›UDPæ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„é€šä¿¡æ–¹å¼ã€‚ TCPé¦–éƒ¨å¼€é”€20å­—èŠ‚ï¼›UDPçš„é¦–éƒ¨å¼€é”€å°ï¼Œåªæœ‰8ä¸ªå­—èŠ‚ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:8:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#tcpå’Œudpçš„åŒºåˆ«"},{"categories":null,"content":"HTTPåè®®çš„ç‰¹ç‚¹ï¼Ÿ HTTPå…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®ã€‚ä¼ è¾“çš„ç±»å‹ç”±Content-TypeåŠ ä»¥æ ‡è®°ã€‚ æ— çŠ¶æ€ã€‚å¯¹äºå®¢æˆ·ç«¯æ¯æ¬¡å‘é€çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨éƒ½è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°çš„è¯·æ±‚ï¼Œä¸Šä¸€æ¬¡ä¼šè¯å’Œä¸‹ä¸€æ¬¡ä¼šè¯ä¹‹é—´æ²¡æœ‰è”ç³»ã€‚ æ”¯æŒå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:9:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#httpåè®®çš„ç‰¹ç‚¹"},{"categories":null,"content":"HTTPæŠ¥æ–‡æ ¼å¼HTTPè¯·æ±‚ç”±è¯·æ±‚è¡Œã€è¯·æ±‚å¤´éƒ¨ã€ç©ºè¡Œå’Œè¯·æ±‚ä½“å››ä¸ªéƒ¨åˆ†ç»„æˆã€‚ è¯·æ±‚è¡Œï¼šåŒ…æ‹¬è¯·æ±‚æ–¹æ³•ï¼Œè®¿é—®çš„èµ„æºURLï¼Œä½¿ç”¨çš„HTTPç‰ˆæœ¬ã€‚GETå’ŒPOSTæ˜¯æœ€å¸¸è§çš„HTTPæ–¹æ³•ï¼Œé™¤æ­¤ä»¥å¤–è¿˜åŒ…æ‹¬DELETEã€HEADã€OPTIONSã€PUTã€TRACEã€‚ è¯·æ±‚å¤´ï¼šæ ¼å¼ä¸ºâ€œå±æ€§å:å±æ€§å€¼â€ï¼ŒæœåŠ¡ç«¯æ ¹æ®è¯·æ±‚å¤´è·å–å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œä¸»è¦æœ‰cookieã€hostã€connectionã€accept-languageã€accept-encodingã€user-agentã€‚ è¯·æ±‚ä½“ï¼šç”¨æˆ·çš„è¯·æ±‚æ•°æ®å¦‚ç”¨æˆ·åï¼Œå¯†ç ç­‰ã€‚ è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹ï¼š POST /xxx HTTP/1.1 è¯·æ±‚è¡Œ Accept:image/gif.image/jpeg, è¯·æ±‚å¤´éƒ¨ Accept-Language:zh-cn Connection:Keep-Alive Host:localhost User-Agent:Mozila/4.0(compatible;MSIE5.01;Window NT5.0) Accept-Encoding:gzip,deflate username=dabin è¯·æ±‚ä½“ HTTPå“åº”ä¹Ÿç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ï¼šçŠ¶æ€è¡Œã€å“åº”å¤´ã€ç©ºè¡Œå’Œå“åº”ä½“ã€‚ çŠ¶æ€è¡Œï¼šåè®®ç‰ˆæœ¬ï¼ŒçŠ¶æ€ç åŠçŠ¶æ€æè¿°ã€‚ å“åº”å¤´ï¼šå“åº”å¤´å­—æ®µä¸»è¦æœ‰connectionã€content-typeã€content-encodingã€content-lengthã€set-cookieã€Last-Modifiedï¼Œã€Cache-Controlã€Expiresã€‚ å“åº”ä½“ï¼šæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„å†…å®¹ã€‚ å“åº”æŠ¥æ–‡ç¤ºä¾‹ï¼š HTTP/1.1 200 OK Server:Apache Tomcat/5.0.12 Date:Mon,6Oct2003 13:23:42 GMT Content-Length:112 å“åº”ä½“ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:10:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#httpæŠ¥æ–‡æ ¼å¼"},{"categories":null,"content":"HTTPçŠ¶æ€ç æœ‰å“ªäº›ï¼Ÿ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:11:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#httpçŠ¶æ€ç æœ‰å“ªäº›"},{"categories":null,"content":"POSTå’ŒGETçš„åŒºåˆ«ï¼Ÿ GETè¯·æ±‚å‚æ•°é€šè¿‡URLä¼ é€’ï¼ŒPOSTçš„å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚ GETäº§ç”Ÿä¸€ä¸ªTCPæ•°æ®åŒ…ï¼›POSTäº§ç”Ÿä¸¤ä¸ªTCPæ•°æ®åŒ…ã€‚å¯¹äºGETæ–¹å¼çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šæŠŠè¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ä¸€å¹¶å‘é€å‡ºå»ï¼›è€Œå¯¹äºPOSTï¼Œæµè§ˆå™¨å…ˆå‘é€è¯·æ±‚å¤´ï¼ŒæœåŠ¡å™¨å“åº”100 continueï¼Œæµè§ˆå™¨å†å‘é€è¯·æ±‚ä½“ã€‚ GETè¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ç¼“å­˜ï¼Œè€ŒPOSTä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚ GETè¯·æ±‚åªèƒ½è¿›è¡Œurlç¼–ç ï¼Œè€ŒPOSTæ”¯æŒå¤šç§ç¼–ç æ–¹å¼ã€‚ GETè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€ŒPOSTä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:12:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#postå’Œgetçš„åŒºåˆ«"},{"categories":null,"content":"HTTPé•¿è¿æ¥å’ŒçŸ­è¿æ¥ï¼ŸHTTP1.0é»˜è®¤ä½¿ç”¨çš„æ˜¯çŸ­è¿æ¥ã€‚æµè§ˆå™¨å’ŒæœåŠ¡å™¨æ¯è¿›è¡Œä¸€æ¬¡HTTPæ“ä½œï¼Œå°±å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œä»»åŠ¡ç»“æŸå°±ä¸­æ–­è¿æ¥ã€‚ HTTP/1.1èµ·ï¼Œé»˜è®¤ä½¿ç”¨é•¿è¿æ¥ã€‚è¦ä½¿ç”¨é•¿è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„HTTPé¦–éƒ¨çš„Connectionéƒ½è¦è®¾ç½®ä¸ºkeep-aliveï¼Œæ‰èƒ½æ”¯æŒé•¿è¿æ¥ã€‚ HTTPé•¿è¿æ¥ï¼ŒæŒ‡çš„æ˜¯å¤ç”¨TCPè¿æ¥ã€‚å¤šä¸ªHTTPè¯·æ±‚å¯ä»¥å¤ç”¨åŒä¸€ä¸ªTCPè¿æ¥ï¼Œè¿™å°±èŠ‚çœäº†TCPè¿æ¥å»ºç«‹å’Œæ–­å¼€çš„æ¶ˆè€—ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:13:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#httpé•¿è¿æ¥å’ŒçŸ­è¿æ¥"},{"categories":null,"content":"HTTP1.1å’Œ HTTP2.0çš„åŒºåˆ«ï¼ŸHTTP2.0ç›¸æ¯”HTTP1.1æ”¯æŒçš„ç‰¹æ€§ï¼š æ–°çš„äºŒè¿›åˆ¶æ ¼å¼ï¼šHTTP1.1 åŸºäºæ–‡æœ¬æ ¼å¼ä¼ è¾“æ•°æ®ï¼›HTTP2.0é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œè§£ææ›´é«˜æ•ˆã€‚ å¤šè·¯å¤ç”¨ï¼šåœ¨ä¸€ä¸ªè¿æ¥é‡Œï¼Œå…è®¸åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚æˆ–å“åº”ï¼Œå¹¶ä¸”è¿™äº›è¯·æ±‚æˆ–å“åº”èƒ½å¤Ÿå¹¶è¡Œçš„ä¼ è¾“è€Œä¸è¢«é˜»å¡ï¼Œé¿å… HTTP1.1 å‡ºç°çš„â€é˜Ÿå¤´å µå¡â€é—®é¢˜ã€‚ å¤´éƒ¨å‹ç¼©ï¼ŒHTTP1.1çš„headerå¸¦æœ‰å¤§é‡ä¿¡æ¯ï¼Œè€Œä¸”æ¯æ¬¡éƒ½è¦é‡å¤å‘é€ï¼›HTTP2.0 æŠŠheaderä»æ•°æ®ä¸­åˆ†ç¦»ï¼Œå¹¶å°è£…æˆå¤´å¸§å’Œæ•°æ®å¸§ï¼Œä½¿ç”¨ç‰¹å®šç®—æ³•å‹ç¼©å¤´å¸§ï¼Œæœ‰æ•ˆå‡å°‘å¤´ä¿¡æ¯å¤§å°ã€‚å¹¶ä¸”HTTP2.0åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è®°å½•äº†ä¹‹å‰å‘é€çš„é”®å€¼å¯¹ï¼Œå¯¹äºç›¸åŒçš„æ•°æ®ï¼Œä¸ä¼šé‡å¤å‘é€ã€‚æ¯”å¦‚è¯·æ±‚aå‘é€äº†æ‰€æœ‰çš„å¤´ä¿¡æ¯å­—æ®µï¼Œè¯·æ±‚båˆ™åªéœ€è¦å‘é€å·®å¼‚æ•°æ®ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å†—ä½™æ•°æ®ï¼Œé™ä½å¼€é”€ã€‚ æœåŠ¡ç«¯æ¨é€ï¼šHTTP2.0å…è®¸æœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€èµ„æºï¼Œæ— éœ€å®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨è·å–ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:14:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#http11å’Œ-http20çš„åŒºåˆ«"},{"categories":null,"content":"HTTPSä¸HTTPçš„åŒºåˆ«ï¼Ÿ HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼›HTTPSåˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„sslåŠ å¯†ä¼ è¾“åè®®ã€‚ HTTPå’ŒHTTPSç”¨çš„ç«¯å£ä¸ä¸€æ ·ï¼ŒHTTPç«¯å£æ˜¯80ï¼ŒHTTPSæ˜¯443ã€‚ HTTPSåè®®éœ€è¦åˆ°CAæœºæ„ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬éœ€è¦ä¸€å®šçš„è´¹ç”¨ã€‚ HTTPè¿è¡Œåœ¨TCPåè®®ä¹‹ä¸Šï¼›HTTPSè¿è¡Œåœ¨SSLåè®®ä¹‹ä¸Šï¼ŒSSLè¿è¡Œåœ¨TCPåè®®ä¹‹ä¸Šã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:15:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#httpsä¸httpçš„åŒºåˆ«"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯æ•°å­—è¯ä¹¦ï¼ŸæœåŠ¡ç«¯å¯ä»¥å‘è¯ä¹¦é¢å‘æœºæ„CAç”³è¯·è¯ä¹¦ï¼Œä»¥é¿å…ä¸­é—´äººæ”»å‡»ï¼ˆé˜²æ­¢è¯ä¹¦è¢«ç¯¡æ”¹ï¼‰ã€‚è¯ä¹¦åŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹ï¼šè¯ä¹¦å†…å®¹ã€è¯ä¹¦ç­¾åç®—æ³•å’Œç­¾åï¼Œç­¾åæ˜¯ä¸ºäº†éªŒè¯èº«ä»½ã€‚ æœåŠ¡ç«¯æŠŠè¯ä¹¦ä¼ è¾“ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä»è¯ä¹¦é‡Œå–å…¬é’¥ã€‚è¯ä¹¦å¯ä»¥è¯æ˜è¯¥å…¬é’¥å¯¹åº”æœ¬ç½‘ç«™ã€‚ æ•°å­—ç­¾åçš„åˆ¶ä½œè¿‡ç¨‹ï¼š CAä½¿ç”¨è¯ä¹¦ç­¾åç®—æ³•å¯¹è¯ä¹¦å†…å®¹è¿›è¡Œhashè¿ç®—ã€‚ å¯¹hashåçš„å€¼ç”¨CAçš„ç§é’¥åŠ å¯†ï¼Œå¾—åˆ°æ•°å­—ç­¾åã€‚ æµè§ˆå™¨éªŒè¯è¿‡ç¨‹ï¼š è·å–è¯ä¹¦ï¼Œå¾—åˆ°è¯ä¹¦å†…å®¹ã€è¯ä¹¦ç­¾åç®—æ³•å’Œæ•°å­—ç­¾åã€‚ ç”¨CAæœºæ„çš„å…¬é’¥å¯¹æ•°å­—ç­¾åè§£å¯†ï¼ˆç”±äºæ˜¯æµè§ˆå™¨ä¿¡ä»»çš„æœºæ„ï¼Œæ‰€ä»¥æµè§ˆå™¨ä¼šä¿å­˜å®ƒçš„å…¬é’¥ï¼‰ã€‚ ç”¨è¯ä¹¦é‡Œçš„ç­¾åç®—æ³•å¯¹è¯ä¹¦å†…å®¹è¿›è¡Œhashè¿ç®—ã€‚ æ¯”è¾ƒè§£å¯†åçš„æ•°å­—ç­¾åå’Œå¯¹è¯ä¹¦å†…å®¹åšhashè¿ç®—åå¾—åˆ°çš„å“ˆå¸Œå€¼ï¼Œç›¸ç­‰åˆ™è¡¨æ˜è¯ä¹¦å¯ä¿¡ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:16:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯æ•°å­—è¯ä¹¦"},{"categories":null,"content":"HTTPSåŸç†é¦–å…ˆæ˜¯TCPä¸‰æ¬¡æ¡æ‰‹ï¼Œç„¶åå®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªHTTPSè¿æ¥å»ºç«‹è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å…ˆå‘ä¸€ä¸ªClient Helloçš„åŒ…ï¼Œç„¶åæœåŠ¡ç«¯å“åº”Server Helloï¼Œæ¥ç€å†ç»™å®¢æˆ·ç«¯å‘é€å®ƒçš„è¯ä¹¦ï¼Œç„¶ååŒæ–¹ç»è¿‡å¯†é’¥äº¤æ¢ï¼Œæœ€åä½¿ç”¨äº¤æ¢çš„å¯†é’¥åŠ è§£å¯†æ•°æ®ã€‚ åå•†åŠ å¯†ç®—æ³• ã€‚åœ¨Client Helloé‡Œé¢å®¢æˆ·ç«¯ä¼šå‘ŠçŸ¥æœåŠ¡ç«¯è‡ªå·±å½“å‰çš„ä¸€äº›ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®¢æˆ·ç«¯è¦ä½¿ç”¨çš„TLSç‰ˆæœ¬ï¼Œæ”¯æŒçš„åŠ å¯†ç®—æ³•ï¼Œè¦è®¿é—®çš„åŸŸåï¼Œç»™æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸ªéšæœºæ•°ï¼ˆNonceï¼‰ç­‰ã€‚éœ€è¦æå‰å‘ŠçŸ¥æœåŠ¡å™¨æƒ³è¦è®¿é—®çš„åŸŸåä»¥ä¾¿æœåŠ¡å™¨å‘é€ç›¸åº”çš„åŸŸåçš„è¯ä¹¦è¿‡æ¥ã€‚ æœåŠ¡ç«¯å“åº”Server Helloï¼Œå‘Šè¯‰å®¢æˆ·ç«¯æœåŠ¡ç«¯é€‰ä¸­çš„åŠ å¯†ç®—æ³•ã€‚ æ¥ç€æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯å‘æ¥äº†2ä¸ªè¯ä¹¦ã€‚ç¬¬äºŒä¸ªè¯ä¹¦æ˜¯ç¬¬ä¸€ä¸ªè¯ä¹¦çš„ç­¾å‘æœºæ„ï¼ˆCAï¼‰çš„è¯ä¹¦ã€‚ å®¢æˆ·ç«¯ä½¿ç”¨è¯ä¹¦çš„è®¤è¯æœºæ„CAå…¬å¼€å‘å¸ƒçš„RSAå…¬é’¥å¯¹è¯¥è¯ä¹¦è¿›è¡ŒéªŒè¯ï¼Œä¸‹å›¾è¡¨æ˜è¯ä¹¦è®¤è¯æˆåŠŸã€‚ éªŒè¯é€šè¿‡ä¹‹åï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šè¿‡å¯†é’¥äº¤æ¢ç®—æ³•äº§ç”Ÿå…±äº«çš„å¯¹ç§°å¯†é’¥ã€‚ å¼€å§‹ä¼ è¾“æ•°æ®ï¼Œä½¿ç”¨åŒä¸€ä¸ªå¯¹ç§°å¯†é’¥æ¥åŠ è§£å¯†ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:17:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#httpsåŸç†"},{"categories":null,"content":"DNS çš„è§£æè¿‡ç¨‹ï¼Ÿ æµè§ˆå™¨æœç´¢è‡ªå·±çš„DNSç¼“å­˜ è‹¥æ²¡æœ‰ï¼Œåˆ™æœç´¢æ“ä½œç³»ç»Ÿä¸­çš„DNSç¼“å­˜å’Œhostsæ–‡ä»¶ è‹¥æ²¡æœ‰ï¼Œåˆ™æ“ä½œç³»ç»Ÿå°†åŸŸåå‘é€è‡³æœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨æŸ¥è¯¢è‡ªå·±çš„DNSç¼“å­˜ï¼ŒæŸ¥æ‰¾æˆåŠŸåˆ™è¿”å›ç»“æœï¼Œå¦åˆ™ä¾æ¬¡å‘æ ¹åŸŸåæœåŠ¡å™¨ã€é¡¶çº§åŸŸåæœåŠ¡å™¨ã€æƒé™åŸŸåæœåŠ¡å™¨å‘èµ·æŸ¥è¯¢è¯·æ±‚ï¼Œæœ€ç»ˆè¿”å›IPåœ°å€ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ æœ¬åœ°åŸŸåæœåŠ¡å™¨å°†å¾—åˆ°çš„IPåœ°å€è¿”å›ç»™æ“ä½œç³»ç»Ÿï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå°†IPåœ°å€ç¼“å­˜èµ·æ¥ æ“ä½œç³»ç»Ÿå°† IP åœ°å€è¿”å›ç»™æµè§ˆå™¨ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå°†IPåœ°å€ç¼“å­˜èµ·æ¥ æµè§ˆå™¨å¾—åˆ°åŸŸåå¯¹åº”çš„IPåœ°å€ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:18:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#dns-çš„è§£æè¿‡ç¨‹"},{"categories":null,"content":"æµè§ˆå™¨ä¸­è¾“å…¥URLè¿”å›é¡µé¢è¿‡ç¨‹ï¼Ÿ è§£æåŸŸåï¼Œæ‰¾åˆ°ä¸»æœº IPã€‚ æµè§ˆå™¨åˆ©ç”¨ IP ç›´æ¥ä¸ç½‘ç«™ä¸»æœºé€šä¿¡ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹ TCP è¿æ¥ã€‚æµè§ˆå™¨ä¼šä»¥ä¸€ä¸ªéšæœºç«¯å£å‘æœåŠ¡ç«¯çš„ web ç¨‹åº 80 ç«¯å£å‘èµ· TCP çš„è¿æ¥ã€‚ å»ºç«‹ TCP è¿æ¥åï¼Œæµè§ˆå™¨å‘ä¸»æœºå‘èµ·ä¸€ä¸ªHTTPè¯·æ±‚ã€‚ æœåŠ¡å™¨å“åº”è¯·æ±‚ï¼Œè¿”å›å“åº”æ•°æ®ã€‚ æµè§ˆå™¨è§£æå“åº”å†…å®¹ï¼Œè¿›è¡Œæ¸²æŸ“ï¼Œå‘ˆç°ç»™ç”¨æˆ·ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:19:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#æµè§ˆå™¨ä¸­è¾“å…¥urlè¿”å›é¡µé¢è¿‡ç¨‹"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯cookieå’Œsessionï¼Ÿç”±äºHTTPåè®®æ˜¯æ— çŠ¶æ€çš„åè®®ï¼Œéœ€è¦ç”¨æŸç§æœºåˆ¶æ¥è¯†å…·ä½“çš„ç”¨æˆ·èº«ä»½ï¼Œç”¨æ¥è·Ÿè¸ªç”¨æˆ·çš„æ•´ä¸ªä¼šè¯ã€‚å¸¸ç”¨çš„ä¼šè¯è·Ÿè¸ªæŠ€æœ¯æ˜¯cookieä¸sessionã€‚ cookieå°±æ˜¯ç”±æœåŠ¡å™¨å‘ç»™å®¢æˆ·ç«¯çš„ç‰¹æ®Šä¿¡æ¯ï¼Œè€Œè¿™äº›ä¿¡æ¯ä»¥æ–‡æœ¬æ–‡ä»¶çš„æ–¹å¼å­˜æ”¾åœ¨å®¢æˆ·ç«¯ï¼Œç„¶åå®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™éƒ½ä¼šå¸¦ä¸Šè¿™äº›ç‰¹æ®Šçš„ä¿¡æ¯ã€‚è¯´å¾—æ›´å…·ä½“ä¸€äº›ï¼šå½“ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨è®¿é—®ä¸€ä¸ªæ”¯æŒcookieçš„ç½‘ç«™çš„æ—¶å€™ï¼Œç”¨æˆ·ä¼šæä¾›åŒ…æ‹¬ç”¨æˆ·ååœ¨å†…çš„ä¸ªäººä¿¡æ¯å¹¶ä¸”æäº¤è‡³æœåŠ¡å™¨ï¼›æ¥ç€ï¼ŒæœåŠ¡å™¨åœ¨å‘å®¢æˆ·ç«¯å›ä¼ ç›¸åº”çš„è¶…æ–‡æœ¬çš„åŒæ—¶ä¹Ÿä¼šå‘å›è¿™äº›ä¸ªäººä¿¡æ¯ï¼Œå½“ç„¶è¿™äº›ä¿¡æ¯å¹¶ä¸æ˜¯å­˜æ”¾åœ¨HTTPå“åº”ä½“ä¸­çš„ï¼Œè€Œæ˜¯å­˜æ”¾äºHTTPå“åº”å¤´ï¼›å½“å®¢æˆ·ç«¯æµè§ˆå™¨æ¥æ”¶åˆ°æ¥è‡ªæœåŠ¡å™¨çš„å“åº”ä¹‹åï¼Œæµè§ˆå™¨ä¼šå°†è¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨ä¸€ä¸ªç»Ÿä¸€çš„ä½ç½®ã€‚ è‡ªæ­¤ï¼Œå®¢æˆ·ç«¯å†å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œéƒ½ä¼šæŠŠç›¸åº”çš„cookieå­˜æ”¾åœ¨HTTPè¯·æ±‚å¤´å†æ¬¡å‘å›è‡³æœåŠ¡å™¨ã€‚æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯æµè§ˆå™¨çš„è¯·æ±‚ä¹‹åï¼Œå°±èƒ½å¤Ÿé€šè¿‡åˆ†æå­˜æ”¾äºè¯·æ±‚å¤´çš„cookieå¾—åˆ°å®¢æˆ·ç«¯ç‰¹æœ‰çš„ä¿¡æ¯ï¼Œä»è€ŒåŠ¨æ€ç”Ÿæˆä¸è¯¥å®¢æˆ·ç«¯ç›¸å¯¹åº”çš„å†…å®¹ã€‚ç½‘ç«™çš„ç™»å½•ç•Œé¢ä¸­â€œè¯·è®°ä½æˆ‘â€è¿™æ ·çš„é€‰é¡¹ï¼Œå°±æ˜¯é€šè¿‡cookieå®ç°çš„ã€‚ cookieå·¥ä½œæµç¨‹ï¼š servletåˆ›å»ºcookieï¼Œä¿å­˜å°‘é‡æ•°æ®ï¼Œå‘é€ç»™æµè§ˆå™¨ã€‚ æµè§ˆå™¨è·å¾—æœåŠ¡å™¨å‘é€çš„cookieæ•°æ®ï¼Œå°†è‡ªåŠ¨çš„ä¿å­˜åˆ°æµè§ˆå™¨ç«¯ã€‚ ä¸‹æ¬¡è®¿é—®æ—¶ï¼Œæµè§ˆå™¨å°†è‡ªåŠ¨æºå¸¦cookieæ•°æ®å‘é€ç»™æœåŠ¡å™¨ã€‚ sessionåŸç†ï¼šé¦–å…ˆæµè§ˆå™¨è¯·æ±‚æœåŠ¡å™¨è®¿é—®webç«™ç‚¹æ—¶ï¼ŒæœåŠ¡å™¨é¦–å…ˆä¼šæ£€æŸ¥è¿™ä¸ªå®¢æˆ·ç«¯è¯·æ±‚æ˜¯å¦å·²ç»åŒ…å«äº†ä¸€ä¸ªsessionæ ‡è¯†ï¼ˆsessionidï¼‰ï¼Œå¦‚æœå·²ç»åŒ…å«äº†ä¸€ä¸ªsessionidåˆ™è¯´æ˜ä»¥å‰å·²ç»ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºè¿‡sessionï¼ŒæœåŠ¡å™¨å°±æŒ‰ç…§sessionidæŠŠè¿™ä¸ªsessionæ£€ç´¢å‡ºæ¥ä½¿ç”¨ï¼Œå¦‚æœå®¢æˆ·ç«¯è¯·æ±‚ä¸åŒ…å«session idï¼Œåˆ™æœåŠ¡å™¨ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªsessionï¼Œå¹¶ä¸”ç”Ÿæˆä¸€ä¸ªä¸æ­¤sessionç›¸å…³è”çš„ç‹¬ä¸€æ— äºŒçš„sessionidå­˜æ”¾åˆ°cookieä¸­ï¼Œè¿™ä¸ªsessionidå°†åœ¨æœ¬æ¬¡å“åº”ä¸­è¿”å›åˆ°å®¢æˆ·ç«¯ä¿å­˜ï¼Œè¿™æ ·åœ¨äº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ç«¯æ¯æ¬¡è¯·æ±‚æ—¶ï¼Œéƒ½ä¼šå¸¦ç€è¿™ä¸ªsessionidï¼ŒæœåŠ¡å™¨æ ¹æ®è¿™ä¸ªsessionidå°±å¯ä»¥æ‰¾å¾—åˆ°å¯¹åº”çš„sessionã€‚ä»¥æ­¤æ¥è¾¾åˆ°å…±äº«æ•°æ®çš„ç›®çš„ã€‚ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsessionä¸ä¼šéšç€æµè§ˆå™¨çš„å…³é—­è€Œæ­»äº¡ï¼Œè€Œæ˜¯ç­‰å¾…è¶…æ—¶æ—¶é—´ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:20:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯cookieå’Œsession"},{"categories":null,"content":"Cookieå’ŒSessionçš„åŒºåˆ«ï¼Ÿ ä½œç”¨èŒƒå›´ä¸åŒï¼ŒCookie ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼ŒSession ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚ æœ‰æ•ˆæœŸä¸åŒï¼ŒCookie å¯è®¾ç½®ä¸ºé•¿æ—¶é—´ä¿æŒï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„é»˜è®¤ç™»å½•åŠŸèƒ½ï¼ŒSession ä¸€èˆ¬å¤±æ•ˆæ—¶é—´è¾ƒçŸ­ï¼Œå®¢æˆ·ç«¯å…³é—­æˆ–è€… Session è¶…æ—¶éƒ½ä¼šå¤±æ•ˆã€‚ éšç§ç­–ç•¥ä¸åŒï¼ŒCookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå®¹æ˜“è¢«çªƒå–ï¼›Session å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå®‰å…¨æ€§ç›¸å¯¹ Cookie è¦å¥½ä¸€äº›ã€‚ å­˜å‚¨å¤§å°ä¸åŒï¼Œ å•ä¸ª Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kï¼›å¯¹äº Session æ¥è¯´å­˜å‚¨æ²¡æœ‰ä¸Šé™ï¼Œä½†å‡ºäºå¯¹æœåŠ¡å™¨çš„æ€§èƒ½è€ƒè™‘ï¼ŒSession å†…ä¸è¦å­˜æ”¾è¿‡å¤šçš„æ•°æ®ï¼Œå¹¶ä¸”éœ€è¦è®¾ç½® Session åˆ é™¤æœºåˆ¶ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:21:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#cookieå’Œsessionçš„åŒºåˆ«"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ï¼Ÿå¯¹ç§°åŠ å¯†ï¼šé€šä¿¡åŒæ–¹ä½¿ç”¨ç›¸åŒçš„å¯†é’¥è¿›è¡ŒåŠ å¯†ã€‚ç‰¹ç‚¹æ˜¯åŠ å¯†é€Ÿåº¦å¿«ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯å¯†é’¥æ³„éœ²ä¼šå¯¼è‡´å¯†æ–‡æ•°æ®è¢«ç ´è§£ã€‚å¸¸è§çš„å¯¹ç§°åŠ å¯†æœ‰AESå’ŒDESç®—æ³•ã€‚ éå¯¹ç§°åŠ å¯†ï¼šå®ƒéœ€è¦ç”Ÿæˆä¸¤ä¸ªå¯†é’¥ï¼Œå…¬é’¥å’Œç§é’¥ã€‚å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—ï¼Œè€Œç§é’¥æ˜¯ç§äººä¿ç®¡çš„ã€‚å…¬é’¥è´Ÿè´£åŠ å¯†ï¼Œç§é’¥è´Ÿè´£è§£å¯†ï¼›æˆ–è€…ç§é’¥è´Ÿè´£åŠ å¯†ï¼Œå…¬é’¥è´Ÿè´£è§£å¯†ã€‚è¿™ç§åŠ å¯†ç®—æ³•å®‰å…¨æ€§æ›´é«˜ï¼Œä½†æ˜¯è®¡ç®—é‡ç›¸æ¯”å¯¹ç§°åŠ å¯†å¤§å¾ˆå¤šï¼ŒåŠ å¯†å’Œè§£å¯†éƒ½å¾ˆæ…¢ã€‚å¸¸è§çš„éå¯¹ç§°ç®—æ³•æœ‰RSAå’ŒDSAã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:22:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†"},{"categories":null,"content":"æ»‘åŠ¨çª—å£æœºåˆ¶TCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ã€‚æµé‡æ§åˆ¶æ˜¯ä¸ºäº†æ§åˆ¶å‘é€æ–¹å‘é€é€Ÿç‡ï¼Œä¿è¯æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚ TCPä¼šè¯çš„åŒæ–¹éƒ½å„è‡ªç»´æŠ¤ä¸€ä¸ªå‘é€çª—å£å’Œä¸€ä¸ªæ¥æ”¶çª—å£ã€‚æ¥æ”¶çª—å£å¤§å°å–å†³äºåº”ç”¨ã€ç³»ç»Ÿã€ç¡¬ä»¶çš„é™åˆ¶ã€‚å‘é€çª—å£åˆ™å–å†³äºå¯¹ç«¯é€šå‘Šçš„æ¥æ”¶çª—å£ã€‚æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„windowå­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†æ¥æ”¶æ–¹çš„ç¡®è®¤æŠ¥æ–‡windowå­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®ã€‚ TCPå¤´åŒ…å«windowå­—æ®µï¼Œ16bitä½ï¼Œå®ƒä»£è¡¨çš„æ˜¯çª—å£çš„å­—èŠ‚å®¹é‡ï¼Œæœ€å¤§ä¸º65535ã€‚è¿™ä¸ªå­—æ®µæ˜¯æ¥æ”¶ç«¯å‘Šè¯‰å‘é€ç«¯è‡ªå·±è¿˜æœ‰å¤šå°‘ç¼“å†²åŒºå¯ä»¥æ¥æ”¶æ•°æ®ã€‚äºæ˜¯å‘é€ç«¯å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ¥æ”¶ç«¯çš„å¤„ç†èƒ½åŠ›æ¥å‘é€æ•°æ®ï¼Œè€Œä¸ä¼šå¯¼è‡´æ¥æ”¶ç«¯å¤„ç†ä¸è¿‡æ¥ã€‚æ¥æ”¶çª—å£çš„å¤§å°æ˜¯çº¦ç­‰äºå‘é€çª—å£çš„å¤§å°ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:23:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#æ»‘åŠ¨çª—å£æœºåˆ¶"},{"categories":null,"content":"è¯¦ç»†è®²ä¸€ä¸‹æ‹¥å¡æ§åˆ¶ï¼Ÿé˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ã€‚ å‡ ç§æ‹¥å¡æ§åˆ¶æ–¹æ³•ï¼šæ…¢å¼€å§‹( slow-start )ã€æ‹¥å¡é¿å…( congestion avoidance )ã€å¿«é‡ä¼ ( fast retransmit )å’Œå¿«æ¢å¤( fast recovery )ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:24:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#è¯¦ç»†è®²ä¸€ä¸‹æ‹¥å¡æ§åˆ¶"},{"categories":null,"content":"æ…¢å¼€å§‹æŠŠæ‹¥å¡çª—å£ cwnd è®¾ç½®ä¸ºä¸€ä¸ªæœ€å¤§æŠ¥æ–‡æ®µMSSçš„æ•°å€¼ã€‚è€Œåœ¨æ¯æ”¶åˆ°ä¸€ä¸ªå¯¹æ–°çš„æŠ¥æ–‡æ®µçš„ç¡®è®¤åï¼ŒæŠŠæ‹¥å¡çª—å£å¢åŠ è‡³å¤šä¸€ä¸ªMSSçš„æ•°å€¼ã€‚æ¯ç»è¿‡ä¸€ä¸ªä¼ è¾“è½®æ¬¡ï¼Œæ‹¥å¡çª—å£ cwnd å°±åŠ å€ã€‚ ä¸ºäº†é˜²æ­¢æ‹¥å¡çª—å£cwndå¢é•¿è¿‡å¤§å¼•èµ·ç½‘ç»œæ‹¥å¡ï¼Œè¿˜éœ€è¦è®¾ç½®ä¸€ä¸ªæ…¢å¼€å§‹é—¨é™ssthreshçŠ¶æ€å˜é‡ã€‚ å½“ cwnd \u003c ssthresh æ—¶ï¼Œä½¿ç”¨æ…¢å¼€å§‹ç®—æ³•ã€‚ å½“ cwnd \u003e ssthresh æ—¶ï¼Œåœæ­¢ä½¿ç”¨æ…¢å¼€å§‹ç®—æ³•è€Œæ”¹ç”¨æ‹¥å¡é¿å…ç®—æ³•ã€‚ å½“ cwnd = ssthresh æ—¶ï¼Œæ—¢å¯ä½¿ç”¨æ…¢å¼€å§‹ç®—æ³•ï¼Œä¹Ÿå¯ä½¿ç”¨æ‹¥å¡æ§åˆ¶é¿å…ç®—æ³•ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:24:1","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#æ…¢å¼€å§‹"},{"categories":null,"content":"æ‹¥å¡é¿å…è®©æ‹¥å¡çª—å£cwndç¼“æ…¢åœ°å¢å¤§ï¼Œæ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´RTTå°±æŠŠå‘é€æ–¹çš„æ‹¥å¡çª—å£cwndåŠ 1ï¼Œè€Œä¸æ˜¯åŠ å€ã€‚è¿™æ ·æ‹¥å¡çª—å£cwndæŒ‰çº¿æ€§è§„å¾‹ç¼“æ…¢å¢é•¿ã€‚ æ— è®ºåœ¨æ…¢å¼€å§‹é˜¶æ®µè¿˜æ˜¯åœ¨æ‹¥å¡é¿å…é˜¶æ®µï¼Œåªè¦å‘é€æ–¹åˆ¤æ–­ç½‘ç»œå‡ºç°æ‹¥å¡ï¼ˆå…¶æ ¹æ®å°±æ˜¯æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼‰ï¼Œå°±è¦æŠŠæ…¢å¼€å§‹é—¨é™ssthreshè®¾ç½®ä¸ºå‡ºç°æ‹¥å¡æ—¶çš„å‘é€ æ–¹çª—å£å€¼çš„ä¸€åŠï¼ˆä½†ä¸èƒ½å°äº2ï¼‰ã€‚ç„¶åæŠŠæ‹¥å¡çª—å£cwndé‡æ–°è®¾ç½®ä¸º1ï¼Œæ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ã€‚è¿™æ ·åšçš„ç›®çš„å°±æ˜¯è¦è¿…é€Ÿå‡å°‘ä¸»æœºå‘é€åˆ°ç½‘ç»œä¸­çš„åˆ†ç»„æ•°ï¼Œä½¿å¾—å‘ç”Ÿ æ‹¥å¡çš„è·¯ç”±å™¨æœ‰è¶³å¤Ÿæ—¶é—´æŠŠé˜Ÿåˆ—ä¸­ç§¯å‹çš„åˆ†ç»„å¤„ç†å®Œæ¯•ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:24:2","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#æ‹¥å¡é¿å…"},{"categories":null,"content":"å¿«é‡ä¼ æœ‰æ—¶ä¸ªåˆ«æŠ¥æ–‡æ®µä¼šåœ¨ç½‘ç»œä¸­ä¸¢å¤±ï¼Œä½†å®é™…ä¸Šç½‘ç»œå¹¶æœªå‘ç”Ÿæ‹¥å¡ã€‚å¦‚æœå‘é€æ–¹è¿Ÿè¿Ÿæ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±ä¼šäº§ç”Ÿè¶…æ—¶ï¼Œå°±ä¼šè¯¯è®¤ä¸ºç½‘ç»œå‘ç”Ÿäº†æ‹¥å¡ã€‚è¿™å°±å¯¼è‡´å‘é€æ–¹é”™è¯¯åœ°å¯åŠ¨æ…¢å¼€å§‹ï¼ŒæŠŠæ‹¥å¡çª—å£cwndåˆè®¾ç½®ä¸º1ï¼Œå› è€Œé™ä½äº†ä¼ è¾“æ•ˆç‡ã€‚ å¿«é‡ä¼ ç®—æ³•å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚å¿«é‡ä¼ ç®—æ³•é¦–å…ˆè¦æ±‚æ¥æ”¶æ–¹æ¯æ”¶åˆ°ä¸€ä¸ªå¤±åºçš„æŠ¥æ–‡æ®µåå°±ç«‹å³å‘å‡ºé‡å¤ç¡®è®¤ï¼Œä½¿å‘é€æ–¹åŠæ—©çŸ¥é“æœ‰æŠ¥æ–‡æ®µæ²¡æœ‰åˆ°è¾¾å¯¹æ–¹ã€‚ å‘é€æ–¹åªè¦ä¸€è¿æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤å°±åº”å½“ç«‹å³é‡ä¼ å¯¹æ–¹å°šæœªæ”¶åˆ°çš„æŠ¥æ–‡æ®µï¼Œè€Œä¸å¿…ç»§ç»­ç­‰å¾…é‡ä¼ è®¡æ—¶å™¨åˆ°æœŸã€‚ç”±äºå‘é€æ–¹å°½æ—©é‡ä¼ æœªè¢«ç¡®è®¤çš„æŠ¥æ–‡æ®µï¼Œå› æ­¤é‡‡ç”¨å¿«é‡ä¼ åå¯ä»¥ä½¿æ•´ä¸ªç½‘ç»œååé‡æé«˜çº¦20%ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:24:3","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#å¿«é‡ä¼ "},{"categories":null,"content":"å¿«æ¢å¤å½“å‘é€æ–¹è¿ç»­æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œå°±ä¼šæŠŠæ…¢å¼€å§‹é—¨é™ssthreshå‡åŠï¼Œæ¥ç€æŠŠcwndå€¼è®¾ç½®ä¸ºæ…¢å¼€å§‹é—¨é™ssthreshå‡åŠåçš„æ•°å€¼ï¼Œç„¶åå¼€å§‹æ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•ï¼Œä½¿æ‹¥å¡çª—å£ç¼“æ…¢åœ°çº¿æ€§å¢å¤§ã€‚ åœ¨é‡‡ç”¨å¿«æ¢å¤ç®—æ³•æ—¶ï¼Œæ…¢å¼€å§‹ç®—æ³•åªæ˜¯åœ¨TCPè¿æ¥å»ºç«‹æ—¶å’Œç½‘ç»œå‡ºç°è¶…æ—¶æ—¶æ‰ä½¿ç”¨ã€‚ é‡‡ç”¨è¿™æ ·çš„æ‹¥å¡æ§åˆ¶æ–¹æ³•ä½¿å¾—TCPçš„æ€§èƒ½æœ‰æ˜æ˜¾çš„æ”¹è¿›ã€‚ ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:24:4","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#å¿«æ¢å¤"},{"categories":null,"content":"ARPåè®®ARPè§£å†³äº†åŒä¸€ä¸ªå±€åŸŸç½‘ä¸Šçš„ä¸»æœºå’Œè·¯ç”±å™¨IPå’ŒMACåœ°å€çš„è§£æã€‚ æ¯å°ä¸»æœºéƒ½ä¼šåœ¨è‡ªå·±çš„ARPç¼“å†²åŒºä¸­å»ºç«‹ä¸€ä¸ªARPåˆ—è¡¨ï¼Œä»¥è¡¨ç¤ºIPåœ°å€å’ŒMACåœ°å€çš„å¯¹åº”å…³ç³»ã€‚ å½“æºä¸»æœºéœ€è¦å°†ä¸€ä¸ªæ•°æ®åŒ…è¦å‘é€åˆ°ç›®çš„ä¸»æœºæ—¶ï¼Œä¼šé¦–å…ˆæ£€æŸ¥è‡ªå·± ARPåˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨è¯¥ IPåœ°å€å¯¹åº”çš„MACåœ°å€ï¼Œå¦‚æœæœ‰ï¼Œå°±ç›´æ¥å°†æ•°æ®åŒ…å‘é€åˆ°è¿™ä¸ªMACåœ°å€ï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±å‘æœ¬åœ°ç½‘æ®µå‘èµ·ä¸€ä¸ªARPè¯·æ±‚çš„å¹¿æ’­åŒ…ï¼ŒæŸ¥è¯¢æ­¤ç›®çš„ä¸»æœºå¯¹åº”çš„MACåœ°å€ã€‚æ­¤ARPè¯·æ±‚æ•°æ®åŒ…é‡ŒåŒ…æ‹¬æºä¸»æœºçš„IPåœ°å€ã€ç¡¬ä»¶åœ°å€ã€ä»¥åŠç›®çš„ä¸»æœºçš„IPåœ°å€ã€‚ ç½‘ç»œä¸­æ‰€æœ‰çš„ä¸»æœºæ”¶åˆ°è¿™ä¸ªARPè¯·æ±‚åï¼Œä¼šæ£€æŸ¥æ•°æ®åŒ…ä¸­çš„ç›®çš„IPæ˜¯å¦å’Œè‡ªå·±çš„IPåœ°å€ä¸€è‡´ã€‚å¦‚æœä¸ç›¸åŒå°±å¿½ç•¥æ­¤æ•°æ®åŒ…ï¼›å¦‚æœç›¸åŒï¼Œè¯¥ä¸»æœºé¦–å…ˆå°†å‘é€ç«¯çš„MACåœ°å€å’ŒIPåœ°å€æ·»åŠ åˆ°è‡ªå·±çš„ARPåˆ—è¡¨ä¸­ï¼Œå¦‚æœARPè¡¨ä¸­å·²ç»å­˜åœ¨è¯¥IPçš„ä¿¡æ¯ï¼Œåˆ™å°†å…¶è¦†ç›–ï¼Œç„¶åç»™æºä¸»æœºå‘é€ä¸€ä¸ª ARPå“åº”æ•°æ®åŒ…ï¼Œå‘Šè¯‰å¯¹æ–¹è‡ªå·±æ˜¯å®ƒéœ€è¦æŸ¥æ‰¾çš„MACåœ°å€ã€‚ æºä¸»æœºæ”¶åˆ°è¿™ä¸ªARPå“åº”æ•°æ®åŒ…åï¼Œå°†å¾—åˆ°çš„ç›®çš„ä¸»æœºçš„IPåœ°å€å’ŒMACåœ°å€æ·»åŠ åˆ°è‡ªå·±çš„ARPåˆ—è¡¨ä¸­ï¼Œå¹¶åˆ©ç”¨æ­¤ä¿¡æ¯å¼€å§‹æ•°æ®çš„ä¼ è¾“ã€‚ å¦‚æœæºä¸»æœºä¸€ç›´æ²¡æœ‰æ”¶åˆ°ARPå“åº”æ•°æ®åŒ…ï¼Œè¡¨ç¤ºARPæŸ¥è¯¢å¤±è´¥ã€‚ ref https://www.nowcoder.com/discuss/870064 ","date":"2022-03-25","objectID":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/:25:0","series":null,"tags":["è®¡ç½‘","å…«è‚¡"],"title":"è®¡ç®—æœºç½‘ç»œé¢è¯•é¢˜","uri":"/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E8%AF%95%E9%A2%98/#arpåè®®"},{"categories":null,"content":"ç®€ä»‹è…¾è®¯äº‘å‡½æ•°æ˜¯ä¸€ç§serverlessè§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨äº‘å‡½æ•°ä½ å°±ä¸éœ€è¦å…³æ³¨è¿ç»´ï¼Œæ‰©å®¹ï¼Œæ—¥å¿—ä¹Ÿæ˜¯è‡ªåŠ¨æ”¶é›†ï¼Œéå¸¸çš„æ–¹ä¾¿ ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:1:0","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#ç®€ä»‹"},{"categories":null,"content":"è§¦å‘æ–¹å¼å®šæ—¶è§¦å‘é€šè¿‡ç¼–å†™corntabè¿›è¡Œè§¦å‘ï¼Œæ¯”å¦‚ç­¾åˆ°ï¼Œä½ å¯ä»¥æ—©ä¸Š8ç‚¹å¼€å§‹åˆ°ä¸‹åˆ5ç‚¹ï¼Œæ¯éš”5åˆ†é’Ÿå°±çœ‹çœ‹æœ‰æ²¡æœ‰ç­¾åˆ° webæ–¹å¼è§¦å‘ç±»ä¼¼äºhttpæœåŠ¡å™¨ï¼Œä¸åŒçš„æ˜¯æ­£å¸¸httpæœåŠ¡å™¨æ˜¯ä¸€ç›´åå°è¿è¡Œï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯åªæœ‰è¯·æ±‚æ¥äº†æ‰è¿è¡Œï¼Œè¯·æ±‚å®Œæˆåå°±è‡ªåŠ¨é”€æ¯ï¼Œå½“ç„¶ï¼Œä¹Ÿä¸ä¸€å®šé”€æ¯ï¼Œæ¯”å¦‚å½“ä½ è¯·æ±‚é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œä»–ä¼šä¸€ç›´ä¿æŒåå°è¿è¡Œ ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:1:1","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#è§¦å‘æ–¹å¼"},{"categories":null,"content":"è§¦å‘æ–¹å¼å®šæ—¶è§¦å‘é€šè¿‡ç¼–å†™corntabè¿›è¡Œè§¦å‘ï¼Œæ¯”å¦‚ç­¾åˆ°ï¼Œä½ å¯ä»¥æ—©ä¸Š8ç‚¹å¼€å§‹åˆ°ä¸‹åˆ5ç‚¹ï¼Œæ¯éš”5åˆ†é’Ÿå°±çœ‹çœ‹æœ‰æ²¡æœ‰ç­¾åˆ° webæ–¹å¼è§¦å‘ç±»ä¼¼äºhttpæœåŠ¡å™¨ï¼Œä¸åŒçš„æ˜¯æ­£å¸¸httpæœåŠ¡å™¨æ˜¯ä¸€ç›´åå°è¿è¡Œï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯åªæœ‰è¯·æ±‚æ¥äº†æ‰è¿è¡Œï¼Œè¯·æ±‚å®Œæˆåå°±è‡ªåŠ¨é”€æ¯ï¼Œå½“ç„¶ï¼Œä¹Ÿä¸ä¸€å®šé”€æ¯ï¼Œæ¯”å¦‚å½“ä½ è¯·æ±‚é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œä»–ä¼šä¸€ç›´ä¿æŒåå°è¿è¡Œ ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:1:1","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#å®šæ—¶è§¦å‘"},{"categories":null,"content":"è§¦å‘æ–¹å¼å®šæ—¶è§¦å‘é€šè¿‡ç¼–å†™corntabè¿›è¡Œè§¦å‘ï¼Œæ¯”å¦‚ç­¾åˆ°ï¼Œä½ å¯ä»¥æ—©ä¸Š8ç‚¹å¼€å§‹åˆ°ä¸‹åˆ5ç‚¹ï¼Œæ¯éš”5åˆ†é’Ÿå°±çœ‹çœ‹æœ‰æ²¡æœ‰ç­¾åˆ° webæ–¹å¼è§¦å‘ç±»ä¼¼äºhttpæœåŠ¡å™¨ï¼Œä¸åŒçš„æ˜¯æ­£å¸¸httpæœåŠ¡å™¨æ˜¯ä¸€ç›´åå°è¿è¡Œï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯åªæœ‰è¯·æ±‚æ¥äº†æ‰è¿è¡Œï¼Œè¯·æ±‚å®Œæˆåå°±è‡ªåŠ¨é”€æ¯ï¼Œå½“ç„¶ï¼Œä¹Ÿä¸ä¸€å®šé”€æ¯ï¼Œæ¯”å¦‚å½“ä½ è¯·æ±‚é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œä»–ä¼šä¸€ç›´ä¿æŒåå°è¿è¡Œ ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:1:1","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#webæ–¹å¼è§¦å‘"},{"categories":null,"content":"ä½¿ç”¨è¯­è¨€æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯goè¯­è¨€ï¼Œè¦å…ˆç¼–è¯‘æˆlinux x64çš„å¯æ‰§è¡Œæ–‡ä»¶åï¼Œåœ¨å‹ç¼©ä¸Šä¼  ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:2:0","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#ä½¿ç”¨è¯­è¨€"},{"categories":null,"content":"scf_bootstrapæ‰€æœ‰äº‘å‡½æ•°éƒ½æœ€å¥½åœ¨æ ¹ç›®å½•ä¸‹é¢æœ‰ä¸€ä¸ª scf_bootstrap æ–‡ä»¶ï¼Œè¿™é‡Œé¢çš„å†…å®¹ä¸»è¦æ˜¯å¦‚ä½•å¯åŠ¨è¿™ä¸ªåº”ç”¨å¦‚ #!/bin/bash ./httpserver å€¼å¾—æ³¨æ„çš„æ˜¯è¿™é‡Œæœ‰ä¸ªå‘ï¼Œè¿™ä¸ªscf_bootstrapå¿…é¡»è¦ä½¿ç”¨ lf æ¢è¡Œç¬¦ï¼Œåˆ«çš„éƒ½ä¸è¡Œï¼Œå¦‚æœä½¿ç”¨åˆ«çš„ï¼Œæ‰§è¡Œçš„æ—¶å€™å°±ä¼šæŠ¥é”™å¦‚ï¼Œéå¸¸çš„shit { \"errorCode\": -1, \"errorMessage\": \"Failed to initialize the container. Please confirm that the container can be started locally.\", \"statusCode\": 405 } ä¸€å®šä½¿ç”¨LFæ¢è¡Œç¬¦ ä¸€å®šä½¿ç”¨LFæ¢è¡Œç¬¦ ä¸€å®šä½¿ç”¨LFæ¢è¡Œç¬¦ ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:3:0","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#scf_bootstrap"},{"categories":null,"content":"éƒ¨ç½²éƒ¨ç½²ä¹Ÿæ˜¯ä¸€è¨€éš¾å°½ï¼Œä½¿ç”¨æ­£å¸¸çš„å‹ç¼©è½¯ä»¶å¦‚7zè¿›è¡Œå‹ç¼©ï¼ˆwindowsï¼‰ éƒ¨ç½²ï¼Œå°±ä¼šå‡ºç°è¿™ä¸ª /var/user/scf_bootstrap: line 3: ./httpserver: Permission denied ä¸ºå•¥å‘¢ï¼Œå› ä¸ºä½ ä½¿ç”¨çš„æ˜¯windowsè¿›è¡Œå‹ç¼©ï¼Œå’Œåœ¨linuxä¸‹å‹ç¼©çš„æ˜¯ä¸ä¸€æ ·çš„ windows linux å¯ä»¥çœ‹åˆ°windowsçš„å±æ€§æ˜¯Aï¼ŒçŒœæµ‹åœ¨è§£å‹ä»¥åå°±æ²¡æœ‰è®¿é—®æƒé™äº† æ‰€ä»¥ å¿…é¡»ä½¿ç”¨linuxè¿›è¡Œå‹ç¼© å¿…é¡»ä½¿ç”¨linuxè¿›è¡Œå‹ç¼© å¿…é¡»ä½¿ç”¨linuxè¿›è¡Œå‹ç¼© ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:4:0","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#éƒ¨ç½²"},{"categories":null,"content":"ç»“è¯­è™½ç„¶è…¾è®¯äº‘å‡½æ•°æœ‰å„ç§å„æ ·çš„å‘ï¼Œå…è´¹é¢åº¦ä¹Ÿå°‘ï¼Œä½†æœ€åéƒ¨ç½²æˆåŠŸè¿˜æ˜¯æŒºå¼€å¿ƒçš„ï¼Œä¹Ÿå¸Œæœ›å¤§å®¶éƒ½èƒ½æ—©æ—¥éƒ¨ç½²æˆåŠŸ ","date":"2022-03-24","objectID":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/:5:0","series":null,"tags":["cloud","ç™½å«–"],"title":"è…¾äº‘äº‘å‡½æ•°éƒ¨ç½²åŠå‘","uri":"/posts/cloud/%E8%85%BE%E4%BA%91%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%9D%91/#ç»“è¯­"},{"categories":null,"content":"1. SQLçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿåº”ç”¨æœåŠ¡å™¨ä¸æ•°æ®åº“æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªè¿æ¥ æ•°æ®åº“è¿›ç¨‹æ‹¿åˆ°è¯·æ±‚sql è§£æå¹¶ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œæ‰§è¡Œ è¯»å–æ•°æ®åˆ°å†…å­˜å¹¶è¿›è¡Œé€»è¾‘å¤„ç† é€šè¿‡æ­¥éª¤ä¸€çš„è¿æ¥ï¼Œå‘é€ç»“æœåˆ°å®¢æˆ·ç«¯ å…³æ‰è¿æ¥ï¼Œé‡Šæ”¾èµ„æº ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:1:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#1-sqlçš„ç”Ÿå‘½å‘¨æœŸ"},{"categories":null,"content":"2. å¤§è¡¨æ•°æ®æŸ¥è¯¢ï¼Œæ€ä¹ˆä¼˜åŒ–ä¼˜åŒ–shemaã€sqlè¯­å¥+ç´¢å¼•ï¼› ç¬¬äºŒåŠ ç¼“å­˜ï¼Œmemcached, redisï¼› ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»ï¼› å‚ç›´æ‹†åˆ†ï¼Œæ ¹æ®ä½ æ¨¡å—çš„è€¦åˆåº¦ï¼Œå°†ä¸€ä¸ªå¤§çš„ç³»ç»Ÿåˆ†ä¸ºå¤šä¸ªå°çš„ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼› æ°´å¹³åˆ‡åˆ†ï¼Œé’ˆå¯¹æ•°æ®é‡å¤§çš„è¡¨ï¼Œè¿™ä¸€æ­¥æœ€éº»çƒ¦ï¼Œæœ€èƒ½è€ƒéªŒæŠ€æœ¯æ°´å¹³ï¼Œè¦é€‰æ‹©ä¸€ä¸ªåˆç†çš„sharding key, ä¸ºäº†æœ‰å¥½çš„æŸ¥è¯¢æ•ˆç‡ï¼Œè¡¨ç»“æ„ä¹Ÿè¦æ”¹åŠ¨ï¼Œåšä¸€å®šçš„å†—ä½™ï¼Œåº”ç”¨ä¹Ÿè¦æ”¹ï¼Œsqlä¸­å°½é‡å¸¦sharding keyï¼Œå°†æ•°æ®å®šä½åˆ°é™å®šçš„è¡¨ä¸Šå»æŸ¥ï¼Œè€Œä¸æ˜¯æ‰«æå…¨éƒ¨çš„è¡¨ï¼› ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:2:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#2-å¤§è¡¨æ•°æ®æŸ¥è¯¢æ€ä¹ˆä¼˜åŒ–"},{"categories":null,"content":"3. è¶…å¤§åˆ†é¡µæ€ä¹ˆå¤„ç†ï¼Ÿè¶…å¤§çš„åˆ†é¡µä¸€èˆ¬ä»ä¸¤ä¸ªæ–¹å‘ä¸Šæ¥è§£å†³. æ•°æ®åº“å±‚é¢,è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸»è¦é›†ä¸­å…³æ³¨çš„(è™½ç„¶æ”¶æ•ˆæ²¡é‚£ä¹ˆå¤§),ç±»ä¼¼äºselect * from table where age \u003e 20 limit 1000000,10è¿™ç§æŸ¥è¯¢å…¶å®ä¹Ÿæ˜¯æœ‰å¯ä»¥ä¼˜åŒ–çš„ä½™åœ°çš„. è¿™æ¡è¯­å¥éœ€è¦load1000000æ•°æ®ç„¶ååŸºæœ¬ä¸Šå…¨éƒ¨ä¸¢å¼ƒ,åªå–10æ¡å½“ç„¶æ¯”è¾ƒæ…¢. å½“æ—¶æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸ºselect * from table where id in (select id from table where age \u003e 20 limit 1000000,10).è¿™æ ·è™½ç„¶ä¹Ÿloadäº†ä¸€ç™¾ä¸‡çš„æ•°æ®,ä½†æ˜¯ç”±äºç´¢å¼•è¦†ç›–,è¦æŸ¥è¯¢çš„æ‰€æœ‰å­—æ®µéƒ½åœ¨ç´¢å¼•ä¸­,æ‰€ä»¥é€Ÿåº¦ä¼šå¾ˆå¿«. åŒæ—¶å¦‚æœIDè¿ç»­çš„å¥½,æˆ‘ä»¬è¿˜å¯ä»¥select * from table where id \u003e 1000000 limit 4,æ•ˆç‡ä¹Ÿæ˜¯ä¸é”™çš„,ä¼˜åŒ–çš„å¯èƒ½æ€§æœ‰è®¸å¤šç§,ä½†æ˜¯æ ¸å¿ƒæ€æƒ³éƒ½ä¸€æ ·,å°±æ˜¯å‡å°‘loadçš„æ•°æ®. ä»éœ€æ±‚çš„è§’åº¦å‡å°‘è¿™ç§è¯·æ±‚â€¦ä¸»è¦æ˜¯ä¸åšç±»ä¼¼çš„éœ€æ±‚(ç›´æ¥è·³è½¬åˆ°å‡ ç™¾ä¸‡é¡µä¹‹åçš„å…·ä½“æŸä¸€é¡µ.åªå…è®¸é€é¡µæŸ¥çœ‹æˆ–è€…æŒ‰ç…§ç»™å®šçš„è·¯çº¿èµ°,è¿™æ ·å¯é¢„æµ‹,å¯ç¼“å­˜)ä»¥åŠé˜²æ­¢IDæ³„æ¼ä¸”è¿ç»­è¢«äººæ¶æ„æ”»å‡». è§£å†³è¶…å¤§åˆ†é¡µ,å…¶å®ä¸»è¦æ˜¯é ç¼“å­˜,å¯é¢„æµ‹æ€§çš„æå‰æŸ¥åˆ°å†…å®¹,ç¼“å­˜è‡³redisç­‰k-Væ•°æ®åº“ä¸­,ç›´æ¥è¿”å›å³å¯. åœ¨é˜¿é‡Œå·´å·´ã€ŠJavaå¼€å‘æ‰‹å†Œã€‹ä¸­,å¯¹è¶…å¤§åˆ†é¡µçš„è§£å†³åŠæ³•æ˜¯ç±»ä¼¼äºä¸Šé¢æåˆ°çš„ç¬¬ä¸€ç§. ã€æ¨èã€‘åˆ©ç”¨å»¶è¿Ÿå…³è”æˆ–è€…å­æŸ¥è¯¢ä¼˜åŒ–è¶…å¤šåˆ†é¡µåœºæ™¯ã€‚ è¯´æ˜ï¼šMySQLå¹¶ä¸æ˜¯è·³è¿‡offsetè¡Œï¼Œè€Œæ˜¯å–offset+Nè¡Œï¼Œç„¶åè¿”å›æ”¾å¼ƒå‰offsetè¡Œï¼Œè¿”å›Nè¡Œï¼Œé‚£å½“offsetç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œæ•ˆç‡å°±éå¸¸çš„ä½ä¸‹ï¼Œè¦ä¹ˆæ§åˆ¶è¿”å›çš„æ€»é¡µæ•°ï¼Œè¦ä¹ˆå¯¹è¶…è¿‡ç‰¹å®šé˜ˆå€¼çš„é¡µæ•°è¿›è¡ŒSQLæ”¹å†™ã€‚ æ­£ä¾‹ï¼šå…ˆå¿«é€Ÿå®šä½éœ€è¦è·å–çš„idæ®µï¼Œç„¶åå†å…³è”ï¼š SELECT a.* FROM è¡¨1 a, (select id from è¡¨1 where æ¡ä»¶ LIMIT 100000,20 ) b where a.id=b.id ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:3:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#3-è¶…å¤§åˆ†é¡µæ€ä¹ˆå¤„ç†"},{"categories":null,"content":"5. mysql åˆ†é¡µLIMIT å­å¥å¯ä»¥è¢«ç”¨äºå¼ºåˆ¶ SELECT è¯­å¥è¿”å›æŒ‡å®šçš„è®°å½•æ•°ã€‚LIMIT æ¥å—ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ•°å­—å‚æ•°ã€‚å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•´æ•°å¸¸é‡ã€‚å¦‚æœç»™å®šä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šç¬¬ä¸€ä¸ªè¿”å›è®°å½•è¡Œçš„åç§»é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šè¿”å›è®°å½•è¡Œçš„æœ€å¤§æ•°ç›®ã€‚åˆå§‹è®°å½•è¡Œçš„åç§»é‡æ˜¯ 0(è€Œä¸æ˜¯ 1) mysql\u003e SELECT * FROM table LIMIT 5,10; // æ£€ç´¢è®°å½•è¡Œ 6-15 ä¸ºäº†æ£€ç´¢ä»æŸä¸€ä¸ªåç§»é‡åˆ°è®°å½•é›†çš„ç»“æŸæ‰€æœ‰çš„è®°å½•è¡Œï¼Œå¯ä»¥æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ä¸º -1ï¼š mysql\u003e SELECT * FROM table LIMIT 95,-1; // æ£€ç´¢è®°å½•è¡Œ 96-last. å¦‚æœåªç»™å®šä¸€ä¸ªå‚æ•°ï¼Œå®ƒè¡¨ç¤ºè¿”å›æœ€å¤§çš„è®°å½•è¡Œæ•°ç›®ï¼š mysql\u003e SELECT * FROM table LIMIT 5; //æ£€ç´¢å‰ 5 ä¸ªè®°å½•è¡Œ æ¢å¥è¯è¯´ï¼ŒLIMIT n ç­‰ä»·äº LIMIT 0,nã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:4:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#5-mysql-åˆ†é¡µ"},{"categories":null,"content":"6. æ…¢æŸ¥è¯¢æ—¥å¿—ç”¨äºè®°å½•æ‰§è¡Œæ—¶é—´è¶…è¿‡æŸä¸ªä¸´ç•Œå€¼çš„SQLæ—¥å¿—ï¼Œç”¨äºå¿«é€Ÿå®šä½æ…¢æŸ¥è¯¢ï¼Œä¸ºæˆ‘ä»¬çš„ä¼˜åŒ–åšå‚è€ƒã€‚ å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿— é…ç½®é¡¹ï¼šslow_query_log å¯ä»¥ä½¿ç”¨show variables like â€˜slov_query_logâ€™æŸ¥çœ‹æ˜¯å¦å¼€å¯ï¼Œå¦‚æœçŠ¶æ€å€¼ä¸ºOFFï¼Œå¯ä»¥ä½¿ç”¨set GLOBAL slow_query_log = onæ¥å¼€å¯ï¼Œå®ƒä¼šåœ¨datadirä¸‹äº§ç”Ÿä¸€ä¸ªxxx-slow.logçš„æ–‡ä»¶ã€‚ è®¾ç½®ä¸´ç•Œæ—¶é—´ é…ç½®é¡¹ï¼šlong_query_time æŸ¥çœ‹ï¼šshow VARIABLES like â€˜long_query_timeâ€™ï¼Œå•ä½ç§’ è®¾ç½®ï¼šset long_query_time=0.5 å®æ“æ—¶åº”è¯¥ä»é•¿æ—¶é—´è®¾ç½®åˆ°çŸ­çš„æ—¶é—´ï¼Œå³å°†æœ€æ…¢çš„SQLä¼˜åŒ–æ‰ æŸ¥çœ‹æ—¥å¿—ï¼Œä¸€æ—¦SQLè¶…è¿‡äº†æˆ‘ä»¬è®¾ç½®çš„ä¸´ç•Œæ—¶é—´å°±ä¼šè¢«è®°å½•åˆ°xxx-slow.logä¸­ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:5:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#6-æ…¢æŸ¥è¯¢æ—¥å¿—"},{"categories":null,"content":"7. å…³å¿ƒè¿‡ä¸šåŠ¡ç³»ç»Ÿé‡Œé¢çš„sqlè€—æ—¶å—ï¼Ÿç»Ÿè®¡è¿‡æ…¢æŸ¥è¯¢å—ï¼Ÿå¯¹æ…¢æŸ¥è¯¢éƒ½æ€ä¹ˆä¼˜åŒ–è¿‡ï¼Ÿåœ¨ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œé™¤äº†ä½¿ç”¨ä¸»é”®è¿›è¡Œçš„æŸ¥è¯¢ï¼Œå…¶ä»–çš„æˆ‘éƒ½ä¼šåœ¨æµ‹è¯•åº“ä¸Šæµ‹è¯•å…¶è€—æ—¶ï¼Œæ…¢æŸ¥è¯¢çš„ç»Ÿè®¡ä¸»è¦ç”±è¿ç»´åœ¨åšï¼Œä¼šå®šæœŸå°†ä¸šåŠ¡ä¸­çš„æ…¢æŸ¥è¯¢åé¦ˆç»™æˆ‘ä»¬ã€‚ æ…¢æŸ¥è¯¢çš„ä¼˜åŒ–é¦–å…ˆè¦ææ˜ç™½æ…¢çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æŸ¥è¯¢æ¡ä»¶æ²¡æœ‰å‘½ä¸­ç´¢å¼•ï¼Ÿæ˜¯loadäº†ä¸éœ€è¦çš„æ•°æ®åˆ—ï¼Ÿè¿˜æ˜¯æ•°æ®é‡å¤ªå¤§ï¼Ÿ æ‰€ä»¥ä¼˜åŒ–ä¹Ÿæ˜¯é’ˆå¯¹è¿™ä¸‰ä¸ªæ–¹å‘æ¥çš„ï¼Œ é¦–å…ˆåˆ†æè¯­å¥ï¼Œçœ‹çœ‹æ˜¯å¦loadäº†é¢å¤–çš„æ•°æ®ï¼Œå¯èƒ½æ˜¯æŸ¥è¯¢äº†å¤šä½™çš„è¡Œå¹¶ä¸”æŠ›å¼ƒæ‰äº†ï¼Œå¯èƒ½æ˜¯åŠ è½½äº†è®¸å¤šç»“æœä¸­å¹¶ä¸éœ€è¦çš„åˆ—ï¼Œå¯¹è¯­å¥è¿›è¡Œåˆ†æä»¥åŠé‡å†™ã€‚ åˆ†æè¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œç„¶åè·å¾—å…¶ä½¿ç”¨ç´¢å¼•çš„æƒ…å†µï¼Œä¹‹åä¿®æ”¹è¯­å¥æˆ–è€…ä¿®æ”¹ç´¢å¼•ï¼Œä½¿å¾—è¯­å¥å¯ä»¥å°½å¯èƒ½çš„å‘½ä¸­ç´¢å¼•ã€‚ å¦‚æœå¯¹è¯­å¥çš„ä¼˜åŒ–å·²ç»æ— æ³•è¿›è¡Œï¼Œå¯ä»¥è€ƒè™‘è¡¨ä¸­çš„æ•°æ®é‡æ˜¯å¦å¤ªå¤§ï¼Œå¦‚æœæ˜¯çš„è¯å¯ä»¥è¿›è¡Œæ¨ªå‘æˆ–è€…çºµå‘çš„åˆ†è¡¨ã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:6:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#7-å…³å¿ƒè¿‡ä¸šåŠ¡ç³»ç»Ÿé‡Œé¢çš„sqlè€—æ—¶å—ç»Ÿè®¡è¿‡æ…¢æŸ¥è¯¢å—å¯¹æ…¢æŸ¥è¯¢éƒ½æ€ä¹ˆä¼˜åŒ–è¿‡"},{"categories":null,"content":"8. ä¸ºä»€ä¹ˆè¦å°½é‡è®¾å®šä¸€ä¸ªä¸»é”®ï¼Ÿä¸»é”®æ˜¯æ•°æ®åº“ç¡®ä¿æ•°æ®è¡Œåœ¨æ•´å¼ è¡¨å”¯ä¸€æ€§çš„ä¿éšœï¼Œå³ä½¿ä¸šåŠ¡ä¸Šæœ¬å¼ è¡¨æ²¡æœ‰ä¸»é”®ï¼Œä¹Ÿå»ºè®®æ·»åŠ ä¸€ä¸ªè‡ªå¢é•¿çš„IDåˆ—ä½œä¸ºä¸»é”®ã€‚è®¾å®šäº†ä¸»é”®ä¹‹åï¼Œåœ¨åç»­çš„åˆ æ”¹æŸ¥çš„æ—¶å€™å¯èƒ½æ›´åŠ å¿«é€Ÿä»¥åŠç¡®ä¿æ“ä½œæ•°æ®èŒƒå›´å®‰å…¨ã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:7:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#8-ä¸ºä»€ä¹ˆè¦å°½é‡è®¾å®šä¸€ä¸ªä¸»é”®"},{"categories":null,"content":"9. ä¸»é”®ä½¿ç”¨è‡ªå¢IDè¿˜æ˜¯UUIDï¼Ÿæ¨èä½¿ç”¨è‡ªå¢IDï¼Œä¸è¦ä½¿ç”¨UUIDã€‚ å› ä¸ºåœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­ï¼Œä¸»é”®ç´¢å¼•æ˜¯ä½œä¸ºèšç°‡ç´¢å¼•å­˜åœ¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸»é”®ç´¢å¼•çš„B+æ ‘å¶å­èŠ‚ç‚¹ä¸Šå­˜å‚¨äº†ä¸»é”®ç´¢å¼•ä»¥åŠå…¨éƒ¨çš„æ•°æ®(æŒ‰ç…§é¡ºåº)ï¼Œå¦‚æœä¸»é”®ç´¢å¼•æ˜¯è‡ªå¢IDï¼Œé‚£ä¹ˆåªéœ€è¦ä¸æ–­å‘åæ’åˆ—å³å¯ï¼Œå¦‚æœæ˜¯UUIDï¼Œç”±äºåˆ°æ¥çš„IDä¸åŸæ¥çš„å¤§å°ä¸ç¡®å®šï¼Œä¼šé€ æˆéå¸¸å¤šçš„æ•°æ®æ’å…¥ï¼Œæ•°æ®ç§»åŠ¨ï¼Œç„¶åå¯¼è‡´äº§ç”Ÿå¾ˆå¤šçš„å†…å­˜ç¢ç‰‡ï¼Œè¿›è€Œé€ æˆæ’å…¥æ€§èƒ½çš„ä¸‹é™ã€‚ æ€»ä¹‹ï¼Œåœ¨æ•°æ®é‡å¤§ä¸€äº›çš„æƒ…å†µä¸‹ï¼Œç”¨è‡ªå¢ä¸»é”®æ€§èƒ½ä¼šå¥½ä¸€äº›ã€‚ å…³äºä¸»é”®æ˜¯èšç°‡ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰ä¸»é”®ï¼ŒInnoDBä¼šé€‰æ‹©ä¸€ä¸ªå”¯ä¸€é”®æ¥ä½œä¸ºèšç°‡ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰å”¯ä¸€é”®ï¼Œä¼šç”Ÿæˆä¸€ä¸ªéšå¼çš„ä¸»é”®ã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:8:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#9-ä¸»é”®ä½¿ç”¨è‡ªå¢idè¿˜æ˜¯uuid"},{"categories":null,"content":"10. å­—æ®µä¸ºä»€ä¹ˆè¦æ±‚å®šä¹‰ä¸ºnot nullï¼Ÿnullå€¼ä¼šå ç”¨æ›´å¤šçš„å­—èŠ‚ï¼Œä¸”ä¼šåœ¨ç¨‹åºä¸­é€ æˆå¾ˆå¤šä¸é¢„æœŸä¸ç¬¦çš„æƒ…å†µã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:9:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#10-å­—æ®µä¸ºä»€ä¹ˆè¦æ±‚å®šä¹‰ä¸ºnot-null"},{"categories":null,"content":"11. å¦‚æœè¦å­˜å‚¨ç”¨æˆ·çš„å¯†ç æ•£åˆ—ï¼Œåº”è¯¥ä½¿ç”¨ä»€ä¹ˆå­—æ®µè¿›è¡Œå­˜å‚¨ï¼Ÿå¯†ç æ•£åˆ—ï¼Œç›ï¼Œç”¨æˆ·èº«ä»½è¯å·ç­‰å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²åº”è¯¥ä½¿ç”¨charè€Œä¸æ˜¯varcharæ¥å­˜å‚¨ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœç©ºé—´ä¸”æé«˜æ£€ç´¢æ•ˆç‡ã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:10:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#11-å¦‚æœè¦å­˜å‚¨ç”¨æˆ·çš„å¯†ç æ•£åˆ—åº”è¯¥ä½¿ç”¨ä»€ä¹ˆå­—æ®µè¿›è¡Œå­˜å‚¨"},{"categories":null,"content":"12. ä¼˜åŒ–æŸ¥è¯¢è¿‡ç¨‹ä¸­çš„æ•°æ®è®¿é—®è®¿é—®æ•°æ®å¤ªå¤šå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸‹é™ ç¡®å®šåº”ç”¨ç¨‹åºæ˜¯å¦åœ¨æ£€ç´¢å¤§é‡è¶…è¿‡éœ€è¦çš„æ•°æ®ï¼Œå¯èƒ½æ˜¯å¤ªå¤šè¡Œæˆ–åˆ— ç¡®è®¤MySQLæœåŠ¡å™¨æ˜¯å¦åœ¨åˆ†æå¤§é‡ä¸å¿…è¦çš„æ•°æ®è¡Œ é¿å…çŠ¯å¦‚ä¸‹SQLè¯­å¥é”™è¯¯ æŸ¥è¯¢ä¸éœ€è¦çš„æ•°æ®ã€‚è§£å†³åŠæ³•ï¼šä½¿ç”¨limitè§£å†³ å¤šè¡¨å…³è”è¿”å›å…¨éƒ¨åˆ—ã€‚è§£å†³åŠæ³•ï¼šæŒ‡å®šåˆ—å æ€»æ˜¯è¿”å›å…¨éƒ¨åˆ—ã€‚è§£å†³åŠæ³•ï¼šé¿å…ä½¿ç”¨SELECT * é‡å¤æŸ¥è¯¢ç›¸åŒçš„æ•°æ®ã€‚è§£å†³åŠæ³•ï¼šå¯ä»¥ç¼“å­˜æ•°æ®ï¼Œä¸‹æ¬¡ç›´æ¥è¯»å–ç¼“å­˜ æ˜¯å¦åœ¨æ‰«æé¢å¤–çš„è®°å½•ã€‚è§£å†³åŠæ³•ï¼š ä½¿ç”¨explainè¿›è¡Œåˆ†æï¼Œå¦‚æœå‘ç°æŸ¥è¯¢éœ€è¦æ‰«æå¤§é‡çš„æ•°æ®ï¼Œä½†åªè¿”å›å°‘æ•°çš„è¡Œï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æŠ€å·§å»ä¼˜åŒ–ï¼š ä½¿ç”¨ç´¢å¼•è¦†ç›–æ‰«æï¼ŒæŠŠæ‰€æœ‰çš„åˆ—éƒ½æ”¾åˆ°ç´¢å¼•ä¸­ï¼Œè¿™æ ·å­˜å‚¨å¼•æ“ä¸éœ€è¦å›è¡¨è·å–å¯¹åº”è¡Œå°±å¯ä»¥è¿”å›ç»“æœã€‚ æ”¹å˜æ•°æ®åº“å’Œè¡¨çš„ç»“æ„ï¼Œä¿®æ”¹æ•°æ®è¡¨èŒƒå¼ é‡å†™SQLè¯­å¥ï¼Œè®©ä¼˜åŒ–å™¨å¯ä»¥ä»¥æ›´ä¼˜çš„æ–¹å¼æ‰§è¡ŒæŸ¥è¯¢ã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:11:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#12-ä¼˜åŒ–æŸ¥è¯¢è¿‡ç¨‹ä¸­çš„æ•°æ®è®¿é—®"},{"categories":null,"content":"13. ä¼˜åŒ–é•¿éš¾çš„æŸ¥è¯¢è¯­å¥ä¸€ä¸ªå¤æ‚æŸ¥è¯¢è¿˜æ˜¯å¤šä¸ªç®€å•æŸ¥è¯¢ MySQLå†…éƒ¨æ¯ç§’èƒ½æ‰«æå†…å­˜ä¸­ä¸Šç™¾ä¸‡è¡Œæ•°æ®ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œå“åº”æ•°æ®ç»™å®¢æˆ·ç«¯å°±è¦æ…¢å¾—å¤š ä½¿ç”¨å°½å¯èƒ½å°çš„æŸ¥è¯¢æ˜¯å¥½çš„ï¼Œä½†æ˜¯æœ‰æ—¶å°†ä¸€ä¸ªå¤§çš„æŸ¥è¯¢åˆ†è§£ä¸ºå¤šä¸ªå°çš„æŸ¥è¯¢æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ åˆ‡åˆ†æŸ¥è¯¢ å°†ä¸€ä¸ªå¤§çš„æŸ¥è¯¢åˆ†ä¸ºå¤šä¸ªå°çš„ç›¸åŒçš„æŸ¥è¯¢ ä¸€æ¬¡æ€§åˆ é™¤1000ä¸‡çš„æ•°æ®è¦æ¯”ä¸€æ¬¡åˆ é™¤1ä¸‡ï¼Œæš‚åœä¸€ä¼šçš„æ–¹æ¡ˆæ›´åŠ æŸè€—æœåŠ¡å™¨å¼€é”€ã€‚ åˆ†è§£å…³è”æŸ¥è¯¢ï¼Œè®©ç¼“å­˜çš„æ•ˆç‡æ›´é«˜ã€‚ æ‰§è¡Œå•ä¸ªæŸ¥è¯¢å¯ä»¥å‡å°‘é”çš„ç«äº‰ã€‚ åœ¨åº”ç”¨å±‚åšå…³è”æ›´å®¹æ˜“å¯¹æ•°æ®åº“è¿›è¡Œæ‹†åˆ†ã€‚ æŸ¥è¯¢æ•ˆç‡ä¼šæœ‰å¤§å¹…æå‡ã€‚ è¾ƒå°‘å†—ä½™è®°å½•çš„æŸ¥è¯¢ã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:12:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#13-ä¼˜åŒ–é•¿éš¾çš„æŸ¥è¯¢è¯­å¥"},{"categories":null,"content":"14. ä¼˜åŒ–ç‰¹å®šç±»å‹çš„æŸ¥è¯¢è¯­å¥count(*)ä¼šå¿½ç•¥æ‰€æœ‰çš„åˆ—ï¼Œç›´æ¥ç»Ÿè®¡æ‰€æœ‰åˆ—æ•°ï¼Œä¸è¦ä½¿ç”¨count(åˆ—å) MyISAMä¸­ï¼Œæ²¡æœ‰ä»»ä½•whereæ¡ä»¶çš„count(*)éå¸¸å¿«ã€‚ å½“æœ‰whereæ¡ä»¶æ—¶ï¼ŒMyISAMçš„countç»Ÿè®¡ä¸ä¸€å®šæ¯”å…¶å®ƒå¼•æ“å¿«ã€‚ å¯ä»¥ä½¿ç”¨explainæŸ¥è¯¢è¿‘ä¼¼å€¼ï¼Œç”¨è¿‘ä¼¼å€¼æ›¿ä»£count(*) å¢åŠ æ±‡æ€»è¡¨ ä½¿ç”¨ç¼“å­˜ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:13:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#14-ä¼˜åŒ–ç‰¹å®šç±»å‹çš„æŸ¥è¯¢è¯­å¥"},{"categories":null,"content":"15. ä¼˜åŒ–å…³è”æŸ¥è¯¢ç¡®å®šONæˆ–è€…USINGå­å¥ä¸­æ˜¯å¦æœ‰ç´¢å¼•ã€‚ ç¡®ä¿GROUP BYå’ŒORDER BYåªæœ‰ä¸€ä¸ªè¡¨ä¸­çš„åˆ—ï¼Œè¿™æ ·MySQLæ‰æœ‰å¯èƒ½ä½¿ç”¨ç´¢å¼•ã€‚ 16. ä¼˜åŒ–å­æŸ¥è¯¢ ç”¨å…³è”æŸ¥è¯¢æ›¿ä»£ ä¼˜åŒ–GROUP BYå’ŒDISTINCT è¿™ä¸¤ç§æŸ¥è¯¢æ®å¯ä»¥ä½¿ç”¨ç´¢å¼•æ¥ä¼˜åŒ–ï¼Œæ˜¯æœ€æœ‰æ•ˆçš„ä¼˜åŒ–æ–¹æ³• å…³è”æŸ¥è¯¢ä¸­ï¼Œä½¿ç”¨æ ‡è¯†åˆ—åˆ†ç»„çš„æ•ˆç‡æ›´é«˜ å¦‚æœä¸éœ€è¦ORDER BYï¼Œè¿›è¡ŒGROUP BYæ—¶åŠ ORDER BY NULLï¼ŒMySQLä¸ä¼šå†è¿›è¡Œæ–‡ä»¶æ’åºã€‚ WITH ROLLUPè¶…çº§èšåˆï¼Œå¯ä»¥æŒªåˆ°åº”ç”¨ç¨‹åºå¤„ç† ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:14:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#15-ä¼˜åŒ–å…³è”æŸ¥è¯¢"},{"categories":null,"content":"17. ä¼˜åŒ–LIMITåˆ†é¡µLIMITåç§»é‡å¤§çš„æ—¶å€™ï¼ŒæŸ¥è¯¢æ•ˆç‡è¾ƒä½ å¯ä»¥è®°å½•ä¸Šæ¬¡æŸ¥è¯¢çš„æœ€å¤§IDï¼Œä¸‹æ¬¡æŸ¥è¯¢æ—¶ç›´æ¥æ ¹æ®è¯¥IDæ¥æŸ¥è¯¢ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:15:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#17-ä¼˜åŒ–limitåˆ†é¡µ"},{"categories":null,"content":"18. ä¼˜åŒ–UNIONæŸ¥è¯¢UNION ALLçš„æ•ˆç‡é«˜äºUNION ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:16:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#18-ä¼˜åŒ–unionæŸ¥è¯¢"},{"categories":null,"content":"19. ä¼˜åŒ–WHEREå­å¥è§£é¢˜æ–¹æ³• å¯¹äºæ­¤ç±»è€ƒé¢˜ï¼Œå…ˆè¯´æ˜å¦‚ä½•å®šä½ä½æ•ˆSQLè¯­å¥ï¼Œç„¶åæ ¹æ®SQLè¯­å¥å¯èƒ½ä½æ•ˆçš„åŸå› åšæ’æŸ¥ï¼Œå…ˆä»ç´¢å¼•ç€æ‰‹ï¼Œå¦‚æœç´¢å¼•æ²¡æœ‰é—®é¢˜ï¼Œè€ƒè™‘ä»¥ä¸Šå‡ ä¸ªæ–¹é¢ï¼Œæ•°æ®è®¿é—®çš„é—®é¢˜ï¼Œé•¿éš¾æŸ¥è¯¢å¥çš„é—®é¢˜è¿˜æ˜¯ä¸€äº›ç‰¹å®šç±»å‹ä¼˜åŒ–çš„é—®é¢˜ï¼Œé€ä¸€å›ç­”ã€‚ SQLè¯­å¥ä¼˜åŒ–çš„ä¸€äº›æ–¹æ³•ï¼Ÿ 1.å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œåº”å°½é‡é¿å…å…¨è¡¨æ‰«æï¼Œé¦–å…ˆåº”è€ƒè™‘åœ¨ where åŠ order by æ¶‰åŠçš„åˆ—ä¸Šå»ºç«‹ç´¢å¼•ã€‚ 2.åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œ null å€¼åˆ¤æ–­ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼š select id from t where num is null -- å¯ä»¥åœ¨numä¸Šè®¾ç½®é»˜è®¤å€¼0ï¼Œç¡®ä¿è¡¨ä¸­numåˆ—æ²¡æœ‰nullå€¼ï¼Œç„¶åè¿™æ ·æŸ¥è¯¢ï¼š select id from t where num= 3.åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨!=æˆ–\u003c\u003eæ“ä½œç¬¦ï¼Œå¦åˆ™å¼•æ“å°†æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚ 4.åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨or æ¥è¿æ¥æ¡ä»¶ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼š select id from t where num=10 or num=20 -- å¯ä»¥è¿™æ ·æŸ¥è¯¢ï¼š select id from t where num=10 union all select id from t where num=20 5.in å’Œ not in ä¹Ÿè¦æ…ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼Œå¦‚ï¼š select id from t where num in(1,2,3) -- å¯¹äºè¿ç»­çš„æ•°å€¼ï¼Œèƒ½ç”¨ between å°±ä¸è¦ç”¨ in äº†ï¼š select id from t where num between 1 and 3 6.ä¸‹é¢çš„æŸ¥è¯¢ä¹Ÿå°†å¯¼è‡´å…¨è¡¨æ‰«æï¼šselect id from t where name like â€˜%æ%â€™è‹¥è¦æé«˜æ•ˆç‡ï¼Œå¯ä»¥è€ƒè™‘å…¨æ–‡æ£€ç´¢ã€‚ 7.å¦‚æœåœ¨ where å­å¥ä¸­ä½¿ç”¨å‚æ•°ï¼Œä¹Ÿä¼šå¯¼è‡´å…¨è¡¨æ‰«æã€‚å› ä¸ºSQLåªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šè§£æå±€éƒ¨å˜é‡ï¼Œä½†ä¼˜åŒ–ç¨‹åºä¸èƒ½å°†è®¿é—®è®¡åˆ’çš„é€‰æ‹©æ¨è¿Ÿåˆ°è¿è¡Œæ—¶ï¼›å®ƒå¿…é¡»åœ¨ç¼–è¯‘æ—¶è¿›è¡Œé€‰æ‹©ã€‚ç„¶ è€Œï¼Œå¦‚æœåœ¨ç¼–è¯‘æ—¶å»ºç«‹è®¿é—®è®¡åˆ’ï¼Œå˜é‡çš„å€¼è¿˜æ˜¯æœªçŸ¥çš„ï¼Œå› è€Œæ— æ³•ä½œä¸ºç´¢å¼•é€‰æ‹©çš„è¾“å…¥é¡¹ã€‚å¦‚ä¸‹é¢è¯­å¥å°†è¿›è¡Œå…¨è¡¨æ‰«æï¼š select id from t where num=@num -- å¯ä»¥æ”¹ä¸ºå¼ºåˆ¶æŸ¥è¯¢ä½¿ç”¨ç´¢å¼•ï¼š select id from t with(index(ç´¢å¼•å)) where num=@num 8.åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š select id from t where num/2=100 -- åº”æ”¹ä¸º: select id from t where num=100*2 9.åº”å°½é‡é¿å…åœ¨whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š select id from t where substring(name,1,3)=â€™abcâ€™ -- nameä»¥abcå¼€å¤´çš„idåº”æ”¹ä¸º: select id from t where name like â€˜abc%â€™ 10.ä¸è¦åœ¨ where å­å¥ä¸­çš„â€œ=â€å·¦è¾¹è¿›è¡Œå‡½æ•°ã€ç®—æœ¯è¿ç®—æˆ–å…¶ä»–è¡¨è¾¾å¼è¿ç®—ï¼Œå¦åˆ™ç³»ç»Ÿå°†å¯èƒ½æ— æ³•æ­£ç¡®ä½¿ç”¨ç´¢å¼•ã€‚ ","date":"2022-03-23","objectID":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/:17:0","series":null,"tags":null,"title":"Mysqlä¼˜åŒ–é¢è¯•","uri":"/posts/draft/mysql%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/#19-ä¼˜åŒ–whereå­å¥"},{"categories":null,"content":"äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ï¼Ÿ*äº‹åŠ¡ç‰¹æ€§ACIDï¼šåŸå­æ€§ï¼ˆAtomicityï¼‰ã€ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€éš”ç¦»æ€§ï¼ˆIsolationï¼‰ã€æŒä¹…æ€§ï¼ˆDurabilityï¼‰ã€‚ åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡åŒ…å«çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚ ä¸€è‡´æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¹‹å‰å’Œæ‰§è¡Œä¹‹åéƒ½å¿…é¡»å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚æ¯”å¦‚aä¸bè´¦æˆ·å…±æœ‰1000å—ï¼Œä¸¤äººä¹‹é—´è½¬è´¦ä¹‹åæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œå®ƒä»¬çš„è´¦æˆ·æ€»å’Œè¿˜æ˜¯1000ã€‚ éš”ç¦»æ€§ã€‚è·Ÿéš”ç¦»çº§åˆ«ç›¸å…³ï¼Œå¦‚read committedï¼Œä¸€ä¸ªäº‹åŠ¡åªèƒ½è¯»åˆ°å·²ç»æäº¤çš„ä¿®æ”¹ã€‚ æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤äº†ï¼Œé‚£ä¹ˆå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä¾¿æ˜¯åœ¨æ•°æ®åº“ç³»ç»Ÿé‡åˆ°æ•…éšœçš„æƒ…å†µä¸‹ä¹Ÿä¸ä¼šä¸¢å¤±æäº¤äº‹åŠ¡çš„æ“ä½œã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:1:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#äº‹åŠ¡çš„å››å¤§ç‰¹æ€§"},{"categories":null,"content":"æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼ç¬¬ä¸€èŒƒå¼1NF ç¡®ä¿æ•°æ®åº“è¡¨å­—æ®µçš„åŸå­æ€§ã€‚ æ¯”å¦‚å­—æ®µ userInfo: å¹¿ä¸œçœ 10086' ï¼Œä¾ç…§ç¬¬ä¸€èŒƒå¼å¿…é¡»æ‹†åˆ†æˆ userInfo: å¹¿ä¸œçœ userTel:10086ä¸¤ä¸ªå­—æ®µã€‚ ç¬¬äºŒèŒƒå¼2NF é¦–å…ˆè¦æ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼Œå¦å¤–åŒ…å«ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œä¸€æ˜¯è¡¨å¿…é¡»æœ‰ä¸€ä¸ªä¸»é”®ï¼›äºŒæ˜¯éä¸»é”®åˆ—å¿…é¡»å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œè€Œä¸èƒ½åªä¾èµ–äºä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚ ä¸¾ä¸ªä¾‹å­ã€‚å‡å®šé€‰è¯¾å…³ç³»è¡¨ä¸ºstudent_course(student_no, student_name, age, course_name, grade, credit)ï¼Œä¸»é”®ä¸º(student_no, course_name)ã€‚å…¶ä¸­å­¦åˆ†å®Œå…¨ä¾èµ–äºè¯¾ç¨‹åç§°ï¼Œå§“åå¹´é¾„å®Œå…¨ä¾èµ–å­¦å·ï¼Œä¸ç¬¦åˆç¬¬äºŒèŒƒå¼ï¼Œä¼šå¯¼è‡´æ•°æ®å†—ä½™ï¼ˆå­¦ç”Ÿé€‰né—¨è¯¾ï¼Œå§“åå¹´é¾„æœ‰næ¡è®°å½•ï¼‰ã€æ’å…¥å¼‚å¸¸ï¼ˆæ’å…¥ä¸€é—¨æ–°è¯¾ï¼Œå› ä¸ºæ²¡æœ‰å­¦å·ï¼Œæ— æ³•ä¿å­˜æ–°è¯¾è®°å½•ï¼‰ç­‰é—®é¢˜ã€‚ å¯ä»¥æ‹†åˆ†æˆä¸‰ä¸ªè¡¨ï¼šå­¦ç”Ÿï¼šstudent(stuent_no, student_name, å¹´é¾„)ï¼›è¯¾ç¨‹ï¼šcourse(course_name, credit)ï¼›é€‰è¯¾å…³ç³»ï¼šstudent_course_relation(student_no, course_name, grade)ã€‚ ç¬¬ä¸‰èŒƒå¼3NF é¦–å…ˆè¦æ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼Œå¦å¤–éä¸»é”®åˆ—å¿…é¡»ç›´æ¥ä¾èµ–äºä¸»é”®ï¼Œä¸èƒ½å­˜åœ¨ä¼ é€’ä¾èµ–ã€‚å³ä¸èƒ½å­˜åœ¨ï¼šéä¸»é”®åˆ— A ä¾èµ–äºéä¸»é”®åˆ— Bï¼Œéä¸»é”®åˆ— B ä¾èµ–äºä¸»é”®çš„æƒ…å†µã€‚ å‡å®šå­¦ç”Ÿå…³ç³»è¡¨ä¸ºStudent(student_no, student_name, age, academy_id, academy_telephone)ï¼Œä¸»é”®ä¸º\"å­¦å·\"ï¼Œå…¶ä¸­å­¦é™¢idä¾èµ–äºå­¦å·ï¼Œè€Œå­¦é™¢åœ°ç‚¹å’Œå­¦é™¢ç”µè¯ä¾èµ–äºå­¦é™¢idï¼Œå­˜åœ¨ä¼ é€’ä¾èµ–ï¼Œä¸ç¬¦åˆç¬¬ä¸‰èŒƒå¼ã€‚ å¯ä»¥æŠŠå­¦ç”Ÿå…³ç³»è¡¨åˆ†ä¸ºå¦‚ä¸‹ä¸¤ä¸ªè¡¨ï¼šå­¦ç”Ÿï¼š(student_no, student_name, age, academy_id)ï¼›å­¦é™¢ï¼š(academy_id, academy_telephone)ã€‚ 2NFå’Œ3NFçš„åŒºåˆ«ï¼Ÿ 2NFä¾æ®æ˜¯éä¸»é”®åˆ—æ˜¯å¦å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œè¿˜æ˜¯ä¾èµ–äºä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚ 3NFä¾æ®æ˜¯éä¸»é”®åˆ—æ˜¯ç›´æ¥ä¾èµ–äºä¸»é”®ï¼Œè¿˜æ˜¯ç›´æ¥ä¾èµ–äºéä¸»é”®ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:2:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼"},{"categories":null,"content":"äº‹åŠ¡éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿ*å…ˆäº†è§£ä¸‹å‡ ä¸ªæ¦‚å¿µï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ã€‚ è„è¯»æ˜¯æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡å¤„ç†è¿‡ç¨‹é‡Œè¯»å–äº†å¦ä¸€ä¸ªæœªæäº¤çš„äº‹åŠ¡ä¸­çš„æ•°æ®ã€‚ ä¸å¯é‡å¤è¯»æ˜¯æŒ‡åœ¨å¯¹äºæ•°æ®åº“ä¸­çš„æŸè¡Œè®°å½•ï¼Œä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…å¤šæ¬¡æŸ¥è¯¢å´è¿”å›äº†ä¸åŒçš„æ•°æ®å€¼ï¼Œè¿™æ˜¯ç”±äºåœ¨æŸ¥è¯¢é—´éš”ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹äº†æ•°æ®å¹¶æäº¤äº†ã€‚ å¹»è¯»æ˜¯å½“æŸä¸ªäº‹åŠ¡åœ¨è¯»å–æŸä¸ªèŒƒå›´å†…çš„è®°å½•æ—¶ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡åˆåœ¨è¯¥èŒƒå›´å†…æ’å…¥äº†æ–°çš„è®°å½•ï¼Œå½“ä¹‹å‰çš„äº‹åŠ¡å†æ¬¡è¯»å–è¯¥èŒƒå›´çš„è®°å½•æ—¶ï¼Œä¼šäº§ç”Ÿå¹»è¡Œï¼Œå°±åƒäº§ç”Ÿå¹»è§‰ä¸€æ ·ï¼Œè¿™å°±æ˜¯å‘ç”Ÿäº†å¹»è¯»ã€‚ ä¸å¯é‡å¤è¯»å’Œè„è¯»çš„åŒºåˆ«æ˜¯ï¼Œè„è¯»æ˜¯æŸä¸€äº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„è„æ•°æ®ï¼Œè€Œä¸å¯é‡å¤è¯»åˆ™æ˜¯è¯»å–äº†å‰ä¸€äº‹åŠ¡æäº¤çš„æ•°æ®ã€‚ å¹»è¯»å’Œä¸å¯é‡å¤è¯»éƒ½æ˜¯è¯»å–äº†å¦ä¸€æ¡å·²ç»æäº¤çš„äº‹åŠ¡ï¼Œä¸åŒçš„æ˜¯ä¸å¯é‡å¤è¯»çš„é‡ç‚¹æ˜¯ä¿®æ”¹ï¼Œå¹»è¯»çš„é‡ç‚¹åœ¨äºæ–°å¢æˆ–è€…åˆ é™¤ã€‚ äº‹åŠ¡éš”ç¦»å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šé¢æåˆ°çš„è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»è¿™å‡ ä¸ªé—®é¢˜ã€‚ MySQLæ•°æ®åº“ä¸ºæˆ‘ä»¬æä¾›çš„å››ç§éš”ç¦»çº§åˆ«ï¼š Serializable (ä¸²è¡ŒåŒ–)ï¼šé€šè¿‡å¼ºåˆ¶äº‹åŠ¡æ’åºï¼Œä½¿ä¹‹ä¸å¯èƒ½ç›¸äº’å†²çªï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜ã€‚ Repeatable read (å¯é‡å¤è¯»)ï¼šMySQLçš„é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå®ƒç¡®ä¿åŒä¸€äº‹åŠ¡çš„å¤šä¸ªå®ä¾‹åœ¨å¹¶å‘è¯»å–æ•°æ®æ—¶ï¼Œä¼šçœ‹åˆ°åŒæ ·çš„æ•°æ®è¡Œï¼Œè§£å†³äº†ä¸å¯é‡å¤è¯»çš„é—®é¢˜ã€‚ Read committed (è¯»å·²æäº¤)ï¼šä¸€ä¸ªäº‹åŠ¡åªèƒ½çœ‹è§å·²ç»æäº¤äº‹åŠ¡æ‰€åšçš„æ”¹å˜ã€‚å¯é¿å…è„è¯»çš„å‘ç”Ÿã€‚ Read uncommitted (è¯»æœªæäº¤)ï¼šæ‰€æœ‰äº‹åŠ¡éƒ½å¯ä»¥çœ‹åˆ°å…¶ä»–æœªæäº¤äº‹åŠ¡çš„æ‰§è¡Œç»“æœã€‚ æŸ¥çœ‹éš”ç¦»çº§åˆ«ï¼š select @@transaction_isolation; è®¾ç½®éš”ç¦»çº§åˆ«ï¼š set session transaction isolation level read uncommitted; ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:3:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#äº‹åŠ¡éš”ç¦»çº§åˆ«æœ‰å“ªäº›"},{"categories":null,"content":"ç´¢å¼•","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç´¢å¼•"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿç´¢å¼•æ˜¯å­˜å‚¨å¼•æ“ç”¨äºæé«˜æ•°æ®åº“è¡¨çš„è®¿é—®é€Ÿåº¦çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:1","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯ç´¢å¼•"},{"categories":null,"content":"ç´¢å¼•çš„ä¼˜ç¼ºç‚¹ï¼Ÿä¼˜ç‚¹ï¼š åŠ å¿«æ•°æ®æŸ¥æ‰¾çš„é€Ÿåº¦ ä¸ºç”¨æ¥æ’åºæˆ–è€…æ˜¯åˆ†ç»„çš„å­—æ®µæ·»åŠ ç´¢å¼•ï¼Œå¯ä»¥åŠ å¿«åˆ†ç»„å’Œæ’åºçš„é€Ÿåº¦ åŠ å¿«è¡¨ä¸è¡¨ä¹‹é—´çš„è¿æ¥ ç¼ºç‚¹ï¼š å»ºç«‹ç´¢å¼•éœ€è¦å ç”¨ç‰©ç†ç©ºé—´ ä¼šé™ä½è¡¨çš„å¢åˆ æ”¹çš„æ•ˆç‡ï¼Œå› ä¸ºæ¯æ¬¡å¯¹è¡¨è®°å½•è¿›è¡Œå¢åˆ æ”¹ï¼Œéœ€è¦è¿›è¡ŒåŠ¨æ€ç»´æŠ¤ç´¢å¼•ï¼Œå¯¼è‡´å¢åˆ æ”¹æ—¶é—´å˜é•¿ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:2","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç´¢å¼•çš„ä¼˜ç¼ºç‚¹"},{"categories":null,"content":"ç´¢å¼•çš„ä½œç”¨ï¼Ÿæ•°æ®æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ï¼ŒæŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•ï¼Œä¼šåŠ è½½æ‰€æœ‰çš„æ•°æ®åˆ°å†…å­˜ï¼Œä¾æ¬¡è¿›è¡Œæ£€ç´¢ï¼Œè¯»å–ç£ç›˜æ¬¡æ•°è¾ƒå¤šã€‚æœ‰äº†ç´¢å¼•ï¼Œå°±ä¸éœ€è¦åŠ è½½æ‰€æœ‰æ•°æ®ï¼Œå› ä¸ºB+æ ‘çš„é«˜åº¦ä¸€èˆ¬åœ¨2-4å±‚ï¼Œæœ€å¤šåªéœ€è¦è¯»å–2-4æ¬¡ç£ç›˜ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¤§å¤§æå‡ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:3","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç´¢å¼•çš„ä½œç”¨"},{"categories":null,"content":"ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å»ºç´¢å¼•ï¼Ÿ ç»å¸¸ç”¨äºæŸ¥è¯¢çš„å­—æ®µ ç»å¸¸ç”¨äºè¿æ¥çš„å­—æ®µå»ºç«‹ç´¢å¼•ï¼Œå¯ä»¥åŠ å¿«è¿æ¥çš„é€Ÿåº¦ ç»å¸¸éœ€è¦æ’åºçš„å­—æ®µå»ºç«‹ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•å·²ç»æ’å¥½åºï¼Œå¯ä»¥åŠ å¿«æ’åºæŸ¥è¯¢é€Ÿåº¦ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:4","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å»ºç´¢å¼•"},{"categories":null,"content":"ä»€ä¹ˆæƒ…å†µä¸‹ä¸å»ºç´¢å¼•ï¼Ÿ whereæ¡ä»¶ä¸­ç”¨ä¸åˆ°çš„å­—æ®µä¸é€‚åˆå»ºç«‹ç´¢å¼• è¡¨è®°å½•è¾ƒå°‘ éœ€è¦ç»å¸¸å¢åˆ æ”¹ å‚ä¸åˆ—è®¡ç®—çš„åˆ—ä¸é€‚åˆå»ºç´¢å¼• åŒºåˆ†åº¦ä¸é«˜çš„å­—æ®µä¸é€‚åˆå»ºç«‹ç´¢å¼•ï¼Œå¦‚æ€§åˆ«ç­‰ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:5","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæƒ…å†µä¸‹ä¸å»ºç´¢å¼•"},{"categories":null,"content":"ç´¢å¼•çš„æ•°æ®ç»“æ„ç´¢å¼•çš„æ•°æ®ç»“æ„ä¸»è¦æœ‰B+æ ‘å’Œå“ˆå¸Œè¡¨ï¼Œå¯¹åº”çš„ç´¢å¼•åˆ†åˆ«ä¸ºB+æ ‘ç´¢å¼•å’Œå“ˆå¸Œç´¢å¼•ã€‚InnoDBå¼•æ“çš„ç´¢å¼•ç±»å‹æœ‰B+æ ‘ç´¢å¼•å’Œå“ˆå¸Œç´¢å¼•ï¼Œé»˜è®¤çš„ç´¢å¼•ç±»å‹ä¸ºB+æ ‘ç´¢å¼•ã€‚ B+æ ‘ç´¢å¼• B+ æ ‘æ˜¯åŸºäºB æ ‘å’Œå¶å­èŠ‚ç‚¹é¡ºåºè®¿é—®æŒ‡é’ˆè¿›è¡Œå®ç°ï¼Œå®ƒå…·æœ‰Bæ ‘çš„å¹³è¡¡æ€§ï¼Œå¹¶ä¸”é€šè¿‡é¡ºåºè®¿é—®æŒ‡é’ˆæ¥æé«˜åŒºé—´æŸ¥è¯¢çš„æ€§èƒ½ã€‚ åœ¨ B+ æ ‘ä¸­ï¼ŒèŠ‚ç‚¹ä¸­çš„ key ä»å·¦åˆ°å³é€’å¢æ’åˆ—ï¼Œå¦‚æœæŸä¸ªæŒ‡é’ˆçš„å·¦å³ç›¸é‚» key åˆ†åˆ«æ˜¯ keyi å’Œ keyi+1ï¼Œåˆ™è¯¥æŒ‡é’ˆæŒ‡å‘èŠ‚ç‚¹çš„æ‰€æœ‰ key å¤§äºç­‰äº keyi ä¸”å°äºç­‰äº keyi+1ã€‚ è¿›è¡ŒæŸ¥æ‰¾æ“ä½œæ—¶ï¼Œé¦–å…ˆåœ¨æ ¹èŠ‚ç‚¹è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°keyæ‰€åœ¨çš„æŒ‡é’ˆï¼Œç„¶åé€’å½’åœ°åœ¨æŒ‡é’ˆæ‰€æŒ‡å‘çš„èŠ‚ç‚¹è¿›è¡ŒæŸ¥æ‰¾ã€‚ç›´åˆ°æŸ¥æ‰¾åˆ°å¶å­èŠ‚ç‚¹ï¼Œç„¶ååœ¨å¶å­èŠ‚ç‚¹ä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾å‡ºkeyæ‰€å¯¹åº”çš„æ•°æ®é¡¹ã€‚ MySQL æ•°æ®åº“ä½¿ç”¨æœ€å¤šçš„ç´¢å¼•ç±»å‹æ˜¯BTREEç´¢å¼•ï¼Œåº•å±‚åŸºäºB+æ ‘æ•°æ®ç»“æ„æ¥å®ç°ã€‚ mysql\u003e show index from blog\\G; *************************** 1. row *************************** Table: blog Non_unique: 0 Key_name: PRIMARY Seq_in_index: 1 Column_name: blog_id Collation: A Cardinality: 4 Sub_part: NULL Packed: NULL Null: Index_type: BTREE Comment: Index_comment: Visible: YES Expression: NULL å“ˆå¸Œç´¢å¼• å“ˆå¸Œç´¢å¼•æ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°çš„ï¼Œå¯¹äºæ¯ä¸€è¡Œæ•°æ®ï¼Œå­˜å‚¨å¼•æ“ä¼šå¯¹ç´¢å¼•åˆ—è¿›è¡Œå“ˆå¸Œè®¡ç®—å¾—åˆ°å“ˆå¸Œç ï¼Œå¹¶ä¸”å“ˆå¸Œç®—æ³•è¦å°½é‡ä¿è¯ä¸åŒçš„åˆ—å€¼è®¡ç®—å‡ºçš„å“ˆå¸Œç å€¼æ˜¯ä¸åŒçš„ï¼Œå°†å“ˆå¸Œç çš„å€¼ä½œä¸ºå“ˆå¸Œè¡¨çš„keyå€¼ï¼Œå°†æŒ‡å‘æ•°æ®è¡Œçš„æŒ‡é’ˆä½œä¸ºå“ˆå¸Œè¡¨çš„valueå€¼ã€‚è¿™æ ·æŸ¥æ‰¾ä¸€ä¸ªæ•°æ®çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(1)ï¼Œä¸€èˆ¬å¤šç”¨äºç²¾ç¡®æŸ¥æ‰¾ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:6","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç´¢å¼•çš„æ•°æ®ç»“æ„"},{"categories":null,"content":"Hashç´¢å¼•å’ŒB+æ ‘ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ å“ˆå¸Œç´¢å¼•ä¸æ”¯æŒæ’åºï¼Œå› ä¸ºå“ˆå¸Œè¡¨æ˜¯æ— åºçš„ã€‚ å“ˆå¸Œç´¢å¼•ä¸æ”¯æŒèŒƒå›´æŸ¥æ‰¾ã€‚ å“ˆå¸Œç´¢å¼•ä¸æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢åŠå¤šåˆ—ç´¢å¼•çš„æœ€å·¦å‰ç¼€åŒ¹é…ã€‚ å› ä¸ºå“ˆå¸Œè¡¨ä¸­ä¼šå­˜åœ¨å“ˆå¸Œå†²çªï¼Œæ‰€ä»¥å“ˆå¸Œç´¢å¼•çš„æ€§èƒ½æ˜¯ä¸ç¨³å®šçš„ï¼Œè€ŒB+æ ‘ç´¢å¼•çš„æ€§èƒ½æ˜¯ç›¸å¯¹ç¨³å®šçš„ï¼Œæ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:7","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#hashç´¢å¼•å’Œbæ ‘ç´¢å¼•çš„åŒºåˆ«"},{"categories":null,"content":"ä¸ºä»€ä¹ˆB+æ ‘æ¯”Bæ ‘æ›´é€‚åˆå®ç°æ•°æ®åº“ç´¢å¼•ï¼Ÿ ç”±äºB+æ ‘çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­ç»“ç‚¹ä¸­ï¼Œå¶å­ç»“ç‚¹å‡ä¸ºç´¢å¼•ï¼Œæ–¹ä¾¿æ‰«åº“ï¼Œåªéœ€è¦æ‰«ä¸€éå¶å­ç»“ç‚¹å³å¯ï¼Œä½†æ˜¯Bæ ‘å› ä¸ºå…¶åˆ†æ”¯ç»“ç‚¹åŒæ ·å­˜å‚¨ç€æ•°æ®ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°å…·ä½“çš„æ•°æ®ï¼Œéœ€è¦è¿›è¡Œä¸€æ¬¡ä¸­åºéå†æŒ‰åºæ¥æ‰«ï¼Œæ‰€ä»¥B+æ ‘æ›´åŠ é€‚åˆåœ¨åŒºé—´æŸ¥è¯¢çš„æƒ…å†µï¼Œè€Œåœ¨æ•°æ®åº“ä¸­åŸºäºèŒƒå›´çš„æŸ¥è¯¢æ˜¯éå¸¸é¢‘ç¹çš„ï¼Œæ‰€ä»¥é€šå¸¸B+æ ‘ç”¨äºæ•°æ®åº“ç´¢å¼•ã€‚ B+æ ‘çš„èŠ‚ç‚¹åªå­˜å‚¨ç´¢å¼•keyå€¼ï¼Œå…·ä½“ä¿¡æ¯çš„åœ°å€å­˜åœ¨äºå¶å­èŠ‚ç‚¹çš„åœ°å€ä¸­ã€‚è¿™å°±ä½¿ä»¥é¡µä¸ºå•ä½çš„ç´¢å¼•ä¸­å¯ä»¥å­˜æ”¾æ›´å¤šçš„èŠ‚ç‚¹ã€‚å‡å°‘æ›´å¤šçš„I/Oæ”¯å‡ºã€‚ B+æ ‘çš„æŸ¥è¯¢æ•ˆç‡æ›´åŠ ç¨³å®šï¼Œä»»ä½•å…³é”®å­—çš„æŸ¥æ‰¾å¿…é¡»èµ°ä¸€æ¡ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯ã€‚æ‰€æœ‰å…³é”®å­—æŸ¥è¯¢çš„è·¯å¾„é•¿åº¦ç›¸åŒï¼Œå¯¼è‡´æ¯ä¸€ä¸ªæ•°æ®çš„æŸ¥è¯¢æ•ˆç‡ç›¸å½“ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:8","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä¸ºä»€ä¹ˆbæ ‘æ¯”bæ ‘æ›´é€‚åˆå®ç°æ•°æ®åº“ç´¢å¼•"},{"categories":null,"content":"ç´¢å¼•æœ‰ä»€ä¹ˆåˆ†ç±»ï¼Ÿ1ã€ä¸»é”®ç´¢å¼•ï¼šåä¸ºprimaryçš„å”¯ä¸€éç©ºç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚ 2ã€å”¯ä¸€ç´¢å¼•ï¼šç´¢å¼•åˆ—ä¸­çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å…è®¸ä¸ºç©ºå€¼ã€‚å”¯ä¸€ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„åŒºåˆ«æ˜¯ï¼šå”¯ä¸€çº¦æŸçš„åˆ—å¯ä»¥ä¸ºnullä¸”å¯ä»¥å­˜åœ¨å¤šä¸ªnullå€¼ã€‚å”¯ä¸€ç´¢å¼•çš„ç”¨é€”ï¼šå”¯ä¸€æ ‡è¯†æ•°æ®åº“è¡¨ä¸­çš„æ¯æ¡è®°å½•ï¼Œä¸»è¦æ˜¯ç”¨æ¥é˜²æ­¢æ•°æ®é‡å¤æ’å…¥ã€‚åˆ›å»ºå”¯ä¸€ç´¢å¼•çš„SQLè¯­å¥å¦‚ä¸‹ï¼š ALTER TABLE table_name ADD CONSTRAINT constraint_name UNIQUE KEY(column_1,column_2,â€¦); 3ã€ç»„åˆç´¢å¼•ï¼šåœ¨è¡¨ä¸­çš„å¤šä¸ªå­—æ®µç»„åˆä¸Šåˆ›å»ºçš„ç´¢å¼•ï¼Œåªæœ‰åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨äº†è¿™äº›å­—æ®µçš„å·¦è¾¹å­—æ®µæ—¶ï¼Œç´¢å¼•æ‰ä¼šè¢«ä½¿ç”¨ï¼Œä½¿ç”¨ç»„åˆç´¢å¼•æ—¶éœ€éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™ã€‚ 4ã€å…¨æ–‡ç´¢å¼•ï¼šåªæœ‰åœ¨MyISAMå¼•æ“ä¸Šæ‰èƒ½ä½¿ç”¨ï¼Œåªèƒ½åœ¨CHARã€VARCHARå’ŒTEXTç±»å‹å­—æ®µä¸Šä½¿ç”¨å…¨æ–‡ç´¢å¼•ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:9","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç´¢å¼•æœ‰ä»€ä¹ˆåˆ†ç±»"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯æœ€å·¦åŒ¹é…åŸåˆ™ï¼Ÿ*å¦‚æœ SQL è¯­å¥ä¸­ç”¨åˆ°äº†ç»„åˆç´¢å¼•ä¸­çš„æœ€å·¦è¾¹çš„ç´¢å¼•ï¼Œé‚£ä¹ˆè¿™æ¡ SQL è¯­å¥å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªç»„åˆç´¢å¼•å»è¿›è¡ŒåŒ¹é…ã€‚å½“é‡åˆ°èŒƒå›´æŸ¥è¯¢(\u003eã€\u003cã€betweenã€like)å°±ä¼šåœæ­¢åŒ¹é…ï¼Œåé¢çš„å­—æ®µä¸ä¼šç”¨åˆ°ç´¢å¼•ã€‚ å¯¹(a,b,c)å»ºç«‹ç´¢å¼•ï¼ŒæŸ¥è¯¢æ¡ä»¶ä½¿ç”¨ a/ab/abc ä¼šèµ°ç´¢å¼•ï¼Œä½¿ç”¨ bc ä¸ä¼šèµ°ç´¢å¼•ã€‚ å¯¹(a,b,c,d)å»ºç«‹ç´¢å¼•ï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸ºa = 1 and b = 2 and c \u003e 3 and d = 4ï¼Œé‚£ä¹ˆaã€bå’Œcä¸‰ä¸ªå­—æ®µèƒ½ç”¨åˆ°ç´¢å¼•ï¼Œè€Œdæ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚å› ä¸ºé‡åˆ°äº†èŒƒå›´æŸ¥è¯¢ã€‚ å¦‚ä¸‹å›¾ï¼Œå¯¹(a, b) å»ºç«‹ç´¢å¼•ï¼Œa åœ¨ç´¢å¼•æ ‘ä¸­æ˜¯å…¨å±€æœ‰åºçš„ï¼Œè€Œ b æ˜¯å…¨å±€æ— åºï¼Œå±€éƒ¨æœ‰åºï¼ˆå½“aç›¸ç­‰æ—¶ï¼Œä¼šæ ¹æ®bè¿›è¡Œæ’åºï¼‰ã€‚ç›´æ¥æ‰§è¡Œb = 2è¿™ç§æŸ¥è¯¢æ¡ä»¶æ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚ å½“açš„å€¼ç¡®å®šçš„æ—¶å€™ï¼Œbæ˜¯æœ‰åºçš„ã€‚ä¾‹å¦‚a = 1æ—¶ï¼Œbå€¼ä¸º1ï¼Œ2æ˜¯æœ‰åºçš„çŠ¶æ€ã€‚å½“a = 2æ—¶å€™ï¼Œbçš„å€¼ä¸º1ï¼Œ4ä¹Ÿæ˜¯æœ‰åºçŠ¶æ€ã€‚ å½“æ‰§è¡Œa = 1 and b = 2æ—¶aå’Œbå­—æ®µèƒ½ç”¨åˆ°ç´¢å¼•ã€‚è€Œæ‰§è¡Œa \u003e 1 and b = 2æ—¶ï¼Œaå­—æ®µèƒ½ç”¨åˆ°ç´¢å¼•ï¼Œbå­—æ®µç”¨ä¸åˆ°ç´¢å¼•ã€‚å› ä¸ºaçš„å€¼æ­¤æ—¶æ˜¯ä¸€ä¸ªèŒƒå›´ï¼Œä¸æ˜¯å›ºå®šçš„ï¼Œåœ¨è¿™ä¸ªèŒƒå›´å†…bå€¼ä¸æ˜¯æœ‰åºçš„ï¼Œå› æ­¤bå­—æ®µæ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:10","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯æœ€å·¦åŒ¹é…åŸåˆ™"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯èšé›†ç´¢å¼•ï¼ŸInnoDBä½¿ç”¨è¡¨çš„ä¸»é”®æ„é€ ä¸»é”®ç´¢å¼•æ ‘ï¼ŒåŒæ—¶å¶å­èŠ‚ç‚¹ä¸­å­˜æ”¾çš„å³ä¸ºæ•´å¼ è¡¨çš„è®°å½•æ•°æ®ã€‚èšé›†ç´¢å¼•å¶å­èŠ‚ç‚¹çš„å­˜å‚¨æ˜¯é€»è¾‘ä¸Šè¿ç»­çš„ï¼Œä½¿ç”¨åŒå‘é“¾è¡¨è¿æ¥ï¼Œå¶å­èŠ‚ç‚¹æŒ‰ç…§ä¸»é”®çš„é¡ºåºæ’åºï¼Œå› æ­¤å¯¹äºä¸»é”®çš„æ’åºæŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾é€Ÿåº¦æ¯”è¾ƒå¿«ã€‚ èšé›†ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å°±æ˜¯æ•´å¼ è¡¨çš„è¡Œè®°å½•ã€‚InnoDB ä¸»é”®ä½¿ç”¨çš„æ˜¯èšç°‡ç´¢å¼•ã€‚èšé›†ç´¢å¼•è¦æ¯”éèšé›†ç´¢å¼•æŸ¥è¯¢æ•ˆç‡é«˜å¾ˆå¤šã€‚ å¯¹äºInnoDBæ¥è¯´ï¼Œèšé›†ç´¢å¼•ä¸€èˆ¬æ˜¯è¡¨ä¸­çš„ä¸»é”®ç´¢å¼•ï¼Œå¦‚æœè¡¨ä¸­æ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šä¸»é”®ï¼Œåˆ™ä¼šé€‰æ‹©è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªä¸å…è®¸ä¸ºNULLçš„å”¯ä¸€ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰ä¸»é”®ä¹Ÿæ²¡æœ‰åˆé€‚çš„å”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆInnoDBå†…éƒ¨ä¼šç”Ÿæˆä¸€ä¸ªéšè—çš„ä¸»é”®ä½œä¸ºèšé›†ç´¢å¼•ï¼Œè¿™ä¸ªéšè—çš„ä¸»é”®é•¿åº¦ä¸º6ä¸ªå­—èŠ‚ï¼Œå®ƒçš„å€¼ä¼šéšç€æ•°æ®çš„æ’å…¥è‡ªå¢ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:11","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯èšé›†ç´¢å¼•"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯è¦†ç›–ç´¢å¼•ï¼Ÿselectçš„æ•°æ®åˆ—åªç”¨ä»ç´¢å¼•ä¸­å°±èƒ½å¤Ÿå–å¾—ï¼Œä¸éœ€è¦å›è¡¨è¿›è¡ŒäºŒæ¬¡æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯è¯´æŸ¥è¯¢åˆ—è¦è¢«æ‰€ä½¿ç”¨çš„ç´¢å¼•è¦†ç›–ã€‚å¯¹äºinnodbè¡¨çš„äºŒçº§ç´¢å¼•ï¼Œå¦‚æœç´¢å¼•èƒ½è¦†ç›–åˆ°æŸ¥è¯¢çš„åˆ—ï¼Œé‚£ä¹ˆå°±å¯ä»¥é¿å…å¯¹ä¸»é”®ç´¢å¼•çš„äºŒæ¬¡æŸ¥è¯¢ã€‚ ä¸æ˜¯æ‰€æœ‰ç±»å‹çš„ç´¢å¼•éƒ½å¯ä»¥æˆä¸ºè¦†ç›–ç´¢å¼•ã€‚è¦†ç›–ç´¢å¼•è¦å­˜å‚¨ç´¢å¼•åˆ—çš„å€¼ï¼Œè€Œå“ˆå¸Œç´¢å¼•ã€å…¨æ–‡ç´¢å¼•ä¸å­˜å‚¨ç´¢å¼•åˆ—çš„å€¼ï¼Œæ‰€ä»¥MySQLä½¿ç”¨b+æ ‘ç´¢å¼•åšè¦†ç›–ç´¢å¼•ã€‚ å¯¹äºä½¿ç”¨äº†è¦†ç›–ç´¢å¼•çš„æŸ¥è¯¢ï¼Œåœ¨æŸ¥è¯¢å‰é¢ä½¿ç”¨explainï¼Œè¾“å‡ºçš„extraåˆ—ä¼šæ˜¾ç¤ºä¸ºusing indexã€‚ æ¯”å¦‚user_like ç”¨æˆ·ç‚¹èµè¡¨ï¼Œç»„åˆç´¢å¼•ä¸º(user_id, blog_id)ï¼Œuser_idå’Œblog_idéƒ½ä¸ä¸ºnullã€‚ explain select blog_id from user_like where user_id = 13; explainç»“æœçš„Extraåˆ—ä¸ºUsing indexï¼ŒæŸ¥è¯¢çš„åˆ—è¢«ç´¢å¼•è¦†ç›–ï¼Œå¹¶ä¸”whereç­›é€‰æ¡ä»¶ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œé€šè¿‡ç´¢å¼•æŸ¥æ‰¾å°±èƒ½ç›´æ¥æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œä¸éœ€è¦å›è¡¨æŸ¥è¯¢æ•°æ®ã€‚ explain select user_id from user_like where blog_id = 1; explainç»“æœçš„Extraåˆ—ä¸ºUsing where; Using indexï¼Œ æŸ¥è¯¢çš„åˆ—è¢«ç´¢å¼•è¦†ç›–ï¼Œwhereç­›é€‰æ¡ä»¶ä¸ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œæ— æ³•é€šè¿‡ç´¢å¼•æŸ¥æ‰¾æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œä½†å¯ä»¥é€šè¿‡ç´¢å¼•æ‰«ææ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œä¹Ÿä¸éœ€è¦å›è¡¨æŸ¥è¯¢æ•°æ®ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:12","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯è¦†ç›–ç´¢å¼•"},{"categories":null,"content":"ç´¢å¼•çš„è®¾è®¡åŸåˆ™ï¼Ÿ ç´¢å¼•åˆ—çš„åŒºåˆ†åº¦è¶Šé«˜ï¼Œç´¢å¼•çš„æ•ˆæœè¶Šå¥½ã€‚æ¯”å¦‚ä½¿ç”¨æ€§åˆ«è¿™ç§åŒºåˆ†åº¦å¾ˆä½çš„åˆ—ä½œä¸ºç´¢å¼•ï¼Œæ•ˆæœå°±ä¼šå¾ˆå·®ã€‚ å°½é‡ä½¿ç”¨çŸ­ç´¢å¼•ï¼Œå¯¹äºè¾ƒé•¿çš„å­—ç¬¦ä¸²è¿›è¡Œç´¢å¼•æ—¶åº”è¯¥æŒ‡å®šä¸€ä¸ªè¾ƒçŸ­çš„å‰ç¼€é•¿åº¦ï¼Œå› ä¸ºè¾ƒå°çš„ç´¢å¼•æ¶‰åŠåˆ°çš„ç£ç›˜I/Oè¾ƒå°‘ï¼ŒæŸ¥è¯¢é€Ÿåº¦æ›´å¿«ã€‚ ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œæ¯ä¸ªç´¢å¼•éƒ½éœ€è¦é¢å¤–çš„ç‰©ç†ç©ºé—´ï¼Œç»´æŠ¤ä¹Ÿéœ€è¦èŠ±è´¹æ—¶é—´ã€‚ åˆ©ç”¨æœ€å·¦å‰ç¼€åŸåˆ™ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:13","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç´¢å¼•çš„è®¾è®¡åŸåˆ™"},{"categories":null,"content":"ç´¢å¼•ä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆï¼Ÿ*å¯¼è‡´ç´¢å¼•å¤±æ•ˆçš„æƒ…å†µï¼š å¯¹äºç»„åˆç´¢å¼•ï¼Œä¸æ˜¯ä½¿ç”¨ç»„åˆç´¢å¼•æœ€å·¦è¾¹çš„å­—æ®µï¼Œåˆ™ä¸ä¼šä½¿ç”¨ç´¢å¼• ä»¥%å¼€å¤´çš„likeæŸ¥è¯¢å¦‚%abcï¼Œæ— æ³•ä½¿ç”¨ç´¢å¼•ï¼›é%å¼€å¤´çš„likeæŸ¥è¯¢å¦‚abc%ï¼Œç›¸å½“äºèŒƒå›´æŸ¥è¯¢ï¼Œä¼šä½¿ç”¨ç´¢å¼• æŸ¥è¯¢æ¡ä»¶ä¸­åˆ—ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰ä½¿ç”¨å¼•å·ï¼Œå¯èƒ½ä¼šå› ä¸ºç±»å‹ä¸åŒå‘ç”Ÿéšå¼è½¬æ¢ï¼Œä½¿ç´¢å¼•å¤±æ•ˆ åˆ¤æ–­ç´¢å¼•åˆ—æ˜¯å¦ä¸ç­‰äºæŸä¸ªå€¼æ—¶ å¯¹ç´¢å¼•åˆ—è¿›è¡Œè¿ç®— æŸ¥è¯¢æ¡ä»¶ä½¿ç”¨orè¿æ¥ï¼Œä¹Ÿä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:14","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç´¢å¼•ä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆ"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯å‰ç¼€ç´¢å¼•ï¼Ÿæœ‰æ—¶éœ€è¦åœ¨å¾ˆé•¿çš„å­—ç¬¦åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œè¿™ä¼šé€ æˆç´¢å¼•ç‰¹åˆ«å¤§ä¸”æ…¢ã€‚ä½¿ç”¨å‰ç¼€ç´¢å¼•å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚ å‰ç¼€ç´¢å¼•æ˜¯æŒ‡å¯¹æ–‡æœ¬æˆ–è€…å­—ç¬¦ä¸²çš„å‰å‡ ä¸ªå­—ç¬¦å»ºç«‹ç´¢å¼•ï¼Œè¿™æ ·ç´¢å¼•çš„é•¿åº¦æ›´çŸ­ï¼ŒæŸ¥è¯¢é€Ÿåº¦æ›´å¿«ã€‚ åˆ›å»ºå‰ç¼€ç´¢å¼•çš„å…³é”®åœ¨äºé€‰æ‹©è¶³å¤Ÿé•¿çš„å‰ç¼€ä»¥ä¿è¯è¾ƒé«˜çš„ç´¢å¼•é€‰æ‹©æ€§ã€‚ç´¢å¼•é€‰æ‹©æ€§è¶Šé«˜æŸ¥è¯¢æ•ˆç‡å°±è¶Šé«˜ï¼Œå› ä¸ºé€‰æ‹©æ€§é«˜çš„ç´¢å¼•å¯ä»¥è®©MySQLåœ¨æŸ¥æ‰¾æ—¶è¿‡æ»¤æ‰æ›´å¤šçš„æ•°æ®è¡Œã€‚ å»ºç«‹å‰ç¼€ç´¢å¼•çš„æ–¹å¼ï¼š // emailåˆ—åˆ›å»ºå‰ç¼€ç´¢å¼• ALTER TABLE table_name ADD KEY(column_name(prefix_length)); ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:4:15","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯å‰ç¼€ç´¢å¼•"},{"categories":null,"content":"å¸¸è§çš„å­˜å‚¨å¼•æ“æœ‰å“ªäº›ï¼ŸMySQLä¸­å¸¸ç”¨çš„å››ç§å­˜å‚¨å¼•æ“åˆ†åˆ«æ˜¯ï¼š MyISAMã€InnoDBã€MEMORYã€ARCHIVEã€‚MySQL 5.5ç‰ˆæœ¬åé»˜è®¤çš„å­˜å‚¨å¼•æ“ä¸ºInnoDBã€‚ InnoDBå­˜å‚¨å¼•æ“ InnoDBæ˜¯MySQLé»˜è®¤çš„äº‹åŠ¡å‹å­˜å‚¨å¼•æ“ï¼Œä½¿ç”¨æœ€å¹¿æ³›ï¼ŒåŸºäºèšç°‡ç´¢å¼•å»ºç«‹çš„ã€‚InnoDBå†…éƒ¨åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œå¦‚èƒ½å¤Ÿè‡ªåŠ¨åœ¨å†…å­˜ä¸­åˆ›å»ºè‡ªé€‚åº”hashç´¢å¼•ï¼Œä»¥åŠ é€Ÿè¯»æ“ä½œã€‚ ä¼˜ç‚¹ï¼šæ”¯æŒäº‹åŠ¡å’Œå´©æºƒä¿®å¤èƒ½åŠ›ï¼›å¼•å…¥äº†è¡Œçº§é”å’Œå¤–é”®çº¦æŸã€‚ ç¼ºç‚¹ï¼šå ç”¨çš„æ•°æ®ç©ºé—´ç›¸å¯¹è¾ƒå¤§ã€‚ é€‚ç”¨åœºæ™¯ï¼šéœ€è¦äº‹åŠ¡æ”¯æŒï¼Œå¹¶ä¸”æœ‰è¾ƒé«˜çš„å¹¶å‘è¯»å†™é¢‘ç‡ã€‚ MyISAMå­˜å‚¨å¼•æ“ æ•°æ®ä»¥ç´§å¯†æ ¼å¼å­˜å‚¨ã€‚å¯¹äºåªè¯»æ•°æ®ï¼Œæˆ–è€…è¡¨æ¯”è¾ƒå°ã€å¯ä»¥å®¹å¿ä¿®å¤æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨MyISAMå¼•æ“ã€‚MyISAMä¼šå°†è¡¨å­˜å‚¨åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­ï¼Œæ•°æ®æ–‡ä»¶.MYDå’Œç´¢å¼•æ–‡ä»¶.MYIã€‚ ä¼˜ç‚¹ï¼šè®¿é—®é€Ÿåº¦å¿«ã€‚ ç¼ºç‚¹ï¼šMyISAMä¸æ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”ï¼Œä¸æ”¯æŒå´©æºƒåçš„å®‰å…¨æ¢å¤ï¼Œä¹Ÿä¸æ”¯æŒå¤–é”®ã€‚ é€‚ç”¨åœºæ™¯ï¼šå¯¹äº‹åŠ¡å®Œæ•´æ€§æ²¡æœ‰è¦æ±‚ï¼›è¡¨çš„æ•°æ®éƒ½ä¼šåªè¯»çš„ã€‚ MEMORYå­˜å‚¨å¼•æ“ MEMORYå¼•æ“å°†æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­ï¼Œè®¿é—®é€Ÿåº¦è¾ƒå¿«ï¼Œä½†æ˜¯ä¸€æ—¦ç³»ç»Ÿå¥”æºƒçš„è¯ï¼Œæ•°æ®éƒ½ä¼šä¸¢å¤±ã€‚ MEMORYå¼•æ“é»˜è®¤ä½¿ç”¨å“ˆå¸Œç´¢å¼•ï¼Œå°†é”®çš„å“ˆå¸Œå€¼å’ŒæŒ‡å‘æ•°æ®è¡Œçš„æŒ‡é’ˆä¿å­˜åœ¨å“ˆå¸Œç´¢å¼•ä¸­ã€‚ ä¼˜ç‚¹ï¼šè®¿é—®é€Ÿåº¦è¾ƒå¿«ã€‚ ç¼ºç‚¹ï¼š å“ˆå¸Œç´¢å¼•æ•°æ®ä¸æ˜¯æŒ‰ç…§ç´¢å¼•å€¼é¡ºåºå­˜å‚¨ï¼Œæ— æ³•ç”¨äºæ’åºã€‚ ä¸æ”¯æŒéƒ¨åˆ†ç´¢å¼•åŒ¹é…æŸ¥æ‰¾ï¼Œå› ä¸ºå“ˆå¸Œç´¢å¼•æ˜¯ä½¿ç”¨ç´¢å¼•åˆ—çš„å…¨éƒ¨å†…å®¹æ¥è®¡ç®—å“ˆå¸Œå€¼çš„ã€‚ åªæ”¯æŒç­‰å€¼æ¯”è¾ƒï¼Œä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ã€‚ å½“å‡ºç°å“ˆå¸Œå†²çªæ—¶ï¼Œå­˜å‚¨å¼•æ“éœ€è¦éå†é“¾è¡¨ä¸­æ‰€æœ‰çš„è¡ŒæŒ‡é’ˆï¼Œé€è¡Œè¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚ ARCHIVEå­˜å‚¨å¼•æ“ ARCHIVEå­˜å‚¨å¼•æ“éå¸¸é€‚åˆå­˜å‚¨å¤§é‡ç‹¬ç«‹çš„ã€ä½œä¸ºå†å²è®°å½•çš„æ•°æ®ã€‚ARCHIVEæä¾›äº†å‹ç¼©åŠŸèƒ½ï¼Œæ‹¥æœ‰é«˜æ•ˆçš„æ’å…¥é€Ÿåº¦ï¼Œä½†æ˜¯è¿™ç§å¼•æ“ä¸æ”¯æŒç´¢å¼•ï¼Œæ‰€ä»¥æŸ¥è¯¢æ€§èƒ½è¾ƒå·®ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:5:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#å¸¸è§çš„å­˜å‚¨å¼•æ“æœ‰å“ªäº›"},{"categories":null,"content":"MyISAMå’ŒInnoDBçš„åŒºåˆ«ï¼Ÿ* æ˜¯å¦æ”¯æŒè¡Œçº§é” : MyISAM åªæœ‰è¡¨çº§é”ï¼Œè€ŒInnoDB æ”¯æŒè¡Œçº§é”å’Œè¡¨çº§é”ï¼Œé»˜è®¤ä¸ºè¡Œçº§é”ã€‚ æ˜¯å¦æ”¯æŒäº‹åŠ¡å’Œå´©æºƒåçš„å®‰å…¨æ¢å¤ï¼š MyISAM ä¸æä¾›äº‹åŠ¡æ”¯æŒã€‚è€ŒInnoDBæä¾›äº‹åŠ¡æ”¯æŒï¼Œå…·æœ‰äº‹åŠ¡ã€å›æ»šå’Œå´©æºƒä¿®å¤èƒ½åŠ›ã€‚ æ˜¯å¦æ”¯æŒå¤–é”®ï¼š MyISAMä¸æ”¯æŒï¼Œè€ŒInnoDBæ”¯æŒã€‚ æ˜¯å¦æ”¯æŒMVCC ï¼šMyISAMä¸æ”¯æŒï¼ŒInnoDBæ”¯æŒã€‚åº”å¯¹é«˜å¹¶å‘äº‹åŠ¡ï¼ŒMVCCæ¯”å•çº¯çš„åŠ é”æ›´é«˜æ•ˆã€‚ MyISAMä¸æ”¯æŒèšé›†ç´¢å¼•ï¼ŒInnoDBæ”¯æŒèšé›†ç´¢å¼•ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:6:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#myisamå’Œinnodbçš„åŒºåˆ«"},{"categories":null,"content":"MVCC å®ç°åŸç†ï¼Ÿ*MVCC(Multiversion concurrency control) å°±æ˜¯åŒä¸€ä»½æ•°æ®ä¿ç•™å¤šç‰ˆæœ¬çš„ä¸€ç§æ–¹å¼ï¼Œè¿›è€Œå®ç°å¹¶å‘æ§åˆ¶ã€‚åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œé€šè¿‡read viewå’Œç‰ˆæœ¬é“¾æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„æ•°æ®ã€‚ ä½œç”¨ï¼šæå‡å¹¶å‘æ€§èƒ½ã€‚å¯¹äºé«˜å¹¶å‘åœºæ™¯ï¼ŒMVCCæ¯”è¡Œçº§é”å¼€é”€æ›´å°ã€‚ MVCC å®ç°åŸç†å¦‚ä¸‹ï¼š MVCC çš„å®ç°ä¾èµ–äºç‰ˆæœ¬é“¾ï¼Œç‰ˆæœ¬é“¾æ˜¯é€šè¿‡è¡¨çš„ä¸‰ä¸ªéšè—å­—æ®µå®ç°ã€‚ DB_TRX_IDï¼šå½“å‰äº‹åŠ¡idï¼Œé€šè¿‡äº‹åŠ¡idçš„å¤§å°åˆ¤æ–­äº‹åŠ¡çš„æ—¶é—´é¡ºåºã€‚ DB_ROLL_PRTï¼šå›æ»šæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰è¡Œè®°å½•çš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œé€šè¿‡è¿™ä¸ªæŒ‡é’ˆå°†æ•°æ®çš„å¤šä¸ªç‰ˆæœ¬è¿æ¥åœ¨ä¸€èµ·æ„æˆundo logç‰ˆæœ¬é“¾ã€‚ DB_ROLL_IDï¼šä¸»é”®ï¼Œå¦‚æœæ•°æ®è¡¨æ²¡æœ‰ä¸»é”®ï¼ŒInnoDBä¼šè‡ªåŠ¨ç”Ÿæˆä¸»é”®ã€‚ æ¯æ¡è¡¨è®°å½•å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š ä½¿ç”¨äº‹åŠ¡æ›´æ–°è¡Œè®°å½•çš„æ—¶å€™ï¼Œå°±ä¼šç”Ÿæˆç‰ˆæœ¬é“¾ï¼Œæ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š ç”¨æ’ä»–é”é”ä½è¯¥è¡Œï¼› å°†è¯¥è¡ŒåŸæœ¬çš„å€¼æ‹·è´åˆ°undo logï¼Œä½œä¸ºæ—§ç‰ˆæœ¬ç”¨äºå›æ»šï¼› ä¿®æ”¹å½“å‰è¡Œçš„å€¼ï¼Œç”Ÿæˆä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œæ›´æ–°äº‹åŠ¡idï¼Œä½¿å›æ»šæŒ‡é’ˆæŒ‡å‘æ—§ç‰ˆæœ¬çš„è®°å½•ï¼Œè¿™æ ·å°±å½¢æˆä¸€æ¡ç‰ˆæœ¬é“¾ã€‚ ä¸‹é¢ä¸¾ä¸ªä¾‹å­æ–¹ä¾¿å¤§å®¶ç†è§£ã€‚ 1ã€åˆå§‹æ•°æ®å¦‚ä¸‹ï¼Œå…¶ä¸­DB_ROW_IDå’ŒDB_ROLL_PTRä¸ºç©ºã€‚ 2ã€äº‹åŠ¡Aå¯¹è¯¥è¡Œæ•°æ®åšäº†ä¿®æ”¹ï¼Œå°†ageä¿®æ”¹ä¸º12ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š 3ã€ä¹‹åäº‹åŠ¡Bä¹Ÿå¯¹è¯¥è¡Œè®°å½•åšäº†ä¿®æ”¹ï¼Œå°†ageä¿®æ”¹ä¸º8ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š 4ã€æ­¤æ—¶undo logæœ‰ä¸¤è¡Œè®°å½•ï¼Œå¹¶ä¸”é€šè¿‡å›æ»šæŒ‡é’ˆè¿åœ¨ä¸€èµ·ã€‚ æ¥ä¸‹æ¥äº†è§£ä¸‹read viewçš„æ¦‚å¿µã€‚ read viewå¯ä»¥ç†è§£æˆå°†æ•°æ®åœ¨æ¯ä¸ªæ—¶åˆ»çš„çŠ¶æ€æ‹æˆâ€œç…§ç‰‡â€è®°å½•ä¸‹æ¥ã€‚åœ¨è·å–æŸæ—¶åˆ»tçš„æ•°æ®æ—¶ï¼Œåˆ°tæ—¶é—´ç‚¹æ‹çš„â€œç…§ç‰‡â€ä¸Šå–æ•°æ®ã€‚ åœ¨read viewå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªæ´»è·ƒäº‹åŠ¡é“¾è¡¨ï¼Œè¡¨ç¤ºç”Ÿæˆread viewçš„æ—¶å€™è¿˜åœ¨æ´»è·ƒçš„äº‹åŠ¡ã€‚è¿™ä¸ªé“¾è¡¨åŒ…å«åœ¨åˆ›å»ºread viewä¹‹å‰è¿˜æœªæäº¤çš„äº‹åŠ¡ï¼Œä¸åŒ…å«åˆ›å»ºread viewä¹‹åæäº¤çš„äº‹åŠ¡ã€‚ ä¸åŒéš”ç¦»çº§åˆ«åˆ›å»ºread viewçš„æ—¶æœºä¸åŒã€‚ read committedï¼šæ¯æ¬¡æ‰§è¡Œselectéƒ½ä¼šåˆ›å»ºæ–°çš„read_viewï¼Œä¿è¯èƒ½è¯»å–åˆ°å…¶ä»–äº‹åŠ¡å·²ç»æäº¤çš„ä¿®æ”¹ã€‚ repeatable readï¼šåœ¨ä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…ï¼Œç¬¬ä¸€æ¬¡selectæ—¶æ›´æ–°è¿™ä¸ªread_viewï¼Œä»¥åä¸ä¼šå†æ›´æ–°ï¼Œåç»­æ‰€æœ‰çš„selectéƒ½æ˜¯å¤ç”¨ä¹‹å‰çš„read_viewã€‚è¿™æ ·å¯ä»¥ä¿è¯äº‹åŠ¡èŒƒå›´å†…æ¯æ¬¡è¯»å–çš„å†…å®¹éƒ½ä¸€æ ·ï¼Œå³å¯é‡å¤è¯»ã€‚ read viewçš„è®°å½•ç­›é€‰æ–¹å¼ å‰æï¼šDATA_TRX_ID è¡¨ç¤ºæ¯ä¸ªæ•°æ®è¡Œçš„æœ€æ–°çš„äº‹åŠ¡IDï¼›up_limit_idè¡¨ç¤ºå½“å‰å¿«ç…§ä¸­çš„æœ€å…ˆå¼€å§‹çš„äº‹åŠ¡ï¼›low_limit_idè¡¨ç¤ºå½“å‰å¿«ç…§ä¸­çš„æœ€æ…¢å¼€å§‹çš„äº‹åŠ¡ï¼Œå³æœ€åä¸€ä¸ªäº‹åŠ¡ã€‚ å¦‚æœDATA_TRX_ID \u003c up_limit_idï¼šè¯´æ˜åœ¨åˆ›å»ºread viewæ—¶ï¼Œä¿®æ”¹è¯¥æ•°æ®è¡Œçš„äº‹åŠ¡å·²æäº¤ï¼Œè¯¥ç‰ˆæœ¬çš„è®°å½•å¯è¢«å½“å‰äº‹åŠ¡è¯»å–åˆ°ã€‚ å¦‚æœDATA_TRX_ID \u003e= low_limit_idï¼šè¯´æ˜å½“å‰ç‰ˆæœ¬çš„è®°å½•çš„äº‹åŠ¡æ˜¯åœ¨åˆ›å»ºread viewä¹‹åç”Ÿæˆçš„ï¼Œè¯¥ç‰ˆæœ¬çš„æ•°æ®è¡Œä¸å¯ä»¥è¢«å½“å‰äº‹åŠ¡è®¿é—®ã€‚æ­¤æ—¶éœ€è¦é€šè¿‡ç‰ˆæœ¬é“¾æ‰¾åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œç„¶åé‡æ–°åˆ¤æ–­è¯¥ç‰ˆæœ¬çš„è®°å½•å¯¹å½“å‰äº‹åŠ¡çš„å¯è§æ€§ã€‚ å¦‚æœup_limit_id \u003c= DATA_TRX_ID \u003c low_limit_iï¼š éœ€è¦åœ¨æ´»è·ƒäº‹åŠ¡é“¾è¡¨ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨IDä¸ºDATA_TRX_IDçš„å€¼çš„äº‹åŠ¡ã€‚ å¦‚æœå­˜åœ¨ï¼Œå› ä¸ºåœ¨æ´»è·ƒäº‹åŠ¡é“¾è¡¨ä¸­çš„äº‹åŠ¡æ˜¯æœªæäº¤çš„ï¼Œæ‰€ä»¥è¯¥è®°å½•æ˜¯ä¸å¯è§çš„ã€‚æ­¤æ—¶éœ€è¦é€šè¿‡ç‰ˆæœ¬é“¾æ‰¾åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œç„¶åé‡æ–°åˆ¤æ–­è¯¥ç‰ˆæœ¬çš„å¯è§æ€§ã€‚ å¦‚æœä¸å­˜åœ¨ï¼Œè¯´æ˜äº‹åŠ¡trx_id å·²ç»æäº¤äº†ï¼Œè¿™è¡Œè®°å½•æ˜¯å¯è§çš„ã€‚ æ€»ç»“ï¼šInnoDB çš„MVCCæ˜¯é€šè¿‡ read view å’Œç‰ˆæœ¬é“¾å®ç°çš„ï¼Œç‰ˆæœ¬é“¾ä¿å­˜æœ‰å†å²ç‰ˆæœ¬è®°å½•ï¼Œé€šè¿‡read view åˆ¤æ–­å½“å‰ç‰ˆæœ¬çš„æ•°æ®æ˜¯å¦å¯è§ï¼Œå¦‚æœä¸å¯è§ï¼Œå†ä»ç‰ˆæœ¬é“¾ä¸­æ‰¾åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œç»§ç»­è¿›è¡Œåˆ¤æ–­ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¯è§çš„ç‰ˆæœ¬ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:7:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#mvcc-å®ç°åŸç†"},{"categories":null,"content":"å¿«ç…§è¯»å’Œå½“å‰è¯»è¡¨è®°å½•æœ‰ä¸¤ç§è¯»å–æ–¹å¼ã€‚ å¿«ç…§è¯»ï¼šè¯»å–çš„æ˜¯å¿«ç…§ç‰ˆæœ¬ã€‚æ™®é€šçš„SELECTå°±æ˜¯å¿«ç…§è¯»ã€‚é€šè¿‡mvccæ¥è¿›è¡Œå¹¶å‘æ§åˆ¶çš„ï¼Œä¸ç”¨åŠ é”ã€‚ å½“å‰è¯»ï¼šè¯»å–çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚UPDATEã€DELETEã€INSERTã€SELECT â€¦ LOCK IN SHARE MODEã€SELECT â€¦ FOR UPDATEæ˜¯å½“å‰è¯»ã€‚ å¿«ç…§è¯»æƒ…å†µä¸‹ï¼ŒInnoDBé€šè¿‡mvccæœºåˆ¶é¿å…äº†å¹»è¯»ç°è±¡ã€‚è€Œmvccæœºåˆ¶æ— æ³•é¿å…å½“å‰è¯»æƒ…å†µä¸‹å‡ºç°çš„å¹»è¯»ç°è±¡ã€‚å› ä¸ºå½“å‰è¯»æ¯æ¬¡è¯»å–çš„éƒ½æ˜¯æœ€æ–°æ•°æ®ï¼Œè¿™æ—¶å¦‚æœä¸¤æ¬¡æŸ¥è¯¢ä¸­é—´æœ‰å…¶å®ƒäº‹åŠ¡æ’å…¥æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¹»è¯»ã€‚ ä¸‹é¢ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸‹ï¼š 1ã€é¦–å…ˆï¼Œuserè¡¨åªæœ‰ä¸¤æ¡è®°å½•ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 2ã€äº‹åŠ¡aå’Œäº‹åŠ¡båŒæ—¶å¼€å¯äº‹åŠ¡start transactionï¼› 3ã€äº‹åŠ¡aæ’å…¥æ•°æ®ç„¶åæäº¤ï¼› insert into user(user_name, user_password, user_mail, user_state) values(â€˜tysonâ€™, â€˜aâ€™, â€˜aâ€™, 0); 4ã€äº‹åŠ¡bæ‰§è¡Œå…¨è¡¨çš„updateï¼› update user set user_name = â€˜aâ€™; 5ã€äº‹åŠ¡bç„¶åæ‰§è¡ŒæŸ¥è¯¢ï¼ŒæŸ¥åˆ°äº†äº‹åŠ¡aä¸­æ’å…¥çš„æ•°æ®ã€‚ï¼ˆä¸‹å›¾å·¦è¾¹æ˜¯äº‹åŠ¡bï¼Œå³è¾¹æ˜¯äº‹åŠ¡aã€‚äº‹åŠ¡å¼€å§‹ä¹‹å‰åªæœ‰ä¸¤æ¡è®°å½•ï¼Œäº‹åŠ¡aæ’å…¥ä¸€æ¡æ•°æ®ä¹‹åï¼Œäº‹åŠ¡bæŸ¥è¯¢å‡ºæ¥æ˜¯ä¸‰æ¡æ•°æ®ï¼‰ ä»¥ä¸Šå°±æ˜¯å½“å‰è¯»å‡ºç°çš„å¹»è¯»ç°è±¡ã€‚ é‚£ä¹ˆMySQLæ˜¯å¦‚ä½•é¿å…å¹»è¯»ï¼Ÿ åœ¨å¿«ç…§è¯»æƒ…å†µä¸‹ï¼ŒMySQLé€šè¿‡mvccæ¥é¿å…å¹»è¯»ã€‚ åœ¨å½“å‰è¯»æƒ…å†µä¸‹ï¼ŒMySQLé€šè¿‡next-keyæ¥é¿å…å¹»è¯»ï¼ˆåŠ è¡Œé”å’Œé—´éš™é”æ¥å®ç°çš„ï¼‰ã€‚ next-keyåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼šè¡Œé”å’Œé—´éš™é”ã€‚è¡Œé”æ˜¯åŠ åœ¨ç´¢å¼•ä¸Šçš„é”ï¼Œé—´éš™é”æ˜¯åŠ åœ¨ç´¢å¼•ä¹‹é—´çš„ã€‚ Serializableéš”ç¦»çº§åˆ«ä¹Ÿå¯ä»¥é¿å…å¹»è¯»ï¼Œä¼šé”ä½æ•´å¼ è¡¨ï¼Œå¹¶å‘æ€§æä½ï¼Œä¸€èˆ¬ä¸ä¼šä½¿ç”¨ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:8:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#å¿«ç…§è¯»å’Œå½“å‰è¯»"},{"categories":null,"content":"å…±äº«é”å’Œæ’ä»–é”SELECT çš„è¯»å–é”å®šä¸»è¦åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼šå…±äº«é”å’Œæ’ä»–é”ã€‚ select * from table where id\u003c6 lock in share mode;â€“å…±äº«é” select * from table where id\u003c6 for update;â€“æ’ä»–é” è¿™ä¸¤ç§æ–¹å¼ä¸»è¦çš„ä¸åŒåœ¨äºLOCK IN SHARE MODEå¤šä¸ªäº‹åŠ¡åŒæ—¶æ›´æ–°åŒä¸€ä¸ªè¡¨å•æ—¶å¾ˆå®¹æ˜“é€ æˆæ­»é”ã€‚ ç”³è¯·æ’ä»–é”çš„å‰ææ˜¯ï¼Œæ²¡æœ‰çº¿ç¨‹å¯¹è¯¥ç»“æœé›†çš„ä»»ä½•è¡Œæ•°æ®ä½¿ç”¨æ’å®ƒé”æˆ–è€…å…±äº«é”ï¼Œå¦åˆ™ç”³è¯·ä¼šå—åˆ°é˜»å¡ã€‚åœ¨è¿›è¡Œäº‹åŠ¡æ“ä½œæ—¶ï¼ŒMySQLä¼šå¯¹æŸ¥è¯¢ç»“æœé›†çš„æ¯è¡Œæ•°æ®æ·»åŠ æ’å®ƒé”ï¼Œå…¶ä»–çº¿ç¨‹å¯¹è¿™äº›æ•°æ®çš„æ›´æ”¹æˆ–åˆ é™¤æ“ä½œä¼šè¢«é˜»å¡ï¼ˆåªèƒ½è¯»æ“ä½œï¼‰ï¼Œç›´åˆ°è¯¥è¯­å¥çš„äº‹åŠ¡è¢«commitè¯­å¥æˆ–rollbackè¯­å¥ç»“æŸä¸ºæ­¢ã€‚ SELECT... FOR UPDATE ä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼š for update ä»…é€‚ç”¨äºinnodbï¼Œä¸”å¿…é¡»åœ¨äº‹åŠ¡èŒƒå›´å†…æ‰èƒ½ç”Ÿæ•ˆã€‚ æ ¹æ®ä¸»é”®è¿›è¡ŒæŸ¥è¯¢ï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸ºlikeæˆ–è€…ä¸ç­‰äºï¼Œä¸»é”®å­—æ®µäº§ç”Ÿè¡¨é”ã€‚ æ ¹æ®éç´¢å¼•å­—æ®µè¿›è¡ŒæŸ¥è¯¢ï¼Œä¼šäº§ç”Ÿè¡¨é”ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:9:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#å…±äº«é”å’Œæ’ä»–é”"},{"categories":null,"content":"å¤§è¡¨æ€ä¹ˆä¼˜åŒ–ï¼ŸæŸä¸ªè¡¨æœ‰è¿‘åƒä¸‡æ•°æ®ï¼ŒæŸ¥è¯¢æ¯”è¾ƒæ…¢ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ å½“MySQLå•è¡¨è®°å½•æ•°è¿‡å¤§æ—¶ï¼Œæ•°æ®åº“çš„æ€§èƒ½ä¼šæ˜æ˜¾ä¸‹é™ï¼Œä¸€äº›å¸¸è§çš„ä¼˜åŒ–æªæ–½å¦‚ä¸‹ï¼š é™å®šæ•°æ®çš„èŒƒå›´ã€‚æ¯”å¦‚ï¼šç”¨æˆ·åœ¨æŸ¥è¯¢å†å²ä¿¡æ¯çš„æ—¶å€™ï¼Œå¯ä»¥æ§åˆ¶åœ¨ä¸€ä¸ªæœˆçš„æ—¶é—´èŒƒå›´å†…ï¼› è¯»å†™åˆ†ç¦»ï¼š ç»å…¸çš„æ•°æ®åº“æ‹†åˆ†æ–¹æ¡ˆï¼Œä¸»åº“è´Ÿè´£å†™ï¼Œä»åº“è´Ÿè´£è¯»ï¼› é€šè¿‡åˆ†åº“åˆ†è¡¨çš„æ–¹å¼è¿›è¡Œä¼˜åŒ–ï¼Œä¸»è¦æœ‰å‚ç›´æ‹†åˆ†å’Œæ°´å¹³æ‹†åˆ†ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:10:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#å¤§è¡¨æ€ä¹ˆä¼˜åŒ–"},{"categories":null,"content":"bin log/redo log/undo logMySQLæ—¥å¿—ä¸»è¦åŒ…æ‹¬æŸ¥è¯¢æ—¥å¿—ã€æ…¢æŸ¥è¯¢æ—¥å¿—ã€äº‹åŠ¡æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ã€äºŒè¿›åˆ¶æ—¥å¿—ç­‰ã€‚å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ bin logï¼ˆäºŒè¿›åˆ¶æ—¥å¿—ï¼‰å’Œ redo logï¼ˆé‡åšæ—¥å¿—ï¼‰å’Œ undo logï¼ˆå›æ»šæ—¥å¿—ï¼‰ã€‚ bin log bin logæ˜¯MySQLæ•°æ®åº“çº§åˆ«çš„æ–‡ä»¶ï¼Œè®°å½•å¯¹MySQLæ•°æ®åº“æ‰§è¡Œä¿®æ”¹çš„æ‰€æœ‰æ“ä½œï¼Œä¸ä¼šè®°å½•selectå’Œshowè¯­å¥ï¼Œä¸»è¦ç”¨äºæ¢å¤æ•°æ®åº“å’ŒåŒæ­¥æ•°æ®åº“ã€‚ redo log redo logæ˜¯innodbå¼•æ“çº§åˆ«ï¼Œç”¨æ¥è®°å½•innodbå­˜å‚¨å¼•æ“çš„äº‹åŠ¡æ—¥å¿—ï¼Œä¸ç®¡äº‹åŠ¡æ˜¯å¦æäº¤éƒ½ä¼šè®°å½•ä¸‹æ¥ï¼Œç”¨äºæ•°æ®æ¢å¤ã€‚å½“æ•°æ®åº“å‘ç”Ÿæ•…éšœï¼ŒinnoDBå­˜å‚¨å¼•æ“ä¼šä½¿ç”¨redo logæ¢å¤åˆ°å‘ç”Ÿæ•…éšœå‰çš„æ—¶åˆ»ï¼Œä»¥æ­¤æ¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚å°†å‚æ•°innodb_flush_log_at_tx_commitè®¾ç½®ä¸º1ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œcommitæ—¶ä¼šå°†redo logåŒæ­¥å†™åˆ°ç£ç›˜ã€‚ undo log é™¤äº†è®°å½•redo logå¤–ï¼Œå½“è¿›è¡Œæ•°æ®ä¿®æ”¹æ—¶è¿˜ä¼šè®°å½•undo logï¼Œundo logç”¨äºæ•°æ®çš„æ’¤å›æ“ä½œï¼Œå®ƒä¿ç•™äº†è®°å½•ä¿®æ”¹å‰çš„å†…å®¹ã€‚é€šè¿‡undo logå¯ä»¥å®ç°äº‹åŠ¡å›æ»šï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®undo logå›æº¯åˆ°æŸä¸ªç‰¹å®šçš„ç‰ˆæœ¬çš„æ•°æ®ï¼Œå®ç°MVCCã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:11:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#bin-logredo-logundo-log"},{"categories":null,"content":"bin logå’Œredo logæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ bin logä¼šè®°å½•æ‰€æœ‰æ—¥å¿—è®°å½•ï¼ŒåŒ…æ‹¬InnoDBã€MyISAMç­‰å­˜å‚¨å¼•æ“çš„æ—¥å¿—ï¼›redo logåªè®°å½•innoDBè‡ªèº«çš„äº‹åŠ¡æ—¥å¿—ã€‚ bin logåªåœ¨äº‹åŠ¡æäº¤å‰å†™å…¥åˆ°ç£ç›˜ï¼Œä¸€ä¸ªäº‹åŠ¡åªå†™ä¸€æ¬¡ï¼›è€Œåœ¨äº‹åŠ¡è¿›è¡Œè¿‡ç¨‹ï¼Œä¼šæœ‰redo logä¸æ–­å†™å…¥ç£ç›˜ã€‚ bin logæ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯SQLè¯­å¥çš„åŸå§‹é€»è¾‘ï¼›redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯åœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:12:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#bin-logå’Œredo-logæœ‰ä»€ä¹ˆåŒºåˆ«"},{"categories":null,"content":"è®²ä¸€ä¸‹MySQLæ¶æ„ï¼ŸMySQLä¸»è¦åˆ†ä¸º Server å±‚å’Œå­˜å‚¨å¼•æ“å±‚ï¼š Server å±‚ï¼šä¸»è¦åŒ…æ‹¬è¿æ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ç­‰ï¼Œæ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚å®ç°ï¼Œæ¯”å¦‚å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€è§†å›¾ï¼Œå‡½æ•°ç­‰ï¼Œè¿˜æœ‰ä¸€ä¸ªé€šç”¨çš„æ—¥å¿—æ¨¡å— binglog æ—¥å¿—æ¨¡å—ã€‚ å­˜å‚¨å¼•æ“ï¼š ä¸»è¦è´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œè¯»å–ã€‚server å±‚é€šè¿‡apiä¸å­˜å‚¨å¼•æ“è¿›è¡Œé€šä¿¡ã€‚ Server å±‚åŸºæœ¬ç»„ä»¶ è¿æ¥å™¨ï¼š å½“å®¢æˆ·ç«¯è¿æ¥ MySQL æ—¶ï¼Œserverå±‚ä¼šå¯¹å…¶è¿›è¡Œèº«ä»½è®¤è¯å’Œæƒé™æ ¡éªŒã€‚ æŸ¥è¯¢ç¼“å­˜: æ‰§è¡ŒæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ï¼Œä¼šå…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œå…ˆæ ¡éªŒè¿™ä¸ª sql æ˜¯å¦æ‰§è¡Œè¿‡ï¼Œå¦‚æœæœ‰ç¼“å­˜è¿™ä¸ª sqlï¼Œå°±ä¼šç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå¦‚æœæ²¡æœ‰å‘½ä¸­ï¼Œå°±ä¼šæ‰§è¡Œåç»­çš„æ“ä½œã€‚ åˆ†æå™¨: æ²¡æœ‰å‘½ä¸­ç¼“å­˜çš„è¯ï¼ŒSQL è¯­å¥å°±ä¼šç»è¿‡åˆ†æå™¨ï¼Œä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼Œè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œå…ˆçœ‹ SQL è¯­å¥è¦åšä»€ä¹ˆï¼Œå†æ£€æŸ¥ SQL è¯­å¥è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚ ä¼˜åŒ–å™¨ï¼š ä¼˜åŒ–å™¨å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼ŒåŒ…æ‹¬é‡å†™æŸ¥è¯¢ã€å†³å®šè¡¨çš„è¯»å†™é¡ºåºä»¥åŠé€‰æ‹©åˆé€‚çš„ç´¢å¼•ç­‰ï¼Œç”Ÿæˆæ‰§è¡Œè®¡åˆ’ã€‚ æ‰§è¡Œå™¨ï¼š é¦–å…ˆæ‰§è¡Œå‰ä¼šæ ¡éªŒè¯¥ç”¨æˆ·æœ‰æ²¡æœ‰æƒé™ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œå°±ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœæœ‰æƒé™ï¼Œå°±ä¼šæ ¹æ®æ‰§è¡Œè®¡åˆ’å»è°ƒç”¨å¼•æ“çš„æ¥å£ï¼Œè¿”å›ç»“æœã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:13:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#è®²ä¸€ä¸‹mysqlæ¶æ„"},{"categories":null,"content":"åˆ†åº“åˆ†è¡¨å½“å•è¡¨çš„æ•°æ®é‡è¾¾åˆ°1000Wæˆ–100Gä»¥åï¼Œä¼˜åŒ–ç´¢å¼•ã€æ·»åŠ ä»åº“ç­‰å¯èƒ½å¯¹æ•°æ®åº“æ€§èƒ½æå‡æ•ˆæœä¸æ˜æ˜¾ï¼Œæ­¤æ—¶å°±è¦è€ƒè™‘å¯¹å…¶è¿›è¡Œåˆ‡åˆ†äº†ã€‚åˆ‡åˆ†çš„ç›®çš„å°±åœ¨äºå‡å°‘æ•°æ®åº“çš„è´Ÿæ‹…ï¼Œç¼©çŸ­æŸ¥è¯¢çš„æ—¶é—´ã€‚ æ•°æ®åˆ‡åˆ†å¯ä»¥åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼šå‚ç›´åˆ’åˆ†å’Œæ°´å¹³åˆ’åˆ†ã€‚ å‚ç›´åˆ’åˆ† å‚ç›´åˆ’åˆ†æ•°æ®åº“æ˜¯æ ¹æ®ä¸šåŠ¡è¿›è¡Œåˆ’åˆ†ï¼Œä¾‹å¦‚è´­ç‰©åœºæ™¯ï¼Œå¯ä»¥å°†åº“ä¸­æ¶‰åŠå•†å“ã€è®¢å•ã€ç”¨æˆ·çš„è¡¨åˆ†åˆ«åˆ’åˆ†å‡ºæˆä¸€ä¸ªåº“ï¼Œé€šè¿‡é™ä½å•åº“çš„å¤§å°æ¥æé«˜æ€§èƒ½ã€‚åŒæ ·çš„ï¼Œåˆ†è¡¨çš„æƒ…å†µå°±æ˜¯å°†ä¸€ä¸ªå¤§è¡¨æ ¹æ®ä¸šåŠ¡åŠŸèƒ½æ‹†åˆ†æˆä¸€ä¸ªä¸ªå­è¡¨ï¼Œä¾‹å¦‚å•†å“åŸºæœ¬ä¿¡æ¯å’Œå•†å“æè¿°ï¼Œå•†å“åŸºæœ¬ä¿¡æ¯ä¸€èˆ¬ä¼šå±•ç¤ºåœ¨å•†å“åˆ—è¡¨ï¼Œå•†å“æè¿°åœ¨å•†å“è¯¦æƒ…é¡µï¼Œå¯ä»¥å°†å•†å“åŸºæœ¬ä¿¡æ¯å’Œå•†å“æè¿°æ‹†åˆ†æˆä¸¤å¼ è¡¨ã€‚ ä¼˜ç‚¹ï¼šè¡Œè®°å½•å˜å°ï¼Œæ•°æ®é¡µå¯ä»¥å­˜æ”¾æ›´å¤šè®°å½•ï¼Œåœ¨æŸ¥è¯¢æ—¶å‡å°‘I/Oæ¬¡æ•°ã€‚ ç¼ºç‚¹ï¼š ä¸»é”®å‡ºç°å†—ä½™ï¼Œéœ€è¦ç®¡ç†å†—ä½™åˆ—ï¼› ä¼šå¼•èµ·è¡¨è¿æ¥JOINæ“ä½œï¼Œå¯ä»¥é€šè¿‡åœ¨ä¸šåŠ¡æœåŠ¡å™¨ä¸Šè¿›è¡Œjoinæ¥å‡å°‘æ•°æ®åº“å‹åŠ›ï¼› ä¾ç„¶å­˜åœ¨å•è¡¨æ•°æ®é‡è¿‡å¤§çš„é—®é¢˜ã€‚ æ°´å¹³åˆ’åˆ† æ°´å¹³åˆ’åˆ†æ˜¯æ ¹æ®ä¸€å®šè§„åˆ™ï¼Œä¾‹å¦‚æ—¶é—´æˆ–idåºåˆ—å€¼ç­‰è¿›è¡Œæ•°æ®çš„æ‹†åˆ†ã€‚æ¯”å¦‚æ ¹æ®å¹´ä»½æ¥æ‹†åˆ†ä¸åŒçš„æ•°æ®åº“ã€‚æ¯ä¸ªæ•°æ®åº“ç»“æ„ä¸€è‡´ï¼Œä½†æ˜¯æ•°æ®å¾—ä»¥æ‹†åˆ†ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚ ä¼˜ç‚¹ï¼šå•åº“ï¼ˆè¡¨ï¼‰çš„æ•°æ®é‡å¾—ä»¥å‡å°‘ï¼Œæé«˜æ€§èƒ½ï¼›åˆ‡åˆ†å‡ºçš„è¡¨ç»“æ„ç›¸åŒï¼Œç¨‹åºæ”¹åŠ¨è¾ƒå°‘ã€‚ ç¼ºç‚¹ï¼š åˆ†ç‰‡äº‹åŠ¡ä¸€è‡´æ€§éš¾ä»¥è§£å†³ è·¨èŠ‚ç‚¹joinæ€§èƒ½å·®ï¼Œé€»è¾‘å¤æ‚ æ•°æ®åˆ†ç‰‡åœ¨æ‰©å®¹æ—¶éœ€è¦è¿ç§» ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:14:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#åˆ†åº“åˆ†è¡¨"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯åˆ†åŒºè¡¨ï¼Ÿåˆ†åŒºè¡¨æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é€»è¾‘è¡¨ï¼Œä½†æ˜¯åº•å±‚ç”±å¤šä¸ªç‰©ç†å­è¡¨ç»„æˆã€‚ å½“æŸ¥è¯¢æ¡ä»¶çš„æ•°æ®åˆ†å¸ƒåœ¨æŸä¸€ä¸ªåˆ†åŒºçš„æ—¶å€™ï¼ŒæŸ¥è¯¢å¼•æ“åªä¼šå»æŸä¸€ä¸ªåˆ†åŒºæŸ¥è¯¢ï¼Œè€Œä¸æ˜¯éå†æ•´ä¸ªè¡¨ã€‚åœ¨ç®¡ç†å±‚é¢ï¼Œå¦‚æœéœ€è¦åˆ é™¤æŸä¸€ä¸ªåˆ†åŒºçš„æ•°æ®ï¼Œåªéœ€è¦åˆ é™¤å¯¹åº”çš„åˆ†åŒºå³å¯ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:15:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯åˆ†åŒºè¡¨"},{"categories":null,"content":"åˆ†åŒºè¡¨ç±»å‹æŒ‰ç…§èŒƒå›´åˆ†åŒºã€‚ CREATETABLEtest_range_partition(idINTauto_increment,createdateDATETIME,primarykey(id,createdate))PARTITIONBYRANGE(TO_DAYS(createdate))(PARTITIONp201801VALUESLESSTHAN(TO_DAYS('20180201')),PARTITIONp201802VALUESLESSTHAN(TO_DAYS('20180301')),PARTITIONp201803VALUESLESSTHAN(TO_DAYS('20180401')),PARTITIONp201804VALUESLESSTHAN(TO_DAYS('20180501')),PARTITIONp201805VALUESLESSTHAN(TO_DAYS('20180601')),PARTITIONp201806VALUESLESSTHAN(TO_DAYS('20180701')),PARTITIONp201807VALUESLESSTHAN(TO_DAYS('20180801')),PARTITIONp201808VALUESLESSTHAN(TO_DAYS('20180901')),PARTITIONp201809VALUESLESSTHAN(TO_DAYS('20181001')),PARTITIONp201810VALUESLESSTHAN(TO_DAYS('20181101')),PARTITIONp201811VALUESLESSTHAN(TO_DAYS('20181201')),PARTITIONp201812VALUESLESSTHAN(TO_DAYS('20190101')));åœ¨/var/lib/mysql/data/å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„æ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªåˆ†åŒºè¡¨éƒ½æœ‰ä¸€ä¸ªä½¿ç”¨#åˆ†éš”å‘½åçš„è¡¨æ–‡ä»¶ï¼š -rw-r----- 1 MySQL MySQL 65 Mar 14 21:47 db.opt -rw-r----- 1 MySQL MySQL 8598 Mar 14 21:50 test\\_range\\_partition.frm -rw-r----- 1 MySQL MySQL 98304 Mar 14 21:50 test\\_range\\_partition#P#p201801.ibd -rw-r----- 1 MySQL MySQL 98304 Mar 14 21:50 test\\_range\\_partition#P#p201802.ibd -rw-r----- 1 MySQL MySQL 98304 Mar 14 21:50 test\\_range\\_partition#P#p201803.ibd liståˆ†åŒº å¯¹äºListåˆ†åŒºï¼Œåˆ†åŒºå­—æ®µå¿…é¡»æ˜¯å·²çŸ¥çš„ï¼Œå¦‚æœæ’å…¥çš„å­—æ®µä¸åœ¨åˆ†åŒºæ—¶æšä¸¾å€¼ä¸­ï¼Œå°†æ— æ³•æ’å…¥ã€‚ createtabletest_list_partiotion(idintauto_increment,data_typetinyint,primarykey(id,data_type))partitionbylist(data_type)(partitionp0valuesin(0,1,2,3,4,5,6),partitionp1valuesin(7,8,9,10,11,12),partitionp2valuesin(13,14,15,16,17));hashåˆ†åŒº å¯ä»¥å°†æ•°æ®å‡åŒ€åœ°åˆ†å¸ƒåˆ°é¢„å…ˆå®šä¹‰çš„åˆ†åŒºä¸­ã€‚ createtabletest_hash_partiotion(idintauto_increment,create_datedatetime,primarykey(id,create_date))partitionbyhash(year(create_date))partitions10;","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:16:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#åˆ†åŒºè¡¨ç±»å‹"},{"categories":null,"content":"åˆ†åŒºçš„é—®é¢˜ï¼Ÿ æ‰“å¼€å’Œé”ä½æ‰€æœ‰åº•å±‚è¡¨çš„æˆæœ¬å¯èƒ½å¾ˆé«˜ã€‚å½“æŸ¥è¯¢è®¿é—®åˆ†åŒºè¡¨æ—¶ï¼ŒMySQL éœ€è¦æ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œè¿™ä¸ªæ“ä½œåœ¨åˆ†åŒºè¿‡æ»¤ä¹‹å‰å‘ç”Ÿï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡åˆ†åŒºè¿‡æ»¤æ¥é™ä½æ­¤å¼€é”€ï¼Œä¼šå½±å“åˆ°æŸ¥è¯¢é€Ÿåº¦ã€‚å¯ä»¥é€šè¿‡æ‰¹é‡æ“ä½œæ¥é™ä½æ­¤ç±»å¼€é”€ï¼Œæ¯”å¦‚æ‰¹é‡æ’å…¥ã€LOAD DATA INFILEå’Œä¸€æ¬¡åˆ é™¤å¤šè¡Œæ•°æ®ã€‚ ç»´æŠ¤åˆ†åŒºçš„æˆæœ¬å¯èƒ½å¾ˆé«˜ã€‚ä¾‹å¦‚é‡ç»„åˆ†åŒºï¼Œä¼šå…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ†åŒºï¼Œç„¶åå°†æ•°æ®å¤åˆ¶åˆ°å…¶ä¸­ï¼Œæœ€åå†åˆ é™¤åŸåˆ†åŒºã€‚ æ‰€æœ‰åˆ†åŒºå¿…é¡»ä½¿ç”¨ç›¸åŒçš„å­˜å‚¨å¼•æ“ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:17:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#åˆ†åŒºçš„é—®é¢˜"},{"categories":null,"content":"æŸ¥è¯¢è¯­å¥æ‰§è¡Œæµç¨‹ï¼ŸæŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼šæƒé™æ ¡éªŒã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æƒé™æ ¡éªŒã€æ‰§è¡Œå™¨ã€å¼•æ“ã€‚ ä¸¾ä¸ªä¾‹å­ï¼ŒæŸ¥è¯¢è¯­å¥å¦‚ä¸‹ï¼š select * from user where id \u003e 1 and name = â€˜å¤§å½¬â€™; é¦–å…ˆæ£€æŸ¥æƒé™ï¼Œæ²¡æœ‰æƒé™åˆ™è¿”å›é”™è¯¯ï¼› MySQL8.0ä»¥å‰ä¼šæŸ¥è¯¢ç¼“å­˜ï¼Œç¼“å­˜å‘½ä¸­åˆ™ç›´æ¥è¿”å›ï¼Œæ²¡æœ‰åˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ï¼› è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æã€‚æå–è¡¨åã€æŸ¥è¯¢æ¡ä»¶ï¼Œæ£€æŸ¥è¯­æ³•æ˜¯å¦æœ‰é”™è¯¯ï¼› ä¸¤ç§æ‰§è¡Œæ–¹æ¡ˆï¼Œå…ˆæŸ¥ id \u003e 1 è¿˜æ˜¯ name = 'å¤§å½¬'ï¼Œä¼˜åŒ–å™¨æ ¹æ®è‡ªå·±çš„ä¼˜åŒ–ç®—æ³•é€‰æ‹©æ‰§è¡Œæ•ˆç‡æœ€å¥½çš„æ–¹æ¡ˆï¼› æ ¡éªŒæƒé™ï¼Œæœ‰æƒé™å°±è°ƒç”¨æ•°æ®åº“å¼•æ“æ¥å£ï¼Œè¿”å›å¼•æ“çš„æ‰§è¡Œç»“æœã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:18:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#æŸ¥è¯¢è¯­å¥æ‰§è¡Œæµç¨‹"},{"categories":null,"content":"æ›´æ–°è¯­å¥æ‰§è¡Œè¿‡ç¨‹ï¼Ÿæ›´æ–°è¯­å¥æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼šåˆ†æå™¨ã€æƒé™æ ¡éªŒã€æ‰§è¡Œå™¨ã€å¼•æ“ã€redo logï¼ˆprepareçŠ¶æ€ï¼‰ã€binlogã€redo logï¼ˆcommitçŠ¶æ€ï¼‰ ä¸¾ä¸ªä¾‹å­ï¼Œæ›´æ–°è¯­å¥å¦‚ä¸‹ï¼š update user set name = â€˜å¤§å½¬â€™ where id = 1; å…ˆæŸ¥è¯¢åˆ° id ä¸º1çš„è®°å½•ï¼Œæœ‰ç¼“å­˜ä¼šä½¿ç”¨ç¼“å­˜ã€‚ æ‹¿åˆ°æŸ¥è¯¢ç»“æœï¼Œå°† name æ›´æ–°ä¸ºå¤§å½¬ï¼Œç„¶åè°ƒç”¨å¼•æ“æ¥å£ï¼Œå†™å…¥æ›´æ–°æ•°æ®ï¼Œinnodb å¼•æ“å°†æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼ŒåŒæ—¶è®°å½•redo logï¼Œæ­¤æ—¶redo logè¿›å…¥ prepareçŠ¶æ€ã€‚ æ‰§è¡Œå™¨æ”¶åˆ°é€šçŸ¥åè®°å½•binlogï¼Œç„¶åè°ƒç”¨å¼•æ“æ¥å£ï¼Œæäº¤redo logä¸ºcommitçŠ¶æ€ã€‚ æ›´æ–°å®Œæˆã€‚ ä¸ºä»€ä¹ˆè®°å½•å®Œredo logï¼Œä¸ç›´æ¥æäº¤ï¼Œè€Œæ˜¯å…ˆè¿›å…¥prepareçŠ¶æ€ï¼Ÿ å‡è®¾å…ˆå†™redo logç›´æ¥æäº¤ï¼Œç„¶åå†™binlogï¼Œå†™å®Œredo logåï¼Œæœºå™¨æŒ‚äº†ï¼Œbinlogæ—¥å¿—æ²¡æœ‰è¢«å†™å…¥ï¼Œé‚£ä¹ˆæœºå™¨é‡å¯åï¼Œè¿™å°æœºå™¨ä¼šé€šè¿‡redo logæ¢å¤æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™binlogå¹¶æ²¡æœ‰è®°å½•è¯¥æ•°æ®ï¼Œåç»­è¿›è¡Œæœºå™¨å¤‡ä»½çš„æ—¶å€™ï¼Œå°±ä¼šä¸¢å¤±è¿™ä¸€æ¡æ•°æ®ï¼ŒåŒæ—¶ä¸»ä»åŒæ­¥ä¹Ÿä¼šä¸¢å¤±è¿™ä¸€æ¡æ•°æ®ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:19:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#æ›´æ–°è¯­å¥æ‰§è¡Œè¿‡ç¨‹"},{"categories":null,"content":"existå’Œinçš„åŒºåˆ«ï¼Ÿexistsç”¨äºå¯¹å¤–è¡¨è®°å½•åšç­›é€‰ã€‚existsä¼šéå†å¤–è¡¨ï¼Œå°†å¤–æŸ¥è¯¢è¡¨çš„æ¯ä¸€è¡Œï¼Œä»£å…¥å†…æŸ¥è¯¢è¿›è¡Œåˆ¤æ–­ã€‚å½“existsé‡Œçš„æ¡ä»¶è¯­å¥èƒ½å¤Ÿè¿”å›è®°å½•è¡Œæ—¶ï¼Œæ¡ä»¶å°±ä¸ºçœŸï¼Œè¿”å›å¤–è¡¨å½“å‰è®°å½•ã€‚åä¹‹å¦‚æœexistsé‡Œçš„æ¡ä»¶è¯­å¥ä¸èƒ½è¿”å›è®°å½•è¡Œï¼Œæ¡ä»¶ä¸ºå‡ï¼Œåˆ™å¤–è¡¨å½“å‰è®°å½•è¢«ä¸¢å¼ƒã€‚ select a.\\* from A awhere exists (select 1 from B b where a.id=b.id) inæ˜¯å…ˆæŠŠåè¾¹çš„è¯­å¥æŸ¥å‡ºæ¥æ”¾åˆ°ä¸´æ—¶è¡¨ä¸­ï¼Œç„¶åéå†ä¸´æ—¶è¡¨ï¼Œå°†ä¸´æ—¶è¡¨çš„æ¯ä¸€è¡Œï¼Œä»£å…¥å¤–æŸ¥è¯¢å»æŸ¥æ‰¾ã€‚ select * from Awhere id in (select id from B) å­æŸ¥è¯¢çš„è¡¨æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œä½¿ç”¨existså¯ä»¥æœ‰æ•ˆå‡å°‘æ€»çš„å¾ªç¯æ¬¡æ•°æ¥æå‡é€Ÿåº¦ï¼›å½“å¤–æŸ¥è¯¢çš„è¡¨æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œä½¿ç”¨inå¯ä»¥æœ‰æ•ˆå‡å°‘å¯¹å¤–æŸ¥è¯¢è¡¨å¾ªç¯éå†æ¥æå‡é€Ÿåº¦ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:20:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#existå’Œinçš„åŒºåˆ«"},{"categories":null,"content":"MySQLä¸­int(10)å’Œchar(10)çš„åŒºåˆ«ï¼Ÿã€€int(10)ä¸­çš„10è¡¨ç¤ºçš„æ˜¯æ˜¾ç¤ºæ•°æ®çš„é•¿åº¦ï¼Œè€Œchar(10)è¡¨ç¤ºçš„æ˜¯å­˜å‚¨æ•°æ®çš„é•¿åº¦ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:21:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#mysqlä¸­int10å’Œchar10çš„åŒºåˆ«"},{"categories":null,"content":"truncateã€deleteä¸dropåŒºåˆ«ï¼Ÿç›¸åŒç‚¹ï¼š truncateå’Œä¸å¸¦whereå­å¥çš„deleteã€ä»¥åŠdropéƒ½ä¼šåˆ é™¤è¡¨å†…çš„æ•°æ®ã€‚ dropã€truncateéƒ½æ˜¯DDLè¯­å¥ï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰ï¼Œæ‰§è¡Œåä¼šè‡ªåŠ¨æäº¤ã€‚ ä¸åŒç‚¹ï¼š truncate å’Œ delete åªåˆ é™¤æ•°æ®ä¸åˆ é™¤è¡¨çš„ç»“æ„ï¼›drop è¯­å¥å°†åˆ é™¤è¡¨çš„ç»“æ„è¢«ä¾èµ–çš„çº¦æŸã€è§¦å‘å™¨ã€ç´¢å¼•ï¼› ä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œé€Ÿåº¦: drop \u003e truncate \u003e deleteã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:22:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#truncatedeleteä¸dropåŒºåˆ«"},{"categories":null,"content":"havingå’ŒwhereåŒºåˆ«ï¼Ÿ äºŒè€…ä½œç”¨çš„å¯¹è±¡ä¸åŒï¼Œwhereå­å¥ä½œç”¨äºè¡¨å’Œè§†å›¾ï¼Œhavingä½œç”¨äºç»„ã€‚ whereåœ¨æ•°æ®åˆ†ç»„å‰è¿›è¡Œè¿‡æ»¤ï¼Œhavingåœ¨æ•°æ®åˆ†ç»„åè¿›è¡Œè¿‡æ»¤ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:23:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#havingå’ŒwhereåŒºåˆ«"},{"categories":null,"content":"ä»€ä¹ˆæ˜¯MySQLä¸»ä»åŒæ­¥ï¼Ÿä¸»ä»åŒæ­¥ä½¿å¾—æ•°æ®å¯ä»¥ä»ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨å¤åˆ¶åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šï¼Œåœ¨å¤åˆ¶æ•°æ®æ—¶ï¼Œä¸€ä¸ªæœåŠ¡å™¨å……å½“ä¸»æœåŠ¡å™¨ï¼ˆmasterï¼‰ï¼Œå…¶ä½™çš„æœåŠ¡å™¨å……å½“ä»æœåŠ¡å™¨ï¼ˆslaveï¼‰ã€‚ å› ä¸ºå¤åˆ¶æ˜¯å¼‚æ­¥è¿›è¡Œçš„ï¼Œæ‰€ä»¥ä»æœåŠ¡å™¨ä¸éœ€è¦ä¸€ç›´è¿æ¥ç€ä¸»æœåŠ¡å™¨ï¼Œä»æœåŠ¡å™¨ç”šè‡³å¯ä»¥é€šè¿‡æ‹¨å·æ–­æ–­ç»­ç»­åœ°è¿æ¥ä¸»æœåŠ¡å™¨ã€‚é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‡å®šå¤åˆ¶æ‰€æœ‰çš„æ•°æ®åº“ï¼ŒæŸä¸ªæ•°æ®åº“ï¼Œç”šè‡³æ˜¯æŸä¸ªæ•°æ®åº“ä¸Šçš„æŸä¸ªè¡¨ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:24:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä»€ä¹ˆæ˜¯mysqlä¸»ä»åŒæ­¥"},{"categories":null,"content":"ä¸ºä»€ä¹ˆè¦åšä¸»ä»åŒæ­¥ï¼Ÿ è¯»å†™åˆ†ç¦»ï¼Œä½¿æ•°æ®åº“èƒ½æ”¯æ’‘æ›´å¤§çš„å¹¶å‘ã€‚ åœ¨ä¸»æœåŠ¡å™¨ä¸Šç”Ÿæˆå®æ—¶æ•°æ®ï¼Œè€Œåœ¨ä»æœåŠ¡å™¨ä¸Šåˆ†æè¿™äº›æ•°æ®ï¼Œä»è€Œæé«˜ä¸»æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ æ•°æ®å¤‡ä»½ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:25:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä¸ºä»€ä¹ˆè¦åšä¸»ä»åŒæ­¥"},{"categories":null,"content":"ä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯ä»€ä¹ˆï¼Ÿæ•°æ®åº“ä¸­çš„å¹¶å‘æ§åˆ¶æ˜¯ç¡®ä¿åœ¨å¤šä¸ªäº‹åŠ¡åŒæ—¶å­˜å–æ•°æ®åº“ä¸­åŒä¸€æ•°æ®æ—¶ä¸ç ´åäº‹åŠ¡çš„éš”ç¦»æ€§å’Œç»Ÿä¸€æ€§ä»¥åŠæ•°æ®åº“çš„ç»Ÿä¸€æ€§ã€‚ä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯å¹¶å‘æ§åˆ¶ä¸»è¦é‡‡ç”¨çš„æŠ€æœ¯æ‰‹æ®µã€‚ æ‚²è§‚é”ï¼šå‡å®šä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œåœ¨æŸ¥è¯¢å®Œæ•°æ®çš„æ—¶å€™å°±æŠŠäº‹åŠ¡é”èµ·æ¥ï¼Œç›´åˆ°æäº¤äº‹åŠ¡ã€‚å®ç°æ–¹å¼ï¼šä½¿ç”¨æ•°æ®åº“ä¸­çš„é”æœºåˆ¶ã€‚ ä¹è§‚é”ï¼šå‡è®¾ä¸ä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œåªåœ¨æäº¤æ“ä½œæ—¶æ£€æŸ¥æ˜¯å¦æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹è¿‡ã€‚ç»™è¡¨å¢åŠ versionå­—æ®µï¼Œåœ¨ä¿®æ”¹æäº¤ä¹‹å‰æ£€æŸ¥versionä¸åŸæ¥å–åˆ°çš„versionå€¼æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰ï¼Œè¡¨ç¤ºæ•°æ®æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¯ä»¥æ›´æ–°ï¼Œå¦åˆ™ï¼Œæ•°æ®ä¸ºè„æ•°æ®ï¼Œä¸èƒ½æ›´æ–°ã€‚å®ç°æ–¹å¼ï¼šä¹è§‚é”ä¸€èˆ¬ä½¿ç”¨ç‰ˆæœ¬å·æœºåˆ¶æˆ–CASç®—æ³•å®ç°ã€‚ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:26:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯ä»€ä¹ˆ"},{"categories":null,"content":"ç”¨è¿‡processlistå—ï¼Ÿshow processlist æˆ– show full processlist å¯ä»¥æŸ¥çœ‹å½“å‰ MySQL æ˜¯å¦æœ‰å‹åŠ›ï¼Œæ­£åœ¨è¿è¡Œçš„SQLï¼Œæœ‰æ²¡æœ‰æ…¢SQLæ­£åœ¨æ‰§è¡Œã€‚è¿”å›å‚æ•°å¦‚ä¸‹ï¼š idï¼šçº¿ç¨‹IDï¼Œå¯ä»¥ç”¨kill idæ€æ­»æŸä¸ªçº¿ç¨‹ dbï¼šæ•°æ®åº“åç§° userï¼šæ•°æ®åº“ç”¨æˆ· hostï¼šæ•°æ®åº“å®ä¾‹çš„IP commandï¼šå½“å‰æ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯”å¦‚Sleepï¼ŒQueryï¼ŒConnectç­‰ timeï¼šæ¶ˆè€—æ—¶é—´ï¼Œå•ä½ç§’ stateï¼šæ‰§è¡ŒçŠ¶æ€ï¼Œä¸»è¦æœ‰ä»¥ä¸‹çŠ¶æ€ï¼š Sleepï¼Œçº¿ç¨‹æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€æ–°çš„è¯·æ±‚ Lockedï¼Œçº¿ç¨‹æ­£åœ¨ç­‰å¾…é” Sending dataï¼Œæ­£åœ¨å¤„ç†SELECTæŸ¥è¯¢çš„è®°å½•ï¼ŒåŒæ—¶æŠŠç»“æœå‘é€ç»™å®¢æˆ·ç«¯ Killï¼Œæ­£åœ¨æ‰§è¡Œkillè¯­å¥ï¼Œæ€æ­»æŒ‡å®šçº¿ç¨‹ Connectï¼Œä¸€ä¸ªä»èŠ‚ç‚¹è¿ä¸Šäº†ä¸»èŠ‚ç‚¹ Quitï¼Œçº¿ç¨‹æ­£åœ¨é€€å‡º Sorting for groupï¼Œæ­£åœ¨ä¸ºGROUP BYåšæ’åº Sorting for orderï¼Œæ­£åœ¨ä¸ºORDER BYåšæ’åº infoï¼šæ­£åœ¨æ‰§è¡Œçš„SQLè¯­å¥ ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:27:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#ç”¨è¿‡processlistå—"},{"categories":null,"content":"å­˜å‚¨è¿‡ç¨‹","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:28:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#å­˜å‚¨è¿‡ç¨‹"},{"categories":null,"content":"DMLã€DDLã€DCLåŒºåˆ«ä¸€ã€DML DMLï¼ˆdata manipulation languageï¼‰æ•°æ®æ“çºµè¯­è¨€ï¼š ã€€å°±æ˜¯æˆ‘ä»¬æœ€ç»å¸¸ç”¨åˆ°çš„ SELECTã€UPDATEã€INSERTã€DELETEã€‚ ä¸»è¦ç”¨æ¥å¯¹æ•°æ®åº“çš„æ•°æ®è¿›è¡Œä¸€äº›æ“ä½œã€‚ SELECTåˆ—åç§°FROMè¡¨åç§°UPDATEè¡¨åç§°SETåˆ—åç§°=æ–°å€¼WHEREåˆ—åç§°=æŸå€¼INSERTINTOtable_name(åˆ—1,åˆ—2,...)VALUES(å€¼1,å€¼2,....)DELETEFROMè¡¨åç§°WHEREåˆ—åç§°=å€¼äºŒã€DDL DDLï¼ˆdata definition languageï¼‰æ•°æ®åº“å®šä¹‰è¯­è¨€ï¼š ã€€å…¶å®å°±æ˜¯æˆ‘ä»¬åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ç”¨åˆ°çš„ä¸€äº›sqlï¼Œæ¯”å¦‚è¯´ï¼šCREATEã€ALTERã€DROPç­‰ã€‚DDLä¸»è¦æ˜¯ç”¨åœ¨å®šä¹‰æˆ–æ”¹å˜è¡¨çš„ç»“æ„ï¼Œæ•°æ®ç±»å‹ï¼Œè¡¨ä¹‹é—´çš„é“¾æ¥å’Œçº¦æŸç­‰åˆå§‹åŒ–å·¥ä½œä¸Š CREATETABLEè¡¨åç§°(åˆ—åç§°1æ•°æ®ç±»å‹,åˆ—åç§°2æ•°æ®ç±»å‹,åˆ—åç§°3æ•°æ®ç±»å‹,....)ALTERTABLEtable_nameALTERCOLUMNcolumn_namedatatypeDROPTABLEè¡¨åç§°DROPDATABASEæ•°æ®åº“åç§°ä¸‰ã€DCL DCLï¼ˆData Control Languageï¼‰æ•°æ®åº“æ§åˆ¶è¯­è¨€ï¼š ã€€æ˜¯ç”¨æ¥è®¾ç½®æˆ–æ›´æ”¹æ•°æ®åº“ç”¨æˆ·æˆ–è§’è‰²æƒé™çš„è¯­å¥ï¼ŒåŒ…æ‹¬ï¼ˆgrant,deny,revokeç­‰ï¼‰è¯­å¥ã€‚è¿™ä¸ªæ¯”è¾ƒå°‘ç”¨åˆ°ã€‚ ref https://www.nowcoder.com/discuss/837435 ","date":"2022-03-23","objectID":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/:29:0","series":null,"tags":["æ•°æ®åº“","å…«è‚¡"],"title":"Mysqlé¢è¯•é¢˜","uri":"/posts/middleware/mysql/mysql%E9%9D%A2%E8%AF%95%E9%A2%98/#dmlddldclåŒºåˆ«"},{"categories":null,"content":"ç³»ç»Ÿè°ƒç”¨åœ¨æˆ‘ä»¬è¿è¡Œçš„ç”¨æˆ·ç¨‹åºä¸­ï¼Œå‡¡æ˜¯ä¸ç³»ç»Ÿçº§åˆ«çš„èµ„æºæœ‰å…³çš„æ“ä½œï¼ˆä¾‹å¦‚æ–‡ä»¶ç®¡ç†ã€è¿›ç¨‹æ§åˆ¶ã€å†…å­˜ç®¡ç†ç­‰ï¼‰éƒ½å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ–¹å¼å‘OSæå‡ºæœåŠ¡è¯·æ±‚ï¼Œå¹¶ç”±OSä»£ä¸ºå®Œæˆ å¹³å¸¸æˆ‘é—¨çš„è¿›ç¨‹å‡ ä¹éƒ½æ˜¯ç”¨æˆ·æ€ï¼Œè¯»å–ç”¨æˆ·æ•°æ®ï¼Œå½“æ¶‰åŠåˆ°ç³»ç»Ÿæ“ä½œï¼Œè®¡ç®—æœºèµ„æºçš„æ—¶å€™å°±è¦ç”¨åˆ°ç³»ç»Ÿè°ƒç”¨äº† ç³»ç»Ÿè°ƒç”¨çš„åŠŸèƒ½ä¸å…¶ä½œç”¨ä¸€æ ·â€”â€”æ¶‰åŠè®¡ç®—æœºèµ„æºçš„æ“ä½œ è®¾å¤‡ç®¡ç†ï¼šå®Œæˆè®¾å¤‡çš„è¯·æ±‚/é‡Šæ”¾ä»¥åŠè®¾å¤‡çš„å¯åŠ¨ æ–‡ä»¶ç®¡ç†ï¼šå®Œæˆæ–‡ä»¶çš„è¯»å†™ã€åˆ é™¤ã€åˆ›å»ºç­‰åŠŸèƒ½ è¿›ç¨‹æ§åˆ¶ï¼šå®Œæˆè¿›ç¨‹çš„åˆ›å»ºã€æ’¤é”€ã€é˜»å¡ä»¥åŠå”¤é†’ç­‰åŠŸèƒ½ å†…å­˜ç®¡ç†ï¼šå®Œæˆå†…å­˜çš„åˆ†é…ã€å›æ”¶ä»¥åŠè·å–ä½œä¸šå ç”¨å†…å­˜åŒºå¤§å°å’Œåœ°å€ç­‰åŠŸèƒ½ ","date":"2022-03-18","objectID":"/posts/linux/%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-%E7%94%A8%E6%88%B7%E6%80%81%E5%92%8C%E5%86%85%E6%A0%B8%E6%80%81/:1:0","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"ç³»ç»Ÿè°ƒç”¨ ç”¨æˆ·æ€å’Œå†…æ ¸æ€","uri":"/posts/linux/%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-%E7%94%A8%E6%88%B7%E6%80%81%E5%92%8C%E5%86%85%E6%A0%B8%E6%80%81/#ç³»ç»Ÿè°ƒç”¨"},{"categories":null,"content":"è¿›ç¨‹åœ¨ç³»ç»Ÿä¸Šçš„è¿è¡Œåˆ†ä¸º2ä¸ªçº§åˆ« ç”¨æˆ·æ€ï¼ˆuser modeï¼‰ï¼šç”¨æˆ·æ€è¿è¡Œçš„è¿›ç¨‹å¯ä»¥ç›´æ¥è¯»å–ç”¨æˆ·ç¨‹åºçš„æ•°æ® å†…æ ¸æ€ï¼ˆkernel modeï¼‰ï¼šç³»ç»Ÿæ€è¿è¡Œçš„ç¨‹åºå¯ä»¥è®¿é—®è®¡ç®—æœºçš„ä»»ä½•èµ„æºï¼Œä¸å—é™åˆ¶ å¹³å¸¸æˆ‘ä»¬è¿è¡Œçš„ç¨‹åºéƒ½æ˜¯ç”¨æˆ·æ€çš„ï¼Œå¦‚æœæƒ³è¦å°†è¿›ç¨‹è¿è¡Œåœ¨ç³»ç»Ÿæ€åˆ™éœ€è¦åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨ ","date":"2022-03-18","objectID":"/posts/linux/%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-%E7%94%A8%E6%88%B7%E6%80%81%E5%92%8C%E5%86%85%E6%A0%B8%E6%80%81/:1:1","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"ç³»ç»Ÿè°ƒç”¨ ç”¨æˆ·æ€å’Œå†…æ ¸æ€","uri":"/posts/linux/%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-%E7%94%A8%E6%88%B7%E6%80%81%E5%92%8C%E5%86%85%E6%A0%B8%E6%80%81/#è¿›ç¨‹åœ¨ç³»ç»Ÿä¸Šçš„è¿è¡Œåˆ†ä¸º2ä¸ªçº§åˆ«"},{"categories":null,"content":"ç”Ÿæˆå¯†é’¥ssh-keygen -t rsa ","date":"2022-03-18","objectID":"/posts/linux/%E5%85%AC%E9%92%A5%E7%99%BB%E9%99%86/:1:0","series":null,"tags":["linux"],"title":"linux å…¬é’¥ç™»é™†","uri":"/posts/linux/%E5%85%AC%E9%92%A5%E7%99%BB%E9%99%86/#ç”Ÿæˆå¯†é’¥"},{"categories":null,"content":"ç¼–è¾‘é…ç½®æ–‡ä»¶vim /etc/ssh/sshd_config RSAAuthentication yes : å¼€å¯rsaéªŒè¯ PubkeyAuthentication yes: æ˜¯å¦ä½¿ç”¨å…¬é’¥ ","date":"2022-03-18","objectID":"/posts/linux/%E5%85%AC%E9%92%A5%E7%99%BB%E9%99%86/:2:0","series":null,"tags":["linux"],"title":"linux å…¬é’¥ç™»é™†","uri":"/posts/linux/%E5%85%AC%E9%92%A5%E7%99%BB%E9%99%86/#ç¼–è¾‘é…ç½®æ–‡ä»¶"},{"categories":null,"content":"ä¿å­˜å…¬é’¥åˆ°æœåŠ¡å™¨cat id_rsa.pub \u003e\u003e/root/.ssh/authorized_keys rootç”¨æˆ·ï¼Œä¸åŒç”¨æˆ·è·¯å¾„ä¸åŒï¼Œæ³¨æ„æƒé™ï¼Œå½“å‰ç”¨æˆ·éœ€è¦èƒ½æŸ¥çœ‹ ","date":"2022-03-18","objectID":"/posts/linux/%E5%85%AC%E9%92%A5%E7%99%BB%E9%99%86/:3:0","series":null,"tags":["linux"],"title":"linux å…¬é’¥ç™»é™†","uri":"/posts/linux/%E5%85%AC%E9%92%A5%E7%99%BB%E9%99%86/#ä¿å­˜å…¬é’¥åˆ°æœåŠ¡å™¨"},{"categories":null,"content":"Bloom Filter æ¦‚å¿µå¸ƒéš†è¿‡æ»¤å™¨ï¼ˆè‹±è¯­ï¼šBloom Filterï¼‰æ˜¯1970å¹´ç”±ä¸€ä¸ªå«å¸ƒéš†çš„å°ä¼™å­æå‡ºçš„ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶å‘é‡å’Œä¸€ç³»åˆ—éšæœºæ˜ å°„å‡½æ•°ã€‚å¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥ç”¨äºæ£€ç´¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ç©ºé—´æ•ˆç‡å’ŒæŸ¥è¯¢æ—¶é—´éƒ½è¿œè¿œè¶…è¿‡ä¸€èˆ¬çš„ç®—æ³•ï¼Œç¼ºç‚¹æ˜¯æœ‰ä¸€å®šçš„è¯¯è¯†åˆ«ç‡å’Œåˆ é™¤å›°éš¾ã€‚ é¢è¯•å…³è”ï¼šä¸€èˆ¬éƒ½ä¼šåœ¨å›ç­”ç¼“å­˜ç©¿é€ï¼Œæˆ–è€…æµ·é‡æ•°æ®å»é‡è¿™ä¸ªæ—¶å€™å¼•å‡ºæ¥ï¼ŒåŠ åˆ†é¡¹å“Ÿ ","date":"2022-03-18","objectID":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/:0:0","series":null,"tags":["redis"],"title":"å¸ƒéš†è¿‡æ»¤å™¨(BloomFilter)","uri":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/#bloom-filter-æ¦‚å¿µ"},{"categories":null,"content":"Bloom Filter åŸç†å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†æ˜¯ï¼Œå½“ä¸€ä¸ªå…ƒç´ è¢«åŠ å…¥é›†åˆæ—¶ï¼Œé€šè¿‡Kä¸ªæ•£åˆ—å‡½æ•°å°†è¿™ä¸ªå…ƒç´ æ˜ å°„æˆä¸€ä¸ªä½æ•°ç»„ä¸­çš„Kä¸ªç‚¹ï¼ŒæŠŠå®ƒä»¬ç½®ä¸º1ã€‚æ£€ç´¢æ—¶ï¼Œæˆ‘ä»¬åªè¦çœ‹çœ‹è¿™äº›ç‚¹æ˜¯ä¸æ˜¯éƒ½æ˜¯1å°±ï¼ˆå¤§çº¦ï¼‰çŸ¥é“é›†åˆä¸­æœ‰æ²¡æœ‰å®ƒäº†ï¼šå¦‚æœè¿™äº›ç‚¹æœ‰ä»»ä½•ä¸€ä¸ª0ï¼Œåˆ™è¢«æ£€å…ƒç´ ä¸€å®šä¸åœ¨ï¼›å¦‚æœéƒ½æ˜¯1ï¼Œåˆ™è¢«æ£€å…ƒç´ å¾ˆå¯èƒ½åœ¨ã€‚è¿™å°±æ˜¯å¸ƒéš†è¿‡æ»¤å™¨çš„åŸºæœ¬æ€æƒ³ã€‚ Bloom Filterè·Ÿå•å“ˆå¸Œå‡½æ•°Bit-Mapä¸åŒä¹‹å¤„åœ¨äºï¼šBloom Filterä½¿ç”¨äº†kä¸ªå“ˆå¸Œå‡½æ•°ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²è·Ÿkä¸ªbitå¯¹åº”ã€‚ä»è€Œé™ä½äº†å†²çªçš„æ¦‚ç‡ã€‚ ç®€å•çš„è¯´ä¸€ä¸‹å°±æ˜¯æˆ‘ä»¬å…ˆæŠŠæˆ‘ä»¬æ•°æ®åº“çš„æ•°æ®éƒ½åŠ è½½åˆ°æˆ‘ä»¬çš„è¿‡æ»¤å™¨ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“çš„idç°åœ¨æœ‰ï¼š1ã€2ã€3 é‚£å°±ç”¨idï¼š1 ä¸ºä¾‹å­ä»–åœ¨ä¸Šå›¾ä¸­ç»è¿‡ä¸‰æ¬¡hashä¹‹åï¼ŒæŠŠä¸‰æ¬¡åŸæœ¬å€¼0çš„åœ°æ–¹æ”¹ä¸º1 ä¸‹æ¬¡æˆ‘è¿›æ¥æŸ¥è¯¢å¦‚æœidä¹Ÿæ˜¯1 é‚£æˆ‘å°±æŠŠ1æ‹¿å»ä¸‰æ¬¡hash å‘ç°è·Ÿä¸Šé¢çš„ä¸‰ä¸ªä½ç½®å®Œå…¨ä¸€æ ·ï¼Œé‚£å°±èƒ½è¯æ˜è¿‡æ»¤å™¨ä¸­æœ‰1çš„ åä¹‹å¦‚æœä¸ä¸€æ ·å°±è¯´æ˜ä¸å­˜åœ¨äº† é‚£åº”ç”¨çš„åœºæ™¯åœ¨å“ªé‡Œå‘¢ï¼Ÿä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šç”¨æ¥é˜²æ­¢ç¼“å­˜å‡»ç©¿ï¼ˆå¦‚æœä¸çŸ¥é“ç¼“å­˜å‡»ç©¿æ˜¯å•¥çš„å°ä¼™ä¼´ä¸è¦ç€æ€¥ï¼Œæˆ‘å·²ç»å¸®ä½ å‡†å¤‡å¥½äº†ï¼Œä¼ é€é—¨ â†“ ï¼‰ ç®€å•æ¥è¯´å°±æ˜¯ä½ æ•°æ®åº“çš„idéƒ½æ˜¯1å¼€å§‹ç„¶åè‡ªå¢çš„ï¼Œé‚£æˆ‘çŸ¥é“ä½ æ¥å£æ˜¯é€šè¿‡idæŸ¥è¯¢çš„ï¼Œæˆ‘å°±æ‹¿è´Ÿæ•°å»æŸ¥è¯¢ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä¼šå‘ç°ç¼“å­˜é‡Œé¢æ²¡è¿™ä¸ªæ•°æ®ï¼Œæˆ‘åˆå»æ•°æ®åº“æŸ¥ä¹Ÿæ²¡æœ‰ï¼Œä¸€ä¸ªè¯·æ±‚è¿™æ ·ï¼Œ100ä¸ªï¼Œ1000ä¸ªï¼Œ10000ä¸ªå‘¢ï¼Ÿä½ çš„DBåŸºæœ¬ä¸Šå°±æ‰›ä¸ä½äº†ï¼Œå¦‚æœåœ¨ç¼“å­˜é‡Œé¢åŠ ä¸Šè¿™ä¸ªï¼Œæ˜¯ä¸æ˜¯å°±ä¸å­˜åœ¨äº†ï¼Œä½ åˆ¤æ–­æ²¡è¿™ä¸ªæ•°æ®å°±ä¸å»æŸ¥äº†ï¼Œç›´æ¥returnä¸€ä¸ªæ•°æ®ä¸ºç©ºä¸å°±å¥½äº†å˜›ã€‚ è¿™ç©æ„è¿™ä¹ˆå¥½ä½¿é‚£æœ‰å•¥ç¼ºç‚¹ä¹ˆï¼Ÿæœ‰çš„ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ ","date":"2022-03-18","objectID":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/:0:0","series":null,"tags":["redis"],"title":"å¸ƒéš†è¿‡æ»¤å™¨(BloomFilter)","uri":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/#bloom-filter-åŸç†"},{"categories":null,"content":"Bloom Filterçš„ç¼ºç‚¹bloom filterä¹‹æ‰€ä»¥èƒ½åšåˆ°åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šçš„æ•ˆç‡æ¯”è¾ƒé«˜ï¼Œæ˜¯å› ä¸ºç‰ºç‰²äº†åˆ¤æ–­çš„å‡†ç¡®ç‡ã€åˆ é™¤çš„ä¾¿åˆ©æ€§ å­˜åœ¨è¯¯åˆ¤ï¼Œå¯èƒ½è¦æŸ¥åˆ°çš„å…ƒç´ å¹¶æ²¡æœ‰åœ¨å®¹å™¨ä¸­ï¼Œä½†æ˜¯hashä¹‹åå¾—åˆ°çš„kä¸ªä½ç½®ä¸Šå€¼éƒ½æ˜¯1ã€‚å¦‚æœbloom filterä¸­å­˜å‚¨çš„æ˜¯é»‘åå•ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å»ºç«‹ä¸€ä¸ªç™½åå•æ¥å­˜å‚¨å¯èƒ½ä¼šè¯¯åˆ¤çš„å…ƒç´ ã€‚ åˆ é™¤å›°éš¾ã€‚ä¸€ä¸ªæ”¾å…¥å®¹å™¨çš„å…ƒç´ æ˜ å°„åˆ°bitæ•°ç»„çš„kä¸ªä½ç½®ä¸Šæ˜¯1ï¼Œåˆ é™¤çš„æ—¶å€™ä¸èƒ½ç®€å•çš„ç›´æ¥ç½®ä¸º0ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–å…ƒç´ çš„åˆ¤æ–­ã€‚å¯ä»¥é‡‡ç”¨Counting Bloom Filter ","date":"2022-03-18","objectID":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/:0:0","series":null,"tags":["redis"],"title":"å¸ƒéš†è¿‡æ»¤å™¨(BloomFilter)","uri":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/#bloom-filterçš„ç¼ºç‚¹"},{"categories":null,"content":"Bloom Filter å®ç°å¸ƒéš†è¿‡æ»¤å™¨æœ‰è®¸å¤šå®ç°ä¸ä¼˜åŒ–ï¼ŒGuavaä¸­å°±æä¾›äº†ä¸€ç§Bloom Filterçš„å®ç°ã€‚ åœ¨ä½¿ç”¨bloom filteræ—¶ï¼Œç»•ä¸è¿‡çš„ä¸¤ç‚¹æ˜¯é¢„ä¼°æ•°æ®é‡nä»¥åŠæœŸæœ›çš„è¯¯åˆ¤ç‡fppï¼Œ åœ¨å®ç°bloom filteræ—¶ï¼Œç»•ä¸è¿‡çš„ä¸¤ç‚¹å°±æ˜¯hashå‡½æ•°çš„é€‰å–ä»¥åŠbitæ•°ç»„çš„å¤§å°ã€‚ å¯¹äºä¸€ä¸ªç¡®å®šçš„åœºæ™¯ï¼Œæˆ‘ä»¬é¢„ä¼°è¦å­˜çš„æ•°æ®é‡ä¸ºnï¼ŒæœŸæœ›çš„è¯¯åˆ¤ç‡ä¸ºfppï¼Œç„¶åéœ€è¦è®¡ç®—æˆ‘ä»¬éœ€è¦çš„Bitæ•°ç»„çš„å¤§å°mï¼Œä»¥åŠhashå‡½æ•°çš„ä¸ªæ•°kï¼Œå¹¶é€‰æ‹©hashå‡½æ•° ","date":"2022-03-18","objectID":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/:0:0","series":null,"tags":["redis"],"title":"å¸ƒéš†è¿‡æ»¤å™¨(BloomFilter)","uri":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/#bloom-filter-å®ç°"},{"categories":null,"content":"(1)Bitæ•°ç»„å¤§å°é€‰æ‹©ã€€æ ¹æ®é¢„ä¼°æ•°æ®é‡nä»¥åŠè¯¯åˆ¤ç‡fppï¼Œbitæ•°ç»„å¤§å°çš„mçš„è®¡ç®—æ–¹å¼ï¼š ","date":"2022-03-18","objectID":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/:1:0","series":null,"tags":["redis"],"title":"å¸ƒéš†è¿‡æ»¤å™¨(BloomFilter)","uri":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/#1bitæ•°ç»„å¤§å°é€‰æ‹©"},{"categories":null,"content":"(2)å“ˆå¸Œå‡½æ•°é€‰æ‹©â€‹ ç”±é¢„ä¼°æ•°æ®é‡nä»¥åŠbitæ•°ç»„é•¿åº¦mï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªhashå‡½æ•°çš„ä¸ªæ•°kï¼š â€‹ å“ˆå¸Œå‡½æ•°çš„é€‰æ‹©å¯¹æ€§èƒ½çš„å½±å“åº”è¯¥æ˜¯å¾ˆå¤§çš„ï¼Œä¸€ä¸ªå¥½çš„å“ˆå¸Œå‡½æ•°è¦èƒ½è¿‘ä¼¼ç­‰æ¦‚ç‡çš„å°†å­—ç¬¦ä¸²æ˜ å°„åˆ°å„ä¸ªBitã€‚é€‰æ‹©kä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•°æ¯”è¾ƒéº»çƒ¦ï¼Œä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯é€‰æ‹©ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œç„¶åé€å…¥kä¸ªä¸åŒçš„å‚æ•°ã€‚ å“ˆå¸Œå‡½æ•°ä¸ªæ•°kã€ä½æ•°ç»„å¤§å°mã€åŠ å…¥çš„å­—ç¬¦ä¸²æ•°é‡nçš„å…³ç³»å¯ä»¥å‚è€ƒBloom Filters - the mathï¼ŒBloom_filter-wikipedia è¦ä½¿ç”¨BloomFilterï¼Œéœ€è¦å¼•å…¥guavaåŒ…ï¼š \u003cdependency\u003e \u003cgroupId\u003ecom.google.guava\u003c/groupId\u003e \u003cartifactId\u003eguava\u003c/artifactId\u003e \u003cversion\u003e23.0\u003c/version\u003e \u003c/dependency\u003e æµ‹è¯•åˆ†ä¸¤æ­¥ï¼š 1ã€å¾€è¿‡æ»¤å™¨ä¸­æ”¾ä¸€ç™¾ä¸‡ä¸ªæ•°ï¼Œç„¶åå»éªŒè¯è¿™ä¸€ç™¾ä¸‡ä¸ªæ•°æ˜¯å¦èƒ½é€šè¿‡è¿‡æ»¤å™¨ 2ã€å¦å¤–æ‰¾ä¸€ä¸‡ä¸ªæ•°ï¼Œå»æ£€éªŒæ¼ç½‘ä¹‹é±¼çš„æ•°é‡ /** * æµ‹è¯•å¸ƒéš†è¿‡æ»¤å™¨(å¯ç”¨äºredisç¼“å­˜ç©¿é€) * * @author æ•–ä¸™ */ public class TestBloomFilter { private static int total = 1000000; private static BloomFilter\u003cInteger\u003e bf = BloomFilter.create(Funnels.integerFunnel(), total); // private static BloomFilter\u003cInteger\u003e bf = BloomFilter.create(Funnels.integerFunnel(), total, 0.001); public static void main(String[] args) { // åˆå§‹åŒ–1000000æ¡æ•°æ®åˆ°è¿‡æ»¤å™¨ä¸­ for (int i = 0; i \u003c total; i++) { bf.put(i); } // åŒ¹é…å·²åœ¨è¿‡æ»¤å™¨ä¸­çš„å€¼ï¼Œæ˜¯å¦æœ‰åŒ¹é…ä¸ä¸Šçš„ for (int i = 0; i \u003c total; i++) { if (!bf.mightContain(i)) { System.out.println(\"æœ‰åäººé€ƒè„±äº†~~~\"); } } // åŒ¹é…ä¸åœ¨è¿‡æ»¤å™¨ä¸­çš„10000ä¸ªå€¼ï¼Œæœ‰å¤šå°‘åŒ¹é…å‡ºæ¥ int count = 0; for (int i = total; i \u003c total + 10000; i++) { if (bf.mightContain(i)) { count++; } } System.out.println(\"è¯¯ä¼¤çš„æ•°é‡ï¼š\" + count); } } è¿è¡Œç»“æœï¼š è¿è¡Œç»“æœè¡¨ç¤ºï¼Œéå†è¿™ä¸€ç™¾ä¸‡ä¸ªåœ¨è¿‡æ»¤å™¨ä¸­çš„æ•°æ—¶ï¼Œéƒ½è¢«è¯†åˆ«å‡ºæ¥äº†ã€‚ä¸€ä¸‡ä¸ªä¸åœ¨è¿‡æ»¤å™¨ä¸­çš„æ•°ï¼Œè¯¯ä¼¤äº†320ä¸ªï¼Œé”™è¯¯ç‡æ˜¯0.03å·¦å³ã€‚ çœ‹ä¸‹BloomFilterçš„æºç ï¼š public static \u003cT\u003e BloomFilter\u003cT\u003e create(Funnel\u003c? super T\u003e funnel, int expectedInsertions) { return create(funnel, (long) expectedInsertions); } public static \u003cT\u003e BloomFilter\u003cT\u003e create(Funnel\u003c? super T\u003e funnel, long expectedInsertions) { return create(funnel, expectedInsertions, 0.03); // FYI, for 3%, we always get 5 hash functions } public static \u003cT\u003e BloomFilter\u003cT\u003e create( Funnel\u003c? super T\u003e funnel, long expectedInsertions, double fpp) { return create(funnel, expectedInsertions, fpp, BloomFilterStrategies.MURMUR128_MITZ_64); } static \u003cT\u003e BloomFilter\u003cT\u003e create( Funnel\u003c? super T\u003e funnel, long expectedInsertions, double fpp, Strategy strategy) { ...... } BloomFilterä¸€å…±å››ä¸ªcreateæ–¹æ³•ï¼Œä¸è¿‡æœ€ç»ˆéƒ½æ˜¯èµ°å‘ç¬¬å››ä¸ªã€‚çœ‹ä¸€ä¸‹æ¯ä¸ªå‚æ•°çš„å«ä¹‰ï¼š funnelï¼šæ•°æ®ç±»å‹(ä¸€èˆ¬æ˜¯è°ƒç”¨Funnelså·¥å…·ç±»ä¸­çš„) expectedInsertionsï¼šæœŸæœ›æ’å…¥çš„å€¼çš„ä¸ªæ•° fpp é”™è¯¯ç‡(é»˜è®¤å€¼ä¸º0.03) strategy å“ˆå¸Œç®—æ³•(æˆ‘ä¹Ÿä¸æ‡‚å•¥æ„æ€)Bloom Filterçš„åº”ç”¨ åœ¨æœ€åä¸€ä¸ªcreateæ–¹æ³•ä¸­ï¼Œè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼š ä¸Šé¢çš„numBitsï¼Œè¡¨ç¤ºå­˜ä¸€ç™¾ä¸‡ä¸ªintç±»å‹æ•°å­—ï¼Œéœ€è¦çš„ä½æ•°ä¸º7298440ï¼Œ700å¤šä¸‡ä½ã€‚ç†è®ºä¸Šå­˜ä¸€ç™¾ä¸‡ä¸ªæ•°ï¼Œä¸€ä¸ªintæ˜¯4å­—èŠ‚32ä½ï¼Œéœ€è¦481000000=3200ä¸‡ä½ã€‚å¦‚æœä½¿ç”¨HashMapå»å­˜ï¼ŒæŒ‰HashMap50%çš„å­˜å‚¨æ•ˆç‡ï¼Œéœ€è¦6400ä¸‡ä½ã€‚å¯ä»¥çœ‹å‡ºBloomFilterçš„å­˜å‚¨ç©ºé—´å¾ˆå°ï¼Œåªæœ‰HashMapçš„1/10å·¦å³ ä¸Šé¢çš„numHashFunctionsï¼Œè¡¨ç¤ºéœ€è¦5ä¸ªå‡½æ•°å»å­˜è¿™äº›æ•°å­— ä½¿ç”¨ç¬¬ä¸‰ä¸ªcreateæ–¹æ³•ï¼Œæˆ‘ä»¬è®¾ç½®ä¸‹é”™è¯¯ç‡ï¼š private static BloomFilter\u003cInteger\u003e bf = BloomFilter.create(Funnels.integerFunnel(), total, 0.0003); å†è¿è¡Œçœ‹çœ‹ï¼š æ­¤æ—¶è¯¯ä¼¤çš„æ•°é‡ä¸º4ï¼Œé”™è¯¯ç‡ä¸º0.04%å·¦å³ã€‚ å½“é”™è¯¯ç‡è®¾ä¸º0.0003æ—¶ï¼Œæ‰€éœ€è¦çš„ä½æ•°ä¸º16883499ï¼Œ1600ä¸‡ä½ï¼Œéœ€è¦12ä¸ªå‡½æ•° å’Œä¸Šé¢å¯¹æ¯”å¯ä»¥çœ‹å‡ºï¼Œé”™è¯¯ç‡è¶Šå¤§ï¼Œæ‰€éœ€ç©ºé—´å’Œæ—¶é—´è¶Šå°ï¼Œé”™è¯¯ç‡è¶Šå°ï¼Œæ‰€éœ€ç©ºé—´å’Œæ—¶é—´çº¦å¤§ å¸¸è§çš„å‡ ä¸ªåº”ç”¨åœºæ™¯ï¼š cerberusåœ¨æ”¶é›†ç›‘æ§æ•°æ®çš„æ—¶å€™, æœ‰çš„ç³»ç»Ÿçš„ç›‘æ§é¡¹é‡ä¼šå¾ˆå¤§, éœ€è¦æ£€æŸ¥ä¸€ä¸ªç›‘æ§é¡¹çš„åå­—æ˜¯å¦å·²ç»è¢«è®°å½•åˆ°dbè¿‡äº†, å¦‚æœæ²¡æœ‰çš„è¯å°±éœ€è¦å†™å…¥db. çˆ¬è™«è¿‡æ»¤å·²æŠ“åˆ°çš„urlå°±ä¸å†æŠ“ï¼Œå¯ç”¨bloom filterè¿‡æ»¤ åƒåœ¾é‚®ä»¶è¿‡æ»¤ã€‚å¦‚æœç”¨å“ˆå¸Œè¡¨ï¼Œæ¯å­˜å‚¨ä¸€äº¿ä¸ª emailåœ°å€ï¼Œå°±éœ€è¦ 1.6GBçš„å†…å­˜ï¼ˆç”¨å“ˆå¸Œè¡¨å®ç°çš„å…·ä½“åŠæ³•æ˜¯å°†æ¯ä¸€ä¸ª emailåœ°å€å¯¹åº”æˆä¸€ä¸ªå…«å­—èŠ‚çš„ä¿¡æ¯æŒ‡çº¹ï¼Œç„¶åå°†è¿™äº›ä¿¡æ¯æŒ‡çº¹å­˜å…¥å“ˆå¸Œè¡¨ï¼Œç”±äºå“ˆå¸Œè¡¨çš„å­˜å‚¨æ•ˆç‡ä¸€èˆ¬åªæœ‰ 50%ï¼Œå› æ­¤ä¸€ä¸ª emailåœ°å€éœ€è¦å ç”¨åå…­ä¸ªå­—èŠ‚ã€‚ä¸€äº¿ä¸ªåœ°å€å¤§çº¦è¦ 1.6GBï¼Œå³åå…­äº¿å­—èŠ‚çš„å†…å­˜ï¼‰ã€‚å› æ­¤å­˜è´®å‡ åäº¿ä¸ªé‚®ä»¶åœ°å€å¯èƒ½éœ€è¦ä¸Šç™¾ GBçš„å†…å­˜ã€‚è€ŒBloom Filteråªéœ€è¦å“ˆå¸Œè¡¨ 1/8åˆ° 1/4 çš„å¤§å°å°±èƒ½è§£å†³åŒæ ·çš„é—®é¢˜ã€‚ è§‰å¾—æœ‰ç”¨çš„è¯æ¬¢è¿ å…³æ³¨ ç‚¹èµ åˆ†äº« ã€æ•–ä¸™ã€‘| æ–‡ ","date":"2022-03-18","objectID":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/:2:0","series":null,"tags":["redis"],"title":"å¸ƒéš†è¿‡æ»¤å™¨(BloomFilter)","uri":"/posts/middleware/redis/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloomfilter/#2å“ˆå¸Œå‡½æ•°é€‰æ‹©"},{"categories":null,"content":"æ­»é”çš„æ¦‚å¿µæ­»é”ï¼ˆDeadlockï¼‰ï¼šæ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚ç§°æ­¤æ—¶ç³»ç»Ÿå¤„äºæ­»é”çŠ¶æ€æˆ–ç³»ç»Ÿäº§ç”Ÿäº†æ­»é”ã€‚ ç§°è¿™äº›æ°¸è¿œåœ¨äº’ç›¸ç­‰å¾…çš„è¿›ç¨‹ä¸ºæ­»é”è¿›ç¨‹ã€‚ æ‰€å ç”¨çš„èµ„æºæˆ–è€…éœ€è¦å®ƒä»¬è¿›è¡ŒæŸç§åˆä½œçš„å…¶å®ƒè¿›ç¨‹å°±ä¼šç›¸ç»§é™·å…¥æ­»é”ï¼Œæœ€ç»ˆå¯èƒ½å¯¼è‡´æ•´ä¸ªç³»ç»Ÿå¤„äºç˜«ç—ªçŠ¶æ€ã€‚ ","date":"2022-03-18","objectID":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/:1:0","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"æ“ä½œç³»ç»Ÿé”","uri":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/#æ­»é”çš„æ¦‚å¿µ"},{"categories":null,"content":"æ­»é”äº§ç”Ÿçš„æ¡ä»¶ äº’æ–¥æ¡ä»¶ ä¸å¯å‰¥å¤ºæ¡ä»¶ å æœ‰å¹¶è¯·æ±‚æ¡ä»¶ å¾ªç¯ç­‰å¾…æ¡ä»¶ ","date":"2022-03-18","objectID":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/:2:0","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"æ“ä½œç³»ç»Ÿé”","uri":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/#æ­»é”äº§ç”Ÿçš„æ¡ä»¶"},{"categories":null,"content":"æ­»é”çš„ç ´å","date":"2022-03-18","objectID":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/:3:0","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"æ“ä½œç³»ç»Ÿé”","uri":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/#æ­»é”çš„ç ´å"},{"categories":null,"content":"ç ´åäº’æ–¥æ¡ä»¶ ","date":"2022-03-18","objectID":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/:3:1","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"æ“ä½œç³»ç»Ÿé”","uri":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/#ç ´åäº’æ–¥æ¡ä»¶"},{"categories":null,"content":"ç ´åä¸å¯å‰¥å¤ºæ¡ä»¶ ","date":"2022-03-18","objectID":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/:3:2","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"æ“ä½œç³»ç»Ÿé”","uri":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/#ç ´åä¸å¯å‰¥å¤ºæ¡ä»¶"},{"categories":null,"content":"ç ´ç¯å æœ‰å¹¶è¯·æ±‚æ¡ä»¶ ","date":"2022-03-18","objectID":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/:3:3","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"æ“ä½œç³»ç»Ÿé”","uri":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/#ç ´ç¯å æœ‰å¹¶è¯·æ±‚æ¡ä»¶"},{"categories":null,"content":"ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ ref https://www.cnblogs.com/wkfvawl/p/11598647.html ","date":"2022-03-18","objectID":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/:3:4","series":null,"tags":["æ“ä½œç³»ç»Ÿ","å…«è‚¡"],"title":"æ“ä½œç³»ç»Ÿé”","uri":"/posts/linux/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/#ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶"},{"categories":null,"content":"Go äº¤å‰ç¼–è¯‘go è¯­è¨€å†å•¥å¹³å°éƒ½æ”¯æŒäº¤å‰ç¼–è¯‘ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ cgoï¼Œåœ¨ä¸€äº› linux å‘è¡Œç‰ˆä¸­ç”¨çš„ä»è¯­è¨€åº“ go å¹¶ä¸æ”¯æŒï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ cgoï¼Œå†ä¸€äº›æƒ…å†µä¸‹ cgo æ˜¯å¯ä»¥æå‡è¿è¡Œé€Ÿåº¦çš„ ","date":"2022-03-15","objectID":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/:1:0","series":null,"tags":["Go"],"title":"Goäº¤å‰ç¼–è¯‘","uri":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#go-äº¤å‰ç¼–è¯‘"},{"categories":null,"content":"ä½¿ç”¨","date":"2022-03-15","objectID":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/:2:0","series":null,"tags":["Go"],"title":"Goäº¤å‰ç¼–è¯‘","uri":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#ä½¿ç”¨"},{"categories":null,"content":"é€‰æ‹©éœ€è¦ç¼–è¯‘çš„ç³»ç»Ÿç¼–è¯‘ linux go env -w GOOS=linux ç¼–è¯‘ windows go env -w GOOS=windows ###é€‰æ‹©éœ€è¦ç¼–è¯‘çš„ cpu æ¶æ„ go env -w GOARCH=amd64 go env -w GOARCH=arm64 ","date":"2022-03-15","objectID":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/:2:1","series":null,"tags":["Go"],"title":"Goäº¤å‰ç¼–è¯‘","uri":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#é€‰æ‹©éœ€è¦ç¼–è¯‘çš„ç³»ç»Ÿ"},{"categories":null,"content":"æ”¯æŒçš„å¹³å° GOOS GOARCH aix ppc64 android 386 android amd64 android arm android arm64 darwin amd64 darwin arm64 dragonfly amd64 freebsd 386 freebsd amd64 freebsd arm illumos amd64 ios arm64 js wasm linux 386 linux amd64 linux arm linux arm64 linux ppc64 linux ppc64le linux mips linux mipsle linux mips64 linux mips64le linux riscv64 linux s390x netbsd 386 netbsd amd64 netbsd arm openbsd 386 openbsd amd64 openbsd arm openbsd arm64 plan9 386 plan9 amd64 plan9 arm solaris amd64 windows 386 windows amd64 windows arm windows arm64 ","date":"2022-03-15","objectID":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/:3:0","series":null,"tags":["Go"],"title":"Goäº¤å‰ç¼–è¯‘","uri":"/posts/go/go%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/#æ”¯æŒçš„å¹³å°"},{"categories":null,"content":"å‰è¨€æœ€è¿‘è¶…æ˜Ÿæ”¹ç½‘é¡µæ”¹çš„å‰å®³ï¼Œå¯¼è‡´å¾ˆå¤šç½‘é¡µè„šæœ¬æ— æ³•è¿è¡Œ é‚ä½¿ç”¨å‘½ä»¤è¡Œï¼Œç»•è¿‡ç½‘é¡µç›´æ¥åˆ· ","date":"2022-03-13","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/:1:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/#å‰è¨€"},{"categories":null,"content":"åˆ·å‰æé†’","date":"2022-03-13","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/:2:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/#åˆ·å‰æé†’"},{"categories":null,"content":"åˆ·å‰æé†’ å¼€å€æ•°ï¼Œä½¿ç”¨è„šæœ¬æœ‰é£é™©ï¼Œå‡ºç°çš„ç»“æœæœ¬äººä¸€æ¦‚ä¸è´Ÿè´£ è„šæœ¬ä»…ä¾›å­¦ä¹ ä½¿ç”¨ è¿™ä¸ªæš‚æ—¶åˆ·é¢˜åŠŸèƒ½ä¸å®Œå–„ï¼Œåªèƒ½åˆ·è§†é¢‘ï¼Œå»ºè®®åˆ·å®Œè§†é¢‘ååœ¨ç”¨ç½‘é¡µè„šæœ¬åˆ·é¢˜ åªæ”¯æŒå®‰å“æ‰‹æœº ","date":"2022-03-13","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/:3:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/#åˆ·å‰æé†’-1"},{"categories":null,"content":"å¿«é€Ÿä½¿ç”¨ç‚¹å‡»è¿™é‡Œä¸‹è½½å‘½ä»¤è¡Œè½¯ä»¶ï¼Œå®‰è£…ï¼Œå®‰è£…å®Œæˆåæ‰“å¼€ å¤åˆ¶ä¸‹é¢è¿™ä¸€è¡Œä»£ç ï¼Œåˆ°å‘½ä»¤è¡Œé‚£é‡Œï¼Œç²˜è´´ï¼Œå›è½¦ curl -L -o cx.sh https://gh.fakev.cn/lyj0309/chaoxing-xuexitong-autoflush/raw/master/android.sh \u0026\u0026 chmod +x cx.sh \u0026\u0026 ./cx.sh ç­‰å¾…å‘½ä»¤åŠ è½½å®Œæ¯•ï¼Œå³å¯ä½¿ç”¨ å¦‚éœ€å†æ¬¡ä½¿ç”¨ï¼Œæ‰§è¡Œä¸Šé¢é‚£ä¸€è¡Œä»£ç å³å¯ ","date":"2022-03-13","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/:4:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E5%91%BD%E4%BB%A4%E8%A1%8C/#å¿«é€Ÿä½¿ç”¨"},{"categories":null,"content":"å‰è¨€æœ€è¿‘è¶…æ˜Ÿæ”¹ç½‘é¡µæ”¹çš„å‰å®³ï¼Œå¯¼è‡´å¾ˆå¤šç½‘é¡µè„šæœ¬æ— æ³•è¿è¡Œ é‚ä½¿ç”¨å‘½ä»¤è¡Œï¼Œç»•è¿‡ç½‘é¡µç›´æ¥åˆ· ","date":"2022-03-11","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/:1:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/#å‰è¨€"},{"categories":null,"content":"åˆ·å‰æé†’ å¼€å€æ•°ï¼Œä½¿ç”¨è„šæœ¬æœ‰é£é™©ï¼Œå‡ºç°çš„ç»“æœæœ¬äººä¸€æ¦‚ä¸è´Ÿè´£ è„šæœ¬ä»…ä¾›å­¦ä¹ ä½¿ç”¨ è¿™ä¸ªæš‚æ—¶åˆ·é¢˜åŠŸèƒ½ä¸å®Œå–„ï¼Œåªèƒ½åˆ·è§†é¢‘ï¼Œå»ºè®®åˆ·å®Œè§†é¢‘ååœ¨ç”¨ç½‘é¡µè„šæœ¬åˆ·é¢˜ åªæ”¯æŒwin64ä½ ","date":"2022-03-11","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/:2:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/#åˆ·å‰æé†’"},{"categories":null,"content":"å¿«é€Ÿä½¿ç”¨ç‚¹è¿™é‡Œä¸‹è½½exeæ–‡ä»¶ï¼Œæ‰“å¼€ï¼Œè¾“å…¥è´¦å·å¯†ç å³å¯å¼€å§‹ è„šæœ¬æˆªå›¾ ","date":"2022-03-11","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/:3:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/#å¿«é€Ÿä½¿ç”¨"},{"categories":null,"content":"å‚è€ƒæ–‡çŒ®https://github.com/lyj0309/chaoxing-xuexitong-autoflush ","date":"2022-03-11","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/:4:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆå‘½ä»¤è¡Œï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C/#å‚è€ƒæ–‡çŒ®"},{"categories":null,"content":"goæä¾›äº†ä¸€ä¸ªè¯»å–åº“encoding package main import ( \"encoding/csv\" \"log\" \"os\" ) //goè¯­è¨€è¯»å†™csvæ–‡ä»¶ func main() { //åˆ›å»ºä¸€ä¸ªioå¯¹è±¡ filename:=\"Person1.csv\" f := ReadCsv(filename) //WriterCSV(filename) } //csvæ–‡ä»¶è¯»å– func ReadCsv(filepath string) *[][]string { //æ‰“å¼€æ–‡ä»¶(åªè¯»æ¨¡å¼)ï¼Œåˆ›å»ºio.readæ¥å£å®ä¾‹ opencast,err:=os.Open(filepath) if err!=nil{ log.Println(\"csvæ–‡ä»¶æ‰“å¼€å¤±è´¥ï¼\") } defer opencast.Close() //åˆ›å»ºcsvè¯»å–æ¥å£å®ä¾‹ reader:=csv.NewReader(opencast) //è·å–ä¸€è¡Œå†…å®¹ï¼Œä¸€èˆ¬ä¸ºç¬¬ä¸€è¡Œå†…å®¹ //read,_:=reader.Read() //è¿”å›åˆ‡ç‰‡ç±»å‹ï¼š[chen hai wei] //log.Println(read) //è¯»å–æ‰€æœ‰å†…å®¹ ReadAll,err:=reader.ReadAll()//è¿”å›åˆ‡ç‰‡ç±»å‹ï¼š[[s s ds] [a a a]] log.Println(ReadAll) return \u0026ReadAll /* è¯´æ˜ï¼š 1ã€è¯»å–csvæ–‡ä»¶è¿”å›çš„å†…å®¹ä¸ºåˆ‡ç‰‡ç±»å‹ï¼Œå¯ä»¥é€šè¿‡éå†çš„æ–¹å¼ä½¿ç”¨æˆ–Slicer[0]æ–¹å¼è·å–å…·ä½“çš„å€¼ã€‚ 2ã€åŒä¸€ä¸ªå‡½æ•°æˆ–çº¿ç¨‹å†…ï¼Œä¸¤æ¬¡è°ƒç”¨Read()æ–¹æ³•æ—¶ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æ—¶å¾—åˆ°çš„å€¼ä¸ºæ¯äºŒè¡Œæ•°æ®ï¼Œä¾æ­¤ç±»æ¨ã€‚ 3ã€å¤§æ–‡ä»¶æ—¶ä½¿ç”¨é€è¡Œè¯»å–ï¼Œå°æ–‡ä»¶ç›´æ¥è¯»å–æ‰€æœ‰ç„¶åéå†ï¼Œä¸¤è€…åº”ç”¨åœºæ™¯ä¸ä¸€æ ·ï¼Œéœ€è¦æ³¨æ„ã€‚ */ } //csvæ–‡ä»¶å†™å…¥ func WriterCSV(path string) { //OpenFileè¯»å–æ–‡ä»¶ï¼Œä¸å­˜åœ¨æ—¶åˆ™åˆ›å»ºï¼Œä½¿ç”¨è¿½åŠ æ¨¡å¼ File,err:=os.OpenFile(path,os.O_RDWR|os.O_APPEND|os.O_CREATE,0666) if err!=nil{ log.Println(\"æ–‡ä»¶æ‰“å¼€å¤±è´¥ï¼\") } defer File.Close() //åˆ›å»ºå†™å…¥æ¥å£ WriterCsv:=csv.NewWriter(File) str:=[]string{\"chen1\",\"hai1\",\"wei1\"} //éœ€è¦å†™å…¥csvçš„æ•°æ®ï¼Œåˆ‡ç‰‡ç±»å‹ //å†™å…¥ä¸€æ¡æ•°æ®ï¼Œä¼ å…¥æ•°æ®ä¸ºåˆ‡ç‰‡(è¿½åŠ æ¨¡å¼) err1:=WriterCsv.Write(str) if err1!=nil{ log.Println(\"WriterCsvå†™å…¥æ–‡ä»¶å¤±è´¥\") } WriterCsv.Flush() //åˆ·æ–°ï¼Œä¸åˆ·æ–°æ˜¯æ— æ³•å†™å…¥çš„ log.Println(\"æ•°æ®å†™å…¥æˆåŠŸ...\") } ","date":"2022-03-02","objectID":"/posts/go/go-csv/:0:0","series":null,"tags":["Go"],"title":"Go Csv","uri":"/posts/go/go-csv/#"},{"categories":null,"content":"æ–‡æœ¬æ“ä½œ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:0:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#æ–‡æœ¬æ“ä½œ"},{"categories":null,"content":"catæŸ¥çœ‹æ–‡ä»¶ cat filename å†™å…¥æ–‡ä»¶ cat \u003e\u003e filename \u003c\u003c EOF #EOFæ˜¯æ ‡è®°ç¬¦ï¼Œå†™ä»€ä¹ˆæ— æ‰€è°“ï¼Œä½†EOFä¸ºå¤§å®¶é»˜è®¤ \u003e hahaha \u003e hehehe EOF #å†æ¬¡è¾“å…¥æ ‡è®°ç¬¦è¡¨ç¤ºç»“æŸï¼Œå¦‚æœæœ€åˆçš„æ ‡è®°ç¬¦ä¸æ˜¯EOFï¼Œé‚£ä¹ˆè¿™é‡Œå°±éœ€è¦å’Œç¬¬ä¸€è¡Œä¸€è‡´ è¿½åŠ å†…å®¹ cat \u003c\u003c EOF \u003e file1 111 222 333 EOF ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:1:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#cat"},{"categories":null,"content":"grepã€€Linuxç³»ç»Ÿä¸­grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ï¼ˆåŒ¹é…åˆ°çš„æ ‡çº¢ï¼‰ã€‚grepå…¨ç§°æ˜¯Global Regular Expression Printï¼Œè¡¨ç¤ºå…¨å±€æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬ï¼Œå®ƒçš„ä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ·ã€‚ ã€€grepçš„å·¥ä½œæ–¹å¼æ˜¯è¿™æ ·çš„ï¼Œå®ƒåœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä¸­æœç´¢å­—ç¬¦ä¸²æ¨¡æ¿ã€‚å¦‚æœæ¨¡æ¿åŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ™å¿…é¡»è¢«å¼•ç”¨ï¼Œæ¨¡æ¿åçš„æ‰€æœ‰å­—ç¬¦ä¸²è¢«çœ‹ä½œæ–‡ä»¶åã€‚æœç´¢çš„ç»“æœè¢«é€åˆ°æ ‡å‡†è¾“å‡ºï¼Œä¸å½±å“åŸæ–‡ä»¶å†…å®¹ã€‚ ã€€grepå¯ç”¨äºshellè„šæœ¬ï¼Œå› ä¸ºgrepé€šè¿‡è¿”å›ä¸€ä¸ªçŠ¶æ€å€¼æ¥è¯´æ˜æœç´¢çš„çŠ¶æ€ï¼Œå¦‚æœæ¨¡æ¿æœç´¢æˆåŠŸï¼Œåˆ™è¿”å›0ï¼Œå¦‚æœæœç´¢ä¸æˆåŠŸï¼Œåˆ™è¿”å›1ï¼Œå¦‚æœæœç´¢çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›2ã€‚æˆ‘ä»¬åˆ©ç”¨è¿™äº›è¿”å›å€¼å°±å¯è¿›è¡Œä¸€äº›è‡ªåŠ¨åŒ–çš„æ–‡æœ¬å¤„ç†å·¥ä½œã€‚ egrep = grep -Eï¼šæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼Â ï¼ˆé™¤äº† \\\u003c , \\\u003e , \\b ä½¿ç”¨å…¶ä»–æ­£åˆ™éƒ½å¯ä»¥å»æ‰\\ï¼‰ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:2:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#grep"},{"categories":null,"content":"sed","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#sed"},{"categories":null,"content":"3.1 è®¤è¯†sedã€€sed æ˜¯ä¸€ç§æµç¼–è¾‘å™¨ï¼Œå®ƒä¸€æ¬¡å¤„ç†ä¸€è¡Œå†…å®¹ã€‚å¤„ç†æ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºâ€œæ¨¡å¼ç©ºé—´â€ï¼ˆpatternspace ï¼‰ï¼Œæ¥ç€ç”¨sed å‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®Œæˆåï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚ç„¶åè¯»å…¥ä¸‹è¡Œï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå¾ªç¯ã€‚å¦‚æœæ²¡æœ‰ä½¿è¯¸å¦‚â€˜Dâ€™ çš„ç‰¹æ®Šå‘½ä»¤ï¼Œé‚£ä¼šåœ¨ä¸¤ä¸ªå¾ªç¯ä¹‹é—´æ¸…ç©ºæ¨¡å¼ç©ºé—´ï¼Œä½†ä¸ä¼šæ¸…ç©ºä¿ç•™ç©ºé—´ã€‚è¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰æ”¹å˜ï¼Œé™¤éä½ ä½¿ç”¨é‡å®šå‘å­˜å‚¨è¾“å‡ºæˆ–-iã€‚ ã€€åŠŸèƒ½ï¼šä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶, ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œ Â ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:1","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#31-è®¤è¯†sed"},{"categories":null,"content":"3.2 ä½¿ç”¨sed3.2.1 å‘½ä»¤æ ¼å¼sed [options] â€˜[åœ°å€å®šç•Œ] commandâ€™ file(s) ã€€3.2.2 å¸¸ç”¨é€‰é¡¹options Â -nï¼šä¸è¾“å‡ºæ¨¡å¼ç©ºé—´å†…å®¹åˆ°å±å¹•ï¼Œå³ä¸è‡ªåŠ¨æ‰“å°ï¼Œåªæ‰“å°åŒ¹é…åˆ°çš„è¡Œ Â **-eï¼š**å¤šç‚¹ç¼–è¾‘ï¼Œå¯¹æ¯è¡Œå¤„ç†æ—¶ï¼Œå¯ä»¥æœ‰å¤šä¸ªScript Â -fï¼šæŠŠScriptå†™åˆ°æ–‡ä»¶å½“ä¸­ï¼Œåœ¨æ‰§è¡Œsedæ—¶-f æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœæ˜¯å¤šä¸ªScriptï¼Œæ¢è¡Œå†™ Â -rï¼šæ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ Â -iï¼šç›´æ¥å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ Â -i.bakï¼šåœ¨å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ä¹‹å‰å¤‡ä»½ä¸€ä»½ Â 3.2.3 åœ°å€å®šç•Œ Â ä¸ç»™åœ°å€ï¼šå¯¹å…¨æ–‡è¿›è¡Œå¤„ç† Â å•åœ°å€ï¼š Â #: æŒ‡å®šçš„è¡Œ Â /pattern/ï¼šè¢«æ­¤å¤„æ¨¡å¼æ‰€èƒ½å¤ŸåŒ¹é…åˆ°çš„æ¯ä¸€è¡Œ Â åœ°å€èŒƒå›´ï¼š Â #,# Â #,+# Â /pat1/,/pat2/ Â #,/pat1/ Â ~ï¼šæ­¥è¿› Â sed -n**â€˜1~2pâ€™** åªæ‰“å°å¥‡æ•°è¡Œ ï¼ˆ1~2 ä»ç¬¬1è¡Œï¼Œä¸€æ¬¡åŠ 2è¡Œï¼‰ Â sed -n â€˜2~2pâ€™Â åªæ‰“å°å¶æ•°è¡Œ Â 3.2.4 ç¼–è¾‘å‘½ä»¤command Â dï¼šåˆ é™¤æ¨¡å¼ç©ºé—´åŒ¹é…çš„è¡Œï¼Œå¹¶ç«‹å³å¯ç”¨ä¸‹ä¸€è½®å¾ªç¯ Â pï¼šæ‰“å°å½“å‰æ¨¡å¼ç©ºé—´å†…å®¹ï¼Œè¿½åŠ åˆ°é»˜è®¤è¾“å‡ºä¹‹å Â aï¼šåœ¨æŒ‡å®šè¡Œåé¢è¿½åŠ æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â iï¼šåœ¨è¡Œå‰é¢æ’å…¥æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â cï¼šæ›¿æ¢è¡Œä¸ºå•è¡Œæˆ–å¤šè¡Œæ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â wï¼šä¿å­˜æ¨¡å¼åŒ¹é…çš„è¡Œè‡³æŒ‡å®šæ–‡ä»¶ Â rï¼šè¯»å–æŒ‡å®šæ–‡ä»¶çš„æ–‡æœ¬è‡³æ¨¡å¼ç©ºé—´ä¸­åŒ¹é…åˆ°çš„è¡Œå Â =ï¼šä¸ºæ¨¡å¼ç©ºé—´ä¸­çš„è¡Œæ‰“å°è¡Œå· Â !ï¼šæ¨¡å¼ç©ºé—´ä¸­åŒ¹é…è¡Œå–åå¤„ç† Â s///ï¼šæŸ¥æ‰¾æ›¿æ¢ï¼Œæ”¯æŒä½¿ç”¨å…¶å®ƒåˆ†éš”ç¬¦ï¼Œå¦‚ï¼šs@@@ï¼Œs###ï¼› Â åŠ gè¡¨ç¤ºè¡Œå†…å…¨å±€æ›¿æ¢ï¼› Â åœ¨æ›¿æ¢æ—¶ï¼Œå¯ä»¥åŠ ä¸€ä¸‹å‘½ä»¤ï¼Œå®ç°å¤§å°å†™è½¬æ¢ Â \\lï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå°å†™ã€‚ Â \\Lï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå°å†™ï¼Œç›´åˆ°\\Uæˆ–\\Eå‡ºç°ã€‚ Â \\uï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå¤§å†™ã€‚ Â \\Uï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå¤§å†™ï¼Œç›´åˆ°\\Læˆ–\\Eå‡ºç°ã€‚ Â \\Eï¼šåœæ­¢ä»¥\\Læˆ–\\Uå¼€å§‹çš„å¤§å°å†™è½¬æ¢ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#32-ä½¿ç”¨sed"},{"categories":null,"content":"3.2 ä½¿ç”¨sed3.2.1 å‘½ä»¤æ ¼å¼sed [options] â€˜[åœ°å€å®šç•Œ] commandâ€™ file(s) ã€€3.2.2 å¸¸ç”¨é€‰é¡¹options Â -nï¼šä¸è¾“å‡ºæ¨¡å¼ç©ºé—´å†…å®¹åˆ°å±å¹•ï¼Œå³ä¸è‡ªåŠ¨æ‰“å°ï¼Œåªæ‰“å°åŒ¹é…åˆ°çš„è¡Œ Â **-eï¼š**å¤šç‚¹ç¼–è¾‘ï¼Œå¯¹æ¯è¡Œå¤„ç†æ—¶ï¼Œå¯ä»¥æœ‰å¤šä¸ªScript Â -fï¼šæŠŠScriptå†™åˆ°æ–‡ä»¶å½“ä¸­ï¼Œåœ¨æ‰§è¡Œsedæ—¶-f æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœæ˜¯å¤šä¸ªScriptï¼Œæ¢è¡Œå†™ Â -rï¼šæ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ Â -iï¼šç›´æ¥å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ Â -i.bakï¼šåœ¨å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ä¹‹å‰å¤‡ä»½ä¸€ä»½ Â 3.2.3 åœ°å€å®šç•Œ Â ä¸ç»™åœ°å€ï¼šå¯¹å…¨æ–‡è¿›è¡Œå¤„ç† Â å•åœ°å€ï¼š Â #: æŒ‡å®šçš„è¡Œ Â /pattern/ï¼šè¢«æ­¤å¤„æ¨¡å¼æ‰€èƒ½å¤ŸåŒ¹é…åˆ°çš„æ¯ä¸€è¡Œ Â åœ°å€èŒƒå›´ï¼š Â #,# Â #,+# Â /pat1/,/pat2/ Â #,/pat1/ Â ~ï¼šæ­¥è¿› Â sed -n**â€˜1~2pâ€™** åªæ‰“å°å¥‡æ•°è¡Œ ï¼ˆ1~2 ä»ç¬¬1è¡Œï¼Œä¸€æ¬¡åŠ 2è¡Œï¼‰ Â sed -n â€˜2~2pâ€™Â åªæ‰“å°å¶æ•°è¡Œ Â 3.2.4 ç¼–è¾‘å‘½ä»¤command Â dï¼šåˆ é™¤æ¨¡å¼ç©ºé—´åŒ¹é…çš„è¡Œï¼Œå¹¶ç«‹å³å¯ç”¨ä¸‹ä¸€è½®å¾ªç¯ Â pï¼šæ‰“å°å½“å‰æ¨¡å¼ç©ºé—´å†…å®¹ï¼Œè¿½åŠ åˆ°é»˜è®¤è¾“å‡ºä¹‹å Â aï¼šåœ¨æŒ‡å®šè¡Œåé¢è¿½åŠ æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â iï¼šåœ¨è¡Œå‰é¢æ’å…¥æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â cï¼šæ›¿æ¢è¡Œä¸ºå•è¡Œæˆ–å¤šè¡Œæ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â wï¼šä¿å­˜æ¨¡å¼åŒ¹é…çš„è¡Œè‡³æŒ‡å®šæ–‡ä»¶ Â rï¼šè¯»å–æŒ‡å®šæ–‡ä»¶çš„æ–‡æœ¬è‡³æ¨¡å¼ç©ºé—´ä¸­åŒ¹é…åˆ°çš„è¡Œå Â =ï¼šä¸ºæ¨¡å¼ç©ºé—´ä¸­çš„è¡Œæ‰“å°è¡Œå· Â !ï¼šæ¨¡å¼ç©ºé—´ä¸­åŒ¹é…è¡Œå–åå¤„ç† Â s///ï¼šæŸ¥æ‰¾æ›¿æ¢ï¼Œæ”¯æŒä½¿ç”¨å…¶å®ƒåˆ†éš”ç¬¦ï¼Œå¦‚ï¼šs@@@ï¼Œs###ï¼› Â åŠ gè¡¨ç¤ºè¡Œå†…å…¨å±€æ›¿æ¢ï¼› Â åœ¨æ›¿æ¢æ—¶ï¼Œå¯ä»¥åŠ ä¸€ä¸‹å‘½ä»¤ï¼Œå®ç°å¤§å°å†™è½¬æ¢ Â \\lï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå°å†™ã€‚ Â \\Lï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå°å†™ï¼Œç›´åˆ°\\Uæˆ–\\Eå‡ºç°ã€‚ Â \\uï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå¤§å†™ã€‚ Â \\Uï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå¤§å†™ï¼Œç›´åˆ°\\Læˆ–\\Eå‡ºç°ã€‚ Â \\Eï¼šåœæ­¢ä»¥\\Læˆ–\\Uå¼€å§‹çš„å¤§å°å†™è½¬æ¢ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#321-å‘½ä»¤æ ¼å¼"},{"categories":null,"content":"3.2 ä½¿ç”¨sed3.2.1 å‘½ä»¤æ ¼å¼sed [options] â€˜[åœ°å€å®šç•Œ] commandâ€™ file(s) ã€€3.2.2 å¸¸ç”¨é€‰é¡¹options Â -nï¼šä¸è¾“å‡ºæ¨¡å¼ç©ºé—´å†…å®¹åˆ°å±å¹•ï¼Œå³ä¸è‡ªåŠ¨æ‰“å°ï¼Œåªæ‰“å°åŒ¹é…åˆ°çš„è¡Œ Â **-eï¼š**å¤šç‚¹ç¼–è¾‘ï¼Œå¯¹æ¯è¡Œå¤„ç†æ—¶ï¼Œå¯ä»¥æœ‰å¤šä¸ªScript Â -fï¼šæŠŠScriptå†™åˆ°æ–‡ä»¶å½“ä¸­ï¼Œåœ¨æ‰§è¡Œsedæ—¶-f æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœæ˜¯å¤šä¸ªScriptï¼Œæ¢è¡Œå†™ Â -rï¼šæ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ Â -iï¼šç›´æ¥å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ Â -i.bakï¼šåœ¨å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ä¹‹å‰å¤‡ä»½ä¸€ä»½ Â 3.2.3 åœ°å€å®šç•Œ Â ä¸ç»™åœ°å€ï¼šå¯¹å…¨æ–‡è¿›è¡Œå¤„ç† Â å•åœ°å€ï¼š Â #: æŒ‡å®šçš„è¡Œ Â /pattern/ï¼šè¢«æ­¤å¤„æ¨¡å¼æ‰€èƒ½å¤ŸåŒ¹é…åˆ°çš„æ¯ä¸€è¡Œ Â åœ°å€èŒƒå›´ï¼š Â #,# Â #,+# Â /pat1/,/pat2/ Â #,/pat1/ Â ~ï¼šæ­¥è¿› Â sed -n**â€˜1~2pâ€™** åªæ‰“å°å¥‡æ•°è¡Œ ï¼ˆ1~2 ä»ç¬¬1è¡Œï¼Œä¸€æ¬¡åŠ 2è¡Œï¼‰ Â sed -n â€˜2~2pâ€™Â åªæ‰“å°å¶æ•°è¡Œ Â 3.2.4 ç¼–è¾‘å‘½ä»¤command Â dï¼šåˆ é™¤æ¨¡å¼ç©ºé—´åŒ¹é…çš„è¡Œï¼Œå¹¶ç«‹å³å¯ç”¨ä¸‹ä¸€è½®å¾ªç¯ Â pï¼šæ‰“å°å½“å‰æ¨¡å¼ç©ºé—´å†…å®¹ï¼Œè¿½åŠ åˆ°é»˜è®¤è¾“å‡ºä¹‹å Â aï¼šåœ¨æŒ‡å®šè¡Œåé¢è¿½åŠ æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â iï¼šåœ¨è¡Œå‰é¢æ’å…¥æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â cï¼šæ›¿æ¢è¡Œä¸ºå•è¡Œæˆ–å¤šè¡Œæ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â wï¼šä¿å­˜æ¨¡å¼åŒ¹é…çš„è¡Œè‡³æŒ‡å®šæ–‡ä»¶ Â rï¼šè¯»å–æŒ‡å®šæ–‡ä»¶çš„æ–‡æœ¬è‡³æ¨¡å¼ç©ºé—´ä¸­åŒ¹é…åˆ°çš„è¡Œå Â =ï¼šä¸ºæ¨¡å¼ç©ºé—´ä¸­çš„è¡Œæ‰“å°è¡Œå· Â !ï¼šæ¨¡å¼ç©ºé—´ä¸­åŒ¹é…è¡Œå–åå¤„ç† Â s///ï¼šæŸ¥æ‰¾æ›¿æ¢ï¼Œæ”¯æŒä½¿ç”¨å…¶å®ƒåˆ†éš”ç¬¦ï¼Œå¦‚ï¼šs@@@ï¼Œs###ï¼› Â åŠ gè¡¨ç¤ºè¡Œå†…å…¨å±€æ›¿æ¢ï¼› Â åœ¨æ›¿æ¢æ—¶ï¼Œå¯ä»¥åŠ ä¸€ä¸‹å‘½ä»¤ï¼Œå®ç°å¤§å°å†™è½¬æ¢ Â \\lï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå°å†™ã€‚ Â \\Lï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå°å†™ï¼Œç›´åˆ°\\Uæˆ–\\Eå‡ºç°ã€‚ Â \\uï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå¤§å†™ã€‚ Â \\Uï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå¤§å†™ï¼Œç›´åˆ°\\Læˆ–\\Eå‡ºç°ã€‚ Â \\Eï¼šåœæ­¢ä»¥\\Læˆ–\\Uå¼€å§‹çš„å¤§å°å†™è½¬æ¢ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#322-å¸¸ç”¨é€‰é¡¹options"},{"categories":null,"content":"3.2 ä½¿ç”¨sed3.2.1 å‘½ä»¤æ ¼å¼sed [options] â€˜[åœ°å€å®šç•Œ] commandâ€™ file(s) ã€€3.2.2 å¸¸ç”¨é€‰é¡¹options Â -nï¼šä¸è¾“å‡ºæ¨¡å¼ç©ºé—´å†…å®¹åˆ°å±å¹•ï¼Œå³ä¸è‡ªåŠ¨æ‰“å°ï¼Œåªæ‰“å°åŒ¹é…åˆ°çš„è¡Œ Â **-eï¼š**å¤šç‚¹ç¼–è¾‘ï¼Œå¯¹æ¯è¡Œå¤„ç†æ—¶ï¼Œå¯ä»¥æœ‰å¤šä¸ªScript Â -fï¼šæŠŠScriptå†™åˆ°æ–‡ä»¶å½“ä¸­ï¼Œåœ¨æ‰§è¡Œsedæ—¶-f æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœæ˜¯å¤šä¸ªScriptï¼Œæ¢è¡Œå†™ Â -rï¼šæ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ Â -iï¼šç›´æ¥å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ Â -i.bakï¼šåœ¨å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ä¹‹å‰å¤‡ä»½ä¸€ä»½ Â 3.2.3 åœ°å€å®šç•Œ Â ä¸ç»™åœ°å€ï¼šå¯¹å…¨æ–‡è¿›è¡Œå¤„ç† Â å•åœ°å€ï¼š Â #: æŒ‡å®šçš„è¡Œ Â /pattern/ï¼šè¢«æ­¤å¤„æ¨¡å¼æ‰€èƒ½å¤ŸåŒ¹é…åˆ°çš„æ¯ä¸€è¡Œ Â åœ°å€èŒƒå›´ï¼š Â #,# Â #,+# Â /pat1/,/pat2/ Â #,/pat1/ Â ~ï¼šæ­¥è¿› Â sed -n**â€˜1~2pâ€™** åªæ‰“å°å¥‡æ•°è¡Œ ï¼ˆ1~2 ä»ç¬¬1è¡Œï¼Œä¸€æ¬¡åŠ 2è¡Œï¼‰ Â sed -n â€˜2~2pâ€™Â åªæ‰“å°å¶æ•°è¡Œ Â 3.2.4 ç¼–è¾‘å‘½ä»¤command Â dï¼šåˆ é™¤æ¨¡å¼ç©ºé—´åŒ¹é…çš„è¡Œï¼Œå¹¶ç«‹å³å¯ç”¨ä¸‹ä¸€è½®å¾ªç¯ Â pï¼šæ‰“å°å½“å‰æ¨¡å¼ç©ºé—´å†…å®¹ï¼Œè¿½åŠ åˆ°é»˜è®¤è¾“å‡ºä¹‹å Â aï¼šåœ¨æŒ‡å®šè¡Œåé¢è¿½åŠ æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â iï¼šåœ¨è¡Œå‰é¢æ’å…¥æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â cï¼šæ›¿æ¢è¡Œä¸ºå•è¡Œæˆ–å¤šè¡Œæ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â wï¼šä¿å­˜æ¨¡å¼åŒ¹é…çš„è¡Œè‡³æŒ‡å®šæ–‡ä»¶ Â rï¼šè¯»å–æŒ‡å®šæ–‡ä»¶çš„æ–‡æœ¬è‡³æ¨¡å¼ç©ºé—´ä¸­åŒ¹é…åˆ°çš„è¡Œå Â =ï¼šä¸ºæ¨¡å¼ç©ºé—´ä¸­çš„è¡Œæ‰“å°è¡Œå· Â !ï¼šæ¨¡å¼ç©ºé—´ä¸­åŒ¹é…è¡Œå–åå¤„ç† Â s///ï¼šæŸ¥æ‰¾æ›¿æ¢ï¼Œæ”¯æŒä½¿ç”¨å…¶å®ƒåˆ†éš”ç¬¦ï¼Œå¦‚ï¼šs@@@ï¼Œs###ï¼› Â åŠ gè¡¨ç¤ºè¡Œå†…å…¨å±€æ›¿æ¢ï¼› Â åœ¨æ›¿æ¢æ—¶ï¼Œå¯ä»¥åŠ ä¸€ä¸‹å‘½ä»¤ï¼Œå®ç°å¤§å°å†™è½¬æ¢ Â \\lï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå°å†™ã€‚ Â \\Lï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå°å†™ï¼Œç›´åˆ°\\Uæˆ–\\Eå‡ºç°ã€‚ Â \\uï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå¤§å†™ã€‚ Â \\Uï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå¤§å†™ï¼Œç›´åˆ°\\Læˆ–\\Eå‡ºç°ã€‚ Â \\Eï¼šåœæ­¢ä»¥\\Læˆ–\\Uå¼€å§‹çš„å¤§å°å†™è½¬æ¢ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#323-åœ°å€å®šç•Œ"},{"categories":null,"content":"3.2 ä½¿ç”¨sed3.2.1 å‘½ä»¤æ ¼å¼sed [options] â€˜[åœ°å€å®šç•Œ] commandâ€™ file(s) ã€€3.2.2 å¸¸ç”¨é€‰é¡¹options Â -nï¼šä¸è¾“å‡ºæ¨¡å¼ç©ºé—´å†…å®¹åˆ°å±å¹•ï¼Œå³ä¸è‡ªåŠ¨æ‰“å°ï¼Œåªæ‰“å°åŒ¹é…åˆ°çš„è¡Œ Â **-eï¼š**å¤šç‚¹ç¼–è¾‘ï¼Œå¯¹æ¯è¡Œå¤„ç†æ—¶ï¼Œå¯ä»¥æœ‰å¤šä¸ªScript Â -fï¼šæŠŠScriptå†™åˆ°æ–‡ä»¶å½“ä¸­ï¼Œåœ¨æ‰§è¡Œsedæ—¶-f æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœæ˜¯å¤šä¸ªScriptï¼Œæ¢è¡Œå†™ Â -rï¼šæ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ Â -iï¼šç›´æ¥å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ Â -i.bakï¼šåœ¨å°†å¤„ç†çš„ç»“æœå†™å…¥æ–‡ä»¶ä¹‹å‰å¤‡ä»½ä¸€ä»½ Â 3.2.3 åœ°å€å®šç•Œ Â ä¸ç»™åœ°å€ï¼šå¯¹å…¨æ–‡è¿›è¡Œå¤„ç† Â å•åœ°å€ï¼š Â #: æŒ‡å®šçš„è¡Œ Â /pattern/ï¼šè¢«æ­¤å¤„æ¨¡å¼æ‰€èƒ½å¤ŸåŒ¹é…åˆ°çš„æ¯ä¸€è¡Œ Â åœ°å€èŒƒå›´ï¼š Â #,# Â #,+# Â /pat1/,/pat2/ Â #,/pat1/ Â ~ï¼šæ­¥è¿› Â sed -n**â€˜1~2pâ€™** åªæ‰“å°å¥‡æ•°è¡Œ ï¼ˆ1~2 ä»ç¬¬1è¡Œï¼Œä¸€æ¬¡åŠ 2è¡Œï¼‰ Â sed -n â€˜2~2pâ€™Â åªæ‰“å°å¶æ•°è¡Œ Â 3.2.4 ç¼–è¾‘å‘½ä»¤command Â dï¼šåˆ é™¤æ¨¡å¼ç©ºé—´åŒ¹é…çš„è¡Œï¼Œå¹¶ç«‹å³å¯ç”¨ä¸‹ä¸€è½®å¾ªç¯ Â pï¼šæ‰“å°å½“å‰æ¨¡å¼ç©ºé—´å†…å®¹ï¼Œè¿½åŠ åˆ°é»˜è®¤è¾“å‡ºä¹‹å Â aï¼šåœ¨æŒ‡å®šè¡Œåé¢è¿½åŠ æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â iï¼šåœ¨è¡Œå‰é¢æ’å…¥æ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â cï¼šæ›¿æ¢è¡Œä¸ºå•è¡Œæˆ–å¤šè¡Œæ–‡æœ¬ï¼Œæ”¯æŒä½¿ç”¨\\nå®ç°å¤šè¡Œè¿½åŠ  Â wï¼šä¿å­˜æ¨¡å¼åŒ¹é…çš„è¡Œè‡³æŒ‡å®šæ–‡ä»¶ Â rï¼šè¯»å–æŒ‡å®šæ–‡ä»¶çš„æ–‡æœ¬è‡³æ¨¡å¼ç©ºé—´ä¸­åŒ¹é…åˆ°çš„è¡Œå Â =ï¼šä¸ºæ¨¡å¼ç©ºé—´ä¸­çš„è¡Œæ‰“å°è¡Œå· Â !ï¼šæ¨¡å¼ç©ºé—´ä¸­åŒ¹é…è¡Œå–åå¤„ç† Â s///ï¼šæŸ¥æ‰¾æ›¿æ¢ï¼Œæ”¯æŒä½¿ç”¨å…¶å®ƒåˆ†éš”ç¬¦ï¼Œå¦‚ï¼šs@@@ï¼Œs###ï¼› Â åŠ gè¡¨ç¤ºè¡Œå†…å…¨å±€æ›¿æ¢ï¼› Â åœ¨æ›¿æ¢æ—¶ï¼Œå¯ä»¥åŠ ä¸€ä¸‹å‘½ä»¤ï¼Œå®ç°å¤§å°å†™è½¬æ¢ Â \\lï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå°å†™ã€‚ Â \\Lï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå°å†™ï¼Œç›´åˆ°\\Uæˆ–\\Eå‡ºç°ã€‚ Â \\uï¼šæŠŠä¸‹ä¸ªå­—ç¬¦è½¬æ¢æˆå¤§å†™ã€‚ Â \\Uï¼šæŠŠreplacementå­—æ¯è½¬æ¢æˆå¤§å†™ï¼Œç›´åˆ°\\Læˆ–\\Eå‡ºç°ã€‚ Â \\Eï¼šåœæ­¢ä»¥\\Læˆ–\\Uå¼€å§‹çš„å¤§å°å†™è½¬æ¢ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#324-ç¼–è¾‘å‘½ä»¤command"},{"categories":null,"content":"å®ä¾‹[root@along ~]# cat demo aaa bbbb AABBCCDD [root@along ~]# sed \"/aaa/p\" demo #åŒ¹é…åˆ°çš„è¡Œä¼šæ‰“å°ä¸€éï¼Œä¸åŒ¹é…çš„è¡Œä¹Ÿä¼šæ‰“å° aaa aaa bbbb AABBCCDD [root@along ~]# sed -n \"/aaa/p\" demo #-nä¸æ˜¾ç¤ºæ²¡åŒ¹é…çš„è¡Œ aaa [root@along ~]# sed -e \"s/a/A/\" -e \"s/b/B/\" demo #-eå¤šç‚¹ç¼–è¾‘ Aaa Bbbb AABBCCDD ########################### [root@along ~]# sed -n \"p\" demo #ä¸æŒ‡å®šè¡Œï¼Œæ‰“å°å…¨æ–‡ aaa bbbb AABBCCDD [root@along ~]# sed \"2s/b/B/g\" demo #æ›¿æ¢ç¬¬2è¡Œçš„b-\u003eB aaa BBBB AABBCCDD [root@along ~]# sed -n \"/aaa/p\" demo aaa [root@along ~]# sed -n \"1,2p\" demo #æ‰“å°1-2è¡Œ aaa bbbb [root@along ~]# sed -n \"/aaa/,/DD/p\" demo aaa bbbb AABBCCDD [root@along ~]# sed -n \"2,/DD/p\" demo bbbb AABBCCDD [root@along ~]# sed \"1~2s/[aA]/E/g\" demo #å°†å¥‡æ•°è¡Œçš„aæˆ–Aæ›¿æ¢ä¸ºE EEE bbbb EEBBCCDD ################ [root@along ~]# cat demo aaa bbbb AABBCCDD [root@along ~]# sed \"2d\" demo #åˆ é™¤ç¬¬2è¡Œ aaa AABBCCDD [root@along ~]# sed -n \"2p\" demo #æ‰“å°ç¬¬2è¡Œ bbbb [root@along ~]# sed \"2a123\" demo #åœ¨ç¬¬2è¡ŒååŠ 123 aaa bbbb 123 AABBCCDD [root@along ~]# sed \"1i123\" demo #åœ¨ç¬¬1è¡Œå‰åŠ 123 123 aaa bbbb AABBCCDD [root@along ~]# sed \"3c123\\n456\" demo #æ›¿æ¢ç¬¬3è¡Œå†…å®¹ aaa bbbb 123 456 [root@along ~]# sed -n \"3w/root/demo3\" demo #ä¿å­˜ç¬¬3è¡Œçš„å†…å®¹åˆ°demo3æ–‡ä»¶ä¸­ [root@along ~]# cat demo3 AABBCCDD [root@along ~]# sed \"1r/root/demo3\" demo #è¯»å–demo3çš„å†…å®¹åˆ°ç¬¬1è¡Œå aaa AABBCCDD bbbb AABBCCDD [root@along ~]# sed -n \"=\" demo #=æ‰“å°è¡Œå· 1 2 3 [root@along ~]# sed -n '2!p' demo #æ‰“å°é™¤äº†ç¬¬2è¡Œçš„å†…å®¹ aaa AABBCCDD [root@along ~]# sed 's@[a-z]@\\u\u0026@g' demo #å°†å…¨æ–‡çš„å°å†™å­—æ¯æ›¿æ¢ä¸ºå¤§å†™å­—æ¯ AAA BBBB AABBCCDD ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:3","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#å®ä¾‹"},{"categories":null,"content":"awk","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:4:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#awk"},{"categories":null,"content":"æ‚é¡¹","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:0:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#æ‚é¡¹"},{"categories":null,"content":"ç¯å¢ƒå˜é‡ä¸»è¦æœ‰ä¸¤ç§ç¯å¢ƒå˜é‡ï¼Œä¸€ç§æ˜¯å«PATHçš„ç¯å¢ƒå˜é‡ï¼Œä¸€ç§åˆ™ç›´æ¥æ˜¯é”®å€¼å¯¹ å«PATHçš„ç¯å¢ƒå˜é‡ä¸€èˆ¬ç”¨äºè½¯ä»¶çš„å¯¼å…¥ï¼Œæ¯”å¦‚å¯¼å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢æ‰€æœ‰æ–‡ä»¶ç„¶åå¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œè®¿é—®ï¼Œæ¯”å¦‚æŠŠmingw/srcæ–‡ä»¶å¤¹å¯¼å…¥ä»è€Œå¯ä»¥ä½¿ç”¨gcc é”®å€¼å¯¹ç¯å¢ƒå˜é‡åˆ™å¯ä»¥ç”¨æ¥è¿›è¡Œé…ç½®çš„è¯»å–ï¼Œå¦‚NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/nodeè¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œåˆ™æ˜¯å‘Šè¯‰nodeä½¿ç”¨æ·˜å®é•œåƒï¼Œå°±å¦‚åŒå…¨å±€å˜é‡ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:1:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#ç¯å¢ƒå˜é‡"},{"categories":null,"content":"è¯»å–ç¯å¢ƒå˜é‡ exportå‘½ä»¤æ˜¾ç¤ºå½“å‰ç³»ç»Ÿå®šä¹‰çš„æ‰€æœ‰ç¯å¢ƒå˜é‡ echo $PATHå‘½ä»¤è¾“å‡ºå½“å‰çš„PATHç¯å¢ƒå˜é‡çš„å€¼ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:1:1","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#è¯»å–ç¯å¢ƒå˜é‡"},{"categories":null,"content":"é…ç½®ç¯å¢ƒå˜é‡ä¸´æ—¶å˜é‡ï¼ˆå½“å‰å‘½ä»¤è¡Œæœ‰ç”¨ï¼‰PATHå˜é‡ ï¼šä½¿ç”¨exportå‘½ä»¤ç›´æ¥ä¿®æ”¹PATHçš„å€¼ï¼Œé…ç½®MySQLè¿›å…¥ç¯å¢ƒå˜é‡çš„æ–¹æ³•: export PATH=/home/uusama/mysql/bin:$PATH éPATHå˜é‡ï¼š export GO_VERSION=1.17.6 æ°¸ä¹…å˜é‡ä¸»è¦æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼ ä¸€å…±æœ‰å››ä¸ªæ–‡ä»¶ï¼Œä¿®æ”¹æ–¹å¼åˆ™æ˜¯æŠŠè®¾ç½®ä¸´æ—¶å˜é‡çš„å¥å­åŠ åˆ°æ–‡ä»¶ä¸­ /etc/profileï¼š æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯,å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶,è¯¥æ–‡ä»¶è¢«æ‰§è¡Œã€‚æ˜¯ç³»ç»Ÿå…¨å±€é’ˆå¯¹ç»ˆç«¯ç¯å¢ƒçš„è®¾ç½®ï¼Œå®ƒæ˜¯loginæ—¶æœ€å…ˆè¢«ç³»ç»ŸåŠ è½½çš„ï¼Œæ˜¯å®ƒè°ƒç”¨äº†/etc/bashrcï¼Œä»¥åŠ/etc/profile.dç›®å½•ä¸‹çš„*.shæ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œç³»ç»Ÿä¸Šåªå®‰è£…ä¸€ä»½ï¼Œä¾›æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨ï¼Œå»ºè®®åœ¨/etc/profile.dä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„xxx.shï¼Œé…ç½®ç¯å¢ƒå˜é‡ã€‚ ~/.bashrc:æ˜¯ç”¨æˆ·ç›¸å…³çš„ç»ˆç«¯ï¼ˆshellï¼‰çš„ç¯å¢ƒè®¾ç½®ï¼Œé€šå¸¸æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯æ—¶ï¼Œé»˜è®¤ä¼šloadé‡Œé¢çš„è®¾ç½®ï¼Œåœ¨è¿™é‡Œçš„è®¾ç½®ä¸å½±å“å…¶å®ƒäººã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å™¨å¤šä¸ªå¼€å‘è€…ä½¿ç”¨ï¼Œå¤§å®¶éƒ½éœ€è¦æœ‰è‡ªå·±çš„sdkå®‰è£…å’Œè®¾ç½®ï¼Œé‚£ä¹ˆæœ€å¥½å°±æ˜¯è®¾ç½®å®ƒã€‚ /etc/bashrc: æ˜¯ç³»ç»Ÿå…¨å±€é’ˆå¯¹ç»ˆç«¯ç¯å¢ƒçš„è®¾ç½®ï¼Œä¿®æ”¹äº†å®ƒï¼Œä¼šå½±å“æ‰€æœ‰ç”¨æˆ·çš„ç»ˆç«¯ç¯å¢ƒï¼Œè¿™é‡Œä¸€èˆ¬é…ç½®ç»ˆç«¯å¦‚ä½•ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„å¢å¼ºåŠŸèƒ½ç­‰ï¼ˆæ¯”å¦‚sudoæç¤ºã€å‘½ä»¤æ‰¾ä¸åˆ°æç¤ºå®‰è£…ä»€ä¹ˆåŒ…ç­‰ï¼‰ï¼Œæ–°å¼€çš„ç»ˆç«¯ï¼Œå·²ç»loadäº†è¿™ä¸ªé…ç½®ï¼Œæœ€åæ‰loadç”¨æˆ·è‡ªå·±çš„ ~/.bashrcã€‚ ~/.bash_profile:æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯,å½“ç”¨æˆ·ç™»å½•æ—¶,è¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡!é»˜è®¤æƒ…å†µä¸‹,ä»–è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡,æ‰§è¡Œç”¨æˆ·çš„.bashrcæ–‡ä»¶. ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:1:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#é…ç½®ç¯å¢ƒå˜é‡"},{"categories":null,"content":"é…ç½®ç¯å¢ƒå˜é‡ä¸´æ—¶å˜é‡ï¼ˆå½“å‰å‘½ä»¤è¡Œæœ‰ç”¨ï¼‰PATHå˜é‡ ï¼šä½¿ç”¨exportå‘½ä»¤ç›´æ¥ä¿®æ”¹PATHçš„å€¼ï¼Œé…ç½®MySQLè¿›å…¥ç¯å¢ƒå˜é‡çš„æ–¹æ³•: export PATH=/home/uusama/mysql/bin:$PATH éPATHå˜é‡ï¼š export GO_VERSION=1.17.6 æ°¸ä¹…å˜é‡ä¸»è¦æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼ ä¸€å…±æœ‰å››ä¸ªæ–‡ä»¶ï¼Œä¿®æ”¹æ–¹å¼åˆ™æ˜¯æŠŠè®¾ç½®ä¸´æ—¶å˜é‡çš„å¥å­åŠ åˆ°æ–‡ä»¶ä¸­ /etc/profileï¼š æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯,å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶,è¯¥æ–‡ä»¶è¢«æ‰§è¡Œã€‚æ˜¯ç³»ç»Ÿå…¨å±€é’ˆå¯¹ç»ˆç«¯ç¯å¢ƒçš„è®¾ç½®ï¼Œå®ƒæ˜¯loginæ—¶æœ€å…ˆè¢«ç³»ç»ŸåŠ è½½çš„ï¼Œæ˜¯å®ƒè°ƒç”¨äº†/etc/bashrcï¼Œä»¥åŠ/etc/profile.dç›®å½•ä¸‹çš„*.shæ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œç³»ç»Ÿä¸Šåªå®‰è£…ä¸€ä»½ï¼Œä¾›æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨ï¼Œå»ºè®®åœ¨/etc/profile.dä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„xxx.shï¼Œé…ç½®ç¯å¢ƒå˜é‡ã€‚ ~/.bashrc:æ˜¯ç”¨æˆ·ç›¸å…³çš„ç»ˆç«¯ï¼ˆshellï¼‰çš„ç¯å¢ƒè®¾ç½®ï¼Œé€šå¸¸æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯æ—¶ï¼Œé»˜è®¤ä¼šloadé‡Œé¢çš„è®¾ç½®ï¼Œåœ¨è¿™é‡Œçš„è®¾ç½®ä¸å½±å“å…¶å®ƒäººã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å™¨å¤šä¸ªå¼€å‘è€…ä½¿ç”¨ï¼Œå¤§å®¶éƒ½éœ€è¦æœ‰è‡ªå·±çš„sdkå®‰è£…å’Œè®¾ç½®ï¼Œé‚£ä¹ˆæœ€å¥½å°±æ˜¯è®¾ç½®å®ƒã€‚ /etc/bashrc: æ˜¯ç³»ç»Ÿå…¨å±€é’ˆå¯¹ç»ˆç«¯ç¯å¢ƒçš„è®¾ç½®ï¼Œä¿®æ”¹äº†å®ƒï¼Œä¼šå½±å“æ‰€æœ‰ç”¨æˆ·çš„ç»ˆç«¯ç¯å¢ƒï¼Œè¿™é‡Œä¸€èˆ¬é…ç½®ç»ˆç«¯å¦‚ä½•ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„å¢å¼ºåŠŸèƒ½ç­‰ï¼ˆæ¯”å¦‚sudoæç¤ºã€å‘½ä»¤æ‰¾ä¸åˆ°æç¤ºå®‰è£…ä»€ä¹ˆåŒ…ç­‰ï¼‰ï¼Œæ–°å¼€çš„ç»ˆç«¯ï¼Œå·²ç»loadäº†è¿™ä¸ªé…ç½®ï¼Œæœ€åæ‰loadç”¨æˆ·è‡ªå·±çš„ ~/.bashrcã€‚ ~/.bash_profile:æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯,å½“ç”¨æˆ·ç™»å½•æ—¶,è¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡!é»˜è®¤æƒ…å†µä¸‹,ä»–è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡,æ‰§è¡Œç”¨æˆ·çš„.bashrcæ–‡ä»¶. ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:1:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#ä¸´æ—¶å˜é‡å½“å‰å‘½ä»¤è¡Œæœ‰ç”¨"},{"categories":null,"content":"é…ç½®ç¯å¢ƒå˜é‡ä¸´æ—¶å˜é‡ï¼ˆå½“å‰å‘½ä»¤è¡Œæœ‰ç”¨ï¼‰PATHå˜é‡ ï¼šä½¿ç”¨exportå‘½ä»¤ç›´æ¥ä¿®æ”¹PATHçš„å€¼ï¼Œé…ç½®MySQLè¿›å…¥ç¯å¢ƒå˜é‡çš„æ–¹æ³•: export PATH=/home/uusama/mysql/bin:$PATH éPATHå˜é‡ï¼š export GO_VERSION=1.17.6 æ°¸ä¹…å˜é‡ä¸»è¦æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼ ä¸€å…±æœ‰å››ä¸ªæ–‡ä»¶ï¼Œä¿®æ”¹æ–¹å¼åˆ™æ˜¯æŠŠè®¾ç½®ä¸´æ—¶å˜é‡çš„å¥å­åŠ åˆ°æ–‡ä»¶ä¸­ /etc/profileï¼š æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯,å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶,è¯¥æ–‡ä»¶è¢«æ‰§è¡Œã€‚æ˜¯ç³»ç»Ÿå…¨å±€é’ˆå¯¹ç»ˆç«¯ç¯å¢ƒçš„è®¾ç½®ï¼Œå®ƒæ˜¯loginæ—¶æœ€å…ˆè¢«ç³»ç»ŸåŠ è½½çš„ï¼Œæ˜¯å®ƒè°ƒç”¨äº†/etc/bashrcï¼Œä»¥åŠ/etc/profile.dç›®å½•ä¸‹çš„*.shæ–‡ä»¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œç³»ç»Ÿä¸Šåªå®‰è£…ä¸€ä»½ï¼Œä¾›æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨ï¼Œå»ºè®®åœ¨/etc/profile.dä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„xxx.shï¼Œé…ç½®ç¯å¢ƒå˜é‡ã€‚ ~/.bashrc:æ˜¯ç”¨æˆ·ç›¸å…³çš„ç»ˆç«¯ï¼ˆshellï¼‰çš„ç¯å¢ƒè®¾ç½®ï¼Œé€šå¸¸æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯æ—¶ï¼Œé»˜è®¤ä¼šloadé‡Œé¢çš„è®¾ç½®ï¼Œåœ¨è¿™é‡Œçš„è®¾ç½®ä¸å½±å“å…¶å®ƒäººã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å™¨å¤šä¸ªå¼€å‘è€…ä½¿ç”¨ï¼Œå¤§å®¶éƒ½éœ€è¦æœ‰è‡ªå·±çš„sdkå®‰è£…å’Œè®¾ç½®ï¼Œé‚£ä¹ˆæœ€å¥½å°±æ˜¯è®¾ç½®å®ƒã€‚ /etc/bashrc: æ˜¯ç³»ç»Ÿå…¨å±€é’ˆå¯¹ç»ˆç«¯ç¯å¢ƒçš„è®¾ç½®ï¼Œä¿®æ”¹äº†å®ƒï¼Œä¼šå½±å“æ‰€æœ‰ç”¨æˆ·çš„ç»ˆç«¯ç¯å¢ƒï¼Œè¿™é‡Œä¸€èˆ¬é…ç½®ç»ˆç«¯å¦‚ä½•ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’çš„å¢å¼ºåŠŸèƒ½ç­‰ï¼ˆæ¯”å¦‚sudoæç¤ºã€å‘½ä»¤æ‰¾ä¸åˆ°æç¤ºå®‰è£…ä»€ä¹ˆåŒ…ç­‰ï¼‰ï¼Œæ–°å¼€çš„ç»ˆç«¯ï¼Œå·²ç»loadäº†è¿™ä¸ªé…ç½®ï¼Œæœ€åæ‰loadç”¨æˆ·è‡ªå·±çš„ ~/.bashrcã€‚ ~/.bash_profile:æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯,å½“ç”¨æˆ·ç™»å½•æ—¶,è¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡!é»˜è®¤æƒ…å†µä¸‹,ä»–è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡,æ‰§è¡Œç”¨æˆ·çš„.bashrcæ–‡ä»¶. ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:1:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#æ°¸ä¹…å˜é‡"},{"categories":null,"content":"swapåˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶,å¤§å°2Gï¼Œcountä»£è¡¨å¤§å°ã€‚ cd /var sudo dd if=/dev/zero of=swapfile bs=1024 count=2000000 chmod 0600 swapfile sudo mkswap swapfile #æŒ‚è½½ï¼š sudo swapon /var/swapfile #å¸è½½ï¼š # sudo swapoff /var/swapfile å¼€æœºè‡ªå·±æŒ‚è½½ å¼€æœºè‡ªåŠ¨æŒ‚è½½SWAPåˆ†åŒºï¼Œ ç¼–è¾‘ /etc/fstabï¼Œæœ«è¡Œæ·»åŠ ï¼š cat \u003c\u003c EOF \u003e /etc/fstab /var/swapfile swap swap defaults 0 0 EOF ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:2:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#swap"},{"categories":null,"content":"å‹ç¼©","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#å‹ç¼©"},{"categories":null,"content":"zipå°† /home/html/ è¿™ä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‰“åŒ…ä¸ºå½“å‰ç›®å½•ä¸‹çš„ html.zipï¼š zip -q -r html.zip /home/html zip *å°±å¯ä»¥å‹ç¼©å½“å‰æ–‡ä»¶å¤¹äº†ï¼Œä¸åˆ«çš„å‘½ä»¤æœ‰ç‚¹ä¸åŒï¼Œè¿™ä¸ªå‘½ä»¤ä¸èƒ½è¯†åˆ«./æˆ–.å¿…é¡»è¦* ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:1","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#zip"},{"categories":null,"content":"tarå‹ç¼© a.cæ–‡ä»¶ä¸ºtest.tar.gz touch a.c tar -czvf test.tar.gz a.c # a.c è§£å‹æ–‡ä»¶ tar -xzvf test.tar.gz #a.c ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:3:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#tar"},{"categories":null,"content":"ç›‘æ§","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:4:0","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#ç›‘æ§"},{"categories":null,"content":"æŸ¥çœ‹ç½‘ç»œæµé‡nload ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:4:1","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#æŸ¥çœ‹ç½‘ç»œæµé‡"},{"categories":null,"content":"ä»»åŠ¡ç®¡ç†å™¨top htop ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:4:2","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#ä»»åŠ¡ç®¡ç†å™¨"},{"categories":null,"content":"æŸ¥çœ‹ç«¯å£å ç”¨lsof -i:ç«¯å£å· netstat -ntlp //æŸ¥çœ‹å½“å‰æ‰€æœ‰tcpç«¯å£ netstat -ntulp | grep 80 //æŸ¥çœ‹æ‰€æœ‰80ç«¯å£ä½¿ç”¨æƒ…å†µ netstat -ntulp | grep 3306 //æŸ¥çœ‹æ‰€æœ‰3306ç«¯å£ä½¿ç”¨æƒ…å†µ ","date":"2022-02-18","objectID":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/:4:3","series":null,"tags":null,"title":"LinuxåŸºæœ¬å‘½ä»¤","uri":"/posts/draft/linux%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/#æŸ¥çœ‹ç«¯å£å ç”¨"},{"categories":null,"content":"åœ¨ kibana.ymlé…ç½®æ–‡ä»¶ä¸­åŠ ä¸€è¡Œ docker exec -it -c efk-kibana-1 cat i18n.locale: \"zh-CN\" docker exec -ti kib sh -c \"cat \u003c\u003c EOF \u003e\u003e config/kibana.yml i18n.locale: \\\"zh-CN\\\" EOF\" é‡å¯kibana docker restart kib ","date":"2022-02-18","objectID":"/posts/middleware/elastic/kibana%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:0:0","series":null,"tags":["elastic"],"title":"Kibanaæ”¹ä¸­æ–‡","uri":"/posts/middleware/elastic/kibana%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#"},{"categories":null,"content":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨https://www.elastic.co/guide/en/elasticsearch/reference/8.0/getting-started.html å®˜æ–¹æ–‡æ¡£ Quick start ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:0:0","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#elasticsearch80åŸºæœ¬ä½¿ç”¨"},{"categories":null,"content":"ç®€ä»‹é¦–å…ˆä»‹ç»å‡ ä¸ªæ¦‚å¿µï¼Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œæ‹¿æ•°æ®åº“åšç±»æ¯” ç´¢å¼•ç›¸å½“äºè¡¨ mappings properties ç›¸å½“äºä¼ ç»Ÿæ•°æ®åº“ä¸­çš„è¡¨å®šä¹‰ ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:0","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#ç®€ä»‹"},{"categories":null,"content":"ä¸¾ä¸ªä¾‹å­å‡è®¾æˆ‘ç°åœ¨è¦åˆ›å»ºä¸€å¼ å«åštopicçš„è¡¨ï¼Œæœ‰2ä¸ªå­—æ®µï¼Œtopicå’Œanswer,ç±»å‹æ˜¯text ä¸åŒçš„æ˜¯elasticä¸ä¼šä¸­æ–‡åˆ†è¯ï¼Œæ‰€ä»¥è¦æ·»åŠ åˆ†è¯å™¨ï¼Œå¦‚ikåˆ†è¯å™¨ï¼Œæ‰€ä»¥è¦æ·»åŠ analyzerè¿™ä¸ªå­—æ®µ PUT topic è¯·æ±‚ä½“ { \"mappings\": { \"properties\": { \"topic\": { \"type\": \"text\", \"analyzer\": \"ik_smart\" }, \"answer\": { \"type\": \"text\", \"analyzer\": \"ik_smart\" } } } } ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:1:1","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#ä¸¾ä¸ªä¾‹å­"},{"categories":null,"content":"esé…ç½®ç”¨æˆ·åå¯†ç  ä¿®æ”¹é…ç½®æ–‡ä»¶./config/elasticsearch.yml docker exec es bash cat Â« EOF \u003e ./config/elasticsearch.yml xpack.security.enabled: true xpack.security.transport.ssl.enabled: true EOF xpack.security.enabled: true xpack.security.transport.ssl.enabled: true æ‰§è¡Œ ./bin/elasticsearch-setup-passwords interactive è®¾ç½®kibana.yml elasticsearch.username: \"elastic\" elasticsearch.password: \"xxx\" ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:2:0","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#esé…ç½®ç”¨æˆ·åå¯†ç "},{"categories":null,"content":"åˆ›å»ºç´¢å¼•PUT {{name}} è¯·æ±‚ä½“ { \"mappings\": { \"properties\": { \"topic\": { \"type\": \"text\", \"analyzer\": \"ik_smart\" }, \"answer\": { \"type\": \"text\", \"analyzer\": \"ik_smart\" } } } } ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:3:0","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#åˆ›å»ºç´¢å¼•"},{"categories":null,"content":"æ·»åŠ æ•°æ®","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:4:0","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#æ·»åŠ æ•°æ®"},{"categories":null,"content":"å•ä¸ªæ•°æ®POST topic/_doc { \"topic\": \"1+1=2\", \"answer\": \"æ­£ç¡®\" } #or POST logs-my_app-default/_doc { \"@timestamp\": \"2099-05-06T16:21:15.000Z\", \"event\": { \"original\": \"192.0.2.42 - - [06/May/2099:16:21:15 +0000] \\\"GET /images/bg.jpg HTTP/1.0\\\" 200 24736\" } } ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:4:1","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#å•ä¸ªæ•°æ®"},{"categories":null,"content":"å¤šä¸ªæ•°æ®PUT logs-my_app-default/_bulk { \"create\": { } } { \"@timestamp\": \"2099-05-07T16:24:32.000Z\", \"event\": { \"original\": \"192.0.2.242 - - [07/May/2020:16:24:32 -0500] \\\"GET /images/hm_nbg.jpg HTTP/1.0\\\" 304 0\" } } { \"create\": { } } { \"@timestamp\": \"2099-05-08T16:25:42.000Z\", \"event\": { \"original\": \"192.0.2.255 - - [08/May/2099:16:25:42 +0000] \\\"GET /favicon.ico HTTP/1.0\\\" 200 3638\" } } #or POST topic/_bulk {\"index\":{\"_index\":\"topic\",\"_id\":\"1\"}} {\"topic\":\"ä¹Œé²æœ¨é½æƒŠç°å½©è™¹\",\"answer\":\"ä»Šæ—¥åˆåä¸€åœºå¤§é›¨è¿‡åï¼Œä¹Œé²æœ¨é½å¤©ç©ºä¸Šå‡ºç°ä¸€é“å½©è™¹\"} ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:4:2","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#å¤šä¸ªæ•°æ®"},{"categories":null,"content":"æœç´¢æ•°æ®GET logs-my_app-default/_search { \"query\": { \"match_all\": { } }, \"fields\": [ \"@timestamp\" ], \"_source\": false, \"sort\": [ { \"@timestamp\": \"desc\" } ] } #or GET topic/_search { \"size\": 6, \"query\": { \"multi_match\": { \"query\": \"1+1\", \"fields\": [ \"topic^2\", \"answer\" ] } } } ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:4:3","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#æœç´¢æ•°æ®"},{"categories":null,"content":"åˆ é™¤æ•°æ®DELETE _data_stream/logs-my_app-default ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/:4:4","series":null,"tags":["elastic"],"title":"Elasticsearch8.0åŸºæœ¬ä½¿ç”¨","uri":"/posts/middleware/elastic/elastic%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/#åˆ é™¤æ•°æ®"},{"categories":null,"content":"eså®‰è£…esver=8.0.0 # è®¾ç½®ç³»ç»Ÿå†…å­˜ sudo sysctl -w vm.max_map_count=262144 # docker pull elasticsearch:$esver docker run --name es --net elastic -p 9200:9200 -p 9300:9300 -it docker.elastic.co/elasticsearch/elasticsearch:8.0.0 eså°±å¯åŠ¨äº† è®¿é—®https://ip:9200å°±èƒ½çœ‹åˆ°ï¼Œæ˜¯éœ€è¦å¯†ç çš„ï¼Œå¯†ç å¯ä»¥ä»å‘½ä»¤è¡Œçœ‹åˆ°ï¼Œå¦‚æœæ˜¯armåˆ™è¦æ‰‹åŠ¨ç”Ÿæˆ ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8ik%E5%88%86%E8%AF%8D%E5%99%A8/:1:0","series":null,"tags":["elastic"],"title":"Elasticsearch8.0å®‰è£…åŠä½¿ç”¨ikåˆ†è¯å™¨","uri":"/posts/middleware/elastic/elastic%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8ik%E5%88%86%E8%AF%8D%E5%99%A8/#eså®‰è£…"},{"categories":null,"content":"è®¾ç½®å¯†ç docker exec -it es /usr/share/elasticsearch/bin/elasticsearch-reset-password ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8ik%E5%88%86%E8%AF%8D%E5%99%A8/:1:1","series":null,"tags":["elastic"],"title":"Elasticsearch8.0å®‰è£…åŠä½¿ç”¨ikåˆ†è¯å™¨","uri":"/posts/middleware/elastic/elastic%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8ik%E5%88%86%E8%AF%8D%E5%99%A8/#è®¾ç½®å¯†ç "},{"categories":null,"content":"åˆ†è¯å™¨å®‰è£…esver=7.14.2 #å®‰è£…è§£å‹ apt install unzip -y yum install unzip -y # ä¸‹è½½åˆ†è¯å™¨ curl -L -o ik.zip https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v$esver/elasticsearch-analysis-ik-$esver.zip # wget gh.dlpu.workers.dev/https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v$esver/elasticsearch-analysis-ik-$esver.zip mkdir ik unzip -d ik ik.zip #å°†ikç§»åŠ¨åˆ°å®¹å™¨ä¸­ docker cp ik es:/usr/share/elasticsearch/plugins rm -rf ik.zip ik docker restart es ","date":"2022-02-18","objectID":"/posts/middleware/elastic/elastic%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8ik%E5%88%86%E8%AF%8D%E5%99%A8/:2:0","series":null,"tags":["elastic"],"title":"Elasticsearch8.0å®‰è£…åŠä½¿ç”¨ikåˆ†è¯å™¨","uri":"/posts/middleware/elastic/elastic%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8ik%E5%88%86%E8%AF%8D%E5%99%A8/#åˆ†è¯å™¨å®‰è£…"},{"categories":null,"content":"yarn// æŸ¥è¯¢æº yarn config get registry // æ›´æ¢å›½å†…æº yarn config set registry https://registry.npm.taobao.org/ // æ¢å¤å®˜æ–¹æº yarn config set registry https://registry.yarnpkg.com // åˆ é™¤æ³¨å†Œè¡¨ yarn config delete registry ","date":"2022-02-15","objectID":"/posts/front/npm%E5%92%8Cyarn%E6%8D%A2%E6%BA%90/:1:0","series":null,"tags":["å›½å†…","å‰ç«¯"],"title":"Npmå’Œyarnæ¢æº","uri":"/posts/front/npm%E5%92%8Cyarn%E6%8D%A2%E6%BA%90/#yarn"},{"categories":null,"content":"npm æ³¨æ„ npm æ›´æ¢å›½å†…é•œåƒæºä¹‹åï¼Œå°†æ— æ³•å†ä½¿ç”¨ npm search å‘½ä»¤ï¼Œéœ€è¦æ¢å¤ä¸ºå®˜æ–¹æºæ‰å¯ä»¥ä½¿ç”¨ï¼Œå¦‚æœæ¢å¤å®˜æ–¹æºåè¿˜ä¸å¯ä½¿ç”¨ï¼Œè¿è¡Œåˆ é™¤æ³¨å†Œè¡¨å‘½ä»¤åé‡è¯•å³å¯ã€‚ // æŸ¥è¯¢æº npm config get registry // æ›´æ¢å›½å†…æº npm config set registry https://registry.npm.taobao.org/ // æ¢å¤å®˜æ–¹æº npm config set registry https://registry.npmjs.org // åˆ é™¤æ³¨å†Œè¡¨ npm config delete registry ","date":"2022-02-15","objectID":"/posts/front/npm%E5%92%8Cyarn%E6%8D%A2%E6%BA%90/:2:0","series":null,"tags":["å›½å†…","å‰ç«¯"],"title":"Npmå’Œyarnæ¢æº","uri":"/posts/front/npm%E5%92%8Cyarn%E6%8D%A2%E6%BA%90/#npm"},{"categories":null,"content":"å‰è¨€railwayæ˜¯ä¸€ä¸ªå…è´¹çš„PaaSå¹³å°https://railway.app,æ¯æœˆæœ‰5ç¾å…ƒå…è´¹é¢åº¦ï¼Œå¦‚æœæ·»åŠ æ”¯ä»˜æ–¹å¼åˆ™æœ‰5ç¾å…ƒå…è´¹é¢åº¦ ","date":"2022-02-12","objectID":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/:1:0","series":null,"tags":null,"title":"éƒ¨ç½²cloudreveè‡³railway.app","uri":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/#å‰è¨€"},{"categories":null,"content":"ç”Ÿæˆè‡ªå·±çš„githubä»“åº“æ¼”ç¤ºä»“åº“ https://github.com/lyj0309/pan ","date":"2022-02-12","objectID":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/:2:0","series":null,"tags":null,"title":"éƒ¨ç½²cloudreveè‡³railway.app","uri":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/#ç”Ÿæˆè‡ªå·±çš„githubä»“åº“"},{"categories":null,"content":"ç›®å½•è¯´æ˜cr è¿™ä¸ªæ–‡ä»¶æ˜¯cloudreveçš„linuxå¯æ‰§è¡Œæ–‡ä»¶,æˆ‘ç”¨çš„3.4ç‰ˆæœ¬ Dockerfileï¼Œrailwayä¼šé€šè¿‡è¿™ä¸ªè‡ªåŠ¨æ„å»ºé•œåƒ FROMalpineENV PUID=1000 ENV PGID=1000 ENV TZ=\"Asia/Shanghai\"LABEL MAINTAINER=\"lyj0309\"WORKDIR/app# ADD config.ini .ADD cr .RUN echo \"\u003e\u003e\u003e\u003e\u003e\u003e update dependencies\" \\ \u0026\u0026 apk update \\ \u0026\u0026 apk add tzdata gcompat\\ \u0026\u0026 echo \"\u003e\u003e\u003e\u003e\u003e\u003e set up timezone\" \\ \u0026\u0026 cp /usr/share/zoneinfo/${TZ} /etc/localtime \\ \u0026\u0026 echo ${TZ} \u003e /etc/timezone \\ \u0026\u0026 echo \"\u003e\u003e\u003e\u003e\u003e\u003e fix premission\" \\ \u0026\u0026 chmod +x /app/crEXPOSE5212# ENTRYPOINT [\"/app/cr\",\"-c\",\"/app/config.ini\"] ENTRYPOINT [\"/app/cr\"] ç¥å¥‡çš„æ˜¯ï¼Œä¼¼ä¹ç”±äºæ»¥ç”¨ï¼Œrailwayå·²ç»å±è”½äº†ä¸€åˆ‡æœ‰å…³cloudreveçš„ä¸œè¥¿ æ³¨æ„ï¼š ä»“åº“åå­—ä¸è¦åŒ…å«cloudreve ä»“åº“æ–‡ä»¶åä¸è¦åŒ…å«cloudreve ä»“åº“æ–‡ä»¶å†…å®¹ä¸è¦åŒ…å«cloudreve ","date":"2022-02-12","objectID":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/:2:1","series":null,"tags":null,"title":"éƒ¨ç½²cloudreveè‡³railway.app","uri":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/#ç›®å½•è¯´æ˜"},{"categories":null,"content":"å®‰è£…åœ¨railwayä¸­å¯¼å…¥ä»“åº“ æ¥ç€ä¼šè‡ªåŠ¨æ„å»ºappï¼Œæ„å»ºæˆåŠŸåï¼Œåœ¨è¿è¡Œæ—¥å¿—é‡Œé¢æŸ¥çœ‹åˆå§‹å¯†ç  ç³»ç»Ÿåº”è¯¥ä¼šæç¤ºä¿®æ”¹ç«¯å£ï¼Œå¦‚æœæ²¡æœ‰åˆ™è‡ªå·±ä¿®æ”¹ ç«¯å£ä¸º5212 ","date":"2022-02-12","objectID":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/:3:0","series":null,"tags":null,"title":"éƒ¨ç½²cloudreveè‡³railway.app","uri":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/#å®‰è£…"},{"categories":null,"content":"æ£€éªŒrailwayä¼šè‡ªåŠ¨é€ä½ ä¸ªåŸŸåè®¿é—® æƒ³æ·»åŠ è‡ªå®šä¹‰åŸŸåä¹Ÿæ˜¯å¯ä»¥çš„ ","date":"2022-02-12","objectID":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/:4:0","series":null,"tags":null,"title":"éƒ¨ç½²cloudreveè‡³railway.app","uri":"/posts/cloud/%E9%83%A8%E7%BD%B2cloudreve%E8%87%B3railway.app/#æ£€éªŒ"},{"categories":null,"content":"å¸‚é¢ä¸Šæœ‰å¾ˆå¤šåšå®¢çš„ç”Ÿæˆæ¡†æ¶ï¼Œhugo, wordpress, hexo æˆ‘é€‰æ‹©hugoæœ‰ä»¥ä¸‹å‡ ç‚¹ æˆ‘æ˜¯gopher hugoç”Ÿæˆç½‘ç«™å¿« é…ç½®ç®€å• å®˜æ–¹ç½‘ç«™https://gohugo.io/ ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#"},{"categories":null,"content":"å®‰è£…","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:0","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#å®‰è£…"},{"categories":null,"content":"winè¿™é‡Œæ¨èä½¿ç”¨chocoå®‰è£…, ç›´æ¥ choco install hugoå³å¯ ps: æœ€å¥½æŠŠä»£ç†æ‰“å¼€ï¼Œchocoä¼šè‡ªåŠ¨èµ°ä»£ç† ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:1","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#win"},{"categories":null,"content":"ç”Ÿæˆç«™ç‚¹hugo new site quickstart è¿™æ—¶å€™å°±ä¼šç”Ÿæˆä¸€ä¸ªåå«quickstartçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«äº†hugoç«™ç‚¹çš„ä¸€äº›ä¸œè¥¿ ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:2","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#ç”Ÿæˆç«™ç‚¹"},{"categories":null,"content":"æ·»åŠ ä¸»é¢˜githubä¸Šé¢æœ‰è®¸è®¸å¤šå¤šçš„ä¸»é¢˜ï¼Œç›´æ¥å»ä¸Šé¢æœç´¢å³å¯ https://github.com/search?q=hugo+theme æ‰¾åˆ°å¿ƒä»ªçš„ä¸»é¢˜ï¼Œä¸‹è½½æˆ–cloneåˆ°themeæ–‡ä»¶å¤¹ ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:3","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#æ·»åŠ ä¸»é¢˜"},{"categories":null,"content":"æ·»åŠ é¡µé¢hugo new /posts/{name}.md nameæ˜¯ä½ æ–‡ç« çš„åå­—ï¼Œæ”¯æŒä¸­æ–‡ï¼Œè¿è¡Œåä¼šåœ¨æ–‡ä»¶å¤¹ä¸‹é¢ç”Ÿæˆmdæ–‡ä»¶ï¼Œç›´æ¥ç¼–å†™å³å¯ ps:ç°åœ¨ç”Ÿæˆçš„é¡µé¢æ˜¯è‰ç¨¿é¡µé¢ï¼Œå½“ä½ å†™å®Œåå»æ‰draft: trueè¿™ä¸€è¡Œå³å¯å˜æˆæ­£å¼é¡µé¢ ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:4","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#æ·»åŠ é¡µé¢"},{"categories":null,"content":"é…ç½®ä¸»é¢˜åœ¨hugoç«™ç‚¹çš„è·Ÿæ–‡ä»¶å¤¹ä¸‹é¢æœ‰ä¸€ä¸ªconfig.tomlçš„é…ç½®æ–‡ä»¶ï¼ŒæŠŠé‡Œé¢çš„themeæ”¹æˆä½ ä¸‹è½½çš„ä¸»é¢˜ æ¯ä¸ªä¸»é¢˜çš„é…ç½®æ–‡ä»¶éƒ½ä¸ä¸€æ ·ï¼Œä½ éœ€è¦ä»”ç»†æµè§ˆä¸»é¢˜çš„æ•™ç¨‹ ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:5","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#é…ç½®ä¸»é¢˜"},{"categories":null,"content":"ç”Ÿæˆé¢„è§ˆhugo server -Då³å¯ç”Ÿæˆé¢„è§ˆï¼ŒåŒ…å«è‰ç¨¿ hugo serverä¸åŒ…å«è‰ç¨¿ è¿è¡Œåä¼šç”Ÿæˆä¸€ä¸ªåœ°å€ï¼Œè®¿é—®å³å¯é¢„è§ˆ ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:6","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#ç”Ÿæˆé¢„è§ˆ"},{"categories":null,"content":"ç”Ÿæˆé™æ€æ–‡ä»¶hugo -DåŒ…å«è‰ç¨¿ hugo ä¸åŒ…å«è‰ç¨¿ è¿è¡Œåï¼Œåœ¨ç›®å½•ä¸‹é¢ä¼šç”Ÿåƒä¸€ä¸ªpublicçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å³ä½¿æˆå“ ","date":"2022-02-11","objectID":"/posts/hugo%E5%AE%89%E8%A3%85/:1:7","series":null,"tags":["other"],"title":"Hugoå®‰è£…ä¸ä½¿ç”¨","uri":"/posts/hugo%E5%AE%89%E8%A3%85/#ç”Ÿæˆé™æ€æ–‡ä»¶"},{"categories":null,"content":"å‰è¨€å¸‚é¢ä¸Šæœ‰è®¸è®¸å¤šå¤šçš„é™æ€ç½‘ç«™éƒ¨ç½²ï¼Œvercel,netify,aws,azure,github pagesÂ·Â·Â· æˆ‘ç»è¿‡å¤šæ–¹è€ƒè™‘ï¼Œæœ€ç»ˆé€‰æ‹©äº†azureçš„é™æ€ç½‘ç«™éƒ¨ç½²ã€‚ä¸‹é¢æ˜¯ä¸€å¼ å¯¹ç…§è¡¨ ps: éƒ½æœ‰å…è´¹é¢åº¦,azureæˆ‘ç”¨çš„æ˜¯å¤–å¸å¡æ³¨å†Œçš„ï¼Œåº”è¯¥å­¦ç”Ÿè´¦å·ä¹Ÿå¯ä»¥ azure vercel github pages åœ°åŒº\u0026é€Ÿåº¦ å¯é€‰é¦™æ¸¯ï¼Œé€Ÿåº¦èµ·é£ ç¾å›½awsï¼Œé€Ÿåº¦ä¸€èˆ¬èˆ¬ é€Ÿåº¦ä¸æ…¢ï¼Œä½†github.ioç»å¸¸é˜»æ–­ å…è´¹æµé‡ 100G 100G è‡ªå®šä¹‰åŸŸå 2ä¸ª æ— é™åˆ¶ æ— é™åˆ¶ è‡ªåŠ¨ssl æœ‰ æœ‰ æœ‰ serverless Azure Functions æœ‰ æ—  æœ€å¤§åº”ç”¨å¤§å° 250mb 15,000ä¸ªæ–‡ä»¶ æ—  vercel azure firebase ç»¼ä¸Šï¼Œé™¤äº†åœ°åŒºå’Œé€Ÿåº¦ä¹‹å¤–ï¼Œå…¶ä»–çš„ä¹Ÿå·®ä¸å¤šï¼Œè€Œä¸”ï¼Œé¦™æ¸¯çš„ä¸€èˆ¬ä¹Ÿä¸ä¼šé˜»æ–­ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©azure ","date":"2022-02-11","objectID":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/:1:0","series":null,"tags":["other","ç™½å«–"],"title":"Hugoå…è´¹éƒ¨ç½²azure","uri":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/#å‰è¨€"},{"categories":null,"content":"å®‰è£…hugoå’Œç”Ÿæˆä¸å†™åšå®¢ç‚¹è¿™é‡Œ ","date":"2022-02-11","objectID":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/:2:0","series":null,"tags":["other","ç™½å«–"],"title":"Hugoå…è´¹éƒ¨ç½²azure","uri":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/#å®‰è£…hugoå’Œç”Ÿæˆä¸å†™åšå®¢"},{"categories":null,"content":"éƒ¨ç½²è‡³azureå®˜æ–¹æ–‡æ¡£ æˆ‘é‡‡ç”¨çš„æ˜¯githubå‚¨å­˜ ","date":"2022-02-11","objectID":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/:3:0","series":null,"tags":["other","ç™½å«–"],"title":"Hugoå…è´¹éƒ¨ç½²azure","uri":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/#éƒ¨ç½²è‡³azure"},{"categories":null,"content":"å°†ç«™ç‚¹æ¨é€è‡³github åˆ›å»ºgithubå‚¨å­˜åº“ git remote add origin https://github.com/\u003cYOUR_USER_NAME\u003e/hugo-static-app git push --set-upstream origin main ","date":"2022-02-11","objectID":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/:3:1","series":null,"tags":["other","ç™½å«–"],"title":"Hugoå…è´¹éƒ¨ç½²azure","uri":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/#å°†ç«™ç‚¹æ¨é€è‡³github"},{"categories":null,"content":"éƒ¨ç½²æ‰“å¼€Azureæ§åˆ¶å° https://portal.azure.com/#create/Microsoft.StaticApp æ–°å»ºwebåº”ç”¨ ä¸»è¦æ³¨æ„ä¸¤ç‚¹ åœ°åŒºé€‰æ‹©east aisa(é¦™æ¸¯) ä½¿ç”¨githubç™»å½•ï¼Œç„¶åé€‰æ‹©ä½ çš„åº“ ç‚¹å‡»åˆ›å»º è¿™æ—¶å€™azureå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªgithub actionï¼Œåœ¨.github\\workflows\\xxx.yml,ç„¶åä¼šè‡ªåŠ¨è¿è¡Œï¼Œå°±éƒ¨ç½²ä¸Šå»äº† ","date":"2022-02-11","objectID":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/:3:2","series":null,"tags":["other","ç™½å«–"],"title":"Hugoå…è´¹éƒ¨ç½²azure","uri":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/#éƒ¨ç½²"},{"categories":null,"content":"è‡ªå®šä¹‰åŸŸååœ¨ä½ çš„æ§åˆ¶å°ä¸‹é¢æœ‰ä¸ªè‡ªå®šä¹‰åŸŸçš„æŒ‰é’®ï¼Œç‚¹å‡»ï¼Œåœ¨ç‚¹å‡»æ·»åŠ å³å¯ ","date":"2022-02-11","objectID":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/:4:0","series":null,"tags":["other","ç™½å«–"],"title":"Hugoå…è´¹éƒ¨ç½²azure","uri":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/#è‡ªå®šä¹‰åŸŸå"},{"categories":null,"content":"æ³¨æ„äº‹é¡¹åœ¨æˆ‘çš„ç½‘ç«™å®é™…éƒ¨ç½²ä¸­ï¼Œå› ä¸ºé‡‡ç”¨äº†atomic-algoliaè¿™ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥åœ¨æ ¹ç›®å½•ä¸‹æœ‰package.jsonæ–‡ä»¶ï¼Œè€Œazureæ·»åŠ çš„é‚£ä¸ªgithub actionæ–‡ä»¶azure-static-web-appsxxx.ymlå®é™…ä¸Šå¹¶æ²¡æœ‰æŒ‡å®šç¼–è¯‘ç¯å¢ƒï¼Œå®Œå…¨æ˜¯ç”±oryxè¿™ä¸ªç¼–è¯‘å™¨çŒœçš„ï¼Œæ‰€ä»¥è¿™ç©æ„çŒœæˆ‘æ˜¯npmé¡¹ç›®ï¼Œè€Œæˆ‘æ˜¯hugo,å¯¼è‡´äº†error è§£å†³åŠæ³•å°±æ˜¯åœ¨github actionæ–‡ä»¶åŠ ä¸€å¥ï¼Œrm package.json ","date":"2022-02-11","objectID":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/:5:0","series":null,"tags":["other","ç™½å«–"],"title":"Hugoå…è´¹éƒ¨ç½²azure","uri":"/posts/hugo%E5%85%8D%E8%B4%B9%E9%83%A8%E7%BD%B2azure/#æ³¨æ„äº‹é¡¹"},{"categories":null,"content":"//459. é‡å¤çš„å­å­—ç¬¦ä¸² func repeatedSubstringPattern(s string) bool { l := len(s) for i := 1; i \u003c= l/2; i++ { if l%i == 0 { subs := s[:i] t := true for k := 0; k \u003c l/i; k++ { if s[k*i:k*i+i] != subs { t = false break } } if t { return true } } } return false } //1447. æœ€ç®€åˆ†æ•° func simplifiedFractions(n int) (res []string) { for i := 1; i \u003c n; i++ { for k := n; k \u003e 1; k-- { if i \u003e= k { break } //åˆ¤æ–­åŒ–ç®€ for f := 2; f \u003c= i; f++ { if i%f == 0 \u0026\u0026 k%f == 0 { goto this } } res = append(res, strconv.Itoa(i)+\"/\"+strconv.Itoa(k)) this: } } return } //268. ä¸¢å¤±çš„æ•°å­— func missingNumber(nums []int) int { arr := make([]bool, len(nums)) for _, num := range nums { arr[num] = true } for i, b := range arr { if b == false { return i } } return 0 } //258. å„ä½ç›¸åŠ  func addDigits(num int) int { for { arr := getBit(num) num = 0 for _, i := range arr { num += i } if num \u003c 10 { return num } } } //242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯ func isAnagram(s string, t string) bool { m := map[int32]int{} for _, i := range s { m[i]++ } for _, i := range t { m[i]-- } for _, i := range m { if i != 0 { return false } } return true } //228. æ±‡æ€»åŒºé—´ func summaryRanges(nums []int) (res []string) { if len(nums) == 0 { return } k := 0 for i := 0; i \u003c len(nums)-1; i++ { if nums[i+1]-nums[i] != 1 { //ç”Ÿæˆå•ä¸ª r := strconv.Itoa(nums[i]) if k != i { r = strconv.Itoa(nums[k]) + \"-\u003e\" + r } res = append(res, r) k = i + 1 } } if k == len(nums)-1 { res = append(res, strconv.Itoa(nums[len(nums)-1])) } else { res = append(res, strconv.Itoa(nums[k])+\"-\u003e\"+strconv.Itoa(nums[len(nums)-1])) } return } type MyStack struct { arr []int } //225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ func Constructor() MyStack { return MyStack{} } func (s *MyStack) Push(x int) { s.arr = append(s.arr, x) } func (s *MyStack) Pop() int { a := s.arr[len(s.arr)] s.arr = s.arr[:len(s.arr)-1] return a } func (s *MyStack) Top() int { return s.arr[len(s.arr)] } func (s *MyStack) Empty() bool { return len(s.arr) == 0 } //219. å­˜åœ¨é‡å¤å…ƒç´  II func containsNearbyDuplicate(nums []int, k int) bool { m := make(map[int]int) for i, num := range nums { if i-m[num] \u003c= k \u0026\u0026 m[num] != 0 { return true } m[num] = i } return false } func myPow(x float64, n int) float64 { return math.Pow(x, float64(n)) } func majorityElement(nums []int) int { m := make(map[int]int) for _, num := range nums { m[num]++ if m[num] \u003e (len(nums) / 2) { return num } } return 0 } //168. Excelè¡¨åˆ—åç§° func convertToTitle(columnNumber int) string { ans := []byte{} for columnNumber \u003e 0 { a0 := (columnNumber-1)%26 + 1 ans = append(ans, 'A'+byte(a0-1)) columnNumber = (columnNumber - a0) / 26 } for i, n := 0, len(ans); i \u003c n/2; i++ { ans[i], ans[n-1-i] = ans[n-1-i], ans[i] } return string(ans) } //1996. æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡ func numberOfWeakCharacters(properties [][]int) (ans int) { sort.Slice(properties, func(i, j int) bool { p, q := properties[i], properties[j] return p[0] \u003c q[0] || p[0] == q[0] \u0026\u0026 p[1] \u003e q[1] }) var st []int for _, p := range properties { for len(st) \u003e 0 \u0026\u0026 st[len(st)-1] \u003c p[1] { st = st[:len(st)-1] ans++ } st = append(st, p[1]) } return } //171. Excel è¡¨åˆ—åºå· func titleToNumber(columnTitle string) (res int) { l := len(columnTitle) k := 1 for i := l; i \u003e 0; i-- { res += int(columnTitle[i-1]-64) * k k *= 26 } return } //202. å¿«ä¹æ•° func isHappy(n int) bool { m := make(map[int]bool) for { arr := getBit(n) n = 0 for _, i := range arr { n += i * i } if m[n] == true { return false } m[n] = true if n \u003c= 3 { if n == 1 { return true } else { return false } } } } //217. å­˜åœ¨é‡å¤å…ƒç´  func containsDuplicate(nums []int) bool { if len(nums) \u003e 0 { for k, v := range nums { for _, vv := range nums[k+1:] { if v == vv { return true } } } } return false } ","date":"2022-02-10","objectID":"/posts/go/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/:0:0","series":null,"tags":null,"title":"åŠ›æ‰£åˆ·é¢˜","uri":"/posts/go/%E5%8A%9B%E6%89%A3%E5%88%B7%E9%A2%98/#"},{"categories":null,"content":"å‰è¨€æƒ³æŠŠåšå®¢ä½œä¸ºè‡ªå·±çš„ç¬”è®°ï¼Œç”¨è¿‡æœ‰é“äº‘ç¬”è®°å’Œonenoteï¼Œhugoç¾ä¸­ä¸è¶³çš„åœ°æ–¹å°±æ˜¯æœç´¢ä¸äº†ç¬”è®°ï¼Œç›´åˆ°åé¢æˆ‘å‘ç°å…¶å®æ˜¯å¯ä»¥æœç´¢çš„ï¼Œæœç´¢æ–¹å¼ä¹Ÿæ˜¯å¤šç§å¤šæ ·ï¼Œä¸»è¦æœ‰3ç§ elastic lunr algolia æ˜“æ­å»ºæ€§ éš¾ ç®€å• ä¸­ç­‰ æ”¶è´¹ è‡ªå»ºæœåŠ¡å™¨æˆ–è€…ä¸€äº›æä¾›å•†ï¼ˆæœ‰å…è´¹é¢åº¦ï¼‰ å…è´¹ æ”¶è´¹ï¼ˆæœ‰å…è´¹é¢åº¦ï¼‰ æœç´¢é€Ÿåº¦ å¿« ä¸­ç­‰ï¼ˆåŸºäºæµè§ˆå™¨ï¼Œæ¯æ¬¡éœ€è¦ä¸‹è½½æ‰€æœ‰ç´¢å¼•ï¼‰ å¿« ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:1:0","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#å‰è¨€"},{"categories":null,"content":"é…ç½®algoliaè´¦å·","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:2:0","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#é…ç½®algoliaè´¦å·"},{"categories":null,"content":"æ³¨å†Œè´¦å·å®˜ç½‘https://www.algolia.com/ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:2:1","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#æ³¨å†Œè´¦å·"},{"categories":null,"content":"åˆ›å»ºåº”ç”¨è®°ä½è®¡åˆ’é€‰æ‹©free,1wçš„è¯·æ±‚å’Œ1wçš„è®°å½•åº”è¯¥æ˜¯å¤Ÿçš„ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:2:2","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#åˆ›å»ºåº”ç”¨"},{"categories":null,"content":"åˆ›å»ºç´¢å¼• ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:2:3","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#åˆ›å»ºç´¢å¼•"},{"categories":null,"content":"è·å–api keyå³ä¸Šè§’çš„ç”¨æˆ·-\u003esetting api key å…¶ä¸­ï¼ŒApplication ID å’Œ Search-Only API Key æ˜¯hugoæ‰€éœ€è¦çš„ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:2:4","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#è·å–api-key"},{"categories":null,"content":"é…ç½®hugoæˆ‘æ˜¯ç”¨çš„æ˜¯loveItä¸»é¢˜ï¼Œåœ¨è¿™ä¸ªä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­æœ‰é…ç½®æœç´¢è¿™ä¸ªé€‰é¡¹ # æœç´¢é…ç½® [params.search] enable = true # æœç´¢å¼•æ“çš„ç±»å‹ (\"lunr\", \"algolia\") type = \"algolia\" # æ–‡ç« å†…å®¹æœ€é•¿ç´¢å¼•é•¿åº¦ contentLength = 4000 # æœç´¢æ¡†çš„å ä½æç¤ºè¯­ placeholder = \"\" # æœ€å¤§ç»“æœæ•°ç›® maxResultLength = 10 # ç»“æœå†…å®¹ç‰‡æ®µé•¿åº¦ snippetLength = 50 # æœç´¢ç»“æœä¸­é«˜äº®éƒ¨åˆ†çš„ HTML æ ‡ç­¾ highlightTag = \"em\" # æ˜¯å¦åœ¨æœç´¢ç´¢å¼•ä¸­ä½¿ç”¨åŸºäº baseURL çš„ç»å¯¹è·¯å¾„ absoluteURL = false [params.search.algolia] index = \"blog\" appID = \"xxx\" searchKey = \"xxx\" å…¶ä¸­appIDå’ŒsearchKeyæ˜¯ä¸Šä¸€æ­¥æåˆ°çš„ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:3:0","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#é…ç½®hugo"},{"categories":null,"content":"ç´¢å¼•çš„ä¸Šä¼ è‡³æ­¤ï¼Œä½ çš„hugoå·²ç»å¯ä»¥ä½¿ç”¨algoliaæœç´¢äº†ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯algoliaå¹¶æ²¡æœ‰æ•°æ®ï¼Œå³ç´¢å¼•ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆç´¢å¼•ï¼Œå¹¶ä¸Šä¼ ç»™algoliaï¼Œå‘Šè¯‰ä»–æˆ‘ä»¬æœ‰å“ªäº›æ–‡ç« å†…å®¹ã€‚ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:4:0","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#ç´¢å¼•çš„ä¸Šä¼ "},{"categories":null,"content":"éè‡ªåŠ¨æ–¹å¼ï¼ˆä¸æ¨èï¼‰è¿è¡Œhugoåï¼Œåœ¨publicæ–‡ä»¶å¤¹ä¸‹é¢ä¼šç”Ÿæˆä¸€ä¸ªindex.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªå³æ˜¯ç´¢å¼•æ–‡ä»¶ï¼Œæ‰“å¼€algoliaç½‘ç«™ï¼Œä¸Šä¼ å³å¯ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:4:1","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#éè‡ªåŠ¨æ–¹å¼ä¸æ¨è"},{"categories":null,"content":"è‡ªåŠ¨æ–¹å¼ï¼ˆæ¨èï¼‰githubä¸Šé¢æœ‰ä¸ªnpmåŒ…ï¼Œç”¨æ¥è‡ªåŠ¨ä¸Šä¼ ç´¢å¼•https://github.com/chrisdmacrae/atomic-algoliaä½¿ç”¨è¿™ä¸ªåŒ…å³å¯ åœ¨ä½ çš„æ ¹ç›®å½•ä¸‹æ–°å»ºpackage.jsonæ–‡ä»¶å†™å…¥å¦‚ä¸‹ { \"scripts\": { \"algolia\": \"atomic-algolia\" } } æ·»åŠ github actionæ–‡ä»¶åˆ°.github\\workclows name:GitHub Pageson:push:branches:- main # Set a branch name to trigger deploymentpull_request:jobs:deploy:runs-on:ubuntu-20.04concurrency:group:${{ github.workflow }}-${{ github.ref }}steps:- uses:actions/checkout@v2with:submodules:true# Fetch Hugo themes (true OR recursive)fetch-depth:0# Fetch all history for .GitInfo and .Lastmod- name:Setup Hugouses:peaceiris/actions-hugo@v2with:hugo-version:'0.85.0'- name:Buildrun:hugo --minify- name:Use Node.jsuses:actions/setup-node@v1with:node-version:'12.x'- name:Install automic-algoliarun:| npm install atomic-algolianpm run algoliaenv:ALGOLIA_APP_ID:${{ secrets.ALGOLIA_APP_ID }}ALGOLIA_ADMIN_KEY:${{ secrets.ALGOLIA_ADMIN_KEY }}ALGOLIA_INDEX_NAME:${{ secrets.ALGOLIA_INDEX_NAME }}ALGOLIA_INDEX_FILE:\"./public/index.json\"æ·»åŠ actionçš„secrcts git pushå³å¯ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:4:2","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#è‡ªåŠ¨æ–¹å¼æ¨è"},{"categories":null,"content":"æ£€éªŒæ‰€æœ‰é…ç½®å¥½åï¼Œåœ¨ç«™ç‚¹å³ä¸Šæœ‰ä¸ªæœç´¢å›¾æ ‡ï¼Œç‚¹å‡»æœç´¢æŸ¥çœ‹ç»“æœ å“åº”é€Ÿåº¦è¿˜æ˜¯éå¸¸å¿«çš„ ","date":"2022-02-09","objectID":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/:5:0","series":null,"tags":null,"title":"Hugoä½¿ç”¨æ·»åŠ algoliaæœç´¢","uri":"/posts/hugo%E4%BD%BF%E7%94%A8%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2/#æ£€éªŒ"},{"categories":null,"content":"å®é™…ä¸Šï¼Œåˆ·æœºå­çš„åŸç†æ— éè¿‡ä¸€ä¼šå„¿å‘ä¸€ä¸ªåŒ…çœ‹çœ‹èƒ½å¼€é€šä¸ï¼Œä¸ºäº†ä¾¿æºä¸”è´¯å½»è½å®ç™½å«–ç²¾ç¥ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯railwayéƒ¨ç½²çš„ï¼Œä¸€ä¸ªå…è´¹çš„PaaSå¹³å°https://railway.app,æ¯æœˆæœ‰5ç¾å…ƒå…è´¹é¢åº¦ ","date":"2022-02-07","objectID":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/:0:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç”²éª¨æ–‡äº‘è‡ªåŠ¨åˆ·arm(ä½¿ç”¨railway.app)","uri":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/#"},{"categories":null,"content":"Githubåœ°å€https://github.com/lemoex/oci-help ","date":"2022-02-07","objectID":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/:1:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç”²éª¨æ–‡äº‘è‡ªåŠ¨åˆ·arm(ä½¿ç”¨railway.app)","uri":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/#githubåœ°å€"},{"categories":null,"content":"éƒ¨ç½²è‡³railway","date":"2022-02-07","objectID":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/:2:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç”²éª¨æ–‡äº‘è‡ªåŠ¨åˆ·arm(ä½¿ç”¨railway.app)","uri":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/#éƒ¨ç½²è‡³railway"},{"categories":null,"content":"å»ºç«‹è‡ªå·±çš„gitä»“åº“ æŒ‰ç…§ç½‘å€ä¸Šçš„æ•™ç¨‹é…ç½®å¥½oci-help.iniå’Œpemå¯†é’¥ ç„¶åæŠŠæºç cloneä¸‹æ¥ï¼ŒæŠŠ.iniå’Œpeméƒ½è€ƒè¿›å» å†æ·»åŠ ä¸ªæ–‡ä»¶ï¼ŒDockerfile FROMgolang:1.17.6 as builderENV GO111MODULE=on # CGO_ENABLED alpineç¦ç”¨cgoWORKDIR/appADD go.mod .ADD go.sum .RUN go mod downloadCOPY . .RUN go build -o app ./RUN mkdir publish \u0026\u0026 cp app publishFROMalpineRUN apk add gcompatWORKDIR/app#å¤åˆ¶æˆå“åˆ°å¯¼å‡ºé•œåƒCOPY --from=builder /app/publish .#COPY --from=builder /app/*.ini ./COPY --from=builder /app/*.pem ./COPY --from=builder /app/1.sh ./ENTRYPOINT [\"sh\", 'echo -e \"2\\n1\\n\" | ./app']","date":"2022-02-07","objectID":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/:2:1","series":null,"tags":["ç™½å«–","cloud"],"title":"ç”²éª¨æ–‡äº‘è‡ªåŠ¨åˆ·arm(ä½¿ç”¨railway.app)","uri":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/#å»ºç«‹è‡ªå·±çš„gitä»“åº“"},{"categories":null,"content":"éƒ¨ç½²è‡³railway.appæ³¨å†Œå¥½railwayè´¦å·åï¼Œé€‰æ‹©ä½ çš„åº“ï¼Œéƒ¨ç½²å³å¯ é¢„è®¡æ¯ä¸ªæœˆ0.18$,å››èˆäº”å…¥ä¸è¦é’± ","date":"2022-02-07","objectID":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/:2:2","series":null,"tags":["ç™½å«–","cloud"],"title":"ç”²éª¨æ–‡äº‘è‡ªåŠ¨åˆ·arm(ä½¿ç”¨railway.app)","uri":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/#éƒ¨ç½²è‡³railwayapp"},{"categories":null,"content":"æ•ˆæœ ","date":"2022-02-07","objectID":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/:3:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç”²éª¨æ–‡äº‘è‡ªåŠ¨åˆ·arm(ä½¿ç”¨railway.app)","uri":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/#æ•ˆæœ"},{"categories":null,"content":"ç»“è®ºå®é™…ä¸Šï¼Œç”¨è‡ªå·±çš„è™šæ‹Ÿæœºéƒ¨ç½²æ–¹ä¾¿çš„å¤š= =ï¼Œç”¨è¿™ä¸ªå¹³å°ä¸»è¦æ˜¯ä¸æ€•æœºå­boomï¼Œæ²¡åŠæ³•ï¼Œå°±æ˜¯çˆ±æŠ˜è…¾ ","date":"2022-02-07","objectID":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/:4:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç”²éª¨æ–‡äº‘è‡ªåŠ¨åˆ·arm(ä½¿ç”¨railway.app)","uri":"/posts/cloud/%E7%94%B2%E9%AA%A8%E6%96%87%E4%BA%91%E8%87%AA%E5%8A%A8%E5%88%B7arm/#ç»“è®º"},{"categories":null,"content":"æœ‰æ—¶å€™ï¼Œddosæˆ–è€…å„ç§æ”»å‡»ä¼šå¯¼è‡´æœåŠ¡ç˜«ç—ªï¼Œæˆ–è€…å½“å‰æœåŠ¡å™¨è¿›å…¥æµé‡é»‘æ´ï¼Œæ— æ³•è®¿é—®ï¼Œæˆ–è€…ç®¡ç†å‘˜æ‰‹æ¬ ä¸å°å¿ƒåˆ äº†ä¸€äº›æ•°æ®ï¼Œè¿™æ—¶å€™ï¼Œæ•°æ®åº“çš„å¤‡ä»½å°±æ˜¾å¾—å°¤ä¸ºé‡è¦äº†ã€‚ æœ¬æ¡ˆä¾‹ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘çš„cosäº‘å­˜å‚¨æ¥å¤‡ä»½æ•°æ®åº“ï¼Œæ•°æ®åº“åœ¨dockerä¸­çš„mysqlä¸­ï¼Œæ¯å¤©å¤‡ä»½ä¸€æ¬¡ï¼Œæ‰€ä»¥æ•°æ®ä¸æ˜¯å®æ—¶çš„ï¼Œå¯ä»¥ä½œä¸ºå…œåº•ä½¿ç”¨ ","date":"2022-02-07","objectID":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/:0:0","series":null,"tags":["devops"],"title":"Mysqlè‡ªåŠ¨å¤‡ä»½","uri":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/#"},{"categories":null,"content":"ä»dockerä¸­å¯¼å‡ºæ•°æ®åº“docker exec mysql bash -c \"mysqldump -uroot -p123456 æ•°æ®åº“å\u003e /xxx.sql\" ","date":"2022-02-07","objectID":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/:1:0","series":null,"tags":["devops"],"title":"Mysqlè‡ªåŠ¨å¤‡ä»½","uri":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/#ä»dockerä¸­å¯¼å‡ºæ•°æ®åº“"},{"categories":null,"content":"é…ç½®è…¾è®¯äº‘cosç½‘å€ https://cloud.tencent.com/document/product/436/63143 ","date":"2022-02-07","objectID":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/:2:0","series":null,"tags":["devops"],"title":"Mysqlè‡ªåŠ¨å¤‡ä»½","uri":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/#é…ç½®è…¾è®¯äº‘cos"},{"categories":null,"content":"ä¸‹è½½ Linux ç‰ˆæœ¬ COSCLIwget https://github.com/tencentyun/coscli/releases/download/v0.10.2-beta/coscli-linux #è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡å‘½åæ–‡ä»¶ï¼š mv coscli-linux coscli \u0026\u0026 chmod 755 coscli #å‘½ä»¤åœ¨å…¶ä»–ä½ç½®ä¸º COSCLI äº¤äº’å¼åœ°ç”Ÿæˆé…ç½®æ–‡ä»¶ ./coscli config init ~/.cos.yaml cosé…ç½®æ–‡ä»¶ ","date":"2022-02-07","objectID":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/:2:1","series":null,"tags":["devops"],"title":"Mysqlè‡ªåŠ¨å¤‡ä»½","uri":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/#ä¸‹è½½-linux-ç‰ˆæœ¬-coscli"},{"categories":null,"content":"æ•°æ®åº“å¤‡ä»½è„šæœ¬#/bin/bash cd /root/backup #å¯¼å‡ºæ•°æ®åº“ docker exec mysql bash -c \"mysqldump -uroot -p123456 dbname\u003e /dbname.sql\" #cpoyåˆ°æœ¬æœº docker cp mysql:/dbname.sql ./ #åˆ é™¤dockerä¸­çš„æ–‡ä»¶ docker exec mysql rm /dbname.sql #æäº¤åˆ°è…¾è®¯äº‘cos fname=$(date \"+%Y-%m-%d-%H-%M-%S\").sql echo \"å¼€å§‹ä¸Šä¼ æ•°æ®åº“$fname\" ./coscli cp ./dbname.sql cos://dbname-backup/$fname rm ./dbname.sql #æé†’ #å¯ä»¥ä½¿ç”¨å„ç§æ–¹å¼æé†’ï¼Œserveré…±ï¼ŒçŸ­ä¿¡å•¥çš„ï¼Œæˆ‘ç”¨çš„æ˜¯è‡ªå»ºserveré…±ï¼Œwecomchanï¼Œè¯¦æƒ…bing #åˆ é™¤7å¤©å‰çš„å¤‡ä»½æ–‡ä»¶ ./coscli rm cos://bucket1/example/ -r --include \"\" æŠŠè¿™ä¸ªè„šæœ¬æ·»åŠ åˆ°crontabä¸­ï¼Œæ¯å¤©æ‰§è¡Œä¸€æ¬¡,æˆ‘ç”¨çš„æ˜¯å®å¡”çš„è®¡åˆ’ä»»åŠ¡ ","date":"2022-02-07","objectID":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/:3:0","series":null,"tags":["devops"],"title":"Mysqlè‡ªåŠ¨å¤‡ä»½","uri":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/#æ•°æ®åº“å¤‡ä»½è„šæœ¬"},{"categories":null,"content":"è¿è¡Œç»“æœ ","date":"2022-02-07","objectID":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/:4:0","series":null,"tags":["devops"],"title":"Mysqlè‡ªåŠ¨å¤‡ä»½","uri":"/posts/devops/mysql%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD/#è¿è¡Œç»“æœ"},{"categories":null,"content":"docker-composeæˆ‘è®¤ä¸ºæ˜¯å•æœºç®¡ç†å®¹å™¨çš„æœ€ä½³æ–¹æ¡ˆï¼Œå¦‚æœè¦å¤šæœº ","date":"2022-02-07","objectID":"/posts/devops/docker/:0:0","series":null,"tags":["devops"],"title":"docker\u0026composeå®‰è£…","uri":"/posts/devops/docker/#"},{"categories":null,"content":"dockerå®‰è£…sudo apt-get remove docker docker-engine docker.io containerd runc # curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun curl -fsSL https://get.docker.com | bash -s docker ","date":"2022-02-07","objectID":"/posts/devops/docker/:1:0","series":null,"tags":["devops"],"title":"docker\u0026composeå®‰è£…","uri":"/posts/devops/docker/#dockerå®‰è£…"},{"categories":null,"content":"æ¢æºcat \u003e /etc/docker/daemon.json \u003c\u003ceof { \"registry-mirrors\": [\"https://jrromknz.mirror.aliyuncs.com\"], \"exec-opts\":[\"native.cgroupdriver=systemd\"] } eof systemctl enable docker.service systemctl daemon-reload systemctl restart docker.service ","date":"2022-02-07","objectID":"/posts/devops/docker/:2:0","series":null,"tags":["devops"],"title":"docker\u0026composeå®‰è£…","uri":"/posts/devops/docker/#æ¢æº"},{"categories":null,"content":"composeå®‰è£…(x86)curl -L \"https://github.com/docker/compose/releases/download/v2.2.3/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose # åŠ é€Ÿç‰ˆ curl -L \"https://hub.fastgit.xyz/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose ","date":"2022-02-07","objectID":"/posts/devops/docker/:3:0","series":null,"tags":["devops"],"title":"docker\u0026composeå®‰è£…","uri":"/posts/devops/docker/#composeå®‰è£…x86"},{"categories":null,"content":"compose arm ç‰ˆæœ¬wget https://github.com/docker/compose/releases/download/v2.4.1/docker-compose-linux-armv7 mv ./docker-compose-linux-armv7 /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose ","date":"2022-02-07","objectID":"/posts/devops/docker/:4:0","series":null,"tags":["devops"],"title":"docker\u0026composeå®‰è£…","uri":"/posts/devops/docker/#compose-arm-ç‰ˆæœ¬"},{"categories":null,"content":"ç®€ä»‹ç”·ï¼Œ01å¹´åŒé±¼åº§ï¼Œå¯¹golangï¼Œdevopsæ„Ÿå…´è¶£ æ“…é•¿è¯­è¨€ï¼šGolangã€Pythonã€Javascript å¸¸ç”¨æ˜µç§°ï¼šlyj0309 Githubï¼šhttps://github.com/lyj0309 ","date":"2022-02-07","objectID":"/about/:0:0","series":null,"tags":null,"title":"About","uri":"/about/#ç®€ä»‹"},{"categories":null,"content":"å¸¸ç”¨ç½‘ç«™ ä»£ç éšæƒ³å½• https://www.programmercarl.com/ ç®—æ³•æ¨¡æ¿ https://suanfa.fakev.cn github https://github.com/ githubé•œåƒ https://gh.fakev.cn/ éŸ³ä¹è§£é” https://demo.unlock-music.dev/ å­¦ä¹ git https://gitlearn.fakev.cn htmlè½¬md https://sitdown.mdnice.com/Demo.html è½¯ä»¶ç›®å½• https://mp.weixin.qq.com/s/qc8Mhj4-T1_tq3zENe-45w ","date":"2022-02-07","objectID":"/about/:0:0","series":null,"tags":null,"title":"About","uri":"/about/#å¸¸ç”¨ç½‘ç«™"},{"categories":null,"content":"fly.ioç±»ä¼¼äºOktetoã€Herokuå’ŒRailwayçš„PaaSå¹³å°ã€‚ åªèƒ½é€šè¿‡CLIç™»å½•ï¼Œå¯¹å°ç™½å¯èƒ½æœ‰äº›ä¸å¤ªå‹å¥½ã€‚ å®˜ç½‘ï¼šfly.io å…è´¹é¢åº¦ï¼šFly App Pricing å…è´¹é¢åº¦æœ‰ä¸‰ä¸ªä¸é—´æ–­è¿è¡Œçš„å®¹å™¨ï¼Œä»¥åŠ160Gçš„å‡ºç«™æµé‡ã€‚(ä¸œäºš30gï¼Œæ¬§ç¾100gï¼Œå°åº¦30g) ","date":"2022-02-07","objectID":"/posts/cloud/fly/:1:0","series":null,"tags":["ç™½å«–","cloud","PaaS"],"title":"Fly.io å…è´¹PaaSå¹³å°ï¼Œä»¥åŠå“ªå’é¢æ¿çš„éƒ¨ç½²","uri":"/posts/cloud/fly/#flyio"},{"categories":null,"content":"ä½¿ç”¨(ä»¥éƒ¨ç½²å“ªå’é¢æ¿ä¸ºä¾‹) å®‰è£…fly cli æŠŠå“ªå’æºç ä¸‹ä¸‹æ¥ï¼Œéœ€è¦è¿›è¡Œä¸€äº›ä¿®æ”¹ ä¿®æ”¹cmd/dashboad/main.go ,åœ¨initå‡½æ•°ä¸‹åŠ ä¸Š //æ–°å»ºconfæ–‡ä»¶ file6, err := os.Create(\"data/config.yaml\") if err != nil { fmt.Println(err) } data := `debug: false httpport: 80 grpcport: 5555 oauth2: type: \"github\" #Oauth2 ç™»å½•æ¥å…¥ç±»å‹ï¼Œgitee/github admin: \"{ä½ çš„githubç”¨æˆ·å}\" #ç®¡ç†å‘˜åˆ—è¡¨ï¼ŒåŠè§’é€—å·éš”å¼€ clientid: \"\" # åœ¨ https://github.com/settings/developers åˆ›å»ºï¼Œæ— éœ€å®¡æ ¸ Callback å¡« http(s)://åŸŸåæˆ–IP/oauth2/callback clientsecret: \"\" site: brand: \"xxx\" cookiename: \"nezha-dashboard\" #æµè§ˆå™¨ Cookie å­—æ®µåï¼Œå¯ä¸æ”¹ theme: \"default\" ` file6.WriteString(data) file6.Close() è¿™æ ·å°±ç›¸å½“äºå¯ä»¥ç›´æ¥åµŒå…¥æ–‡ä»¶ ä¸ºäº†ä½¿æ•°æ®æŒä¹…è¯ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ volume,flyæä¾›3gå…è´¹ç©ºé—´ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªgå°±è¡Œï¼Œfly volumes create nz_data --region hkg --size 1 è¿è¡Œfly launch ç”Ÿæˆfly.tomlæ–‡ä»¶ï¼Œä¿®æ”¹æˆ # fly.toml file generated for nz on 2022-02-07T02:08:50+08:00 app = \"nz\" kill_signal = \"SIGINT\" kill_timeout = 5 processes = [] [env] [experimental] allowed_public_ports = [] auto_rollback = true [mounts] destination = \"/dashboard/data\" source = \"nz_data\" [[services]] http_checks = [] internal_port = 80 processes = [\"app\"] protocol = \"tcp\" script_checks = [] [services.concurrency] hard_limit = 25 soft_limit = 20 type = \"connections\" [[services.ports]] handlers = [\"http\"] port = 80 [[services.ports]] handlers = [\"tls\", \"http\"] port = 443 [[services.tcp_checks]] grace_period = \"1s\" interval = \"15s\" restart_limit = 0 timeout = \"2s\" [[services]] http_checks = [] internal_port = 5555 processes = [\"app\"] protocol = \"tcp\" script_checks = [] [services.concurrency] hard_limit = 25 soft_limit = 20 type = \"connections\" [[services.ports]] port = 5555 [[services.tcp_checks]] grace_period = \"1s\" interval = \"15s\" restart_limit = 0 timeout = \"2s\" å…·ä½“æ„æ€å¯ä»¥å»flyæ–‡æ¡£çœ‹ï¼Œæ–‡æ¡£è¿˜æ˜¯éå¸¸è¯¦ç»†çš„ è¿è¡Œfly deployéƒ¨ç½²appï¼Œä»–ä¼šè‡ªåŠ¨æŠŠä½ ä»£ç æ‰“åŒ…æˆdockeré•œåƒä¸Šä¼  å¤§åŠŸå‘Šæˆï¼Œæ¥ä¸‹æ¥ä½ å°±å¯ä»¥å»æ§åˆ¶å°çœ‹éƒ¨ç½²çš„ç»“æœäº† æ¼”ç¤ºç«™ ","date":"2022-02-07","objectID":"/posts/cloud/fly/:2:0","series":null,"tags":["ç™½å«–","cloud","PaaS"],"title":"Fly.io å…è´¹PaaSå¹³å°ï¼Œä»¥åŠå“ªå’é¢æ¿çš„éƒ¨ç½²","uri":"/posts/cloud/fly/#ä½¿ç”¨ä»¥éƒ¨ç½²å“ªå’é¢æ¿ä¸ºä¾‹"},{"categories":null,"content":"ä¼˜ç‚¹ ä¸æ€•å®•æœº ç™½å«–å…šç‹‚å–œ ","date":"2022-02-07","objectID":"/posts/cloud/fly/:2:1","series":null,"tags":["ç™½å«–","cloud","PaaS"],"title":"Fly.io å…è´¹PaaSå¹³å°ï¼Œä»¥åŠå“ªå’é¢æ¿çš„éƒ¨ç½²","uri":"/posts/cloud/fly/#ä¼˜ç‚¹"},{"categories":null,"content":"ç¼ºç‚¹ å¾ˆéš¾æ›´æ–° å¤‡ä»½æˆ–è€…è¿ç§»å¾ˆéš¾ ","date":"2022-02-07","objectID":"/posts/cloud/fly/:2:2","series":null,"tags":["ç™½å«–","cloud","PaaS"],"title":"Fly.io å…è´¹PaaSå¹³å°ï¼Œä»¥åŠå“ªå’é¢æ¿çš„éƒ¨ç½²","uri":"/posts/cloud/fly/#ç¼ºç‚¹"},{"categories":null,"content":"åè®° fly.io ä¹Ÿæ˜¯æˆ‘æœ€è¿‘æ‰åˆšåˆšå‘ç°çš„ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½é•¿ä¹…ï¼Œä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰å¤§å‚èƒŒä¹¦ã€‚æ‰€ä»¥ç¨³å®šæ€§è¿˜æœ‰å¾…è§‚å¯Ÿ æ³¨å†Œflyæ˜¯è¦ç”¨ä¿¡ç”¨å¡çš„ï¼Œä¸€èˆ¬çš„å¡éƒ½èƒ½è¿‡ï¼Œä¼šäº¤æ˜“10ç¾å…ƒï¼Œæ‰€ä»¥å¡é‡Œé¢æœ€å¥½å¤§äº10ç¾å…ƒï¼Œå•¥å¡éƒ½è¡Œï¼Œæ²¡å¡çš„å»å¾®ä¿¡æä¸ªæ˜“å‘—å¡ è™½è¯´æ˜¯éƒ¨ç½²åœ¨é¦™æ¸¯çš„ï¼Œä½†æ˜¯ipv4è§£æåˆ°çš„åœ°æ–¹æ˜¯è‹±å›½ï¼Œæ‰€ä»¥è®¿é—®é€Ÿåº¦ä¸æ˜¯å¾ˆå¿«ï¼Œipv6è§£åˆ°çš„æ˜¯æ–°åŠ å¡ï¼ˆæ›´æ–°ï¼šç°åœ¨å·²ç»æ˜¯é¦™æ¸¯äº†ï¼Œèµ°çš„ä»»æ’­ï¼Œå»¶æ—¶è¿˜æ˜¯å¾ˆä½çš„ï¼‰ ","date":"2022-02-07","objectID":"/posts/cloud/fly/:3:0","series":null,"tags":["ç™½å«–","cloud","PaaS"],"title":"Fly.io å…è´¹PaaSå¹³å°ï¼Œä»¥åŠå“ªå’é¢æ¿çš„éƒ¨ç½²","uri":"/posts/cloud/fly/#åè®°"},{"categories":null,"content":"å‚è€ƒæ–‡çŒ® https://liusy.eu.org/tag/fly-io/ https://dnslin.com/index.php/archives/37.html https://blog.kermsite.com/p/flyio/ ","date":"2022-02-07","objectID":"/posts/cloud/fly/:4:0","series":null,"tags":["ç™½å«–","cloud","PaaS"],"title":"Fly.io å…è´¹PaaSå¹³å°ï¼Œä»¥åŠå“ªå’é¢æ¿çš„éƒ¨ç½²","uri":"/posts/cloud/fly/#å‚è€ƒæ–‡çŒ®"},{"categories":null,"content":"ç®€ä»‹scaleway æ˜¯æ³•å›½çš„ä¸€ä¸ªäº‘å‚å•†ï¼Œå…¶ä¸­æœ‰ä¸ªæœåŠ¡å™¨åªè¦0.38æ¬§å…ƒ/æœˆ ç½‘å€\u003cscaleway.com\u003e åªè¦ipv6 åŸºäºkvmè™šæ‹Ÿï¼Œæ¯”euservå•¥çš„å¥½å¤šäº† æœ‰SLAï¼Œä¸æ€•è·‘è·¯ ","date":"2022-02-07","objectID":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/:1:0","series":null,"tags":["ç™½å«–","cloud","vps"],"title":"scaleway 0.38æ¬§å…ƒ/æœˆvps","uri":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/#ç®€ä»‹"},{"categories":null,"content":"æé†’ï¼š éœ€è¦å¤–å¸å¡ ä½ æœ€å¥½æœ‰v6åœ°å€ï¼Œä»¥è¿æ¥æœåŠ¡å™¨ ","date":"2022-02-07","objectID":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/:1:1","series":null,"tags":["ç™½å«–","cloud","vps"],"title":"scaleway 0.38æ¬§å…ƒ/æœˆvps","uri":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/#æé†’"},{"categories":null,"content":"å¼€é€šæœåŠ¡å™¨å»å®˜ç½‘æ³¨å†Œ\u003cscaleway.com\u003eåå¡«å…¥ä»˜æ¬¾èµ„æ–™ï¼Œç„¶åå†instancesç•Œé¢æ–°å»º é€‰æ‹©æ˜Ÿå°˜æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™ä¸€èˆ¬æ˜¯æ˜¾ç¤ºæ— è´§çš„ï¼Œæœ‰ä¸¤ä¸ªåŒºåŸŸå¯é€‰ï¼Œé˜¿å§†æ–¯ç‰¹ä¸¹å’Œå·´é» å®é™…ä¸Šï¼Œé€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨å°±æ˜¯æœ‰è´§çš„ï¼Œç½‘é¡µä¸Šçš„å°±æ˜¯åœ¨å”¬ä½ hhhh ä¸‹è½½å‘½ä»¤è¡Œç™»å½•ï¼Œhttps://github.com/scaleway/scaleway-cli/ æ·»åŠ ä½ çš„sshå¯†é’¥https://console.scaleway.com/project/credentials,ä¸ä¼šç™¾åº¦ ç„¶åé€šè¿‡cliæ–¹å¼åˆ›å»º å·´é» scw instance server create type=STARDUST1-S zone=fr-par-1 image=debian_bullseye root-volume=l:10G name=scw-determined-euler ip=none project-id=xxx ipv6=true é˜¿å§†æ–¯ç‰¹ä¸¹ scw instance server create type=STARDUST1-S zone=nl-ams-1 image=debian_bullseye root-volume=l:10G name=scw-determined-euler ip=none project-id=xxx ipv6=true æŠŠproject-idæ¢æˆä½ çš„å³å¯ åœ¨åˆ›å»ºå®ä¾‹é¡µé¢çš„æœ€ä¸‹é¢ï¼Œé‚£ä¸ªå‘½ä»¤è¡Œ ä½ ä¹Ÿå¯ä»¥é€šè¿‡å¤åˆ¶ä»–ç»™ä½ çš„å‘½ä»¤è¡Œåˆ›å»ºï¼Œæ³¨æ„typeå’Œipv6å­—æ®µ ","date":"2022-02-07","objectID":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/:2:0","series":null,"tags":["ç™½å«–","cloud","vps"],"title":"scaleway 0.38æ¬§å…ƒ/æœˆvps","uri":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/#å¼€é€šæœåŠ¡å™¨"},{"categories":null,"content":"è¿æ¥æœåŠ¡å™¨è¿™é‡Œæˆ‘ä½¿ç”¨termius æ³¨æ„keyæ˜¯ä½ æ·»åŠ åˆ°scalewayçš„key æ³¨æ„ï¼Œç™»é™†ä¸Šåï¼ŒæœåŠ¡å™¨æ˜¯è¿ä¸ä¸Šv4åœ°å€çš„ å¦‚æœä¸Šipv4ç½‘ç»œå‚è€ƒè¿™ç¯‡ https://luotianyi.vc/5252.html ","date":"2022-02-07","objectID":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/:3:0","series":null,"tags":["ç™½å«–","cloud","vps"],"title":"scaleway 0.38æ¬§å…ƒ/æœˆvps","uri":"/posts/cloud/scaleway-0.38%E6%AC%A7vps/#è¿æ¥æœåŠ¡å™¨"},{"categories":null,"content":"å®‰è£…#deb curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.15.2-amd64.deb sudo dpkg -i filebeat-7.15.2-amd64.deb #rpm curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.15.2-x86_64.rpm sudo rpm -vi filebeat-7.15.2-x86_64.rpm ","date":"2021-10-21","objectID":"/posts/middleware/elastic/filebeat/:1:0","series":null,"tags":["devops","elastic"],"title":"filebeat","uri":"/posts/middleware/elastic/filebeat/#å®‰è£…"},{"categories":null,"content":"è®¾ç½®è·¯å¾„ï¼š /var/filebeat/filebeat.yml output.elasticsearch:hosts:[\"myEShost:9200\"]username:\"filebeat_internal\"password:\"YOUR_PASSWORD\"setup.kibana:host:\"mykibanahost:5601\"username:\"my_kibana_user\"password:\"{pwd}\"","date":"2021-10-21","objectID":"/posts/middleware/elastic/filebeat/:2:0","series":null,"tags":["devops","elastic"],"title":"filebeat","uri":"/posts/middleware/elastic/filebeat/#è®¾ç½®"},{"categories":null,"content":"æ¨¡å—é…ç½®å¯ç”¨æ¨¡å— filebeat modules list å¼€å¯æ¨¡å— filebeat modules enable system nginx mysql æ¨¡å—è®¾ç½®è·¯å¾„ ï¼š /var/filebeat/modules.d/ ","date":"2021-10-21","objectID":"/posts/middleware/elastic/filebeat/:3:0","series":null,"tags":["devops","elastic"],"title":"filebeat","uri":"/posts/middleware/elastic/filebeat/#æ¨¡å—é…ç½®"},{"categories":null,"content":"å¯åŠ¨éªŒè¯æœåŠ¡ filebeat setup -e éªŒè¯å®Œå¯ç”¨åï¼Œåå°å¯åŠ¨ sudo service filebeat start ","date":"2021-10-21","objectID":"/posts/middleware/elastic/filebeat/:4:0","series":null,"tags":["devops","elastic"],"title":"filebeat","uri":"/posts/middleware/elastic/filebeat/#å¯åŠ¨"},{"categories":null,"content":"GOVER=1.17.2 wget golang.google.cn/dl/go${GOVER}.linux-amd64.tar.gz tar -xzf go${GOVER}.linux-amd64.tar.gz mv ./go /usr/local/go echo \"export PATH=$PATH:/usr/local/go/bin\" \u003e\u003e /etc/profile source /etc/profile rm golang.google.cn/dl/go${GOVER}.linux-amd64.tar.gz #è…¾è®¯å¤–ç½‘ go env -w GOPROXY=https://mirrors.cloud.tencent.com/go/ #è…¾è®¯å†…ç½‘ go env -w GOPROXY=http://mirrors.tencentyun.com/go/ #ä¸ƒç‰›é•œåƒ go env -w GOPROXY=https://goproxy.cn,direct export GOPROXY=http://mirrors.tencentyun.com/go/ ","date":"2021-10-21","objectID":"/posts/go/%E5%AE%89%E8%A3%85/:0:0","series":null,"tags":["Go"],"title":"goå®‰è£…","uri":"/posts/go/%E5%AE%89%E8%A3%85/#"},{"categories":null,"content":"goæä¾›äº†ä¸€ä¸ªhttpåŒ…ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªåŒ…æ–¹ä¾¿çš„è¿›è¡Œhttpè¯·æ±‚ import ( \"fmt\" \"io/ioutil\" \"net/http\" \"strings\" ) // http.Get func httpGet() { resp, err := http.Get(\"http://www.baidu.com\") if err != nil { fmt.Println(err) return } defer resp.Body.Close() body, err := ioutil.ReadAll(resp.Body) fmt.Println(string(body)) } func httpPost() { resp, err := http.Post(\"http://www.baidu.com\", \"application/x-www-form-urlencode\", strings.NewReader(\"name=abc\")) // Content-Type postè¯·æ±‚å¿…é¡»è®¾ç½® if err != nil { return } defer resp.Body.Close() body, err := ioutil.ReadAll(resp.Body) fmt.Println(string(body)) } client := \u0026http.Client{} req, err := http.NewRequest(\"POST\", \"http://121.36.71.167:7001/\", strings.NewReader(\"name=cjb\")) if err != nil { fmt.Println(err) } req.Header.Set(\"Content-Type\", \"application/json\") req.Header.Set(\"Cookie\", \"name=anny\") resp, err := client.Do(req) if err != nil { fmt.Println(err) } defer resp.Body.Close() body, err := ioutil.ReadAll(resp.Body) if err != nil { fmt.Println(err) } fmt.Println(string(body)) ","date":"2021-10-21","objectID":"/posts/go/%E8%AF%B7%E6%B1%82-http/:0:0","series":null,"tags":["Go"],"title":"goè¯·æ±‚http","uri":"/posts/go/%E8%AF%B7%E6%B1%82-http/#"},{"categories":null,"content":"æ¦‚è¿°fetch()çš„åŠŸèƒ½ä¸ XMLHttpRequest åŸºæœ¬ç›¸åŒï¼Œä½†æœ‰ä¸‰ä¸ªä¸»è¦çš„å·®å¼‚ã€‚ ï¼ˆ1ï¼‰fetch()ä½¿ç”¨ Promiseï¼Œä¸ä½¿ç”¨å›è°ƒå‡½æ•°ï¼Œå› æ­¤å¤§å¤§ç®€åŒ–äº†å†™æ³•ï¼Œå†™èµ·æ¥æ›´ç®€æ´ã€‚ ï¼ˆ2ï¼‰fetch()é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼ŒAPI åˆ†æ•£åœ¨å¤šä¸ªå¯¹è±¡ä¸Šï¼ˆResponse å¯¹è±¡ã€Request å¯¹è±¡ã€Headers å¯¹è±¡ï¼‰ï¼Œæ›´åˆç†ä¸€äº›ï¼›ç›¸æ¯”ä¹‹ä¸‹ï¼ŒXMLHttpRequest çš„ API è®¾è®¡å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œè¾“å…¥ã€è¾“å‡ºã€çŠ¶æ€éƒ½åœ¨åŒä¸€ä¸ªæ¥å£ç®¡ç†ï¼Œå®¹æ˜“å†™å‡ºéå¸¸æ··ä¹±çš„ä»£ç ã€‚ ï¼ˆ3ï¼‰fetch()é€šè¿‡æ•°æ®æµï¼ˆStream å¯¹è±¡ï¼‰å¤„ç†æ•°æ®ï¼Œå¯ä»¥åˆ†å—è¯»å–ï¼Œæœ‰åˆ©äºæé«˜ç½‘ç«™æ€§èƒ½è¡¨ç°ï¼Œå‡å°‘å†…å­˜å ç”¨ï¼Œå¯¹äºè¯·æ±‚å¤§æ–‡ä»¶æˆ–è€…ç½‘é€Ÿæ…¢çš„åœºæ™¯ç›¸å½“æœ‰ç”¨ã€‚XMLHTTPRequest å¯¹è±¡ä¸æ”¯æŒæ•°æ®æµï¼Œæ‰€æœ‰çš„æ•°æ®å¿…é¡»æ”¾åœ¨ç¼“å­˜é‡Œï¼Œä¸æ”¯æŒåˆ†å—è¯»å–ï¼Œå¿…é¡»ç­‰å¾…å…¨éƒ¨æ‹¿åˆ°åï¼Œå†ä¸€æ¬¡æ€§åå‡ºæ¥ã€‚ åœ¨ç”¨æ³•ä¸Šï¼Œfetch()æ¥å—ä¸€ä¸ª URL å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œé»˜è®¤å‘è¯¥ç½‘å€å‘å‡º GET è¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚å®ƒçš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ã€‚ fetch(url) .then(...) .catch(...) ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œä»æœåŠ¡å™¨è·å– JSON æ•°æ®ã€‚ fetch('https://api.github.com/users/ruanyf') .then(response =\u003e response.json()) .then(json =\u003e console.log(json)) .catch(err =\u003e console.log('Request Failed', err)); async function fetchText() { let response = await fetch('/readme.txt'); console.log(response.status); console.log(response.statusText); } ","date":"2021-10-21","objectID":"/posts/front/fetch/:1:0","series":null,"tags":["å‰ç«¯"],"title":"webApi fetchä½¿ç”¨","uri":"/posts/front/fetch/#æ¦‚è¿°"},{"categories":null,"content":"2.3 Response.headers å±æ€§Response å¯¹è±¡è¿˜æœ‰ä¸€ä¸ªResponse.headerså±æ€§ï¼ŒæŒ‡å‘ä¸€ä¸ªÂ Headers å¯¹è±¡ï¼Œå¯¹åº” HTTP å›åº”çš„æ‰€æœ‰æ ‡å¤´ã€‚ Headers å¯¹è±¡å¯ä»¥ä½¿ç”¨forâ€¦ofå¾ªç¯è¿›è¡Œéå†ã€‚ ","date":"2021-10-21","objectID":"/posts/front/fetch/:1:1","series":null,"tags":["å‰ç«¯"],"title":"webApi fetchä½¿ç”¨","uri":"/posts/front/fetch/#23-responseheaders-å±æ€§"},{"categories":null,"content":"2.4 è¯»å–å†…å®¹çš„æ–¹æ³•Responseå¯¹è±¡æ ¹æ®æœåŠ¡å™¨è¿”å›çš„ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæä¾›äº†ä¸åŒçš„è¯»å–æ–¹æ³•ã€‚ response.text()ï¼šå¾—åˆ°æ–‡æœ¬å­—ç¬¦ä¸²ã€‚response.json()ï¼šå¾—åˆ° JSON å¯¹è±¡ã€‚response.blob()ï¼šå¾—åˆ°äºŒè¿›åˆ¶ Blob å¯¹è±¡ã€‚response.formData()ï¼šå¾—åˆ° FormData è¡¨å•å¯¹è±¡ã€‚response.arrayBuffer()ï¼šå¾—åˆ°äºŒè¿›åˆ¶ ArrayBuffer å¯¹è±¡ã€‚ ä¸Šé¢5ä¸ªè¯»å–æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œè¿”å›çš„éƒ½æ˜¯ Promise å¯¹è±¡ã€‚å¿…é¡»ç­‰åˆ°å¼‚æ­¥æ“ä½œç»“æŸï¼Œæ‰èƒ½å¾—åˆ°æœåŠ¡å™¨è¿”å›çš„å®Œæ•´æ•°æ®ã€‚ response.text()å¯ä»¥ç”¨äºè·å–æ–‡æœ¬æ•°æ®ï¼Œæ¯”å¦‚ HTML æ–‡ä»¶ã€‚ response.json()ç›´æ¥è§£æjson response.formData()ä¸»è¦ç”¨åœ¨ Service Worker é‡Œé¢ï¼Œæ‹¦æˆªç”¨æˆ·æäº¤çš„è¡¨å•ï¼Œä¿®æ”¹æŸäº›æ•°æ®ä»¥åï¼Œå†æäº¤ç»™æœåŠ¡å™¨ã€‚ response.blob()ç”¨äºè·å–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ const response = await fetch('flower.jpg'); const myBlob = await response.blob(); const objectURL = URL.createObjectURL(myBlob); const myImage = document.querySelector('img'); myImage.src = objectURL; ä¸Šé¢ç¤ºä¾‹è¯»å–å›¾ç‰‡æ–‡ä»¶flower.jpgï¼Œæ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šã€‚ ","date":"2021-10-21","objectID":"/posts/front/fetch/:1:2","series":null,"tags":["å‰ç«¯"],"title":"webApi fetchä½¿ç”¨","uri":"/posts/front/fetch/#24-è¯»å–å†…å®¹çš„æ–¹æ³•"},{"categories":null,"content":"POST è¯·æ±‚const response = await fetch(url, { method: 'POST', headers: { \"Content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\", }, body: 'foo=bar\u0026lorem=ipsum', }); const json = await response.json(); const user = { name: 'John', surname: 'Smith' }; const response = await fetch('/article/fetch/post/user', { method: 'POST', headers: { 'Content-Type': 'application/json;charset=utf-8' }, body: JSON.stringify(user) }); ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œé…ç½®å¯¹è±¡ç”¨åˆ°äº†ä¸‰ä¸ªå±æ€§ã€‚ methodï¼šHTTP è¯·æ±‚çš„æ–¹æ³•ï¼ŒPOSTã€DELETEã€PUTéƒ½åœ¨è¿™ä¸ªå±æ€§è®¾ç½®ã€‚headersï¼šä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶ HTTP è¯·æ±‚çš„æ ‡å¤´ã€‚bodyï¼šPOST è¯·æ±‚çš„æ•°æ®ä½“ã€‚ æ³¨æ„ï¼Œæœ‰äº›æ ‡å¤´ä¸èƒ½é€šè¿‡headerså±æ€§è®¾ç½®ï¼Œæ¯”å¦‚Content-Lengthã€Cookieã€Hostç­‰ç­‰ã€‚å®ƒä»¬æ˜¯ç”±æµè§ˆå™¨è‡ªåŠ¨ç”Ÿæˆï¼Œæ— æ³•ä¿®æ”¹ã€‚ ","date":"2021-10-21","objectID":"/posts/front/fetch/:2:0","series":null,"tags":["å‰ç«¯"],"title":"webApi fetchä½¿ç”¨","uri":"/posts/front/fetch/#post-è¯·æ±‚"},{"categories":null,"content":"ï¼ˆ4ï¼‰æ–‡ä»¶ä¸Šä¼ å¦‚æœè¡¨å•é‡Œé¢æœ‰æ–‡ä»¶é€‰æ‹©å™¨ï¼Œå¯ä»¥ç”¨å‰ä¸€ä¸ªä¾‹å­çš„å†™æ³•ï¼Œä¸Šä¼ çš„æ–‡ä»¶åŒ…å«åœ¨æ•´ä¸ªè¡¨å•é‡Œé¢ï¼Œä¸€èµ·æäº¤ã€‚ å¦ä¸€ç§æ–¹æ³•æ˜¯ç”¨è„šæœ¬æ·»åŠ æ–‡ä»¶ï¼Œæ„é€ å‡ºä¸€ä¸ªè¡¨å•ï¼Œè¿›è¡Œä¸Šä¼ ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ const input = document.querySelector('input[type=\"file\"]'); const data = new FormData(); data.append('file', input.files[0]); data.append('user', 'foo'); fetch('/avatars', { method: 'POST', body: data }); ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œä¸ç”¨ä¿®æ”¹æ ‡å¤´çš„Content-Typeï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨è®¾ç½®ã€‚ ","date":"2021-10-21","objectID":"/posts/front/fetch/:2:1","series":null,"tags":["å‰ç«¯"],"title":"webApi fetchä½¿ç”¨","uri":"/posts/front/fetch/#4æ–‡ä»¶ä¸Šä¼ "},{"categories":null,"content":"ï¼ˆ5ï¼‰ç›´æ¥ä¸Šä¼ äºŒè¿›åˆ¶æ•°æ®fetch()ä¹Ÿå¯ä»¥ç›´æ¥ä¸Šä¼ äºŒè¿›åˆ¶æ•°æ®ï¼Œå°† Blob æˆ– arrayBuffer æ•°æ®æ”¾åœ¨bodyå±æ€§é‡Œé¢ã€‚ let blob = await new Promise(resolve =\u003e canvasElem.toBlob(resolve, 'image/png') ); let response = await fetch('/article/fetch/post/image', { method: 'POST', body: blob }); ```js ","date":"2021-10-21","objectID":"/posts/front/fetch/:2:2","series":null,"tags":["å‰ç«¯"],"title":"webApi fetchä½¿ç”¨","uri":"/posts/front/fetch/#5ç›´æ¥ä¸Šä¼ äºŒè¿›åˆ¶æ•°æ®"},{"categories":null,"content":"åŸºæœ¬åŸç†å’Œé…ç½®wireguardä¼šæ–°å»ºä¸€å¼ è™šæ‹Ÿç½‘å¡ï¼Œæ‰€æœ‰çš„æµé‡éƒ½ç»è¿‡è¿™ä¸ªç½‘å¡ï¼Œæ‰€ä»¥ä½ è¦è®¾å®šçš„ä¸»è¦æœ‰3å—ä¸œè¥¿ æœåŠ¡å™¨å…¬ç½‘åœ°å€ v6 || v4 æœåŠ¡ç«¯ç½‘æ®µ \u0026\u0026 ip å®¢æˆ·ç«¯ç½‘æ®µ \u0026\u0026 ip ","date":"2021-10-21","objectID":"/posts/linux/wireguard/:0:1","series":null,"tags":null,"title":"wireguardå®‰è£…","uri":"/posts/linux/wireguard/#åŸºæœ¬åŸç†å’Œé…ç½®"},{"categories":null,"content":"å®‰è£…è„šæœ¬curl -O https://raw.githubusercontent.com/angristan/wireguard-install/master/wireguard-install.sh chmod +x wireguard-install.sh ./wireguard-install.sh # å›½å†…ç‰ˆ curl -O https://raw.fastgit.org/angristan/wireguard-install/master/wireguard-install.sh chmod +x wireguard-install.sh ./wireguard-install.sh ","date":"2021-10-21","objectID":"/posts/linux/wireguard/:0:2","series":null,"tags":null,"title":"wireguardå®‰è£…","uri":"/posts/linux/wireguard/#å®‰è£…è„šæœ¬"},{"categories":null,"content":"ä¸€ã€gitmodulesæ˜¯ä»€ä¹ˆå­æ¨¡å—å…è®¸ä½ å°†ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå¦ä¸€ä¸ª Git ä»“åº“çš„å­ç›®å½•ã€‚ å®ƒèƒ½è®©ä½ å°†å¦ä¸€ä¸ªä»“åº“å…‹éš†åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼ŒåŒæ—¶è¿˜ä¿æŒæäº¤çš„ç‹¬ç«‹ã€‚ ","date":"2021-09-21","objectID":"/posts/gitmodules%E8%AF%A6%E8%A7%A3git%E5%AD%90%E6%A8%A1%E5%9D%97%E9%85%8D%E7%BD%AE/:1:0","series":null,"tags":["git","code"],"title":"gitmodulesè¯¦è§£ï¼ˆGitå­æ¨¡å—é…ç½®ï¼‰","uri":"/posts/gitmodules%E8%AF%A6%E8%A7%A3git%E5%AD%90%E6%A8%A1%E5%9D%97%E9%85%8D%E7%BD%AE/#ä¸€gitmodulesæ˜¯ä»€ä¹ˆ"},{"categories":null,"content":"å¦‚ä½•ä½¿ç”¨$ git submodule add https://github.com/XXX .gitmodulesæ–‡ä»¶ [submodule \"themes/ananke\"] path = themes/ananke url = https://github.com/theNewDynamic/gohugo-theme-ananke.git [submodule \"themes/even\"] path = themes/even url = https://github.com/olOwOlo/hugo-theme-even.git ","date":"2021-09-21","objectID":"/posts/gitmodules%E8%AF%A6%E8%A7%A3git%E5%AD%90%E6%A8%A1%E5%9D%97%E9%85%8D%E7%BD%AE/:2:0","series":null,"tags":["git","code"],"title":"gitmodulesè¯¦è§£ï¼ˆGitå­æ¨¡å—é…ç½®ï¼‰","uri":"/posts/gitmodules%E8%AF%A6%E8%A7%A3git%E5%AD%90%E6%A8%A1%E5%9D%97%E9%85%8D%E7%BD%AE/#å¦‚ä½•ä½¿ç”¨"},{"categories":["life"],"content":"1.å®‰è£…æµè§ˆå™¨ç‚¹å‡»ä¸‹è½½ ä¸‹è½½å®Œæˆåå®‰è£… ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/:1:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/#1å®‰è£…æµè§ˆå™¨"},{"categories":["life"],"content":"2.å®‰è£…æ²¹çŒ´æ‰“å¼€æµè§ˆå™¨ï¼Œè·Ÿå›¾èµ° ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/:2:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/#2å®‰è£…æ²¹çŒ´"},{"categories":["life"],"content":"3.å®‰è£…è„šæœ¬åœ¨æ­¤æµè§ˆå™¨å†…æ‰“å¼€ http://ti.fakev.cn/scripts ç‚¹å‡»å®‰è£…è„šæœ¬ ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/:3:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/#3å®‰è£…è„šæœ¬"},{"categories":["life"],"content":"4.æ£€æŸ¥å®‰è£…æ‰“å¼€ http://chaoxing.com ç™»å½• æ‰“å¼€ä¸€ä¸ªè¯¾ç¨‹ï¼Œå¦‚æœå‡ºç°æŸ¥é¢˜é¢æ¿å³å®‰è£…æˆåŠŸ ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/:4:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆæ‰‹æœºç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%89%8B%E6%9C%BA%E7%89%88/#4æ£€æŸ¥å®‰è£…"},{"categories":["life"],"content":"ä¸€ã€æµè§ˆå™¨é€‰æ‹©æ¨èä½¿ç”¨edgeï¼Œå¦‚æœæ˜¯chromeè¦ç§‘ç½‘ ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/:1:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆç”µè„‘ç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/#ä¸€æµè§ˆå™¨é€‰æ‹©"},{"categories":["life"],"content":"äºŒã€å®‰è£…æ²¹çŒ´æ‰“å¼€ https://microsoftedge.microsoft.com/addons/detail/iikmkjmpaadaobahmlepeloendndfphd?hl=zh-CNï¼ˆedgeï¼‰ https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=zh-CN (chrome) ç‚¹å‡»å®‰è£…æ‹“å±• ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/:2:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆç”µè„‘ç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/#äºŒå®‰è£…æ²¹çŒ´"},{"categories":["life"],"content":"ä¸‰ã€å®‰è£…è„šæœ¬æ‰“å¼€ http://ti.fakev.cn/script ç‚¹å‡»å®‰è£…è„šæœ¬ ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/:3:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆç”µè„‘ç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/#ä¸‰å®‰è£…è„šæœ¬"},{"categories":["life"],"content":"å››ã€æ£€æŸ¥å®‰è£… æ‰“å¼€æ²¹çŒ´ç®¡ç†é¢æ¿ï¼Œç¡®ä¿å½“å‰åªæœ‰ä¸€ä¸ªç½‘è¯¾è„šæœ¬æ‰“å¼€ éšä¾¿æ‰“å¼€ä¸€ä¸ªè¯¾ç¨‹ï¼Œè®°å¾—è¦æ‰“å¼€ã€Šå­¦ç”Ÿå­¦ä¹ é¡µé¢ã€‹åƒhttps://mooc1-1.chaoxing.com/mycourse/studentstudyè¿™æ ·ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œé‡åˆ°é¢˜ç›®ä¼šè‡ªåŠ¨ç­”é¢˜ï¼Œé‡åˆ°è§†é¢‘ä¼šè‡ªåŠ¨æ’­æ”¾ è§†é¢‘å¯ä»¥å¼€å€é€Ÿæ‹‰è¿›åº¦æ¡ï¼Œä¸è¿‡ä¸å»ºè®®ï¼Œ ","date":"2021-09-21","objectID":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/:4:0","series":null,"tags":["å­¦ä¹ é€š"],"title":"å­¦ä¹ é€šè„šæœ¬å®‰è£…ï¼ˆç”µè„‘ç‰ˆï¼‰","uri":"/posts/cx/%E5%AD%A6%E4%B9%A0%E9%80%9A%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E7%94%B5%E8%84%91%E7%89%88/#å››æ£€æŸ¥å®‰è£…"},{"categories":null,"content":"è‹±æ–‡æ–‡æ¡£ https://github.com/acmesh-official/acme.sh/wiki/How-to-issue-a-cert ç”ŸæˆåŸŸå dnspodä¸¾ä¾‹ export DP_Id=\"1234\" export DP_Key=\"sADDsdasdgdsf\" ./acme.sh --issue --dns dns_dp -d example.com -d www.example.com å¯ä¸€æ¬¡ç”Ÿæˆå¤šä¸ªåŸŸåï¼ŒåŒ…æ‹¬æ³›åŸŸå éƒ¨ç½²åŸŸå nginxä¸¾ä¾‹ acme.sh --install-cert -d n.fakev.cn -d *.n.fakev.cn -d np.fakev.cn -d *.np.fakev.cn \\ --cert-file /root/nginx/cert/n.pem \\ --key-file /root/nginx/cert/n.key \\ --reloadcmd \"docker-compose exec nginx nginx -s reload\" # --fullchain-file /etc/nginx/certs/mydomain.com/fullchain \\ docker-compose exec nginx nginx -s reload ","date":"0001-01-01","objectID":"/posts/acme.sh/:0:0","series":null,"tags":null,"title":"","uri":"/posts/acme.sh/#"},{"categories":null,"content":"FTPæœåŠ¡å™¨éœ€è¦å¼€å‡ ä¸ªç«¯å£ æ–°ä¹°äº†å°æœåŠ¡å™¨ï¼Œåªç”¨æ¥æä¾›FTPå’ŒSQL ServeræœåŠ¡ï¼Œä¸ºä¿è¯å®‰å…¨ï¼Œåªå¼€æ”¾21å’Œ1433ç«¯å£ã€‚ä½†FTPä¸èƒ½è®¿é—®ï¼Œäºæ˜¯æˆ‘å°±èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹é˜²ç«å¢™çš„æ—¥å¿—å’Œåœ¨ç½‘ä¸Šæ‰¾äº†äº›ç›¸å…³çš„èµ„æ–™ï¼Œæœ‰äº†ä»¥ä¸‹çš„æ€»ç»“ã€‚ ç”±äºå‰æ®µæ—¶é—´å…¬å¸æ–°ä¹°äº†å°æœåŠ¡å™¨ï¼Œåªç”¨æ¥æä¾›FTPå’ŒSQL ServeræœåŠ¡(æœ‰å›ºå®šå…¬ç½‘IPå¹¶ä¸”å¯¹å¤–æœåŠ¡)ï¼Œäºæ˜¯æˆ‘å°±æƒ³ç”¨é˜²ç«å¢™å°ä½é™¤å¼€FTPå’ŒSQL Serverä¹‹å¤–çš„æ‰€æœ‰ç«¯å£(ä¹Ÿå°±æ˜¯åªå¼€æ”¾21å’Œ1433å•¦)ï¼Œä»¥ä¿è¯æœåŠ¡å™¨çš„å®‰å…¨ï¼Œä½†æ˜¯æƒ³ä¸åˆ°çš„æ˜¯å¼€äº†21ç«¯å£ä¹‹åï¼ŒFTPä¾æ—§ä¸èƒ½è®¿é—®ï¼Œè®©æˆ‘å¾ˆçº³é—·ï¼Œäºæ˜¯æˆ‘å°±èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹é˜²ç«å¢™çš„æ—¥å¿—å’Œåœ¨ç½‘ä¸Šæ‰¾äº†äº›ç›¸å…³çš„èµ„æ–™ï¼Œæœ‰äº†ä»¥ä¸‹çš„æ€»ç»“ã€‚ 1ã€å®Œæˆä¸€ä¸ªFTPçš„ä¼ è¾“è¿‡ç¨‹ä¸ä»…ä»…åªéœ€è¦21ä¸€ä¸ªç«¯å£ï¼Œè€Œæ˜¯2ä¸ªç«¯å£ï¼Œ21ç«¯å£åªæ˜¯ä¸€ä¸ªå‘½ä»¤ç«¯å£ï¼Œå…¶å®å¦å¤–è¿˜æœ‰ä¸€ä¸ªæ•°æ®ç«¯å£ï¼Œæˆ‘æƒ³è¿™å°±æ˜¯æœ‰äº›æœ‹å‹åœ¨å†…ç½‘æ¶è®¾FTPå¹¶ä¸”åœ¨ç½‘å…³ä¸Šåšäº†21ç«¯å£çš„æ˜ å°„ä¹‹åå¤–ç½‘è¿˜æ˜¯ä¸èƒ½è®¿é—®çš„åŸå› å§ï¼Œå¦å¤–ä¸€ä¸ªæ•°æ®ç«¯å£æ˜¯å¤šå°‘å‘¢?è¿™åˆç‰µæ¶‰åˆ°å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚ ã€€2ã€FTPå…·æœ‰ä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯portæ¨¡å¼(ä¹Ÿå«ä¸»åŠ¨æ¨¡å¼)å’Œpasvæ¨¡å¼(ä¹Ÿå«è¢«åŠ¨æ¨¡å¼)ï¼Œæ€ä¹ˆæ¥ç†è§£è¿™ä¸¤ç§æ¨¡å¼å‘¢?æˆ‘æ¥æ‰“ä¸ªæ¯”å–»å§ï¼Œåœ¨ä¸»åŠ¨æ¨¡å¼ä¸‹:å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨ç«¯çš„21ç«¯å£å‘å‘½ä»¤è¯´ï¼Œæˆ‘è¦ä¸‹è½½ä»€ä¹ˆä»€ä¹ˆï¼Œå¹¶ä¸”è¿˜ä¼šè¯´æˆ‘å·²ç»æ‰“å¼€äº†è‡ªå·±çš„æŸä¸ªç«¯å£ï¼Œä½ å°±ä»è¿™é‡ŒæŠŠä¸œè¥¿ç»™æˆ‘å§ï¼ŒæœåŠ¡å™¨çŸ¥é“åå°±ä¼šé€šè¿‡å¦å¤–ä¸€ä¸ªæ•°æ®ç«¯å£æŠŠä¸œè¥¿ä¼ ç»™å®¢æˆ·ç«¯ï¼Œè¿™å°±æ˜¯ä¸»åŠ¨æ¨¡å¼ï¼Œå¯ä»¥ç†è§£ä¸ºæœåŠ¡ç«¯ä¸»åŠ¨ç»™å®¢æˆ·ç«¯ä¼ è¾“æ–‡ä»¶;åœ¨è¢«åŠ¨æ¨¡å¼ä¸‹:å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨ç«¯çš„21ç«¯å£å‘å‘½ä»¤è¯´ï¼Œæˆ‘è¦ä¸‹è½½ä»€ä¹ˆä»€ä¹ˆï¼ŒæœåŠ¡å™¨ç«¯çŸ¥é“åï¼Œå°±æ‰“å¼€ä¸€ä¸ªç«¯å£ï¼Œç„¶åå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œæˆ‘å·²ç»æ‰“å¼€äº†æŸæŸç«¯å£ï¼Œä½ è‡ªå·±è¿›å»æ‹¿å§ï¼Œäºæ˜¯å®¢æˆ·ç«¯å°±ä»é‚£ä¸ªç«¯å£è¿›å»æ‹¿æ–‡ä»¶äº†ï¼Œè¿™å°±æ˜¯è¢«åŠ¨æ¨¡å¼ï¼Œå¯ä»¥ç†è§£ä¸ºæœåŠ¡ç«¯è¢«å®¢æˆ·ç«¯æ‹¿èµ°äº†ä¸œè¥¿ï¼Œå“ˆå“ˆï¼Œå¯ä»¥çœ‹æ‡‚å§ã€‚ ã€€åœ¨FTPçš„å†å²ä¸­ï¼Œæœ¬æ¥åªæœ‰ä¸»åŠ¨æ¨¡å¼çš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆåˆå‡ºç°äº†è¢«åŠ¨æ¨¡å¼å‘¢?è¿™åˆç‰µæ¶‰åˆ°å¦å¤–ä¸€ä¸ªé—®é¢˜äº†ï¼Œå‘µå‘µï½ ã€€3ã€åœ¨å¾ˆä¹…ä»¥å‰(æˆ‘ä¹Ÿä¸çŸ¥é“å¤šä¹…)ï¼Œåœ°çƒä¸Šè¿˜æ²¡æœ‰ä»€ä¹ˆå…±äº«ä¸Šç½‘è¿™ç§æŠ€æœ¯ï¼Œä½†æ˜¯åæ¥å‡ºç°äº†ï¼Œæ‰€ä»¥ä¹Ÿå°±æœ‰äº†ä¸‹é¢çš„é—®é¢˜ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œå…±äº«ä¸Šç½‘å°±æ˜¯å¾ˆå¤šå°ç”µè„‘å…±äº«ä¸€ä¸ªå…¬ç½‘IPå»ä½¿ç”¨internetï¼Œå†æ‰“ä¸ªæ¯”å–»å§ï¼ŒæŸä¸ªå±€åŸŸç½‘å…±äº«210.33.25.1è¿™ä¸ªå…¬ç½‘IPä¸Šç½‘ï¼Œå½“ä¸€ä¸ªå†…ç½‘ç”¨æˆ·192.168.0.100å»è®¿é—®å¤–ç½‘çš„FTPæœåŠ¡å™¨æ—¶ï¼Œå¦‚æœé‡‡ç”¨ä¸»åŠ¨æ¨¡å¼çš„è¯ï¼Œ192.168.0.1å‘Šè¯‰äº†FTPæœåŠ¡å™¨æˆ‘éœ€è¦æŸä¸ªæ–‡ä»¶å’Œæˆ‘æ‰“å¼€äº†xç«¯å£ä¹‹åï¼Œç”±äºå…±äº«ä¸Šç½‘çš„åŸå› ï¼Œ192.168.0.1åœ¨å‡ºç½‘å…³çš„æ—¶å€™è‡ªå·±çš„IPåœ°å€å·²ç»è¢«ç¿»è¯‘æˆäº†210.33.25.1è¿™ä¸ªå…¬ç½‘IPï¼Œæ‰€ä»¥æœåŠ¡å™¨ç«¯æ”¶åˆ°çš„æ¶ˆæ¯ä¹Ÿå°±æ˜¯210.33.25.1éœ€è¦æŸä¸ªæ–‡ä»¶å¹¶æ‰“å¼€äº†xç«¯å£ï¼ŒFTPæœåŠ¡å™¨å°±ä¼šå¾€210.33.25.1çš„xç«¯å£ä¼ æ•°æ®ï¼Œè¿™æ ·å½“ç„¶ä¼šè¿æ¥ä¸æˆåŠŸäº†ï¼Œå› ä¸ºæ‰“å¼€xç«¯å£çš„å¹¶ä¸æ˜¯210.33.25.1è¿™ä¸ªåœ°å€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹è¢«åŠ¨æ¨¡å¼å°±æœ‰ç”¨äº†ï¼Œç›¸ä¿¡å¤§å®¶å·²ç»èƒ½å¤Ÿç†è§£è¢«åŠ¨æ¨¡å¼æ˜¯æ€ä¹ˆä¸ªè¿æ¥æ³•äº†å§ã€‚ ã€€å¥½äº†ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼Œç°åœ¨å¯ä»¥å›åˆ°ç¬¬ä¸€ä¸ªé—®é¢˜äº†ã€‚ ã€€åœ¨ä¸»åŠ¨æ¨¡å¼ä¸­ï¼ŒFTPçš„ä¸¤ä¸ªç«¯å£æ˜¯ç›¸å¯¹å›ºå®šçš„ï¼Œå¦‚æœå‘½ä»¤ç«¯å£æ˜¯xçš„è¯ï¼Œé‚£æ•°æ®ç«¯å£å°±æ˜¯x-1ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤æƒ…å†µä¸‹ï¼Œå‘½ä»¤ç«¯å£æ˜¯21ï¼Œæ•°æ®ç«¯å£å°±æ˜¯20;ä½ æŠŠå‘½ä»¤ç«¯å£æ”¹æˆäº†600ï¼Œé‚£ä¹ˆæ•°æ®ç«¯å£å°±æ˜¯599ã€‚è¿™æ ·ä½¿ç”¨é˜²ç«å¢™å°±å¾ˆæ–¹ä¾¿äº†ï¼Œåªè¦å¼€é€šè¿™ä¸¤ä¸ªç«¯å£å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¦‚æœå®¢æˆ·ç«¯æ˜¯å…±äº«ä¸Šç½‘çš„è¯é‚£å²‚ä¸æ˜¯ä¸èƒ½æ­£å¸¸ä½¿ç”¨FTPäº†ï¼Œè¿™æ ·è¿˜æ˜¯ä¸è¡Œï¼Œä¸€å®šéœ€è¦è¢«åŠ¨æ¨¡å¼ã€‚ ã€€åœ¨è¢«åŠ¨æ¨¡å¼ä¸­å°±éº»çƒ¦äº†äº›ï¼Œé»˜è®¤æƒ…å†µä¸‹å‘½ä»¤ç«¯å£æ˜¯21ï¼Œä½†æ˜¯æ•°æ®ç«¯å£æ˜¯éšæœºçš„ï¼Œè¿™ä¸ªé—®é¢˜åˆè®©æˆ‘å¤´ç—›äº†ä¸€ä¸‹ï¼Œè¿˜å¥½ï¼Œæˆ‘åˆæ‰¾åˆ°äº†åŠæ³•ï¼Œå› ä¸ºè¢«åŠ¨æ¨¡å¼ä¸­æ•°æ®ç«¯å£çš„èŒƒå›´æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œåœ¨æ­¤æˆ‘ä»¥Serv-U 6.1.0.5ç‰ˆä¸ºä¾‹ï¼Œåœ¨/Local Server/Settings/Advanced/ä¸­ï¼Œè¿™ä¸‹å¥½äº†ï¼Œæˆ‘æŠŠè¢«åŠ¨æ¨¡å¼ä¸­çš„ç«¯å£èŒƒå›´ä¹Ÿè®¾ç½®ä¸º20-20ï¼Œé‚£ä¹ˆä¸ç®¡å®¢æˆ·ç«¯ä½¿ç”¨ä½•ç§æ¨¡å¼æ¥è®¿é—®æˆ‘çš„FTPï¼Œéƒ½åªéœ€è¦å¼€é€šè¿™ä¸¤ä¸ªç«¯å£äº†ï¼Œå†åŠ ä¸ŠSQL Serverçš„1433ï¼Œä¸€å°æœåŠ¡å™¨æ€»å…±æ‰å¼€äº†3ä¸ªç«¯å£ï¼Œè¿™ä¸‹åº”è¯¥æ¯”è¾ƒå®‰å…¨äº†ï¼Œè£…ä¸Šé˜²ç«å¢™ï¼Œæ”¶å·¥â€¦ ","date":"0001-01-01","objectID":"/posts/linux/ftp/:0:0","series":null,"tags":null,"title":"","uri":"/posts/linux/ftp/#"},{"categories":null,"content":"é€‰æ‹©è¦åˆ†åŒºçš„ç¡¬ç›˜ï¼šparted /dev/sdb ä½¿ç”¨print å¯¹ç£ç›˜ä¿¡æ¯è¿›è¡ŒæŸ¥çœ‹ï¼š (parted) mklabel gpt mkpart primary 0% 100% q mkfs.btrfs /dev/sdb1 mkdir /data #åˆ›å»ºæ•°æ®æ–‡ä»¶å¤¹ mount /dev/mapper/vgdata-lvdata /data #å°†é€»è¾‘å·æŒ‚è½½åˆ°/data vim /etc/fastab #æ·»åŠ å¼€æœºæŒ‚è½½ /dev/mapper/vgdata-lvdata /data xfs defaults 0 0 https://blog.csdn.net/u012150360/article/details/81333051 https://blog.csdn.net/qq_38265137/article/details/97489823 ","date":"0001-01-01","objectID":"/posts/linux/linux%E5%88%9B%E5%BB%BA%E5%88%86%E5%8C%BA/:0:0","series":null,"tags":null,"title":"","uri":"/posts/linux/linux%E5%88%9B%E5%BB%BA%E5%88%86%E5%8C%BA/#"},{"categories":null,"content":"åªæœ‰åœ¨ç”¨æˆ·ç™»é™†çš„æ—¶å€™æ‰§è¡Œè‡ªå·±å†™ä¸€ä¸ªshellè„šæœ¬ å°†å†™å¥½çš„è„šæœ¬ï¼ˆ.shæ–‡ä»¶ï¼‰æ”¾åˆ°ç›®å½• /etc/profile.d/ ä¸‹ï¼Œç³»ç»Ÿå¯åŠ¨åå°±ä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰shellè„šæœ¬ã€‚ cd /etc/profile.d/ å¤åˆ¶ æ·»åŠ è„šæœ¬srs.sh #!/bin/sh cd /usr/local/srs2 nohup ./objs/srs -c conf/z.conf\u003e./log.txt \u0026 ","date":"0001-01-01","objectID":"/posts/linux/linux%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/:1:0","series":null,"tags":null,"title":"","uri":"/posts/linux/linux%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/#åªæœ‰åœ¨ç”¨æˆ·ç™»é™†çš„æ—¶å€™æ‰§è¡Œ"},{"categories":null,"content":"ä½¿ç”¨systemdè¿›å…¥ç›®å½•Â cdÂ /etc/systemd/system/ 1ï¼šç¼–å†™å±äºè‡ªå·±çš„unitæ–‡ä»¶ï¼Œå‘½ä»¤ä¸ºmy-demo.serviceï¼Œæ•´ä¸ªæ–‡ä»¶å¦‚ä¸‹ [Unit] Description=My-demo ServiceÂ [Service] Type=oneshot ExecStart=/bin/bash /root/test.sh #è‡ªå·±çš„è„šæœ¬æ–‡ä»¶ StandardOutput=syslog StandardError=inherit [Install] WantedBy=multi-user.target 2ï¼šå°†ä¸Šè¿°çš„æ–‡ä»¶æ‹·è´åˆ° /usr/lib/systemd/system/*ç›®å½•ä¸‹ 3ï¼šç¼–å†™unitæ–‡ä»¶ä¸­ExecStart=/bin/bash /root/test.shæ‰€å®šä¹‰çš„test.shæ–‡ä»¶ï¼Œå°†å…¶æ”¾åœ¨å®šä¹‰çš„ç›®å½•å½“ä¸­ï¼Œæ­¤æ–‡ä»¶æ˜¯æœåŠ¡çš„æ‰§è¡Œä¸»ä½“ã€‚æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š #!/bin/bashÂ date Â» /tmp/date 4ï¼šå°†my-demo.serviceæ³¨å†Œåˆ°ç³»ç»Ÿå½“ä¸­æ‰§è¡Œå‘½ä»¤ï¼š systemctl enable my-demo.service è¾“å‡ºï¼šln -s'/usr/lib/systemd/system/my-demo.service' â€˜/etc/systemd/system/multi-user.target.wants/my-demo.serviceâ€™ è¾“å‡ºè¡¨æ˜ï¼Œæ³¨å†Œçš„è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯å°†æœåŠ¡é“¾æ¥åˆ°/etc/systemd/system/ç›®å½•ä¸‹ è‡³æ­¤æœåŠ¡å·²ç»åˆ›å»ºå®Œæˆã€‚é‡æ–°å¯åŠ¨ç³»ç»Ÿï¼Œä¼šå‘ç°/tmp/dateæ–‡ä»¶å·²ç»ç”Ÿæˆï¼ŒæœåŠ¡åœ¨å¼€æœºæ—¶å¯åŠ¨æˆåŠŸã€‚å½“ç„¶æœ¬ä¾‹å½“ä¸­çš„test.shæ–‡ä»¶å¯ä»¥æ¢æˆä»»æ„çš„å¯æ‰§è¡Œæ–‡ä»¶ä½œä¸ºæœåŠ¡çš„ä¸»ä½“ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å„ç§å„æ ·çš„åŠŸèƒ½ã€‚ è®°å½•ï¼š å¯åŠ¨ï¼šsystemctl start my-demo.service ç»“æŸï¼šsystemctl stop my-demo.service é‡å¯ï¼šsystemctl restart my-demo.service çŠ¶æ€ï¼šsystemctl statusÂ my-demo.service æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š systemctl status network.service åˆ—å‡ºæ‰€æœ‰å¯ç”¨å•å…ƒï¼šsystemctl list-unit-files åˆ—å‡ºæ‰€æœ‰è¿è¡Œä¸­å•å…ƒï¼šsystemctl list-units åˆ—å‡ºæ‰€æœ‰å¤±è´¥å•å…ƒï¼šsystemctl â€“failed ä½¿ç”¨systemctlå‘½ä»¤æ€æ­»æœåŠ¡ï¼šsystemctl kill network.serviceÂ ","date":"0001-01-01","objectID":"/posts/linux/linux%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/:2:0","series":null,"tags":null,"title":"","uri":"/posts/linux/linux%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/#ä½¿ç”¨systemd"},{"categories":null,"content":"$ sudo apt install locales $ sudo locale-gen en_US.UTF-8 $ sudo dpkg-reconfigure locales https://blog.csdn.net/liaowenxiong/article/details/116401524 ","date":"0001-01-01","objectID":"/posts/linux/linux%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA%E8%AF%AD%E8%A8%80/:0:0","series":null,"tags":null,"title":"","uri":"/posts/linux/linux%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA%E8%AF%AD%E8%A8%80/#"},{"categories":null,"content":"åŒ…å«å­—ç¬¦ä¸²A=\"helloworld\" B=\"low\" if [[ $A == *$B* ]] then echo \"åŒ…å«\" else echo \"ä¸åŒ…å«\" fi ","date":"0001-01-01","objectID":"/posts/linux/shell/:0:1","series":null,"tags":null,"title":"","uri":"/posts/linux/shell/#åŒ…å«å­—ç¬¦ä¸²"},{"categories":null,"content":"tmux åå°è¿è¡Œ tmux new -s frp -d tmux send -t frp \"cd /root/frp\" ENTER tmux send -t frp \"./frpc -c ./frpc.ini\" ENTER ","date":"0001-01-01","objectID":"/posts/linux/tmux/:0:0","series":null,"tags":null,"title":"","uri":"/posts/linux/tmux/#"},{"categories":null,"content":"v4l2-ctl -d /dev/video4 â€“list-formats-ext ffmpeg -f v4l2 -input_format mjpeg -i /dev/video4 -t 5 out.mp4 ffmpeg -codecs http://192.168.10.102/webcam/?action=stream\u0026cacheBust=1689651483031 ffmpeg -c:v mjpeg_qsv -i â€œhttp://192.168.10.102/webcam/?action=stream\u0026cacheBust=1689651483031â€ -c:v h264_qsv -low_power 1 output.mp4 ffmpeg -thread_queue_size 1024 -f v4l2 -i \"http://192.168.10.102/webcam/?action=stream\" -stream_loop -1 -i \"data/demo_music.m4a\" -c:v h264_qsv -pix_fmt yuv420p -r 30 -s 1280*720 -g 60 -b:v 10M -bufsize 10M -acodec aac -ac 2 -ar 44100 -ab 128k -f flv [[URL]] ffmpeg -c:v mjpeg_qsv -i â€œhttp://192.168.10.102/webcam/?action=stream\u0026cacheBust=1689651483031â€ -c:v h264_qsv -low_power 1 output.mp4 ","date":"0001-01-01","objectID":"/posts/linux%E6%91%84%E5%83%8F%E5%A4%B4%E6%8E%A8%E6%B5%81/:0:0","series":null,"tags":null,"title":"","uri":"/posts/linux%E6%91%84%E5%83%8F%E5%A4%B4%E6%8E%A8%E6%B5%81/#"},{"categories":null,"content":"å°è¯•ä½¿ç”¨vs codeè¿æ¥æ ‘è“æ´¾zero wè¿›è¡Œè¿œç¨‹å¼€å‘ï¼Œä½†æ˜¯æ— æ³•æ”¯æŒ https://gh.fakev.cn/microsoft/vscode-remote-release/issues/669 è§£å†³æ–¹æ¡ˆ sshfs https://gh.fakev.cn/SchoofsKelvin/vscode-sshfs æ‘„åƒå¤´æ•™ç¨‹ https://blog.csdn.net/weixin_45994747/article/details/109605765 äººåŠ¨æ£€æµ‹ https://blog.csdn.net/qq_35624030/article/details/79833269 BytesIO ","date":"0001-01-01","objectID":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/:0:0","series":null,"tags":null,"title":"","uri":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/#"},{"categories":null,"content":"åŠŸèƒ½è®¾è®¡socket å¿ƒè·³åŒ… ä¸Šä¼ æ–‡ä»¶åå‘é€è¯·æ±‚ å°ç¨‹åº è·å–ç°åœºç…§ç‰‡ è®¾ç½®å‘Šè­¦è§„åˆ™ å‘é€å‘Šè­¦é€šçŸ¥å’Œç…§ç‰‡ plus å®æ—¶ç›‘æ§ é™ä½æˆæœ¬ detail å‘Šè­¦è§„åˆ™: åœ¨ç”»é¢ä¸­å‡ºç°xæ—¶å€™,åœç•™xç§’ å‡ºç°ç”»é¢å˜åŒ– ","date":"0001-01-01","objectID":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/:1:0","series":null,"tags":null,"title":"","uri":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/#åŠŸèƒ½è®¾è®¡"},{"categories":null,"content":"æ‘„åƒå¤´ä¸Šä¼ æ–‡ä»¶è‡³æœåŠ¡å™¨ http post websocket å‘é€ PHOTO xxxx ä¸Šä¼ ç…§ç‰‡ ","date":"0001-01-01","objectID":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/:2:0","series":null,"tags":null,"title":"","uri":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/#æ‘„åƒå¤´ä¸Šä¼ æ–‡ä»¶è‡³æœåŠ¡å™¨"},{"categories":null,"content":"å°ç¨‹åºè®¾è®¡","date":"0001-01-01","objectID":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/:3:0","series":null,"tags":null,"title":"","uri":"/%E6%AF%95%E8%AE%BE%E5%B0%8F%E8%AE%B0/#å°ç¨‹åºè®¾è®¡"},{"categories":null,"content":"ä¾èµ–æ³¨å…¥çš„å£°æ˜å‘¨æœŸï¼ˆè®¾è®¡æ¨¡å¼ï¼‰https://www.cnblogs.com/huangxincheng/p/13594386.html ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:1:0","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#ä¾èµ–æ³¨å…¥çš„å£°æ˜å‘¨æœŸè®¾è®¡æ¨¡å¼"},{"categories":null,"content":"ä¾èµ–æ³¨å…¥ASP.NET Core é€šè¿‡ä¾èµ–å…³ç³»æ³¨å…¥è¿›è¡Œç”Ÿæˆã€‚ æœåŠ¡ï¼ˆä¾‹å¦‚ SchoolContextï¼‰åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æœŸé—´é€šè¿‡ä¾èµ–å…³ç³»æ³¨å…¥è¿›è¡Œæ³¨å†Œã€‚ éœ€è¦è¿™äº›æœåŠ¡ï¼ˆå¦‚ Razor é¡µé¢ï¼‰çš„ç»„ä»¶é€šè¿‡æ„é€ å‡½æ•°å‚æ•°æä¾›ç›¸åº”æœåŠ¡ã€‚ æœ¬æ•™ç¨‹çš„åç»­éƒ¨åˆ†ä»‹ç»äº†ç”¨äºè·å–æ•°æ®åº“ä¸Šä¸‹æ–‡å®ä¾‹çš„æ„é€ å‡½æ•°ä»£ç ã€‚ åŸºæ¶å·¥å…·è‡ªåŠ¨å°†ä¸Šä¸‹æ–‡ç±»æ³¨å†Œåˆ°äº†ä¾èµ–é¡¹æ³¨å…¥å®¹å™¨ã€‚ è¯¦æƒ… ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:2:0","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#ä¾èµ–æ³¨å…¥"},{"categories":null,"content":"log4netåœ¨ç›®å½•ä¸‹æœ‰ä¸€ä¸ªlog4neté…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‡å®šè¾“å‡ºæ–¹æ³• ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:3:0","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#log4net"},{"categories":null,"content":"è‡ªåŠ¨æ•°æ®ç±»å‹è½¬æ¢éœ€è¦ç”¨åˆ°ä¸¤ä¸ªåº“ ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:4:0","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#è‡ªåŠ¨æ•°æ®ç±»å‹è½¬æ¢"},{"categories":null,"content":"AutoMapperè‡ªåŠ¨æ•°æ®ç±»å‹è½¬æ¢ ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:4:1","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#automapper"},{"categories":null,"content":"DependencyInjectionä¾èµ–æ³¨å…¥ ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:4:2","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#dependencyinjection"},{"categories":null,"content":"æ‹“å±•å®ä¾‹public static class AutoMapperExtensions { //IServiceProvideræ˜¯systemæ¥å£ private static IServiceProvider _serviceProvider; public static void UseAutoMapper(this IServiceProvider serviceProvider) { _serviceProvider = serviceProvider; } public static TDestination MapTo\u003cTDestination\u003e(this object source) { //DependencyInjectionæ‹“å±•äº†GetRequiredServiceæ–¹æ³• //AutoMapper å®ç°IMapperç±» var mapper = _serviceProvider.GetRequiredService\u003cIMapper\u003e(); return mapper.Map\u003cTDestination\u003e(source); } public static List\u003cTDestnation\u003e MapToList\u003cTDestnation\u003e(this IEnumerable source) { var mapper = _serviceProvider.GetRequiredService\u003cIMapper\u003e(); return mapper.Map\u003cList\u003cTDestnation\u003e\u003e(source); } } åœ¨ç¨‹åºå¼€å§‹æ—¶å€™æ³¨å…¥ builder.Services.AddAutoMapper(typeof(AutoMapperProfile)); builder.Services.AddAutoMapper(Assembly.GetEntryAssembly()); //æ³¨å…¥è‡ªå·±å†™çš„automapperæ‹“å±• app.Services.UseAutoMapper(); ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:4:3","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#æ‹“å±•å®ä¾‹"},{"categories":null,"content":"ç›®å½•åˆ—è¡¨","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:5:0","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#ç›®å½•åˆ—è¡¨"},{"categories":null,"content":"commonå¸¸ç”¨æ–¹æ³•ï¼Œä¾‹å¦‚æ‹“å±•stringæ‹“å±•æ–¹æ³• ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:5:1","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#common"},{"categories":null,"content":"Repositoriesæ•°æ®åº“æ–¹é¢ Entitesæ•°æ®è¡¨ ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:5:2","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#repositories"},{"categories":null,"content":"Repositoriesæ•°æ®åº“æ–¹é¢ Entitesæ•°æ®è¡¨ ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:5:2","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#entites"},{"categories":null,"content":"ç›¸å…³æ–‡ç« ","date":"0001-01-01","objectID":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/:6:0","series":null,"tags":null,"title":"ASP.NET Coreå…¥é—¨","uri":"/posts/dotnet/aspnetcore%E5%85%A5%E9%97%A8/#ç›¸å…³æ–‡ç« "},{"categories":null,"content":"é˜¿é‡Œäº‘https://ide.aliyun.com/ å¯ä»¥è®¿é—®å¤–ç½‘ï¼Œä¸èƒ½è®¿é—®githubï¼Œéœ€è¦åŠ é€Ÿ kvmæ–¹å¼è™šæ‹ŸåŒ– æ²¡æ‰¾åˆ°å…è´¹é¢åº¦è¯´æ˜ï¼Œé»˜è®¤æ— é™æ—¶é—´ æµ‹è¯•æ•°æ® ---------------------------------------------------------------------- CPU Model : Intel(R) Xeon(R) Processor @ 2.50GHz CPU Cores : 5 Cores 2499.998 MHz x86_64 CPU Cache : 36608 KB OS : Ubuntu 18.04.5 LTS (64 Bit) KVM Kernel : 4.19.91-20210923120534.78bc30e.al7.x86_64 Total Space : 0.7 GB / 34.8 GB Total RAM : 386 MB / 10178 MB (213 MB Buff) Total SWAP : 0 MB / 0 MB Uptime : 0 days 0 hour 3 min Load Average : 0.07, 0.09, 0.04 TCP CC : cubic ---------------------------------------------------------------------- I/O Speed( 1.0GB ) : 333 MB/s I/O Speed( 1.0GB ) : 364 MB/s I/O Speed( 1.0GB ) : 433 MB/s Average I/O Speed : 376.7 MB/s ---------------------------------------------------------------------- Node Name Upload Speed Download Speed Latency Speedtest.net 239.70 Mbit/s 240.03 Mbit/s 7.15 ms Hefei 5G CT 239.99 Mbit/s 239.86 Mbit/s 13.98 ms Guangzhou 5G CT 211.17 Mbit/s 173.71 Mbit/s 26.04 ms Shanghai 5G CU 241.93 Mbit/s 238.99 Mbit/s 10.36 ms Wuxi 5G CM 237.50 Mbit/s 240.28 Mbit/s 19.18 ms Nanjing 5G CM 152.89 Mbit/s 239.89 Mbit/s 16.41 ms Hefei 5G CM 239.82 Mbit/s 219.12 Mbit/s 16.21 ms ---------------------------------------------------------------------- æœ‰ä¸€äº›å†…ç½®ç¯å¢ƒ ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/:1:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿ide","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/#é˜¿é‡Œäº‘"},{"categories":null,"content":"cloudstudioè…¾è®¯äº‘æ——ä¸‹codingçš„ https://cloudstudio.net/ è®¡è´¹è¯´æ˜ å…è´¹é¢åº¦ï¼š 2h4g 1000åˆ†é’Ÿ ä¸çŸ¥é“è…¾è®¯äº‘çš„å°¿æ€§ï¼Œå•¥æ—¶å€™å°±ä¸å…è´¹äº†è¯´çš„å°±æ˜¯ä½ ï¼Œäº‘å‡½æ•° æµ‹è¯•æ•°æ® ---------------------------------------------------------------------- CPU Model : Intel(R) Xeon(R) Platinum 8255C CPU @ 2.50GHz CPU Cores : 8 Cores 2494.140 MHz x86_64 CPU Cache : 36608 KB OS : Ubuntu 18.04.5 LTS (64 Bit) Dedicated Kernel : 4.18.0-305.3.1.el8.x86_64 Total Space : 337.0 GB / 1000.0 GB Total RAM : 506 MB / 4096 MB (357 MB Buff) Total SWAP : 0 MB / 0 MB Uptime : 0 days 0 hour 2 min Load Average : 0.56, 0.62, 0.65 TCP CC : cubic ASN \u0026 ISP : AS45090, Shenzhen Tencent Computer Systems Company Limited Organization : Tencent Cloud Computing (Beijing) Co., Ltd Location : Haidian, China / CN Region : Beijing ---------------------------------------------------------------------- I/O Speed( 1.0GB ) : 141 MB/s I/O Speed( 1.0GB ) : 138 MB/s I/O Speed( 1.0GB ) : 216 MB/s Average I/O Speed : 165.0 MB/s ---------------------------------------------------------------------- Node Name Upload Speed Download Speed Latency Speedtest.net 50.42 Mbit/s 702.10 Mbit/s 11.23 ms Fast.com 0.00 Mbit/s 0 Mbit/s - Nanjing 5G CT 50.38 Mbit/s 48.37 Mbit/s 9.81 ms Hefei 5G CT 50.57 Mbit/s 105.17 Mbit/s 11.64 ms Guangzhou 5G CT 54.42 Mbit/s 381.84 Mbit/s 32.74 ms Shanghai 5G CU 14.73 Mbit/s 48.60 Mbit/s 4.06 ms Wuxi 5G CM 17.31 Mbit/s 121.43 Mbit/s 15.53 ms Nanjing 5G CM 16.69 Mbit/s 47.68 Mbit/s 26.16 ms ---------------------------------------------------------------------- æœ‰ä¸€äº›å†…ç½®ç¯å¢ƒ ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/:2:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿ide","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/#cloudstudio"},{"categories":null,"content":"github.devä¸èƒ½ç”¨cliï¼Œå¯ä»¥çœ‹ä»£ç ï¼Œå…¨å±€æœç´¢ï¼Œæ–¹ä¾¿ åœ¨ä»»æ„githubä»“åº“æŒ‰.è¿›å…¥ ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/:3:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿ide","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/#githubdev"},{"categories":null,"content":"gitpod.ioä¸githubé›†æˆåº¦è¾ƒé«˜ï¼Œå¯ä»¥ç›´æ¥åœ¨githubå‰é¢è¾“å…¥gitpod.ioå³å¯è¿›å…¥ ç›´æ¥å¸®ä½ å®‰è£…å¥½ä¾èµ– è¿™ä¸ªè™šæ‹Ÿæœºæ˜¯è¿è¡Œåœ¨å®¹å™¨é‡Œçš„ï¼Œå…±äº«è™šæ‹Ÿæœºï¼Œéš”ç¦»æ€§æœ€å°çš„æ–¹å¼ å…è´¹é¢åº¦ï¼šæ¯ä¸ªæœˆ50å°æ—¶ æµ‹è¯•æ•°æ® ---------------------------------------------------------------------- CPU Model : AMD EPYC 7B13 CPU Cores : 16 Cores 2450.000 MHz x86_64 CPU Cache : 512 KB OS : Ubuntu 20.04.4 LTS (64 Bit) Dedicated Kernel : 5.16.20-051620-generic Total Space : 930.6 GB / 3612.0 GB Total RAM : 14713 MB / 64312 MB (44489 MB Buff) Total SWAP : 0 MB / 0 MB Uptime : 1 days 7 hour 31 min Load Average : 0.49, 0.96, 1.71 TCP CC : cubic ASN \u0026 ISP : AS15169, Google LLC Organization : Google Cloud (us-west1) Location : The Dalles, United States / US Region : Oregon ---------------------------------------------------------------------- I/O Speed( 1.0GB ) : 612 MB/s I/O Speed( 1.0GB ) : 607 MB/s I/O Speed( 1.0GB ) : 602 MB/s Average I/O Speed : 607.0 MB/s ---------------------------------------------------------------------- Node Name Upload Speed Download Speed Latency Speedtest.net 286.41 Mbit/s 694.01 Mbit/s 10.93 ms Fast.com 0.00 Mbit/s 208.3 Mbit/s - Nanjing 5G CT 424.06 Mbit/s 809.42 Mbit/s 162.09 ms Hefei 5G CT 1.00 Mbit/s 778.02 Mbit/s 200.98 ms Guangzhou 5G CT 6.53 Mbit/s 580.22 Mbit/s 242.67 ms Wuxi 5G CM 188.51 Mbit/s 94.56 Mbit/s 244.86 ms Nanjing 5G CM 75.06 Mbit/s 813.66 Mbit/s 210.44 ms Hefei 5G CM 96.53 Mbit/s 798.09 Mbit/s 239.14 ms ---------------------------------------------------------------------- ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/:4:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿ide","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/#gitpodio"},{"categories":null,"content":"åä¸ºäº‘å…è´¹é¢åº¦ï¼šarmæ¶æ„çš„4U8G,æ¯å¤©120åˆ†é’Ÿ https://devcloud.cn-north-4.huaweicloud.com/cloudide/trial ä¸èƒ½è·å–rootæƒé™ åªæœ‰arm ä¸ä¿å­˜æ•°æ® ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/:5:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿ide","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BFide/#åä¸ºäº‘"},{"categories":null,"content":"colabéœ€é­”æ³•ä¸Šç½‘ï¼Œgoogleè´¦å· https://colab.research.google.com/ æ²¡è¯´æ¯æœˆèƒ½ç”¨å¤šå°‘å°æ—¶ï¼Œ10å‡ å°æ—¶åº”è¯¥æ²¡é—®é¢˜ ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/:1:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿æ·±åº¦å­¦ä¹ å¹³å°","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/#colab"},{"categories":null,"content":"Kagglehttps://www.kaggle.com/ æ¯æœˆ30å°æ—¶ ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/:2:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿æ·±åº¦å­¦ä¹ å¹³å°","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/#kaggle"},{"categories":null,"content":"æ’æºäº‘æ–°äºº100å…ƒ https://gpushare.com/ ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/:3:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿æ·±åº¦å­¦ä¹ å¹³å°","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/#æ’æºäº‘"},{"categories":null,"content":"ä¹å¤© â€¢ æ¯•æ˜‡ä¸­å›½ç§»åŠ¨å‘é«˜æ ¡æ¨å‡ºçš„å¹³å°ï¼Œå…è´¹é¢åº¦å°šå¯ https://jtedu.cmri.cn/ æ‹¼å¤šå¤šå¼æ‹‰äººè·å–æ—¶é•¿ ","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/:4:0","series":null,"tags":["ç™½å«–","cloud"],"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹åœ¨çº¿æ·±åº¦å­¦ä¹ å¹³å°","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E5%9C%A8%E7%BA%BF%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%B9%B3%E5%8F%B0/#ä¹å¤©--æ¯•æ˜‡"},{"categories":null,"content":"mysql","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:1:0","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#mysql"},{"categories":null,"content":"PlaneScale","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:1:1","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#planescale"},{"categories":null,"content":"MemFire","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:1:2","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#memfire"},{"categories":null,"content":"postgre","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:2:0","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#postgre"},{"categories":null,"content":"Supabase","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:2:1","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#supabase"},{"categories":null,"content":"redis","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:3:0","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#redis"},{"categories":null,"content":"Upstash","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:3:1","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#upstash"},{"categories":null,"content":"redislabs","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:3:2","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#redislabs"},{"categories":null,"content":"mongodb","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:4:0","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#mongodb"},{"categories":null,"content":"æœç´¢å¼•æ“","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:5:0","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#æœç´¢å¼•æ“"},{"categories":null,"content":"Bonsaiï¼ˆesï¼‰","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:5:1","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#bonsaies"},{"categories":null,"content":"algolia","date":"0001-01-01","objectID":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/:5:2","series":null,"tags":null,"title":"ç›˜ç‚¹ä¸€ä¸‹å…è´¹æ•°æ®åº“","uri":"/posts/cloud/%E7%9B%98%E7%82%B9%E4%B8%80%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%95%B0%E6%8D%AE%E5%BA%93/#algolia"}]